var _k=Object.create;var ol=Object.defineProperty,bk=Object.defineProperties,wk=Object.getOwnPropertyDescriptor,Ek=Object.getOwnPropertyDescriptors,Ck=Object.getOwnPropertyNames,cu=Object.getOwnPropertySymbols,Dk=Object.getPrototypeOf,ag=Object.prototype.hasOwnProperty,fw=Object.prototype.propertyIsEnumerable;var hw=(n,t,e)=>t in n?ol(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e,O=(n,t)=>{for(var e in t||={})ag.call(t,e)&&hw(n,e,t[e]);if(cu)for(var e of cu(t))fw.call(t,e)&&hw(n,e,t[e]);return n},ee=(n,t)=>bk(n,Ek(t));var pw=(n,t)=>{var e={};for(var r in n)ag.call(n,r)&&t.indexOf(r)<0&&(e[r]=n[r]);if(n!=null&&cu)for(var r of cu(n))t.indexOf(r)<0&&fw.call(n,r)&&(e[r]=n[r]);return e};var B=(n,t)=>()=>(n&&(t=n(n=0)),t);var Rt=(n,t)=>()=>(t||n((t={exports:{}}).exports,t),t.exports),sl=(n,t)=>{for(var e in t)ol(n,e,{get:t[e],enumerable:!0})},gw=(n,t,e,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of Ck(t))!ag.call(n,i)&&i!==e&&ol(n,i,{get:()=>t[i],enumerable:!(r=wk(t,i))||r.enumerable});return n};var xk=(n,t,e)=>(e=n!=null?_k(Dk(n)):{},gw(t||!n||!n.__esModule?ol(e,"default",{value:n,enumerable:!0}):e,n)),tn=n=>gw(ol({},"__esModule",{value:!0}),n);var v=(n,t,e)=>new Promise((r,i)=>{var o=l=>{try{a(e.next(l))}catch(c){i(c)}},s=l=>{try{a(e.throw(l))}catch(c){i(c)}},a=l=>l.done?r(l.value):Promise.resolve(l.value).then(o,s);a((e=e.apply(n,t)).next())});var lo={};sl(lo,{__addDisposableResource:()=>Jw,__assign:()=>Cu,__asyncDelegator:()=>zw,__asyncGenerator:()=>Su,__asyncValues:()=>Iu,__await:()=>qn,__awaiter:()=>R,__classPrivateFieldGet:()=>Kw,__classPrivateFieldIn:()=>Zw,__classPrivateFieldSet:()=>Yw,__createBinding:()=>xu,__decorate:()=>Rw,__disposeResources:()=>Xw,__esDecorate:()=>Pw,__exportStar:()=>Bw,__extends:()=>Ow,__generator:()=>Vw,__importDefault:()=>Gw,__importStar:()=>qw,__makeTemplateObject:()=>Ww,__metadata:()=>jw,__param:()=>kw,__propKey:()=>Fw,__read:()=>Lg,__rest:()=>xr,__rewriteRelativeImportExtension:()=>Qw,__runInitializers:()=>Nw,__setFunctionName:()=>Lw,__spread:()=>Uw,__spreadArray:()=>Hw,__spreadArrays:()=>$w,__values:()=>Du,default:()=>Uk});function Ow(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Ng(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}function xr(n,t){var e={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&t.indexOf(r)<0&&(e[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(e[r[i]]=n[r[i]]);return e}function Rw(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o}function kw(n,t){return function(e,r){t(e,r,n)}}function Pw(n,t,e,r,i,o){function s(y){if(y!==void 0&&typeof y!="function")throw new TypeError("Function expected");return y}for(var a=r.kind,l=a==="getter"?"get":a==="setter"?"set":"value",c=!t&&n?r.static?n:n.prototype:null,u=t||(c?Object.getOwnPropertyDescriptor(c,r.name):{}),d,f=!1,h=e.length-1;h>=0;h--){var p={};for(var g in r)p[g]=g==="access"?{}:r[g];for(var g in r.access)p.access[g]=r.access[g];p.addInitializer=function(y){if(f)throw new TypeError("Cannot add initializers after decoration has completed");o.push(s(y||null))};var m=(0,e[h])(a==="accessor"?{get:u.get,set:u.set}:u[l],p);if(a==="accessor"){if(m===void 0)continue;if(m===null||typeof m!="object")throw new TypeError("Object expected");(d=s(m.get))&&(u.get=d),(d=s(m.set))&&(u.set=d),(d=s(m.init))&&i.unshift(d)}else(d=s(m))&&(a==="field"?i.unshift(d):u[l]=d)}c&&Object.defineProperty(c,r.name,u),f=!0}function Nw(n,t,e){for(var r=arguments.length>2,i=0;i<t.length;i++)e=r?t[i].call(n,e):t[i].call(n);return r?e:void 0}function Fw(n){return typeof n=="symbol"?n:"".concat(n)}function Lw(n,t,e){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(n,"name",{configurable:!0,value:e?"".concat(e," ",t):t})}function jw(n,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,t)}function R(n,t,e,r){function i(o){return o instanceof e?o:new e(function(s){s(o)})}return new(e||(e=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(n,t||[])).next())})}function Vw(n,t){var e={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return s.next=a(0),s.throw=a(1),s.return=a(2),typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(c){return function(u){return l([c,u])}}function l(c){if(r)throw new TypeError("Generator is already executing.");for(;s&&(s=0,c[0]&&(e=0)),e;)try{if(r=1,i&&(o=c[0]&2?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[c[0]&2,o.value]),c[0]){case 0:case 1:o=c;break;case 4:return e.label++,{value:c[1],done:!1};case 5:e.label++,i=c[1],c=[0];continue;case 7:c=e.ops.pop(),e.trys.pop();continue;default:if(o=e.trys,!(o=o.length>0&&o[o.length-1])&&(c[0]===6||c[0]===2)){e=0;continue}if(c[0]===3&&(!o||c[1]>o[0]&&c[1]<o[3])){e.label=c[1];break}if(c[0]===6&&e.label<o[1]){e.label=o[1],o=c;break}if(o&&e.label<o[2]){e.label=o[2],e.ops.push(c);break}o[2]&&e.ops.pop(),e.trys.pop();continue}c=t.call(n,e)}catch(u){c=[6,u],i=0}finally{r=o=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function Bw(n,t){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(t,e)&&xu(t,n,e)}function Du(n){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Lg(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],s;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(s)throw s.error}}return o}function Uw(){for(var n=[],t=0;t<arguments.length;t++)n=n.concat(Lg(arguments[t]));return n}function $w(){for(var n=0,t=0,e=arguments.length;t<e;t++)n+=arguments[t].length;for(var r=Array(n),i=0,t=0;t<e;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}function Hw(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return n.concat(o||Array.prototype.slice.call(t))}function qn(n){return this instanceof qn?(this.v=n,this):new qn(n)}function Su(n,t,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=e.apply(n,t||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(h){return function(p){return Promise.resolve(p).then(h,d)}}function a(h,p){r[h]&&(i[h]=function(g){return new Promise(function(m,y){o.push([h,g,m,y])>1||l(h,g)})},p&&(i[h]=p(i[h])))}function l(h,p){try{c(r[h](p))}catch(g){f(o[0][3],g)}}function c(h){h.value instanceof qn?Promise.resolve(h.value.v).then(u,d):f(o[0][2],h)}function u(h){l("next",h)}function d(h){l("throw",h)}function f(h,p){h(p),o.shift(),o.length&&l(o[0][0],o[0][1])}}function zw(n){var t,e;return t={},r("next"),r("throw",function(i){throw i}),r("return"),t[Symbol.iterator]=function(){return this},t;function r(i,o){t[i]=n[i]?function(s){return(e=!e)?{value:qn(n[i](s)),done:!1}:o?o(s):s}:o}}function Iu(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=n[Symbol.asyncIterator],e;return t?t.call(n):(n=typeof Du=="function"?Du(n):n[Symbol.iterator](),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(o){e[o]=n[o]&&function(s){return new Promise(function(a,l){s=n[o](s),i(a,l,s.done,s.value)})}}function i(o,s,a,l){Promise.resolve(l).then(function(c){o({value:c,done:a})},s)}}function Ww(n,t){return Object.defineProperty?Object.defineProperty(n,"raw",{value:t}):n.raw=t,n}function qw(n){if(n&&n.__esModule)return n;var t={};if(n!=null)for(var e=Fg(n),r=0;r<e.length;r++)e[r]!=="default"&&xu(t,n,e[r]);return Vk(t,n),t}function Gw(n){return n&&n.__esModule?n:{default:n}}function Kw(n,t,e,r){if(e==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?n!==t||!r:!t.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e==="m"?r:e==="a"?r.call(n):r?r.value:t.get(n)}function Yw(n,t,e,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?n!==t||!i:!t.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(n,e):i?i.value=e:t.set(n,e),e}function Zw(n,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof n=="function"?t===n:n.has(t)}function Jw(n,t,e){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var r,i;if(e){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=t[Symbol.asyncDispose]}if(r===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=t[Symbol.dispose],e&&(i=r)}if(typeof r!="function")throw new TypeError("Object not disposable.");i&&(r=function(){try{i.call(this)}catch(o){return Promise.reject(o)}}),n.stack.push({value:t,dispose:r,async:e})}else e&&n.stack.push({async:!0});return t}function Xw(n){function t(o){n.error=n.hasError?new Bk(o,n.error,"An error was suppressed during disposal."):o,n.hasError=!0}var e,r=0;function i(){for(;e=n.stack.pop();)try{if(!e.async&&r===1)return r=0,n.stack.push(e),Promise.resolve().then(i);if(e.dispose){var o=e.dispose.call(e.value);if(e.async)return r|=2,Promise.resolve(o).then(i,function(s){return t(s),i()})}else r|=1}catch(s){t(s)}if(r===1)return n.hasError?Promise.reject(n.error):Promise.resolve();if(n.hasError)throw n.error}return i()}function Qw(n,t){return typeof n=="string"&&/^\.\.?\//.test(n)?n.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(e,r,i,o,s){return r?t?".jsx":".js":i&&(!o||!s)?e:i+o+"."+s.toLowerCase()+"js"}):n}var Ng,Cu,xu,Vk,Fg,Bk,Uk,Ne=B(()=>{"use strict";Ng=function(n,t){return Ng=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},Ng(n,t)};Cu=function(){return Cu=Object.assign||function(t){for(var e,r=1,i=arguments.length;r<i;r++){e=arguments[r];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},Cu.apply(this,arguments)};xu=Object.create?function(n,t,e,r){r===void 0&&(r=e);var i=Object.getOwnPropertyDescriptor(t,e);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[e]}}),Object.defineProperty(n,r,i)}:function(n,t,e,r){r===void 0&&(r=e),n[r]=t[e]};Vk=Object.create?function(n,t){Object.defineProperty(n,"default",{enumerable:!0,value:t})}:function(n,t){n.default=t},Fg=function(n){return Fg=Object.getOwnPropertyNames||function(t){var e=[];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[e.length]=r);return e},Fg(n)};Bk=typeof SuppressedError=="function"?SuppressedError:function(n,t,e){var r=new Error(e);return r.name="SuppressedError",r.error=n,r.suppressed=t,r};Uk={__extends:Ow,__assign:Cu,__rest:xr,__decorate:Rw,__param:kw,__esDecorate:Pw,__runInitializers:Nw,__propKey:Fw,__setFunctionName:Lw,__metadata:jw,__awaiter:R,__generator:Vw,__createBinding:xu,__exportStar:Bw,__values:Du,__read:Lg,__spread:Uw,__spreadArrays:$w,__spreadArray:Hw,__await:qn,__asyncGenerator:Su,__asyncDelegator:zw,__asyncValues:Iu,__makeTemplateObject:Ww,__importStar:qw,__importDefault:Gw,__classPrivateFieldGet:Kw,__classPrivateFieldSet:Yw,__classPrivateFieldIn:Zw,__addDisposableResource:Jw,__disposeResources:Xw,__rewriteRelativeImportExtension:Qw}});var hT,fT=B(()=>{"use strict";hT=n=>n?(...t)=>n(...t):(...t)=>fetch(...t)});var $o,ya,Ho,zo,Cc,k_=B(()=>{"use strict";$o=class extends Error{constructor(t,e="FunctionsError",r){super(t),this.name=e,this.context=r}},ya=class extends $o{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}},Ho=class extends $o{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}},zo=class extends $o{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}},Cc=function(n){return n.Any="any",n.ApNortheast1="ap-northeast-1",n.ApNortheast2="ap-northeast-2",n.ApSouth1="ap-south-1",n.ApSoutheast1="ap-southeast-1",n.ApSoutheast2="ap-southeast-2",n.CaCentral1="ca-central-1",n.EuCentral1="eu-central-1",n.EuWest1="eu-west-1",n.EuWest2="eu-west-2",n.EuWest3="eu-west-3",n.SaEast1="sa-east-1",n.UsEast1="us-east-1",n.UsWest1="us-west-1",n.UsWest2="us-west-2",n}(Cc||{})});var Sf,pT=B(()=>{"use strict";Ne();fT();k_();Sf=class{constructor(t,{headers:e={},customFetch:r,region:i=Cc.Any}={}){this.url=t,this.headers=e,this.region=i,this.fetch=hT(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return R(this,arguments,void 0,function*(e,r={}){var i;let o,s;try{let{headers:a,method:l,body:c,signal:u,timeout:d}=r,f={},{region:h}=r;h||(h=this.region);let p=new URL(`${this.url}/${e}`);h&&h!=="any"&&(f["x-region"]=h,p.searchParams.set("forceFunctionRegion",h));let g;c&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)?typeof Blob<"u"&&c instanceof Blob||c instanceof ArrayBuffer?(f["Content-Type"]="application/octet-stream",g=c):typeof c=="string"?(f["Content-Type"]="text/plain",g=c):typeof FormData<"u"&&c instanceof FormData?g=c:(f["Content-Type"]="application/json",g=JSON.stringify(c)):g=c;let m=u;d&&(s=new AbortController,o=setTimeout(()=>s.abort(),d),u?(m=s.signal,u.addEventListener("abort",()=>s.abort())):m=s.signal);let y=yield this.fetch(p.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},f),this.headers),a),body:g,signal:m}).catch(x=>{throw new ya(x)}),b=y.headers.get("x-relay-error");if(b&&b==="true")throw new Ho(y);if(!y.ok)throw new zo(y);let w=((i=y.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),C;return w==="application/json"?C=yield y.json():w==="application/octet-stream"||w==="application/pdf"?C=yield y.blob():w==="text/event-stream"?C=y:w==="multipart/form-data"?C=yield y.formData():C=yield y.text(),{data:C,error:null,response:y}}catch(a){return{data:null,error:a,response:a instanceof zo||a instanceof Ho?a.context:void 0}}finally{o&&clearTimeout(o)}})}}});var P_={};sl(P_,{FunctionRegion:()=>Cc,FunctionsClient:()=>Sf,FunctionsError:()=>$o,FunctionsFetchError:()=>ya,FunctionsHttpError:()=>zo,FunctionsRelayError:()=>Ho});var N_=B(()=>{"use strict";pT();k_()});var j_=Rt(L_=>{"use strict";Object.defineProperty(L_,"__esModule",{value:!0});var F_=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};L_.default=F_});var U_=Rt(B_=>{"use strict";Object.defineProperty(B_,"__esModule",{value:!0});var NH=(Ne(),tn(lo)),FH=NH.__importDefault(j_()),V_=class{constructor(t){var e,r;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(e=t.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=t.signal,this.isMaybeSingle=(r=t.isMaybeSingle)!==null&&r!==void 0?r:!1,t.fetch?this.fetch=t.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,e){return this.headers=new Headers(this.headers),this.headers.set(t,e),this}then(t,e){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");let r=this.fetch,i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(o=>v(this,null,function*(){var s,a,l,c;let u=null,d=null,f=null,h=o.status,p=o.statusText;if(o.ok){if(this.method!=="HEAD"){let b=yield o.text();b===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((s=this.headers.get("Accept"))===null||s===void 0)&&s.includes("application/vnd.pgrst.plan+text"))?d=b:d=JSON.parse(b))}let m=(a=this.headers.get("Prefer"))===null||a===void 0?void 0:a.match(/count=(exact|planned|estimated)/),y=(l=o.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");m&&y&&y.length>1&&(f=parseInt(y[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,f=null,h=406,p="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{let m=yield o.text();try{u=JSON.parse(m),Array.isArray(u)&&o.status===404&&(d=[],u=null,h=200,p="OK")}catch{o.status===404&&m===""?(h=204,p="No Content"):u={message:m}}if(u&&this.isMaybeSingle&&(!((c=u?.details)===null||c===void 0)&&c.includes("0 rows"))&&(u=null,h=200,p="OK"),u&&this.shouldThrowOnError)throw new FH.default(u)}return{error:u,data:d,count:f,status:h,statusText:p}}));return this.shouldThrowOnError||(i=i.catch(o=>{var s,a,l,c,u,d;let f="",h=o?.cause;if(h){let p=(s=h?.message)!==null&&s!==void 0?s:"",g=(a=h?.code)!==null&&a!==void 0?a:"";f=`${(l=o?.name)!==null&&l!==void 0?l:"FetchError"}: ${o?.message}`,f+=`

Caused by: ${(c=h?.name)!==null&&c!==void 0?c:"Error"}: ${p}`,g&&(f+=` (${g})`),h?.stack&&(f+=`
${h.stack}`)}else f=(u=o?.stack)!==null&&u!==void 0?u:"";return{error:{message:`${(d=o?.name)!==null&&d!==void 0?d:"FetchError"}: ${o?.message}`,details:f,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),i.then(t,e)}returns(){return this}overrideTypes(){return this}};B_.default=V_});var z_=Rt(H_=>{"use strict";Object.defineProperty(H_,"__esModule",{value:!0});var LH=(Ne(),tn(lo)),jH=LH.__importDefault(U_()),$_=class extends jH.default{select(t){let e=!1,r=(t??"*").split("").map(i=>/\s/.test(i)&&!e?"":(i==='"'&&(e=!e),i)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:e=!0,nullsFirst:r,foreignTable:i,referencedTable:o=i}={}){let s=o?`${o}.order`:"order",a=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${a?`${a},`:""}${t}.${e?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:e,referencedTable:r=e}={}){let i=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${t}`),this}range(t,e,{foreignTable:r,referencedTable:i=r}={}){let o=typeof i>"u"?"offset":`${i}.offset`,s=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(o,`${t}`),this.url.searchParams.set(s,`${e-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:e=!1,settings:r=!1,buffers:i=!1,wal:o=!1,format:s="text"}={}){var a;let l=[t?"analyze":null,e?"verbose":null,r?"settings":null,i?"buffers":null,o?"wal":null].filter(Boolean).join("|"),c=(a=this.headers.get("Accept"))!==null&&a!==void 0?a:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${s}; for="${c}"; options=${l};`),s==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};H_.default=$_});var If=Rt(q_=>{"use strict";Object.defineProperty(q_,"__esModule",{value:!0});var VH=(Ne(),tn(lo)),BH=VH.__importDefault(z_()),UH=new RegExp("[,()]"),W_=class extends BH.default{eq(t,e){return this.url.searchParams.append(t,`eq.${e}`),this}neq(t,e){return this.url.searchParams.append(t,`neq.${e}`),this}gt(t,e){return this.url.searchParams.append(t,`gt.${e}`),this}gte(t,e){return this.url.searchParams.append(t,`gte.${e}`),this}lt(t,e){return this.url.searchParams.append(t,`lt.${e}`),this}lte(t,e){return this.url.searchParams.append(t,`lte.${e}`),this}like(t,e){return this.url.searchParams.append(t,`like.${e}`),this}likeAllOf(t,e){return this.url.searchParams.append(t,`like(all).{${e.join(",")}}`),this}likeAnyOf(t,e){return this.url.searchParams.append(t,`like(any).{${e.join(",")}}`),this}ilike(t,e){return this.url.searchParams.append(t,`ilike.${e}`),this}ilikeAllOf(t,e){return this.url.searchParams.append(t,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(t,e){return this.url.searchParams.append(t,`ilike(any).{${e.join(",")}}`),this}regexMatch(t,e){return this.url.searchParams.append(t,`match.${e}`),this}regexIMatch(t,e){return this.url.searchParams.append(t,`imatch.${e}`),this}is(t,e){return this.url.searchParams.append(t,`is.${e}`),this}isDistinct(t,e){return this.url.searchParams.append(t,`isdistinct.${e}`),this}in(t,e){let r=Array.from(new Set(e)).map(i=>typeof i=="string"&&UH.test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}contains(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cs.{${e.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(e)}`),this}containedBy(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cd.{${e.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(e)}`),this}rangeGt(t,e){return this.url.searchParams.append(t,`sr.${e}`),this}rangeGte(t,e){return this.url.searchParams.append(t,`nxl.${e}`),this}rangeLt(t,e){return this.url.searchParams.append(t,`sl.${e}`),this}rangeLte(t,e){return this.url.searchParams.append(t,`nxr.${e}`),this}rangeAdjacent(t,e){return this.url.searchParams.append(t,`adj.${e}`),this}overlaps(t,e){return typeof e=="string"?this.url.searchParams.append(t,`ov.${e}`):this.url.searchParams.append(t,`ov.{${e.join(",")}}`),this}textSearch(t,e,{config:r,type:i}={}){let o="";i==="plain"?o="pl":i==="phrase"?o="ph":i==="websearch"&&(o="w");let s=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${o}fts${s}.${e}`),this}match(t){return Object.entries(t).forEach(([e,r])=>{this.url.searchParams.append(e,`eq.${r}`)}),this}not(t,e,r){return this.url.searchParams.append(t,`not.${e}.${r}`),this}or(t,{foreignTable:e,referencedTable:r=e}={}){let i=r?`${r}.or`:"or";return this.url.searchParams.append(i,`(${t})`),this}filter(t,e,r){return this.url.searchParams.append(t,`${e}.${r}`),this}};q_.default=W_});var Y_=Rt(K_=>{"use strict";Object.defineProperty(K_,"__esModule",{value:!0});var $H=(Ne(),tn(lo)),Dc=$H.__importDefault(If()),G_=class{constructor(t,{headers:e={},schema:r,fetch:i}){this.url=t,this.headers=new Headers(e),this.schema=r,this.fetch=i}select(t,e){let{head:r=!1,count:i}=e??{},o=r?"HEAD":"GET",s=!1,a=(t??"*").split("").map(l=>/\s/.test(l)&&!s?"":(l==='"'&&(s=!s),l)).join("");return this.url.searchParams.set("select",a),i&&this.headers.append("Prefer",`count=${i}`),new Dc.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(t,{count:e,defaultToNull:r=!0}={}){var i;let o="POST";if(e&&this.headers.append("Prefer",`count=${e}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(t)){let s=t.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(s.length>0){let a=[...new Set(s)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new Dc.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}upsert(t,{onConflict:e,ignoreDuplicates:r=!1,count:i,defaultToNull:o=!0}={}){var s;let a="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),e!==void 0&&this.url.searchParams.set("on_conflict",e),i&&this.headers.append("Prefer",`count=${i}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(t)){let l=t.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(l.length>0){let c=[...new Set(l)].map(u=>`"${u}"`);this.url.searchParams.set("columns",c.join(","))}}return new Dc.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}update(t,{count:e}={}){var r;let i="PATCH";return e&&this.headers.append("Prefer",`count=${e}`),new Dc.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:t}={}){var e;let r="DELETE";return t&&this.headers.append("Prefer",`count=${t}`),new Dc.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch})}};K_.default=G_});var mT=Rt(J_=>{"use strict";Object.defineProperty(J_,"__esModule",{value:!0});var gT=(Ne(),tn(lo)),HH=gT.__importDefault(Y_()),zH=gT.__importDefault(If()),Z_=class n{constructor(t,{headers:e={},schema:r,fetch:i}={}){this.url=t,this.headers=new Headers(e),this.schemaName=r,this.fetch=i}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");let e=new URL(`${this.url}/${t}`);return new HH.default(e,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new n(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,e={},{head:r=!1,get:i=!1,count:o}={}){var s;let a,l=new URL(`${this.url}/rpc/${t}`),c;r||i?(a=r?"HEAD":"GET",Object.entries(e).filter(([d,f])=>f!==void 0).map(([d,f])=>[d,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([d,f])=>{l.searchParams.append(d,f)})):(a="POST",c=e);let u=new Headers(this.headers);return o&&u.set("Prefer",`count=${o}`),new zH.default({method:a,url:l,headers:u,schema:this.schemaName,body:c,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}};J_.default=Z_});var X_=Rt(Ot=>{"use strict";Object.defineProperty(Ot,"__esModule",{value:!0});Ot.PostgrestError=Ot.PostgrestBuilder=Ot.PostgrestTransformBuilder=Ot.PostgrestFilterBuilder=Ot.PostgrestQueryBuilder=Ot.PostgrestClient=void 0;var _a=(Ne(),tn(lo)),vT=_a.__importDefault(mT());Ot.PostgrestClient=vT.default;var yT=_a.__importDefault(Y_());Ot.PostgrestQueryBuilder=yT.default;var _T=_a.__importDefault(If());Ot.PostgrestFilterBuilder=_T.default;var bT=_a.__importDefault(z_());Ot.PostgrestTransformBuilder=bT.default;var wT=_a.__importDefault(U_());Ot.PostgrestBuilder=wT.default;var ET=_a.__importDefault(j_());Ot.PostgrestError=ET.default;Ot.default={PostgrestClient:vT.default,PostgrestQueryBuilder:yT.default,PostgrestFilterBuilder:_T.default,PostgrestTransformBuilder:bT.default,PostgrestBuilder:wT.default,PostgrestError:ET.default}});var Q_,Mf,eb=B(()=>{"use strict";Q_=class{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){let e=process.versions;if(e&&e.node){let r=e.node,i=parseInt(r.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){let t=this.detectEnvironment();if(t.constructor)return t.constructor;let e=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(e+=`

Suggested solution: ${t.workaround}`),new Error(e)}static createWebSocket(t,e){let r=this.getWebSocketConstructor();return new r(t,e)}static isWebSocketSupported(){try{let t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}},Mf=Q_});var CT,DT=B(()=>{"use strict";CT="2.87.1"});var xT,tb,ST,nb,xc,IT,MT,Wo,tt,_n,rb,qo,Tf=B(()=>{"use strict";DT();xT=`realtime-js/${CT}`,tb="1.0.0",ST="2.0.0",nb=tb,xc=1e4,IT=1e3,MT=100,Wo=function(n){return n[n.connecting=0]="connecting",n[n.open=1]="open",n[n.closing=2]="closing",n[n.closed=3]="closed",n}(Wo||{}),tt=function(n){return n.closed="closed",n.errored="errored",n.joined="joined",n.joining="joining",n.leaving="leaving",n}(tt||{}),_n=function(n){return n.close="phx_close",n.error="phx_error",n.join="phx_join",n.reply="phx_reply",n.leave="phx_leave",n.access_token="access_token",n}(_n||{}),rb=function(n){return n.websocket="websocket",n}(rb||{}),qo=function(n){return n.Connecting="connecting",n.Open="open",n.Closing="closing",n.Closed="closed",n}(qo||{})});var Af,TT=B(()=>{"use strict";Af=class{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,e){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return e(this._binaryEncodeUserBroadcastPush(t));let r=[t.join_ref,t.ref,t.topic,t.event,t.payload];return e(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(t){var e;return this._isArrayBuffer((e=t.payload)===null||e===void 0?void 0:e.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var e,r;let i=(r=(e=t.payload)===null||e===void 0?void 0:e.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,i)}_encodeJsonUserBroadcastPush(t){var e,r;let i=(r=(e=t.payload)===null||e===void 0?void 0:e.payload)!==null&&r!==void 0?r:{},s=new TextEncoder().encode(JSON.stringify(i)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,s)}_encodeUserBroadcastPush(t,e,r){var i,o;let s=t.topic,a=(i=t.ref)!==null&&i!==void 0?i:"",l=(o=t.join_ref)!==null&&o!==void 0?o:"",c=t.payload.event,u=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},d=Object.keys(u).length===0?"":JSON.stringify(u);if(l.length>255)throw new Error(`joinRef length ${l.length} exceeds maximum of 255`);if(a.length>255)throw new Error(`ref length ${a.length} exceeds maximum of 255`);if(s.length>255)throw new Error(`topic length ${s.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`userEvent length ${c.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`metadata length ${d.length} exceeds maximum of 255`);let f=this.USER_BROADCAST_PUSH_META_LENGTH+l.length+a.length+s.length+c.length+d.length,h=new ArrayBuffer(this.HEADER_LENGTH+f),p=new DataView(h),g=0;p.setUint8(g++,this.KINDS.userBroadcastPush),p.setUint8(g++,l.length),p.setUint8(g++,a.length),p.setUint8(g++,s.length),p.setUint8(g++,c.length),p.setUint8(g++,d.length),p.setUint8(g++,e),Array.from(l,y=>p.setUint8(g++,y.charCodeAt(0))),Array.from(a,y=>p.setUint8(g++,y.charCodeAt(0))),Array.from(s,y=>p.setUint8(g++,y.charCodeAt(0))),Array.from(c,y=>p.setUint8(g++,y.charCodeAt(0))),Array.from(d,y=>p.setUint8(g++,y.charCodeAt(0)));var m=new Uint8Array(h.byteLength+r.byteLength);return m.set(new Uint8Array(h),0),m.set(new Uint8Array(r),h.byteLength),m.buffer}decode(t,e){if(this._isArrayBuffer(t)){let r=this._binaryDecode(t);return e(r)}if(typeof t=="string"){let r=JSON.parse(t),[i,o,s,a,l]=r;return e({join_ref:i,ref:o,topic:s,event:a,payload:l})}return e({})}_binaryDecode(t){let e=new DataView(t),r=e.getUint8(0),i=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,e,i)}}_decodeUserBroadcast(t,e,r){let i=e.getUint8(1),o=e.getUint8(2),s=e.getUint8(3),a=e.getUint8(4),l=this.HEADER_LENGTH+4,c=r.decode(t.slice(l,l+i));l=l+i;let u=r.decode(t.slice(l,l+o));l=l+o;let d=r.decode(t.slice(l,l+s));l=l+s;let f=t.slice(l,t.byteLength),h=a===this.JSON_ENCODING?JSON.parse(r.decode(f)):f,p={type:this.BROADCAST_EVENT,event:u,payload:h};return s>0&&(p.meta=JSON.parse(d)),{join_ref:null,ref:null,topic:c,event:this.BROADCAST_EVENT,payload:p}}_isArrayBuffer(t){var e;return t instanceof ArrayBuffer||((e=t?.constructor)===null||e===void 0?void 0:e.name)==="ArrayBuffer"}_pick(t,e){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([r])=>e.includes(r)))}}});var ba,ib=B(()=>{"use strict";ba=class{constructor(t,e){this.callback=t,this.timerCalc=e,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=e}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}});var Re,sb,WH,AT,ob,qH,GH,KH,YH,ZH,Of,Rf=B(()=>{"use strict";Re=function(n){return n.abstime="abstime",n.bool="bool",n.date="date",n.daterange="daterange",n.float4="float4",n.float8="float8",n.int2="int2",n.int4="int4",n.int4range="int4range",n.int8="int8",n.int8range="int8range",n.json="json",n.jsonb="jsonb",n.money="money",n.numeric="numeric",n.oid="oid",n.reltime="reltime",n.text="text",n.time="time",n.timestamp="timestamp",n.timestamptz="timestamptz",n.timetz="timetz",n.tsrange="tsrange",n.tstzrange="tstzrange",n}(Re||{}),sb=(n,t,e={})=>{var r;let i=(r=e.skipTypes)!==null&&r!==void 0?r:[];return t?Object.keys(t).reduce((o,s)=>(o[s]=WH(s,n,t,i),o),{}):{}},WH=(n,t,e,r)=>{let i=t.find(a=>a.name===n),o=i?.type,s=e[n];return o&&!r.includes(o)?AT(o,s):ob(s)},AT=(n,t)=>{if(n.charAt(0)==="_"){let e=n.slice(1,n.length);return YH(t,e)}switch(n){case Re.bool:return qH(t);case Re.float4:case Re.float8:case Re.int2:case Re.int4:case Re.int8:case Re.numeric:case Re.oid:return GH(t);case Re.json:case Re.jsonb:return KH(t);case Re.timestamp:return ZH(t);case Re.abstime:case Re.date:case Re.daterange:case Re.int4range:case Re.int8range:case Re.money:case Re.reltime:case Re.text:case Re.time:case Re.timestamptz:case Re.timetz:case Re.tsrange:case Re.tstzrange:return ob(t);default:return ob(t)}},ob=n=>n,qH=n=>{switch(n){case"t":return!0;case"f":return!1;default:return n}},GH=n=>{if(typeof n=="string"){let t=parseFloat(n);if(!Number.isNaN(t))return t}return n},KH=n=>{if(typeof n=="string")try{return JSON.parse(n)}catch(t){return console.log(`JSON parse error: ${t}`),n}return n},YH=(n,t)=>{if(typeof n!="string")return n;let e=n.length-1,r=n[e];if(n[0]==="{"&&r==="}"){let o,s=n.slice(1,e);try{o=JSON.parse("["+s+"]")}catch{o=s?s.split(","):[]}return o.map(a=>AT(t,a))}return n},ZH=n=>typeof n=="string"?n.replace(" ","T"):n,Of=n=>{let t=new URL(n);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href}});var wa,OT=B(()=>{"use strict";Tf();wa=class{constructor(t,e,r={},i=xc){this.channel=t,this.event=e,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,e){var r;return this._hasReceived(t)&&e((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:e}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);let t=e=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=e,this._matchReceive(e)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,e){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:e})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:e}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(e))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}});var ab,Ea,lb=B(()=>{"use strict";ab=function(n){return n.SYNC="sync",n.JOIN="join",n.LEAVE="leave",n}(ab||{}),Ea=class n{constructor(t,e){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};let r=e?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{let{onJoin:o,onLeave:s,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=n.syncState(this.state,i,o,s),this.pendingDiffs.forEach(l=>{this.state=n.syncDiff(this.state,l,o,s)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},i=>{let{onJoin:o,onLeave:s,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=n.syncDiff(this.state,i,o,s),a())}),this.onJoin((i,o,s)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:o,newPresences:s})}),this.onLeave((i,o,s)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:o,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,e,r,i){let o=this.cloneDeep(t),s=this.transformState(e),a={},l={};return this.map(o,(c,u)=>{s[c]||(l[c]=u)}),this.map(s,(c,u)=>{let d=o[c];if(d){let f=u.map(m=>m.presence_ref),h=d.map(m=>m.presence_ref),p=u.filter(m=>h.indexOf(m.presence_ref)<0),g=d.filter(m=>f.indexOf(m.presence_ref)<0);p.length>0&&(a[c]=p),g.length>0&&(l[c]=g)}else a[c]=u}),this.syncDiff(o,{joins:a,leaves:l},r,i)}static syncDiff(t,e,r,i){let{joins:o,leaves:s}={joins:this.transformState(e.joins),leaves:this.transformState(e.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(o,(a,l)=>{var c;let u=(c=t[a])!==null&&c!==void 0?c:[];if(t[a]=this.cloneDeep(l),u.length>0){let d=t[a].map(h=>h.presence_ref),f=u.filter(h=>d.indexOf(h.presence_ref)<0);t[a].unshift(...f)}r(a,u,l)}),this.map(s,(a,l)=>{let c=t[a];if(!c)return;let u=l.map(d=>d.presence_ref);c=c.filter(d=>u.indexOf(d.presence_ref)<0),t[a]=c,i(a,c,l),c.length===0&&delete t[a]}),t}static map(t,e){return Object.getOwnPropertyNames(t).map(r=>e(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((e,r)=>{let i=t[r];return"metas"in i?e[r]=i.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):e[r]=i,e},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}});var cb,Ca,pr,RT,Da,ub=B(()=>{"use strict";Tf();OT();ib();lb();Rf();Rf();cb=function(n){return n.ALL="*",n.INSERT="INSERT",n.UPDATE="UPDATE",n.DELETE="DELETE",n}(cb||{}),Ca=function(n){return n.BROADCAST="broadcast",n.PRESENCE="presence",n.POSTGRES_CHANGES="postgres_changes",n.SYSTEM="system",n}(Ca||{}),pr=function(n){return n.SUBSCRIBED="SUBSCRIBED",n.TIMED_OUT="TIMED_OUT",n.CLOSED="CLOSED",n.CHANNEL_ERROR="CHANNEL_ERROR",n}(pr||{}),RT=tt,Da=class n{constructor(t,e={config:{}},r){var i,o;if(this.topic=t,this.params=e,this.socket=r,this.bindings={},this.state=tt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},e.config),this.timeout=this.socket.timeout,this.joinPush=new wa(this,_n.join,this.params,this.timeout),this.rejoinTimer=new ba(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=tt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=tt.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=tt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=tt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=tt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(_n.reply,{},(s,a)=>{this._trigger(this._replyEventName(a),s)}),this.presence=new Ea(this),this.broadcastEndpointURL=Of(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((o=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||o===void 0)&&o.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,e=this.timeout){var r,i,o;if(this.socket.isConnected()||this.socket.connect(),this.state==tt.closed){let{config:{broadcast:s,presence:a,private:l}}=this.params,c=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(h=>h.filter))!==null&&i!==void 0?i:[],u=!!this.bindings[Ca.PRESENCE]&&this.bindings[Ca.PRESENCE].length>0||((o=this.params.config.presence)===null||o===void 0?void 0:o.enabled)===!0,d={},f={broadcast:s,presence:Object.assign(Object.assign({},a),{enabled:u}),postgres_changes:c,private:l};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this._onError(h=>t?.(pr.CHANNEL_ERROR,h)),this._onClose(()=>t?.(pr.CLOSED)),this.updateJoinPayload(Object.assign({config:f},d)),this.joinedOnce=!0,this._rejoin(e),this.joinPush.receive("ok",p=>v(this,[p],function*({postgres_changes:h}){var g;if(this.socket._isManualToken()||this.socket.setAuth(),h===void 0){t?.(pr.SUBSCRIBED);return}else{let m=this.bindings.postgres_changes,y=(g=m?.length)!==null&&g!==void 0?g:0,b=[];for(let w=0;w<y;w++){let C=m[w],{filter:{event:x,schema:I,table:A,filter:T}}=C,N=h&&h[w];if(N&&N.event===x&&n.isFilterValueEqual(N.schema,I)&&n.isFilterValueEqual(N.table,A)&&n.isFilterValueEqual(N.filter,T))b.push(Object.assign(Object.assign({},C),{id:N.id}));else{this.unsubscribe(),this.state=tt.errored,t?.(pr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=b,t&&t(pr.SUBSCRIBED);return}})).receive("error",h=>{this.state=tt.errored,t?.(pr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(h).join(", ")||"error")))}).receive("timeout",()=>{t?.(pr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}track(r){return v(this,arguments,function*(t,e={}){return yield this.send({type:"presence",event:"track",payload:t},e.timeout||this.timeout)})}untrack(){return v(this,arguments,function*(t={}){return yield this.send({type:"presence",event:"untrack"},t)})}on(t,e,r){return this.state===tt.joined&&t===Ca.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>v(this,null,function*(){return yield this.subscribe()}))),this._on(t,e,r)}httpSend(i,o){return v(this,arguments,function*(t,e,r={}){var s;let a=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(e==null)return Promise.reject("Payload is required for httpSend()");let l={method:"POST",headers:{Authorization:a,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:e,private:this.private}]})},c=yield this._fetchWithTimeout(this.broadcastEndpointURL,l,(s=r.timeout)!==null&&s!==void 0?s:this.timeout);if(c.status===202)return{success:!0};let u=c.statusText;try{let d=yield c.json();u=d.error||d.message||u}catch{}return Promise.reject(new Error(u))})}send(r){return v(this,arguments,function*(t,e={}){var i,o;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");let{event:s,payload:a}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:a,private:this.private}]})};try{let u=yield this._fetchWithTimeout(this.broadcastEndpointURL,c,(i=e.timeout)!==null&&i!==void 0?i:this.timeout);return yield(o=u.body)===null||o===void 0?void 0:o.cancel(),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var a,l,c;let u=this._push(t.type,t,e.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(a=this.params)===null||a===void 0?void 0:a.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&s("ok"),u.receive("ok",()=>s("ok")),u.receive("error",()=>s("error")),u.receive("timeout",()=>s("timed out"))})})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=tt.leaving;let e=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(_n.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new wa(this,_n.leave,{},t),r.receive("ok",()=>{e(),i("ok")}).receive("timeout",()=>{e(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r?.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=tt.closed,this.bindings={}}_fetchWithTimeout(t,e,r){return v(this,null,function*(){let i=new AbortController,o=setTimeout(()=>i.abort(),r),s=yield this.socket.fetch(t,Object.assign(Object.assign({},e),{signal:i.signal}));return clearTimeout(o),s})}_push(t,e,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new wa(this,t,e,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>MT){let e=this.pushBuffer.shift();e&&(e.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${e.event}`,e.payload))}}_onMessage(t,e,r){return e}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,e,r){var i,o;let s=t.toLocaleLowerCase(),{close:a,error:l,leave:c,join:u}=_n;if(r&&[a,l,c,u].indexOf(s)>=0&&r!==this._joinRef())return;let f=this._onMessage(s,e,r);if(e&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(h=>{var p,g,m;return((p=h.filter)===null||p===void 0?void 0:p.event)==="*"||((m=(g=h.filter)===null||g===void 0?void 0:g.event)===null||m===void 0?void 0:m.toLocaleLowerCase())===s}).map(h=>h.callback(f,r)):(o=this.bindings[s])===null||o===void 0||o.filter(h=>{var p,g,m,y,b,w;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in h){let C=h.id,x=(p=h.filter)===null||p===void 0?void 0:p.event;return C&&((g=e.ids)===null||g===void 0?void 0:g.includes(C))&&(x==="*"||x?.toLocaleLowerCase()===((m=e.data)===null||m===void 0?void 0:m.type.toLocaleLowerCase()))}else{let C=(b=(y=h?.filter)===null||y===void 0?void 0:y.event)===null||b===void 0?void 0:b.toLocaleLowerCase();return C==="*"||C===((w=e?.event)===null||w===void 0?void 0:w.toLocaleLowerCase())}else return h.type.toLocaleLowerCase()===s}).map(h=>{if(typeof f=="object"&&"ids"in f){let p=f.data,{schema:g,table:m,commit_timestamp:y,type:b,errors:w}=p;f=Object.assign(Object.assign({},{schema:g,table:m,commit_timestamp:y,eventType:b,new:{},old:{},errors:w}),this._getPayloadRecords(p))}h.callback(f,r)})}_isClosed(){return this.state===tt.closed}_isJoined(){return this.state===tt.joined}_isJoining(){return this.state===tt.joining}_isLeaving(){return this.state===tt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,e,r){let i=t.toLocaleLowerCase(),o={type:i,filter:e,callback:r};return this.bindings[i]?this.bindings[i].push(o):this.bindings[i]=[o],this}_off(t,e){let r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var o;return!(((o=i.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===r&&n.isEqual(i.filter,e))})),this}static isEqual(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(let r in t)if(t[r]!==e[r])return!1;return!0}static isFilterValueEqual(t,e){return(t??void 0)===(e??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(_n.close,{},t)}_onError(t){this._on(_n.error,{},e=>t(e))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=tt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){let e={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(e.new=sb(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(e.old=sb(t.columns,t.old_record)),e}}});var db,kf,XH,QH,ez,Pf,kT=B(()=>{"use strict";eb();Tf();TT();ib();Rf();ub();db=()=>{},kf={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},XH=[1e3,2e3,5e3,1e4],QH=1e4,ez=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`,Pf=class{constructor(t,e){var r;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=xc,this.transport=null,this.heartbeatIntervalMs=kf.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=db,this.ref=0,this.reconnectTimer=null,this.vsn=nb,this.logger=db,this.conn=null,this.sendBuffer=[],this.serializer=new Af,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>i?(...o)=>i(...o):(...o)=>fetch(...o),!(!((r=e?.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=e.params.apikey,this.endPoint=`${t}/${rb.websocket}`,this.httpEndpoint=Of(t),this._initializeOptions(e),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(e?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Mf.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");let e=t.message;throw e.includes("Node.js")?new Error(`${e}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${e}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,e){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){let r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,e??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}removeChannel(t){return v(this,null,function*(){let e=yield t.unsubscribe();return this.channels.length===0&&this.disconnect(),e})}removeAllChannels(){return v(this,null,function*(){let t=yield Promise.all(this.channels.map(e=>e.unsubscribe()));return this.channels=[],this.disconnect(),t})}log(t,e,r){this.logger(t,e,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Wo.connecting:return qo.Connecting;case Wo.open:return qo.Open;case Wo.closing:return qo.Closing;default:return qo.Closed}}isConnected(){return this.connectionState()===qo.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,e={config:{}}){let r=`realtime:${t}`,i=this.getChannels().find(o=>o.topic===r);if(i)return i;{let o=new Da(`realtime:${t}`,e,this);return this.channels.push(o),o}}push(t){let{topic:e,event:r,payload:i,ref:o}=t,s=()=>{this.encode(t,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${e} ${r} (${o})`,i),this.isConnected()?s():this.sendBuffer.push(s)}setAuth(t=null){return v(this,null,function*(){this._authPromise=this._performAuth(t);try{yield this._authPromise}finally{this._authPromise=null}})}_isManualToken(){return this._manuallySetToken}sendHeartbeat(){return v(this,null,function*(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(e){this.log("error","error in heartbeat callback",e)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(e){this.log("error","error in heartbeat callback",e)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(IT,"heartbeat timeout"),setTimeout(()=>{var e;this.isConnected()||(e=this.reconnectTimer)===null||e===void 0||e.scheduleTimeout()},kf.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(e){this.log("error","error in heartbeat callback",e)}this._setAuthSafely("heartbeat")})}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let e=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));e&&(this.log("transport",`leaving duplicate topic "${t}"`),e.unsubscribe())}_remove(t){this.channels=this.channels.filter(e=>e.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,e=>{if(e.topic==="phoenix"&&e.event==="phx_reply")try{this.heartbeatCallback(e.payload.status==="ok"?"ok":"error")}catch(c){this.log("error","error in heartbeat callback",c)}e.ref&&e.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);let{topic:r,event:i,payload:o,ref:s}=e,a=s?`(${s})`:"",l=o.status||"";this.log("receive",`${l} ${r} ${i} ${a}`.trim(),o),this.channels.filter(c=>c._isMember(r)).forEach(c=>c._trigger(i,o,s)),this._triggerStateCallbacks("message",e)})}_clearTimer(t){var e;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((e=this.reconnectTimer)===null||e===void 0||e.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){if(this.conn){if(this.conn.readyState===Wo.open||this.conn.readyState===Wo.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(e=>{this.log("error","error waiting for auth on connect",e),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");let t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=e=>{this.log("worker","worker error",e.message),this.workerRef.terminate()},this.workerRef.onmessage=e=>{e.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var e;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(e=this.reconnectTimer)===null||e===void 0||e.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(_n.error))}_appendParams(t,e){if(Object.keys(e).length===0)return t;let r=t.match(/\?/)?"&":"?",i=new URLSearchParams(e);return`${t}${r}${i}`}_workerObjectUrl(t){let e;if(t)e=t;else{let r=new Blob([ez],{type:"application/javascript"});e=URL.createObjectURL(r)}return e}_setConnectionState(t,e=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=e)}_performAuth(t=null){return v(this,null,function*(){let e,r=!1;if(t)e=t,r=!0;else if(this.accessToken)try{e=yield this.accessToken()}catch(i){this.log("error","Error fetching access token from callback",i),e=this.accessTokenValue}else e=this.accessTokenValue;r?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=e&&(this.accessTokenValue=e,this.channels.forEach(i=>{let o={access_token:e,version:xT};e&&i.updateJoinPayload(o),i.joinedOnce&&i._isJoined()&&i._push(_n.access_token,{access_token:e})}))})}_waitForAuthIfNeeded(){return v(this,null,function*(){this._authPromise&&(yield this._authPromise)})}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(e=>{this.log("error",`Error setting auth in ${t}`,e)})}_triggerStateCallbacks(t,e){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(e)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new ba(()=>v(this,null,function*(){setTimeout(()=>v(this,null,function*(){yield this._waitForAuthIfNeeded(),this.isConnected()||this.connect()}),kf.RECONNECT_DELAY)}),this.reconnectAfterMs)}_initializeOptions(t){var e,r,i,o,s,a,l,c,u,d,f,h;switch(this.transport=(e=t?.transport)!==null&&e!==void 0?e:null,this.timeout=(r=t?.timeout)!==null&&r!==void 0?r:xc,this.heartbeatIntervalMs=(i=t?.heartbeatIntervalMs)!==null&&i!==void 0?i:kf.HEARTBEAT_INTERVAL,this.worker=(o=t?.worker)!==null&&o!==void 0?o:!1,this.accessToken=(s=t?.accessToken)!==null&&s!==void 0?s:null,this.heartbeatCallback=(a=t?.heartbeatCallback)!==null&&a!==void 0?a:db,this.vsn=(l=t?.vsn)!==null&&l!==void 0?l:nb,t?.params&&(this.params=t.params),t?.logger&&(this.logger=t.logger),(t?.logLevel||t?.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=t?.reconnectAfterMs)!==null&&c!==void 0?c:p=>XH[p-1]||QH,this.vsn){case tb:this.encode=(u=t?.encode)!==null&&u!==void 0?u:(p,g)=>g(JSON.stringify(p)),this.decode=(d=t?.decode)!==null&&d!==void 0?d:(p,g)=>g(JSON.parse(p));break;case ST:this.encode=(f=t?.encode)!==null&&f!==void 0?f:this.serializer.encode.bind(this.serializer),this.decode=(h=t?.decode)!==null&&h!==void 0?h:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t?.workerUrl}}}});var hb={};sl(hb,{REALTIME_CHANNEL_STATES:()=>RT,REALTIME_LISTEN_TYPES:()=>Ca,REALTIME_POSTGRES_CHANGES_LISTEN_EVENT:()=>cb,REALTIME_PRESENCE_LISTEN_EVENTS:()=>ab,REALTIME_SUBSCRIBE_STATES:()=>pr,RealtimeChannel:()=>Da,RealtimeClient:()=>Pf,RealtimePresence:()=>Ea,WebSocketFactory:()=>Mf});var fb=B(()=>{"use strict";kT();ub();lb();eb()});function be(n){return typeof n=="object"&&n!==null&&"__isStorageError"in n}var Kr,Sc,ki,Pi=B(()=>{"use strict";Kr=class extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}};Sc=class extends Kr{constructor(t,e,r){super(t),this.name="StorageApiError",this.status=e,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},ki=class extends Kr{constructor(t,e){super(t),this.name="StorageUnknownError",this.originalError=e}}});var xa,PT,Nf,NT,FT,Ic=B(()=>{"use strict";xa=n=>n?(...t)=>n(...t):(...t)=>fetch(...t),PT=()=>Response,Nf=n=>{if(Array.isArray(n))return n.map(e=>Nf(e));if(typeof n=="function"||n!==Object(n))return n;let t={};return Object.entries(n).forEach(([e,r])=>{let i=e.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));t[i]=Nf(r)}),t},NT=n=>{if(typeof n!="object"||n===null)return!1;let t=Object.getPrototypeOf(n);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},FT=n=>!n||typeof n!="string"||n.length===0||n.length>100||n.trim()!==n||n.includes("/")||n.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(n)});function Mc(n,t,e,r,i,o){return R(this,void 0,void 0,function*(){return new Promise((s,a)=>{n(e,nz(t,r,i,o)).then(l=>{if(!l.ok)throw l;return r?.noResolveJson?l:l.json()}).then(l=>s(l)).catch(l=>tz(l,a,r))})})}function Ni(n,t,e,r){return R(this,void 0,void 0,function*(){return Mc(n,"GET",t,e,r)})}function Yt(n,t,e,r,i){return R(this,void 0,void 0,function*(){return Mc(n,"POST",t,r,i,e)})}function Tc(n,t,e,r,i){return R(this,void 0,void 0,function*(){return Mc(n,"PUT",t,r,i,e)})}function LT(n,t,e,r){return R(this,void 0,void 0,function*(){return Mc(n,"HEAD",t,Object.assign(Object.assign({},e),{noResolveJson:!0}),r)})}function Sa(n,t,e,r,i){return R(this,void 0,void 0,function*(){return Mc(n,"DELETE",t,r,i,e)})}var pb,tz,nz,Ff=B(()=>{"use strict";Ne();Pi();Ic();pb=n=>{var t;return n.msg||n.message||n.error_description||(typeof n.error=="string"?n.error:(t=n.error)===null||t===void 0?void 0:t.message)||JSON.stringify(n)},tz=(n,t,e)=>R(void 0,void 0,void 0,function*(){let r=yield PT();n instanceof r&&!e?.noResolveJson?n.json().then(i=>{let o=n.status||500,s=i?.statusCode||o+"";t(new Sc(pb(i),o,s))}).catch(i=>{t(new ki(pb(i),i))}):t(new ki(pb(n),n))}),nz=(n,t,e,r)=>{let i={method:n,headers:t?.headers||{}};return n==="GET"||!r?i:(NT(r)?(i.headers=Object.assign({"Content-Type":"application/json"},t?.headers),i.body=JSON.stringify(r)):i.body=r,t?.duplex&&(i.duplex=t.duplex),Object.assign(Object.assign({},i),e))}});var Lf,jT=B(()=>{"use strict";Ne();Pi();Lf=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e}then(t,e){return this.execute().then(t,e)}execute(){return R(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(be(t))return{data:null,error:t};throw t}})}}});var VT,gb,BT,UT=B(()=>{"use strict";Ne();Pi();jT();gb=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e,this[VT]="BlobDownloadBuilder",this.promise=null}asStream(){return new Lf(this.downloadFn,this.shouldThrowOnError)}then(t,e){return this.getPromise().then(t,e)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return R(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(be(t))return{data:null,error:t};throw t}})}};VT=Symbol.toStringTag;BT=gb});var rz,$T,jf,HT=B(()=>{"use strict";Ne();Pi();Ff();Ic();UT();rz={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},$T={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1},jf=class{constructor(t,e={},r,i){this.shouldThrowOnError=!1,this.url=t,this.headers=e,this.bucketId=r,this.fetch=xa(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,e,r,i){return R(this,void 0,void 0,function*(){try{let o,s=Object.assign(Object.assign({},$T),i),a=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(s.upsert)}),l=s.metadata;typeof Blob<"u"&&r instanceof Blob?(o=new FormData,o.append("cacheControl",s.cacheControl),l&&o.append("metadata",this.encodeMetadata(l)),o.append("",r)):typeof FormData<"u"&&r instanceof FormData?(o=r,o.has("cacheControl")||o.append("cacheControl",s.cacheControl),l&&!o.has("metadata")&&o.append("metadata",this.encodeMetadata(l))):(o=r,a["cache-control"]=`max-age=${s.cacheControl}`,a["content-type"]=s.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l))),(typeof ReadableStream<"u"&&o instanceof ReadableStream||o&&typeof o=="object"&&"pipe"in o&&typeof o.pipe=="function")&&!s.duplex&&(s.duplex="half")),i?.headers&&(a=Object.assign(Object.assign({},a),i.headers));let c=this._removeEmptyFolders(e),u=this._getFinalPath(c),d=yield(t=="PUT"?Tc:Yt)(this.fetch,`${this.url}/object/${u}`,o,Object.assign({headers:a},s?.duplex?{duplex:s.duplex}:{}));return{data:{path:c,id:d.Id,fullPath:d.Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(be(o))return{data:null,error:o};throw o}})}upload(t,e,r){return R(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,e,r)})}uploadToSignedUrl(t,e,r,i){return R(this,void 0,void 0,function*(){let o=this._removeEmptyFolders(t),s=this._getFinalPath(o),a=new URL(this.url+`/object/upload/sign/${s}`);a.searchParams.set("token",e);try{let l,c=Object.assign({upsert:$T.upsert},i),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",c.cacheControl)):(l=r,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType);let d=yield Tc(this.fetch,a.toString(),l,{headers:u});return{data:{path:o,fullPath:d.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(be(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(t,e){return R(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t),i=Object.assign({},this.headers);e?.upsert&&(i["x-upsert"]="true");let o=yield Yt(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),s=new URL(this.url+o.url),a=s.searchParams.get("token");if(!a)throw new Kr("No token returned by API");return{data:{signedUrl:s.toString(),path:t,token:a},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(be(r))return{data:null,error:r};throw r}})}update(t,e,r){return R(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,e,r)})}move(t,e,r){return R(this,void 0,void 0,function*(){try{return{data:yield Yt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:e,destinationBucket:r?.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(be(i))return{data:null,error:i};throw i}})}copy(t,e,r){return R(this,void 0,void 0,function*(){try{return{data:{path:(yield Yt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:e,destinationBucket:r?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(be(i))return{data:null,error:i};throw i}})}createSignedUrl(t,e,r){return R(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),o=yield Yt(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:e},r?.transform?{transform:r.transform}:{}),{headers:this.headers}),s=r?.download?`&download=${r.download===!0?"":r.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${s}`)},{data:o,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(be(i))return{data:null,error:i};throw i}})}createSignedUrls(t,e,r){return R(this,void 0,void 0,function*(){try{let i=yield Yt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:e,paths:t},{headers:this.headers}),o=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(s=>Object.assign(Object.assign({},s),{signedUrl:s.signedURL?encodeURI(`${this.url}${s.signedURL}${o}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(be(i))return{data:null,error:i};throw i}})}download(t,e){let i=typeof e?.transform<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString(e?.transform||{}),s=o?`?${o}`:"",a=this._getFinalPath(t),l=()=>Ni(this.fetch,`${this.url}/${i}/${a}${s}`,{headers:this.headers,noResolveJson:!0});return new BT(l,this.shouldThrowOnError)}info(t){return R(this,void 0,void 0,function*(){let e=this._getFinalPath(t);try{let r=yield Ni(this.fetch,`${this.url}/object/info/${e}`,{headers:this.headers});return{data:Nf(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(be(r))return{data:null,error:r};throw r}})}exists(t){return R(this,void 0,void 0,function*(){let e=this._getFinalPath(t);try{return yield LT(this.fetch,`${this.url}/object/${e}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(be(r)&&r instanceof ki){let i=r.originalError;if([400,404].includes(i?.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,e){let r=this._getFinalPath(t),i=[],o=e?.download?`download=${e.download===!0?"":e.download}`:"";o!==""&&i.push(o);let a=typeof e?.transform<"u"?"render/image":"object",l=this.transformOptsToQueryString(e?.transform||{});l!==""&&i.push(l);let c=i.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${c}`)}}}remove(t){return R(this,void 0,void 0,function*(){try{return{data:yield Sa(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(be(e))return{data:null,error:e};throw e}})}list(t,e,r){return R(this,void 0,void 0,function*(){try{let i=Object.assign(Object.assign(Object.assign({},rz),e),{prefix:t||""});return{data:yield Yt(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(be(i))return{data:null,error:i};throw i}})}listV2(t,e){return R(this,void 0,void 0,function*(){try{let r=Object.assign({},t);return{data:yield Yt(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},e),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(be(r))return{data:null,error:r};throw r}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){let e=[];return t.width&&e.push(`width=${t.width}`),t.height&&e.push(`height=${t.height}`),t.resize&&e.push(`resize=${t.resize}`),t.format&&e.push(`format=${t.format}`),t.quality&&e.push(`quality=${t.quality}`),e.join("&")}}});var Vf,mb=B(()=>{"use strict";Vf="2.87.1"});var Bf,vb=B(()=>{"use strict";mb();Bf={"X-Client-Info":`storage-js/${Vf}`}});var Uf,zT=B(()=>{"use strict";Ne();vb();Pi();Ff();Ic();Uf=class{constructor(t,e={},r,i){this.shouldThrowOnError=!1;let o=new URL(t);i?.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase.")),this.url=o.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Bf),e),this.fetch=xa(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(t){return R(this,void 0,void 0,function*(){try{let e=this.listBucketOptionsToQueryString(t);return{data:yield Ni(this.fetch,`${this.url}/bucket${e}`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(be(e))return{data:null,error:e};throw e}})}getBucket(t){return R(this,void 0,void 0,function*(){try{return{data:yield Ni(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(be(e))return{data:null,error:e};throw e}})}createBucket(t){return R(this,arguments,void 0,function*(e,r={public:!1}){try{return{data:yield Yt(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(be(i))return{data:null,error:i};throw i}})}updateBucket(t,e){return R(this,void 0,void 0,function*(){try{return{data:yield Tc(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(be(r))return{data:null,error:r};throw r}})}emptyBucket(t){return R(this,void 0,void 0,function*(){try{return{data:yield Yt(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(be(e))return{data:null,error:e};throw e}})}deleteBucket(t){return R(this,void 0,void 0,function*(){try{return{data:yield Sa(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(be(e))return{data:null,error:e};throw e}})}listBucketOptionsToQueryString(t){let e={};return t&&("limit"in t&&(e.limit=String(t.limit)),"offset"in t&&(e.offset=String(t.offset)),t.search&&(e.search=t.search),t.sortColumn&&(e.sortColumn=t.sortColumn),t.sortOrder&&(e.sortOrder=t.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}}});function iz(n,t,e){let r=new URL(t,n);if(e)for(let[i,o]of Object.entries(e))o!==void 0&&r.searchParams.set(i,o);return r.toString()}function oz(n){return v(this,null,function*(){return!n||n.type==="none"?{}:n.type==="bearer"?{Authorization:`Bearer ${n.token}`}:n.type==="header"?{[n.name]:n.value}:n.type==="custom"?yield n.getHeaders():{}})}function sz(n){let t=n.fetchImpl??globalThis.fetch;return{request(l){return v(this,arguments,function*({method:r,path:i,query:o,body:s,headers:a}){let c=iz(n.baseUrl,i,o),u=yield oz(n.auth),d=yield t(c,{method:r,headers:O(O(O({},s?{"Content-Type":"application/json"}:{}),u),a),body:s?JSON.stringify(s):void 0}),f=yield d.text(),h=(d.headers.get("content-type")||"").includes("application/json"),p=h&&f?JSON.parse(f):f;if(!d.ok){let g=h?p:void 0,m=g?.error;throw new Ac(m?.message??`Request failed with status ${d.status}`,{status:d.status,icebergType:m?.type,icebergCode:m?.code,details:g})}return{status:d.status,headers:d.headers,data:p}})}}}function $f(n){return n.join("")}function Ia(n){return n.join("")}var Ac,az,lz,WT,qT=B(()=>{"use strict";Ac=class extends Error{constructor(n,t){super(n),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&t.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};az=class{constructor(n,t=""){this.client=n,this.prefix=t}listNamespaces(n){return v(this,null,function*(){let t=n?{parent:$f(n.namespace)}:void 0;return(yield this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(r=>({namespace:r}))})}createNamespace(n,t){return v(this,null,function*(){let e={namespace:n.namespace,properties:t?.properties};return(yield this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:e})).data})}dropNamespace(n){return v(this,null,function*(){yield this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${$f(n.namespace)}`})})}loadNamespaceMetadata(n){return v(this,null,function*(){return{properties:(yield this.client.request({method:"GET",path:`${this.prefix}/namespaces/${$f(n.namespace)}`})).data.properties}})}namespaceExists(n){return v(this,null,function*(){try{return yield this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${$f(n.namespace)}`}),!0}catch(t){if(t instanceof Ac&&t.status===404)return!1;throw t}})}createNamespaceIfNotExists(n,t){return v(this,null,function*(){try{return yield this.createNamespace(n,t)}catch(e){if(e instanceof Ac&&e.status===409)return;throw e}})}};lz=class{constructor(n,t="",e){this.client=n,this.prefix=t,this.accessDelegation=e}listTables(n){return v(this,null,function*(){return(yield this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ia(n.namespace)}/tables`})).data.identifiers})}createTable(n,t){return v(this,null,function*(){let e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(yield this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Ia(n.namespace)}/tables`,body:t,headers:e})).data.metadata})}updateTable(n,t){return v(this,null,function*(){let e=yield this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Ia(n.namespace)}/tables/${n.name}`,body:t});return{"metadata-location":e.data["metadata-location"],metadata:e.data.metadata}})}dropTable(n,t){return v(this,null,function*(){yield this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Ia(n.namespace)}/tables/${n.name}`,query:{purgeRequested:String(t?.purge??!1)}})})}loadTable(n){return v(this,null,function*(){let t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(yield this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ia(n.namespace)}/tables/${n.name}`,headers:t})).data.metadata})}tableExists(n){return v(this,null,function*(){let t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return yield this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Ia(n.namespace)}/tables/${n.name}`,headers:t}),!0}catch(e){if(e instanceof Ac&&e.status===404)return!1;throw e}})}createTableIfNotExists(n,t){return v(this,null,function*(){try{return yield this.createTable(n,t)}catch(e){if(e instanceof Ac&&e.status===409)return yield this.loadTable({namespace:n.namespace,name:t.name});throw e}})}},WT=class{constructor(n){let t="v1";n.catalogName&&(t+=`/${n.catalogName}`);let e=n.baseUrl.endsWith("/")?n.baseUrl:`${n.baseUrl}/`;this.client=sz({baseUrl:e,auth:n.auth,fetchImpl:n.fetch}),this.accessDelegation=n.accessDelegation?.join(","),this.namespaceOps=new az(this.client,t),this.tableOps=new lz(this.client,t,this.accessDelegation)}listNamespaces(n){return v(this,null,function*(){return this.namespaceOps.listNamespaces(n)})}createNamespace(n,t){return v(this,null,function*(){return this.namespaceOps.createNamespace(n,t)})}dropNamespace(n){return v(this,null,function*(){yield this.namespaceOps.dropNamespace(n)})}loadNamespaceMetadata(n){return v(this,null,function*(){return this.namespaceOps.loadNamespaceMetadata(n)})}listTables(n){return v(this,null,function*(){return this.tableOps.listTables(n)})}createTable(n,t){return v(this,null,function*(){return this.tableOps.createTable(n,t)})}updateTable(n,t){return v(this,null,function*(){return this.tableOps.updateTable(n,t)})}dropTable(n,t){return v(this,null,function*(){yield this.tableOps.dropTable(n,t)})}loadTable(n){return v(this,null,function*(){return this.tableOps.loadTable(n)})}namespaceExists(n){return v(this,null,function*(){return this.namespaceOps.namespaceExists(n)})}tableExists(n){return v(this,null,function*(){return this.tableOps.tableExists(n)})}createNamespaceIfNotExists(n,t){return v(this,null,function*(){return this.namespaceOps.createNamespaceIfNotExists(n,t)})}createTableIfNotExists(n,t){return v(this,null,function*(){return this.tableOps.createTableIfNotExists(n,t)})}}});var Ma,yb=B(()=>{"use strict";Ne();qT();vb();Pi();Ff();Ic();Ma=class{constructor(t,e={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Bf),e),this.fetch=xa(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return R(this,void 0,void 0,function*(){try{return{data:yield Yt(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(be(e))return{data:null,error:e};throw e}})}listBuckets(t){return R(this,void 0,void 0,function*(){try{let e=new URLSearchParams;t?.limit!==void 0&&e.set("limit",t.limit.toString()),t?.offset!==void 0&&e.set("offset",t.offset.toString()),t?.sortColumn&&e.set("sortColumn",t.sortColumn),t?.sortOrder&&e.set("sortOrder",t.sortOrder),t?.search&&e.set("search",t.search);let r=e.toString(),i=r?`${this.url}/bucket?${r}`:`${this.url}/bucket`;return{data:yield Ni(this.fetch,i,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(be(e))return{data:null,error:e};throw e}})}deleteBucket(t){return R(this,void 0,void 0,function*(){try{return{data:yield Sa(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(be(e))return{data:null,error:e};throw e}})}from(t){if(!FT(t))throw new Kr("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");let e=new WT({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:()=>R(this,void 0,void 0,function*(){return this.headers})},fetch:this.fetch}),r=this.shouldThrowOnError;return new Proxy(e,{get(o,s){let a=o[s];return typeof a!="function"?a:(...l)=>R(this,void 0,void 0,function*(){try{return{data:yield a.apply(o,l),error:null}}catch(c){if(r)throw c;return{data:null,error:c}}})}})}}});var Ta,Hf=B(()=>{"use strict";mb();Ta={"X-Client-Info":`storage-js/${Vf}`,"Content-Type":"application/json"}});function ft(n){return typeof n=="object"&&n!==null&&"__isStorageVectorsError"in n}var Aa,Fi,Oa,_b,Ra=B(()=>{"use strict";Aa=class extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};Fi=class extends Aa{constructor(t,e,r){super(t),this.name="StorageVectorsApiError",this.status=e,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Oa=class extends Aa{constructor(t,e){super(t),this.name="StorageVectorsUnknownError",this.originalError=e}},_b=function(n){return n.InternalError="InternalError",n.S3VectorConflictException="S3VectorConflictException",n.S3VectorNotFoundException="S3VectorNotFoundException",n.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",n.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",n.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded",n}(_b||{})});var Li,GT,zf,KT,YT,ka=B(()=>{"use strict";Li=n=>n?(...t)=>n(...t):(...t)=>fetch(...t),GT=()=>Response,zf=n=>{if(typeof n!="object"||n===null)return!1;let t=Object.getPrototypeOf(n);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},KT=n=>Array.from(new Float32Array(n)),YT=(n,t)=>{if(t!==void 0&&n.float32.length!==t)throw new Error(`Vector dimension mismatch: expected ${t}, got ${n.float32.length}`)}});function dz(n,t,e,r,i,o){return R(this,void 0,void 0,function*(){return new Promise((s,a)=>{n(e,uz(t,r,i,o)).then(l=>{if(!l.ok)throw l;if(r?.noResolveJson)return l;let c=l.headers.get("content-type");return!c||!c.includes("application/json")?{}:l.json()}).then(l=>s(l)).catch(l=>cz(l,a,r))})})}function St(n,t,e,r,i){return R(this,void 0,void 0,function*(){return dz(n,"POST",t,r,i,e)})}var ZT,cz,uz,Wf=B(()=>{"use strict";Ne();Ra();ka();ZT=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),cz=(n,t,e)=>R(void 0,void 0,void 0,function*(){if(n&&typeof n=="object"&&"status"in n&&"ok"in n&&typeof n.status=="number"&&!e?.noResolveJson){let i=n.status||500,o=n;if(typeof o.json=="function")o.json().then(s=>{let a=s?.statusCode||s?.code||i+"";t(new Fi(ZT(s),i,a))}).catch(()=>{let s=i+"",a=o.statusText||`HTTP ${i} error`;t(new Fi(a,i,s))});else{let s=i+"",a=o.statusText||`HTTP ${i} error`;t(new Fi(a,i,s))}}else t(new Oa(ZT(n),n))}),uz=(n,t,e,r)=>{let i={method:n,headers:t?.headers||{}};return n==="GET"||!r?i:(zf(r)?(i.headers=Object.assign({"Content-Type":"application/json"},t?.headers),i.body=JSON.stringify(r)):i.body=r,Object.assign(Object.assign({},i),e))}});var Pa,bb=B(()=>{"use strict";Ne();Hf();Ra();Wf();ka();Pa=class{constructor(t,e={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Ta),e),this.fetch=Li(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return R(this,void 0,void 0,function*(){try{return{data:(yield St(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ft(e))return{data:null,error:e};throw e}})}getIndex(t,e){return R(this,void 0,void 0,function*(){try{return{data:yield St(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ft(r))return{data:null,error:r};throw r}})}listIndexes(t){return R(this,void 0,void 0,function*(){try{return{data:yield St(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ft(e))return{data:null,error:e};throw e}})}deleteIndex(t,e){return R(this,void 0,void 0,function*(){try{return{data:(yield St(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ft(r))return{data:null,error:r};throw r}})}}});var Na,wb=B(()=>{"use strict";Ne();Hf();Ra();Wf();ka();Na=class{constructor(t,e={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Ta),e),this.fetch=Li(r)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return R(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield St(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ft(e))return{data:null,error:e};throw e}})}getVectors(t){return R(this,void 0,void 0,function*(){try{return{data:yield St(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ft(e))return{data:null,error:e};throw e}})}listVectors(t){return R(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield St(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ft(e))return{data:null,error:e};throw e}})}queryVectors(t){return R(this,void 0,void 0,function*(){try{return{data:yield St(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ft(e))return{data:null,error:e};throw e}})}deleteVectors(t){return R(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield St(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ft(e))return{data:null,error:e};throw e}})}}});var Fa,Eb=B(()=>{"use strict";Ne();Hf();Ra();Wf();ka();Fa=class{constructor(t,e={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Ta),e),this.fetch=Li(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return R(this,void 0,void 0,function*(){try{return{data:(yield St(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ft(e))return{data:null,error:e};throw e}})}getBucket(t){return R(this,void 0,void 0,function*(){try{return{data:yield St(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ft(e))return{data:null,error:e};throw e}})}listBuckets(){return R(this,arguments,void 0,function*(t={}){try{return{data:yield St(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ft(e))return{data:null,error:e};throw e}})}deleteBucket(t){return R(this,void 0,void 0,function*(){try{return{data:(yield St(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ft(e))return{data:null,error:e};throw e}})}}});var La,Oc,Rc,JT=B(()=>{"use strict";Ne();bb();wb();Eb();La=class extends Fa{constructor(t,e={}){super(t,e.headers||{},e.fetch)}from(t){return new Oc(this.url,this.headers,t,this.fetch)}createBucket(t){let e=Object.create(null,{createBucket:{get:()=>super.createBucket}});return R(this,void 0,void 0,function*(){return e.createBucket.call(this,t)})}getBucket(t){let e=Object.create(null,{getBucket:{get:()=>super.getBucket}});return R(this,void 0,void 0,function*(){return e.getBucket.call(this,t)})}listBuckets(){let t=Object.create(null,{listBuckets:{get:()=>super.listBuckets}});return R(this,arguments,void 0,function*(e={}){return t.listBuckets.call(this,e)})}deleteBucket(t){let e=Object.create(null,{deleteBucket:{get:()=>super.deleteBucket}});return R(this,void 0,void 0,function*(){return e.deleteBucket.call(this,t)})}},Oc=class extends Pa{constructor(t,e,r,i){super(t,e,i),this.vectorBucketName=r}createIndex(t){let e=Object.create(null,{createIndex:{get:()=>super.createIndex}});return R(this,void 0,void 0,function*(){return e.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){let t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return R(this,arguments,void 0,function*(e={}){return t.listIndexes.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){let e=Object.create(null,{getIndex:{get:()=>super.getIndex}});return R(this,void 0,void 0,function*(){return e.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){let e=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return R(this,void 0,void 0,function*(){return e.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new Rc(this.url,this.headers,this.vectorBucketName,t,this.fetch)}},Rc=class extends Na{constructor(t,e,r,i,o){super(t,e,o),this.vectorBucketName=r,this.indexName=i}putVectors(t){let e=Object.create(null,{putVectors:{get:()=>super.putVectors}});return R(this,void 0,void 0,function*(){return e.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){let e=Object.create(null,{getVectors:{get:()=>super.getVectors}});return R(this,void 0,void 0,function*(){return e.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){let t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return R(this,arguments,void 0,function*(e={}){return t.listVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){let e=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return R(this,void 0,void 0,function*(){return e.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){let e=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return R(this,void 0,void 0,function*(){return e.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}});var Cb=B(()=>{"use strict";JT();Eb();bb();wb();Ra();ka()});var qf,XT=B(()=>{"use strict";HT();zT();yb();Cb();qf=class extends Uf{constructor(t,e={},r,i){super(t,e,r,i)}from(t){return new jf(this.url,this.headers,t,this.fetch)}get vectors(){return new La(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Ma(this.url+"/iceberg",this.headers,this.fetch)}}});var QT=B(()=>{"use strict"});var eA={};sl(eA,{StorageAnalyticsClient:()=>Ma,StorageApiError:()=>Sc,StorageClient:()=>qf,StorageError:()=>Kr,StorageUnknownError:()=>ki,StorageVectorsApiError:()=>Fi,StorageVectorsClient:()=>La,StorageVectorsError:()=>Aa,StorageVectorsErrorCode:()=>_b,StorageVectorsUnknownError:()=>Oa,VectorBucketApi:()=>Fa,VectorBucketScope:()=>Oc,VectorDataApi:()=>Na,VectorIndexApi:()=>Pa,VectorIndexScope:()=>Rc,isPlainObject:()=>zf,isStorageError:()=>be,isStorageVectorsError:()=>ft,normalizeToFloat32:()=>KT,resolveFetch:()=>Li,resolveResponse:()=>GT,validateVectorDimension:()=>YT});var tA=B(()=>{"use strict";XT();yb();QT();Pi();Cb()});var nA=Rt(Gf=>{"use strict";Object.defineProperty(Gf,"__esModule",{value:!0});Gf.version=void 0;Gf.version="2.87.1"});var rA=Rt(dn=>{"use strict";Object.defineProperty(dn,"__esModule",{value:!0});dn.DEFAULT_REALTIME_OPTIONS=dn.DEFAULT_AUTH_OPTIONS=dn.DEFAULT_DB_OPTIONS=dn.DEFAULT_GLOBAL_OPTIONS=dn.DEFAULT_HEADERS=void 0;var hz=nA(),kc="";typeof Deno<"u"?kc="deno":typeof document<"u"?kc="web":typeof navigator<"u"&&navigator.product==="ReactNative"?kc="react-native":kc="node";dn.DEFAULT_HEADERS={"X-Client-Info":`supabase-js-${kc}/${hz.version}`};dn.DEFAULT_GLOBAL_OPTIONS={headers:dn.DEFAULT_HEADERS};dn.DEFAULT_DB_OPTIONS={schema:"public"};dn.DEFAULT_AUTH_OPTIONS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"};dn.DEFAULT_REALTIME_OPTIONS={}});var iA=Rt($n=>{"use strict";Object.defineProperty($n,"__esModule",{value:!0});$n.fetchWithAuth=$n.resolveHeadersConstructor=$n.resolveFetch=void 0;var fz=n=>n?(...t)=>n(...t):(...t)=>fetch(...t);$n.resolveFetch=fz;var pz=()=>Headers;$n.resolveHeadersConstructor=pz;var gz=(n,t,e)=>{let r=(0,$n.resolveFetch)(e),i=(0,$n.resolveHeadersConstructor)();return(o,s)=>v(null,null,function*(){var a;let l=(a=yield t())!==null&&a!==void 0?a:n,c=new i(s?.headers);return c.has("apikey")||c.set("apikey",n),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),r(o,Object.assign(Object.assign({},s),{headers:c}))})};$n.fetchWithAuth=gz});var sA=Rt(ji=>{"use strict";Object.defineProperty(ji,"__esModule",{value:!0});ji.isBrowser=void 0;ji.uuid=mz;ji.ensureTrailingSlash=oA;ji.applySettingDefaults=yz;ji.validateSupabaseUrl=_z;function mz(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){var t=Math.random()*16|0,e=n=="x"?t:t&3|8;return e.toString(16)})}function oA(n){return n.endsWith("/")?n:n+"/"}var vz=()=>typeof window<"u";ji.isBrowser=vz;function yz(n,t){var e,r;let{db:i,auth:o,realtime:s,global:a}=n,{db:l,auth:c,realtime:u,global:d}=t,f={db:Object.assign(Object.assign({},l),i),auth:Object.assign(Object.assign({},c),o),realtime:Object.assign(Object.assign({},u),s),storage:{},global:Object.assign(Object.assign(Object.assign({},d),a),{headers:Object.assign(Object.assign({},(e=d?.headers)!==null&&e!==void 0?e:{}),(r=a?.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>v(null,null,function*(){return""})};return n.accessToken?f.accessToken=n.accessToken:delete f.accessToken,f}function _z(n){let t=n?.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(oA(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}});var Kf,Db=B(()=>{"use strict";Kf="2.87.1"});var Go,Yf,Zf,aA,lA,cA,Pc,xb,uA,dA,Jf=B(()=>{"use strict";Db();Go=30*1e3,Yf=3,Zf=Yf*Go,aA="http://localhost:9999",lA="supabase.auth.token",cA={"X-Client-Info":`gotrue-js/${Kf}`},Pc="X-Supabase-Api-Version",xb={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},uA=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,dA=10*60*1e3});function j(n){return typeof n=="object"&&n!==null&&"__isAuthError"in n}function Sb(n){return j(n)&&n.name==="AuthApiError"}function Ib(n){return j(n)&&n.name==="AuthSessionMissingError"}function Mb(n){return j(n)&&n.name==="AuthImplicitGrantRedirectError"}function Fc(n){return j(n)&&n.name==="AuthRetryableFetchError"}function bz(n){return j(n)&&n.name==="AuthWeakPasswordError"}var Yr,Nc,hn,Hn,pt,gr,Vi,Bi,ja,Ko,Va,Ui,Yo=B(()=>{"use strict";Yr=class extends Error{constructor(t,e,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=e,this.code=r}};Nc=class extends Yr{constructor(t,e,r){super(t,e,r),this.name="AuthApiError",this.status=e,this.code=r}};hn=class extends Yr{constructor(t,e){super(t),this.name="AuthUnknownError",this.originalError=e}},Hn=class extends Yr{constructor(t,e,r,i){super(t,r,i),this.name=e,this.status=r}},pt=class extends Hn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};gr=class extends Hn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},Vi=class extends Hn{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}},Bi=class extends Hn{constructor(t,e=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=e}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};ja=class extends Hn{constructor(t,e=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=e}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},Ko=class extends Hn{constructor(t,e){super(t,"AuthRetryableFetchError",e,void 0)}};Va=class extends Hn{constructor(t,e,r){super(t,"AuthWeakPasswordError",e,"weak_password"),this.reasons=r}};Ui=class extends Hn{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}});function fA(n,t,e){if(n!==null)for(t.queue=t.queue<<8|n,t.queuedBits+=8;t.queuedBits>=6;){let r=t.queue>>t.queuedBits-6&63;e(Xf[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){let r=t.queue>>t.queuedBits-6&63;e(Xf[r]),t.queuedBits-=6}}function pA(n,t,e){let r=wz[n];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)e(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(n)}"`)}}function Tb(n){let t=[],e=s=>{t.push(String.fromCodePoint(s))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},o=s=>{Dz(s,r,e)};for(let s=0;s<n.length;s+=1)pA(n.charCodeAt(s),i,o);return t.join("")}function Ez(n,t){if(n<=127){t(n);return}else if(n<=2047){t(192|n>>6),t(128|n&63);return}else if(n<=65535){t(224|n>>12),t(128|n>>6&63),t(128|n&63);return}else if(n<=1114111){t(240|n>>18),t(128|n>>12&63),t(128|n>>6&63),t(128|n&63);return}throw new Error(`Unrecognized Unicode codepoint: ${n.toString(16)}`)}function Cz(n,t){for(let e=0;e<n.length;e+=1){let r=n.charCodeAt(e);if(r>55295&&r<=56319){let i=(r-55296)*1024&65535;r=(n.charCodeAt(e+1)-56320&65535|i)+65536,e+=1}Ez(r,t)}}function Dz(n,t,e){if(t.utf8seq===0){if(n<=127){e(n);return}for(let r=1;r<6;r+=1)if((n>>7-r&1)===0){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=n&31;else if(t.utf8seq===3)t.codepoint=n&15;else if(t.utf8seq===4)t.codepoint=n&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(n<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|n&63,t.utf8seq-=1,t.utf8seq===0&&e(t.codepoint)}}function $i(n){let t=[],e={queue:0,queuedBits:0},r=i=>{t.push(i)};for(let i=0;i<n.length;i+=1)pA(n.charCodeAt(i),e,r);return new Uint8Array(t)}function gA(n){let t=[];return Cz(n,e=>t.push(e)),new Uint8Array(t)}function Zr(n){let t=[],e={queue:0,queuedBits:0},r=i=>{t.push(i)};return n.forEach(i=>fA(i,e,r)),fA(null,e,r),t.join("")}var Xf,hA,wz,Qf=B(()=>{"use strict";Xf="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),hA=` 	
\r=`.split(""),wz=(()=>{let n=new Array(128);for(let t=0;t<n.length;t+=1)n[t]=-1;for(let t=0;t<hA.length;t+=1)n[hA[t].charCodeAt(0)]=-2;for(let t=0;t<Xf.length;t+=1)n[Xf[t].charCodeAt(0)]=t;return n})()});function mA(n){return Math.round(Date.now()/1e3)+n}function vA(){return Symbol("auth-callback")}function yA(n){let t={},e=new URL(n);if(e.hash&&e.hash[0]==="#")try{new URLSearchParams(e.hash.substring(1)).forEach((i,o)=>{t[o]=i})}catch{}return e.searchParams.forEach((r,i)=>{t[i]=r}),t}function np(n){let t=n.split(".");if(t.length!==3)throw new Ui("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!uA.test(t[r]))throw new Ui("JWT not in base64url format");return{header:JSON.parse(Tb(t[0])),payload:JSON.parse(Tb(t[1])),signature:$i(t[2]),raw:{header:t[0],payload:t[1]}}}function bA(n){return v(this,null,function*(){return yield new Promise(t=>{setTimeout(()=>t(null),n)})})}function wA(n,t){return new Promise((r,i)=>{v(null,null,function*(){for(let o=0;o<1/0;o++)try{let s=yield n(o);if(!t(o,null,s)){r(s);return}}catch(s){if(!t(o,s)){i(s);return}}})})}function xz(n){return("0"+n.toString(16)).substr(-2)}function Sz(){let t=new Uint32Array(56);if(typeof crypto>"u"){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=e.length,i="";for(let o=0;o<56;o++)i+=e.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(t),Array.from(t,xz).join("")}function Iz(n){return v(this,null,function*(){let e=new TextEncoder().encode(n),r=yield crypto.subtle.digest("SHA-256",e),i=new Uint8Array(r);return Array.from(i).map(o=>String.fromCharCode(o)).join("")})}function Mz(n){return v(this,null,function*(){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),n;let e=yield Iz(n);return btoa(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")})}function Xo(n,t,e=!1){return v(this,null,function*(){let r=Sz(),i=r;e&&(i+="/PASSWORD_RECOVERY"),yield Jo(n,`${t}-code-verifier`,i);let o=yield Mz(r);return[o,r===o?"plain":"s256"]})}function EA(n){let t=n.headers.get(Pc);if(!t||!t.match(Tz))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function CA(n){if(!n)throw new Error("Missing exp claim");let t=Math.floor(Date.now()/1e3);if(n<=t)throw new Error("JWT has expired")}function DA(n){switch(n){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}function Qo(n){if(!Az.test(n))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function rp(){let n={};return new Proxy(n,{get:(t,e)=>{if(e==="__isUserNotAvailableProxy")return!0;if(typeof e=="symbol"){let r=e.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${e}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,e)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${e}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,e)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${e}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function xA(n,t){return new Proxy(n,{get:(e,r,i)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){let o=r.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)"||o==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(e,r,i)}return!t.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(e,r,i)}})}function Ab(n){return JSON.parse(JSON.stringify(n))}var ut,Zo,ep,tp,_A,Jo,Hi,gt,Lc,Tz,Az,Ba=B(()=>{"use strict";Jf();Yo();Qf();ut=()=>typeof window<"u"&&typeof document<"u",Zo={tested:!1,writable:!1},ep=()=>{if(!ut())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Zo.tested)return Zo.writable;let n=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(n,n),globalThis.localStorage.removeItem(n),Zo.tested=!0,Zo.writable=!0}catch{Zo.tested=!0,Zo.writable=!1}return Zo.writable};tp=n=>n?(...t)=>n(...t):(...t)=>fetch(...t),_A=n=>typeof n=="object"&&n!==null&&"status"in n&&"ok"in n&&"json"in n&&typeof n.json=="function",Jo=(n,t,e)=>v(null,null,function*(){yield n.setItem(t,JSON.stringify(e))}),Hi=(n,t)=>v(null,null,function*(){let e=yield n.getItem(t);if(!e)return null;try{return JSON.parse(e)}catch{return e}}),gt=(n,t)=>v(null,null,function*(){yield n.removeItem(t)}),Lc=class n{constructor(){this.promise=new n.promiseConstructor((t,e)=>{this.resolve=t,this.reject=e})}};Lc.promiseConstructor=Promise;Tz=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;Az=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/});function SA(n){return v(this,null,function*(){var t;if(!_A(n))throw new Ko(es(n),0);if(Oz.includes(n.status))throw new Ko(es(n),n.status);let e;try{e=yield n.json()}catch(o){throw new hn(es(o),o)}let r,i=EA(n);if(i&&i.getTime()>=xb["2024-01-01"].timestamp&&typeof e=="object"&&e&&typeof e.code=="string"?r=e.code:typeof e=="object"&&e&&typeof e.error_code=="string"&&(r=e.error_code),r){if(r==="weak_password")throw new Va(es(e),n.status,((t=e.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new pt}else if(typeof e=="object"&&e&&typeof e.weak_password=="object"&&e.weak_password&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.reasons.reduce((o,s)=>o&&typeof s=="string",!0))throw new Va(es(e),n.status,e.weak_password.reasons);throw new Nc(es(e),n.status||500,r)})}function z(n,t,e,r){return v(this,null,function*(){var i;let o=Object.assign({},r?.headers);o[Pc]||(o[Pc]=xb["2024-01-01"].name),r?.jwt&&(o.Authorization=`Bearer ${r.jwt}`);let s=(i=r?.query)!==null&&i!==void 0?i:{};r?.redirectTo&&(s.redirect_to=r.redirectTo);let a=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",l=yield kz(n,t,e+a,{headers:o,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(l):{data:Object.assign({},l),error:null}})}function kz(n,t,e,r,i,o){return v(this,null,function*(){let s=Rz(t,r,i,o),a;try{a=yield n(e,Object.assign({},s))}catch(l){throw console.error(l),new Ko(es(l),0)}if(a.ok||(yield SA(a)),r?.noResolveJson)return a;try{return yield a.json()}catch(l){yield SA(l)}})}function bn(n){var t;let e=null;Pz(n)&&(e=Object.assign({},n),n.expires_at||(e.expires_at=mA(n.expires_in)));let r=(t=n.user)!==null&&t!==void 0?t:n;return{data:{session:e,user:r},error:null}}function Ob(n){let t=bn(n);return!t.error&&n.weak_password&&typeof n.weak_password=="object"&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.message&&typeof n.weak_password.message=="string"&&n.weak_password.reasons.reduce((e,r)=>e&&typeof r=="string",!0)&&(t.data.weak_password=n.weak_password),t}function mr(n){var t;return{data:{user:(t=n.user)!==null&&t!==void 0?t:n},error:null}}function IA(n){return{data:n,error:null}}function MA(n){let{action_link:t,email_otp:e,hashed_token:r,redirect_to:i,verification_type:o}=n,s=xr(n,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:e,hashed_token:r,redirect_to:i,verification_type:o},l=Object.assign({},s);return{data:{properties:a,user:l},error:null}}function Rb(n){return n}function Pz(n){return n.access_token&&n.refresh_token&&n.expires_in}var es,Oz,Rz,kb=B(()=>{"use strict";Ne();Jf();Ba();Yo();es=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),Oz=[502,503,504];Rz=(n,t,e,r)=>{let i={method:n,headers:t?.headers||{}};return n==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),e))}});var jc,Pb=B(()=>{"use strict";jc=["global","local","others"]});var zi,ip=B(()=>{"use strict";Ne();kb();Ba();Pb();Yo();zi=class{constructor({url:t="",headers:e={},fetch:r}){this.url=t,this.headers=e,this.fetch=tp(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}signOut(r){return v(this,arguments,function*(t,e=jc[0]){if(jc.indexOf(e)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${jc.join(", ")}`);try{return yield z(this.fetch,"POST",`${this.url}/logout?scope=${e}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(i){if(j(i))return{data:null,error:i};throw i}})}inviteUserByEmail(r){return v(this,arguments,function*(t,e={}){try{return yield z(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:e.data},headers:this.headers,redirectTo:e.redirectTo,xform:mr})}catch(i){if(j(i))return{data:{user:null},error:i};throw i}})}generateLink(t){return v(this,null,function*(){try{let{options:e}=t,r=xr(t,["options"]),i=Object.assign(Object.assign({},r),e);return"newEmail"in r&&(i.new_email=r?.newEmail,delete i.newEmail),yield z(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:MA,redirectTo:e?.redirectTo})}catch(e){if(j(e))return{data:{properties:null,user:null},error:e};throw e}})}createUser(t){return v(this,null,function*(){try{return yield z(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:mr})}catch(e){if(j(e))return{data:{user:null},error:e};throw e}})}listUsers(t){return v(this,null,function*(){var e,r,i,o,s,a,l;try{let c={nextPage:null,lastPage:0,total:0},u=yield z(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(e=t?.page)===null||e===void 0?void 0:e.toString())!==null&&r!==void 0?r:"",per_page:(o=(i=t?.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:Rb});if(u.error)throw u.error;let d=yield u.json(),f=(s=u.headers.get("x-total-count"))!==null&&s!==void 0?s:0,h=(l=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return h.length>0&&(h.forEach(p=>{let g=parseInt(p.split(";")[0].split("=")[1].substring(0,1)),m=JSON.parse(p.split(";")[1].split("=")[1]);c[`${m}Page`]=g}),c.total=parseInt(f)),{data:Object.assign(Object.assign({},d),c),error:null}}catch(c){if(j(c))return{data:{users:[]},error:c};throw c}})}getUserById(t){return v(this,null,function*(){Qo(t);try{return yield z(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:mr})}catch(e){if(j(e))return{data:{user:null},error:e};throw e}})}updateUserById(t,e){return v(this,null,function*(){Qo(t);try{return yield z(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:e,headers:this.headers,xform:mr})}catch(r){if(j(r))return{data:{user:null},error:r};throw r}})}deleteUser(t,e=!1){return v(this,null,function*(){Qo(t);try{return yield z(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:e},xform:mr})}catch(r){if(j(r))return{data:{user:null},error:r};throw r}})}_listFactors(t){return v(this,null,function*(){Qo(t.userId);try{let{data:e,error:r}=yield z(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:e,error:r}}catch(e){if(j(e))return{data:null,error:e};throw e}})}_deleteFactor(t){return v(this,null,function*(){Qo(t.userId),Qo(t.id);try{return{data:yield z(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(e){if(j(e))return{data:null,error:e};throw e}})}_listOAuthClients(t){return v(this,null,function*(){var e,r,i,o,s,a,l;try{let c={nextPage:null,lastPage:0,total:0},u=yield z(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(e=t?.page)===null||e===void 0?void 0:e.toString())!==null&&r!==void 0?r:"",per_page:(o=(i=t?.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:Rb});if(u.error)throw u.error;let d=yield u.json(),f=(s=u.headers.get("x-total-count"))!==null&&s!==void 0?s:0,h=(l=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return h.length>0&&(h.forEach(p=>{let g=parseInt(p.split(";")[0].split("=")[1].substring(0,1)),m=JSON.parse(p.split(";")[1].split("=")[1]);c[`${m}Page`]=g}),c.total=parseInt(f)),{data:Object.assign(Object.assign({},d),c),error:null}}catch(c){if(j(c))return{data:{clients:[]},error:c};throw c}})}_createOAuthClient(t){return v(this,null,function*(){try{return yield z(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:e=>({data:e,error:null})})}catch(e){if(j(e))return{data:null,error:e};throw e}})}_getOAuthClient(t){return v(this,null,function*(){try{return yield z(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:e=>({data:e,error:null})})}catch(e){if(j(e))return{data:null,error:e};throw e}})}_updateOAuthClient(t,e){return v(this,null,function*(){try{return yield z(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(j(r))return{data:null,error:r};throw r}})}_deleteOAuthClient(t){return v(this,null,function*(){try{return yield z(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(e){if(j(e))return{data:null,error:e};throw e}})}_regenerateOAuthClientSecret(t){return v(this,null,function*(){try{return yield z(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:e=>({data:e,error:null})})}catch(e){if(j(e))return{data:null,error:e};throw e}})}}});function Nb(n={}){return{getItem:t=>n[t]||null,setItem:(t,e)=>{n[t]=e},removeItem:t=>{delete n[t]}}}var TA=B(()=>{"use strict"});function op(n,t,e){return v(this,null,function*(){Wi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",n,t);let r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),Wi.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",n)},t),yield Promise.resolve().then(()=>globalThis.navigator.locks.request(n,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},i=>v(null,null,function*(){if(i){Wi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",n,i.name);try{return yield e()}finally{Wi.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",n,i.name)}}else{if(t===0)throw Wi.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",n),new Vc(`Acquiring an exclusive Navigator LockManager lock "${n}" immediately failed`);if(Wi.debug)try{let o=yield globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),yield e()}})))})}function OA(n,t,e){return v(this,null,function*(){var r;let i=(r=AA[n])!==null&&r!==void 0?r:Promise.resolve(),o=Promise.race([i.catch(()=>null),t>=0?new Promise((s,a)=>{setTimeout(()=>{a(new Fb(`Acquring process lock with name "${n}" timed out`))},t)}):null].filter(s=>s)).catch(s=>{if(s&&s.isAcquireTimeout)throw s;return null}).then(()=>v(null,null,function*(){return yield e()}));return AA[n]=o.catch(s=>v(null,null,function*(){if(s&&s.isAcquireTimeout)return yield i,null;throw s})),yield o})}var Wi,Ua,Vc,Fb,AA,Lb=B(()=>{"use strict";Ba();Wi={debug:!!(globalThis&&ep()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")},Ua=class extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}},Vc=class extends Ua{},Fb=class extends Ua{};AA={}});function RA(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}var kA=B(()=>{"use strict"});function jb(n){if(!/^0x[a-fA-F0-9]{40}$/.test(n))throw new Error(`@supabase/auth-js: Address "${n}" is invalid.`);return n.toLowerCase()}function PA(n){return parseInt(n,16)}function NA(n){let t=new TextEncoder().encode(n);return"0x"+Array.from(t,r=>r.toString(16).padStart(2,"0")).join("")}function FA(n){var t;let{chainId:e,domain:r,expirationTime:i,issuedAt:o=new Date,nonce:s,notBefore:a,requestId:l,resources:c,scheme:u,uri:d,version:f}=n;{if(!Number.isInteger(e))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${e}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(s&&s.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${s}`);if(!d)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(f!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${f}`);if(!((t=n.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${n.statement}`)}let h=jb(n.address),p=u?`${u}://${r}`:r,g=n.statement?`${n.statement}
`:"",m=`${p} wants you to sign in with your Ethereum account:
${h}

${g}`,y=`URI: ${d}
Version: ${f}
Chain ID: ${e}${s?`
Nonce: ${s}`:""}
Issued At: ${o.toISOString()}`;if(i&&(y+=`
Expiration Time: ${i.toISOString()}`),a&&(y+=`
Not Before: ${a.toISOString()}`),l&&(y+=`
Request ID: ${l}`),c){let b=`
Resources:`;for(let w of c){if(!w||typeof w!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${w}`);b+=`
- ${w}`}y+=b}return`${m}
${y}`}var LA=B(()=>{"use strict"});function jA({error:n,options:t}){var e,r,i;let{publicKey:o}=t;if(!o)throw Error("options was missing required publicKey property");if(n.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Be({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:n})}else if(n.name==="ConstraintError"){if(((e=o.authenticatorSelection)===null||e===void 0?void 0:e.requireResidentKey)===!0)return new Be({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:n});if(t.mediation==="conditional"&&((r=o.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new Be({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:n});if(((i=o.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new Be({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:n})}else{if(n.name==="InvalidStateError")return new Be({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:n});if(n.name==="NotAllowedError")return new Be({message:n.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n});if(n.name==="NotSupportedError")return o.pubKeyCredParams.filter(a=>a.type==="public-key").length===0?new Be({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:n}):new Be({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:n});if(n.name==="SecurityError"){let s=window.location.hostname;if(Vb(s)){if(o.rp.id!==s)return new Be({message:`The RP ID "${o.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:n})}else return new Be({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:n})}else if(n.name==="TypeError"){if(o.user.id.byteLength<1||o.user.id.byteLength>64)return new Be({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:n})}else if(n.name==="UnknownError")return new Be({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:n})}return new Be({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n})}function VA({error:n,options:t}){let{publicKey:e}=t;if(!e)throw Error("options was missing required publicKey property");if(n.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Be({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:n})}else{if(n.name==="NotAllowedError")return new Be({message:n.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n});if(n.name==="SecurityError"){let r=window.location.hostname;if(Vb(r)){if(e.rpId!==r)return new Be({message:`The RP ID "${e.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:n})}else return new Be({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:n})}else if(n.name==="UnknownError")return new Be({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:n})}return new Be({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n})}var Be,ts,BA=B(()=>{"use strict";Bb();Be=class extends Error{constructor({message:t,code:e,cause:r,name:i}){var o;super(t,{cause:r}),this.__isWebAuthnError=!0,this.name=(o=i??(r instanceof Error?r.name:void 0))!==null&&o!==void 0?o:"Unknown Error",this.code=e}},ts=class extends Be{constructor(t,e){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e,message:t}),this.name="WebAuthnUnknownError",this.originalError=e}}});function $A(n){if(!n)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(n);let{challenge:t,user:e,excludeCredentials:r}=n,i=xr(n,["challenge","user","excludeCredentials"]),o=$i(t).buffer,s=Object.assign(Object.assign({},e),{id:$i(e.id).buffer}),a=Object.assign(Object.assign({},i),{challenge:o,user:s});if(r&&r.length>0){a.excludeCredentials=new Array(r.length);for(let l=0;l<r.length;l++){let c=r[l];a.excludeCredentials[l]=Object.assign(Object.assign({},c),{id:$i(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return a}function HA(n){if(!n)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(n);let{challenge:t,allowCredentials:e}=n,r=xr(n,["challenge","allowCredentials"]),i=$i(t).buffer,o=Object.assign(Object.assign({},r),{challenge:i});if(e&&e.length>0){o.allowCredentials=new Array(e.length);for(let s=0;s<e.length;s++){let a=e[s];o.allowCredentials[s]=Object.assign(Object.assign({},a),{id:$i(a.id).buffer,type:a.type||"public-key",transports:a.transports})}}return o}function zA(n){var t;if("toJSON"in n&&typeof n.toJSON=="function")return n.toJSON();let e=n;return{id:n.id,rawId:n.id,response:{attestationObject:Zr(new Uint8Array(n.response.attestationObject)),clientDataJSON:Zr(new Uint8Array(n.response.clientDataJSON))},type:"public-key",clientExtensionResults:n.getClientExtensionResults(),authenticatorAttachment:(t=e.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function WA(n){var t;if("toJSON"in n&&typeof n.toJSON=="function")return n.toJSON();let e=n,r=n.getClientExtensionResults(),i=n.response;return{id:n.id,rawId:n.id,response:{authenticatorData:Zr(new Uint8Array(i.authenticatorData)),clientDataJSON:Zr(new Uint8Array(i.clientDataJSON)),signature:Zr(new Uint8Array(i.signature)),userHandle:i.userHandle?Zr(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(t=e.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function Vb(n){return n==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(n)}function UA(){var n,t;return!!(ut()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((n=navigator?.credentials)===null||n===void 0?void 0:n.create)=="function"&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.get)=="function")}function Fz(n){return v(this,null,function*(){try{let t=yield navigator.credentials.create(n);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new ts("Browser returned unexpected credential type",t)}:{data:null,error:new ts("Empty credential response",t)}}catch(t){return{data:null,error:jA({error:t,options:n})}}})}function Lz(n){return v(this,null,function*(){try{let t=yield navigator.credentials.get(n);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new ts("Browser returned unexpected credential type",t)}:{data:null,error:new ts("Empty credential response",t)}}catch(t){return{data:null,error:VA({error:t,options:n})}}})}function sp(...n){let t=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),e=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),r={};for(let i of n)if(i)for(let o in i){let s=i[o];if(s!==void 0)if(Array.isArray(s))r[o]=s;else if(e(s))r[o]=s;else if(t(s)){let a=r[o];t(a)?r[o]=sp(a,s):r[o]=sp(s)}else r[o]=s}return r}function Bz(n,t){return sp(jz,n,t||{})}function Uz(n,t){return sp(Vz,n,t||{})}var Ub,Nz,jz,Vz,ap,Bb=B(()=>{"use strict";Ne();Qf();Yo();Ba();BA();Ub=class{createNewAbortSignal(){if(this.controller){let e=new Error("Cancelling existing WebAuthn API call for new one");e.name="AbortError",this.controller.abort(e)}let t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){let t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}},Nz=new Ub;jz={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},Vz={userVerification:"preferred",hints:["security-key"],attestation:"direct"};ap=class{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}_enroll(t){return v(this,null,function*(){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))})}_challenge(s,a){return v(this,arguments,function*({factorId:t,webauthn:e,friendlyName:r,signal:i},o){try{let{data:l,error:c}=yield this.client.mfa.challenge({factorId:t,webauthn:e});if(!l)return{data:null,error:c};let u=i??Nz.createNewAbortSignal();if(l.webauthn.type==="create"){let{user:d}=l.webauthn.credential_options.publicKey;d.name||(d.name=`${d.id}:${r}`),d.displayName||(d.displayName=d.name)}switch(l.webauthn.type){case"create":{let d=Bz(l.webauthn.credential_options.publicKey,o?.create),{data:f,error:h}=yield Fz({publicKey:d,signal:u});return f?{data:{factorId:t,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:f}},error:null}:{data:null,error:h}}case"request":{let d=Uz(l.webauthn.credential_options.publicKey,o?.request),{data:f,error:h}=yield Lz(Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:d,signal:u}));return f?{data:{factorId:t,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:f}},error:null}:{data:null,error:h}}}}catch(l){return j(l)?{data:null,error:l}:{data:null,error:new hn("Unexpected error in challenge",l)}}})}_verify(i){return v(this,arguments,function*({challengeId:t,factorId:e,webauthn:r}){return this.client.mfa.verify({factorId:e,challengeId:t,webauthn:r})})}_authenticate(s,a){return v(this,arguments,function*({factorId:t,webauthn:{rpId:e=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},o){if(!e)return{data:null,error:new Yr("rpId is required for WebAuthn authentication")};try{if(!UA())return{data:null,error:new hn("Browser does not support WebAuthn",null)};let{data:l,error:c}=yield this.challenge({factorId:t,webauthn:{rpId:e,rpOrigins:r},signal:i},{request:o});if(!l)return{data:null,error:c};let{webauthn:u}=l;return this._verify({factorId:t,challengeId:l.challengeId,webauthn:{type:u.type,rpId:e,rpOrigins:r,credential_response:u.credential_response}})}catch(l){return j(l)?{data:null,error:l}:{data:null,error:new hn("Unexpected error in authenticate",l)}}})}_register(s,a){return v(this,arguments,function*({friendlyName:t,webauthn:{rpId:e=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},o){if(!e)return{data:null,error:new Yr("rpId is required for WebAuthn registration")};try{if(!UA())return{data:null,error:new hn("Browser does not support WebAuthn",null)};let{data:l,error:c}=yield this._enroll({friendlyName:t});if(!l)return yield this.client.mfa.listFactors().then(f=>{var h;return(h=f.data)===null||h===void 0?void 0:h.all.find(p=>p.factor_type==="webauthn"&&p.friendly_name===t&&p.status!=="unverified")}).then(f=>f?this.client.mfa.unenroll({factorId:f?.id}):void 0),{data:null,error:c};let{data:u,error:d}=yield this._challenge({factorId:l.id,friendlyName:l.friendly_name,webauthn:{rpId:e,rpOrigins:r},signal:i},{create:o});return u?this._verify({factorId:l.id,challengeId:u.challengeId,webauthn:{rpId:e,rpOrigins:r,type:u.webauthn.type,credential_response:u.webauthn.credential_response}}):{data:null,error:d}}catch(l){return j(l)?{data:null,error:l}:{data:null,error:new hn("Unexpected error in register",l)}}})}}});function qA(n,t,e){return v(this,null,function*(){return yield e()})}var $z,$a,Hz,lp,$b=B(()=>{"use strict";ip();Jf();Yo();kb();Ba();TA();Lb();kA();Db();Qf();LA();Bb();RA();$z={url:aA,storageKey:lA,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:cA,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};$a={},Hz=(()=>{class n{get jwks(){var e,r;return(r=(e=$a[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){$a[this.storageKey]=Object.assign(Object.assign({},$a[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=$a[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){$a[this.storageKey]=Object.assign(Object.assign({},$a[this.storageKey]),{cachedAt:e})}constructor(e){var r,i,o;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;let s=Object.assign(Object.assign({},$z),e);if(this.storageKey=s.storageKey,this.instanceID=(r=n.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,n.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.instanceID>0&&ut()){let a=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(a),this.logDebugMessages&&console.trace(a)}if(this.persistSession=s.persistSession,this.autoRefreshToken=s.autoRefreshToken,this.admin=new zi({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=tp(s.fetch),this.lock=s.lock||qA,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,this.throwOnError=s.throwOnError,s.lock?this.lock=s.lock:this.persistSession&&ut()&&(!((i=globalThis?.navigator)===null||i===void 0)&&i.locks)?this.lock=op:this.lock=qA,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new ap(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:ep()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Nb(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=Nb(this.memoryStorage)),ut()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(o=this.broadcastChannel)===null||o===void 0||o.addEventListener("message",a=>v(this,null,function*(){this._debug("received broadcast notification from other tab or client",a),yield this._notifyAllSubscribers(a.data.event,a.data.session,!1)}))}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Kf}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}initialize(){return v(this,null,function*(){return this.initializePromise?yield this.initializePromise:(this.initializePromise=v(this,null,function*(){return yield this._acquireLock(-1,()=>v(this,null,function*(){return yield this._initialize()}))}),yield this.initializePromise)})}_initialize(){return v(this,null,function*(){var e;try{let r={},i="none";if(ut()&&(r=yA(window.location.href),this._isImplicitGrantCallback(r)?i="implicit":(yield this._isPKCECallback(r))&&(i="pkce")),ut()&&this.detectSessionInUrl&&i!=="none"){let{data:o,error:s}=yield this._getSessionFromURL(r,i);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),Mb(s)){let c=(e=s.details)===null||e===void 0?void 0:e.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:s}}return yield this._removeSession(),{error:s}}let{session:a,redirectType:l}=o;return this._debug("#_initialize()","detected session in URL",a,"redirect type",l),yield this._saveSession(a),setTimeout(()=>v(this,null,function*(){l==="recovery"?yield this._notifyAllSubscribers("PASSWORD_RECOVERY",a):yield this._notifyAllSubscribers("SIGNED_IN",a)}),0),{error:null}}return yield this._recoverAndRefresh(),{error:null}}catch(r){return j(r)?this._returnResult({error:r}):this._returnResult({error:new hn("Unexpected error during initialization",r)})}finally{yield this._handleVisibilityChange(),this._debug("#_initialize()","end")}})}signInAnonymously(e){return v(this,null,function*(){var r,i,o;try{let s=yield z(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(r=e?.options)===null||r===void 0?void 0:r.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(o=e?.options)===null||o===void 0?void 0:o.captchaToken}},xform:bn}),{data:a,error:l}=s;if(l||!a)return this._returnResult({data:{user:null,session:null},error:l});let c=a.session,u=a.user;return a.session&&(yield this._saveSession(a.session),yield this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(s){if(j(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}signUp(e){return v(this,null,function*(){var r,i,o;try{let s;if("email"in e){let{email:d,password:f,options:h}=e,p=null,g=null;this.flowType==="pkce"&&([p,g]=yield Xo(this.storage,this.storageKey)),s=yield z(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h?.emailRedirectTo,body:{email:d,password:f,data:(r=h?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h?.captchaToken},code_challenge:p,code_challenge_method:g},xform:bn})}else if("phone"in e){let{phone:d,password:f,options:h}=e;s=yield z(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(i=h?.data)!==null&&i!==void 0?i:{},channel:(o=h?.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:h?.captchaToken}},xform:bn})}else throw new Vi("You must provide either an email or phone number and a password");let{data:a,error:l}=s;if(l||!a)return yield gt(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:l});let c=a.session,u=a.user;return a.session&&(yield this._saveSession(a.session),yield this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(s){if(yield gt(this.storage,`${this.storageKey}-code-verifier`),j(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}signInWithPassword(e){return v(this,null,function*(){try{let r;if("email"in e){let{email:s,password:a,options:l}=e;r=yield z(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:a,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:Ob})}else if("phone"in e){let{phone:s,password:a,options:l}=e;r=yield z(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:a,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:Ob})}else throw new Vi("You must provide either an email or phone number and a password");let{data:i,error:o}=r;if(o)return this._returnResult({data:{user:null,session:null},error:o});if(!i||!i.session||!i.user){let s=new gr;return this._returnResult({data:{user:null,session:null},error:s})}return i.session&&(yield this._saveSession(i.session),yield this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:o})}catch(r){if(j(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}})}signInWithOAuth(e){return v(this,null,function*(){var r,i,o,s;return yield this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(i=e.options)===null||i===void 0?void 0:i.scopes,queryParams:(o=e.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(s=e.options)===null||s===void 0?void 0:s.skipBrowserRedirect})})}exchangeCodeForSession(e){return v(this,null,function*(){return yield this.initializePromise,this._acquireLock(-1,()=>v(this,null,function*(){return this._exchangeCodeForSession(e)}))})}signInWithWeb3(e){return v(this,null,function*(){let{chain:r}=e;switch(r){case"ethereum":return yield this.signInWithEthereum(e);case"solana":return yield this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}})}signInWithEthereum(e){return v(this,null,function*(){var r,i,o,s,a,l,c,u,d,f,h;let p,g;if("message"in e)p=e.message,g=e.signature;else{let{chain:m,wallet:y,statement:b,options:w}=e,C;if(ut())if(typeof y=="object")C=y;else{let W=window;if("ethereum"in W&&typeof W.ethereum=="object"&&"request"in W.ethereum&&typeof W.ethereum.request=="function")C=W.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!w?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");C=y}let x=new URL((r=w?.url)!==null&&r!==void 0?r:window.location.href),I=yield C.request({method:"eth_requestAccounts"}).then(W=>W).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!I||I.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");let A=jb(I[0]),T=(i=w?.signInWithEthereum)===null||i===void 0?void 0:i.chainId;if(!T){let W=yield C.request({method:"eth_chainId"});T=PA(W)}let N={domain:x.host,address:A,statement:b,uri:x.href,version:"1",chainId:T,nonce:(o=w?.signInWithEthereum)===null||o===void 0?void 0:o.nonce,issuedAt:(a=(s=w?.signInWithEthereum)===null||s===void 0?void 0:s.issuedAt)!==null&&a!==void 0?a:new Date,expirationTime:(l=w?.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(c=w?.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(u=w?.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=w?.signInWithEthereum)===null||d===void 0?void 0:d.resources};p=FA(N),g=yield C.request({method:"personal_sign",params:[NA(p),A]})}try{let{data:m,error:y}=yield z(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:p,signature:g},!((f=e.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(h=e.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:bn});if(y)throw y;if(!m||!m.session||!m.user){let b=new gr;return this._returnResult({data:{user:null,session:null},error:b})}return m.session&&(yield this._saveSession(m.session),yield this._notifyAllSubscribers("SIGNED_IN",m.session)),this._returnResult({data:Object.assign({},m),error:y})}catch(m){if(j(m))return this._returnResult({data:{user:null,session:null},error:m});throw m}})}signInWithSolana(e){return v(this,null,function*(){var r,i,o,s,a,l,c,u,d,f,h,p;let g,m;if("message"in e)g=e.message,m=e.signature;else{let{chain:y,wallet:b,statement:w,options:C}=e,x;if(ut())if(typeof b=="object")x=b;else{let A=window;if("solana"in A&&typeof A.solana=="object"&&("signIn"in A.solana&&typeof A.solana.signIn=="function"||"signMessage"in A.solana&&typeof A.solana.signMessage=="function"))x=A.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!C?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");x=b}let I=new URL((r=C?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in x&&x.signIn){let A=yield x.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},C?.signInWithSolana),{version:"1",domain:I.host,uri:I.href}),w?{statement:w}:null)),T;if(Array.isArray(A)&&A[0]&&typeof A[0]=="object")T=A[0];else if(A&&typeof A=="object"&&"signedMessage"in A&&"signature"in A)T=A;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in T&&"signature"in T&&(typeof T.signedMessage=="string"||T.signedMessage instanceof Uint8Array)&&T.signature instanceof Uint8Array)g=typeof T.signedMessage=="string"?T.signedMessage:new TextDecoder().decode(T.signedMessage),m=T.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in x)||typeof x.signMessage!="function"||!("publicKey"in x)||typeof x!="object"||!x.publicKey||!("toBase58"in x.publicKey)||typeof x.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");g=[`${I.host} wants you to sign in with your Solana account:`,x.publicKey.toBase58(),...w?["",w,""]:[""],"Version: 1",`URI: ${I.href}`,`Issued At: ${(o=(i=C?.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((s=C?.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${C.signInWithSolana.notBefore}`]:[],...!((a=C?.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${C.signInWithSolana.expirationTime}`]:[],...!((l=C?.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${C.signInWithSolana.chainId}`]:[],...!((c=C?.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${C.signInWithSolana.nonce}`]:[],...!((u=C?.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${C.signInWithSolana.requestId}`]:[],...!((f=(d=C?.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...C.signInWithSolana.resources.map(T=>`- ${T}`)]:[]].join(`
`);let A=yield x.signMessage(new TextEncoder().encode(g),"utf8");if(!A||!(A instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");m=A}}try{let{data:y,error:b}=yield z(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:g,signature:Zr(m)},!((h=e.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(p=e.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:bn});if(b)throw b;if(!y||!y.session||!y.user){let w=new gr;return this._returnResult({data:{user:null,session:null},error:w})}return y.session&&(yield this._saveSession(y.session),yield this._notifyAllSubscribers("SIGNED_IN",y.session)),this._returnResult({data:Object.assign({},y),error:b})}catch(y){if(j(y))return this._returnResult({data:{user:null,session:null},error:y});throw y}})}_exchangeCodeForSession(e){return v(this,null,function*(){let r=yield Hi(this.storage,`${this.storageKey}-code-verifier`),[i,o]=(r??"").split("/");try{let{data:s,error:a}=yield z(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:i},xform:bn});if(yield gt(this.storage,`${this.storageKey}-code-verifier`),a)throw a;if(!s||!s.session||!s.user){let l=new gr;return this._returnResult({data:{user:null,session:null,redirectType:null},error:l})}return s.session&&(yield this._saveSession(s.session),yield this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign(Object.assign({},s),{redirectType:o??null}),error:a})}catch(s){if(yield gt(this.storage,`${this.storageKey}-code-verifier`),j(s))return this._returnResult({data:{user:null,session:null,redirectType:null},error:s});throw s}})}signInWithIdToken(e){return v(this,null,function*(){try{let{options:r,provider:i,token:o,access_token:s,nonce:a}=e,l=yield z(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:o,access_token:s,nonce:a,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:bn}),{data:c,error:u}=l;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!c||!c.session||!c.user){let d=new gr;return this._returnResult({data:{user:null,session:null},error:d})}return c.session&&(yield this._saveSession(c.session),yield this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:c,error:u})}catch(r){if(j(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}})}signInWithOtp(e){return v(this,null,function*(){var r,i,o,s,a;try{if("email"in e){let{email:l,options:c}=e,u=null,d=null;this.flowType==="pkce"&&([u,d]=yield Xo(this.storage,this.storageKey));let{error:f}=yield z(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c?.data)!==null&&r!==void 0?r:{},create_user:(i=c?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c?.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}if("phone"in e){let{phone:l,options:c}=e,{data:u,error:d}=yield z(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(o=c?.data)!==null&&o!==void 0?o:{},create_user:(s=c?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:c?.captchaToken},channel:(a=c?.channel)!==null&&a!==void 0?a:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u?.message_id},error:d})}throw new Vi("You must provide either an email or phone number.")}catch(l){if(yield gt(this.storage,`${this.storageKey}-code-verifier`),j(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}})}verifyOtp(e){return v(this,null,function*(){var r,i;try{let o,s;"options"in e&&(o=(r=e.options)===null||r===void 0?void 0:r.redirectTo,s=(i=e.options)===null||i===void 0?void 0:i.captchaToken);let{data:a,error:l}=yield z(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:s}}),redirectTo:o,xform:bn});if(l)throw l;if(!a)throw new Error("An error occurred on token verification.");let c=a.session,u=a.user;return c?.access_token&&(yield this._saveSession(c),yield this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(o){if(j(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}})}signInWithSSO(e){return v(this,null,function*(){var r,i,o,s,a;try{let l=null,c=null;this.flowType==="pkce"&&([l,c]=yield Xo(this.storage,this.storageKey));let u=yield z(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(i=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&i!==void 0?i:void 0}),!((o=e?.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:c}),headers:this.headers,xform:IA});return!((s=u.data)===null||s===void 0)&&s.url&&ut()&&!(!((a=e.options)===null||a===void 0)&&a.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(l){if(yield gt(this.storage,`${this.storageKey}-code-verifier`),j(l))return this._returnResult({data:null,error:l});throw l}})}reauthenticate(){return v(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>v(this,null,function*(){return yield this._reauthenticate()}))})}_reauthenticate(){return v(this,null,function*(){try{return yield this._useSession(e=>v(this,null,function*(){let{data:{session:r},error:i}=e;if(i)throw i;if(!r)throw new pt;let{error:o}=yield z(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:o})}))}catch(e){if(j(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}})}resend(e){return v(this,null,function*(){try{let r=`${this.url}/resend`;if("email"in e){let{email:i,type:o,options:s}=e,{error:a}=yield z(this.fetch,"POST",r,{headers:this.headers,body:{email:i,type:o,gotrue_meta_security:{captcha_token:s?.captchaToken}},redirectTo:s?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:a})}else if("phone"in e){let{phone:i,type:o,options:s}=e,{data:a,error:l}=yield z(this.fetch,"POST",r,{headers:this.headers,body:{phone:i,type:o,gotrue_meta_security:{captcha_token:s?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:a?.message_id},error:l})}throw new Vi("You must provide either an email or phone number and a type")}catch(r){if(j(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}})}getSession(){return v(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>v(this,null,function*(){return this._useSession(r=>v(this,null,function*(){return r}))}))})}_acquireLock(e,r){return v(this,null,function*(){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){let i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=v(this,null,function*(){return yield i,yield r()});return this.pendingInLock.push(v(this,null,function*(){try{yield o}catch{}})),o}return yield this.lock(`lock:${this.storageKey}`,e,()=>v(this,null,function*(){this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;let i=r();for(this.pendingInLock.push(v(this,null,function*(){try{yield i}catch{}})),yield i;this.pendingInLock.length;){let o=[...this.pendingInLock];yield Promise.all(o),this.pendingInLock.splice(0,o.length)}return yield i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}}))}finally{this._debug("#_acquireLock","end")}})}_useSession(e){return v(this,null,function*(){this._debug("#_useSession","begin");try{let r=yield this.__loadSession();return yield e(r)}finally{this._debug("#_useSession","end")}})}__loadSession(){return v(this,null,function*(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null,r=yield Hi(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),yield this._removeSession())),!e)return{data:{session:null},error:null};let i=e.expires_at?e.expires_at*1e3-Date.now()<Zf:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",e.expires_at),!i){if(this.userStorage){let a=yield Hi(this.userStorage,this.storageKey+"-user");a?.user?e.user=a.user:e.user=rp()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){let a={value:this.suppressGetSessionWarning};e.user=xA(e.user,a),a.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}let{data:o,error:s}=yield this._callRefreshToken(e.refresh_token);return s?this._returnResult({data:{session:null},error:s}):this._returnResult({data:{session:o},error:null})}finally{this._debug("#__loadSession()","end")}})}getUser(e){return v(this,null,function*(){if(e)return yield this._getUser(e);yield this.initializePromise;let r=yield this._acquireLock(-1,()=>v(this,null,function*(){return yield this._getUser()}));return r.data.user&&(this.suppressGetSessionWarning=!0),r})}_getUser(e){return v(this,null,function*(){try{return e?yield z(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:mr}):yield this._useSession(r=>v(this,null,function*(){var i,o,s;let{data:a,error:l}=r;if(l)throw l;return!(!((i=a.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new pt}:yield z(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(o=a.session)===null||o===void 0?void 0:o.access_token)!==null&&s!==void 0?s:void 0,xform:mr})}))}catch(r){if(j(r))return Ib(r)&&(yield this._removeSession(),yield gt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}})}updateUser(i){return v(this,arguments,function*(e,r={}){return yield this.initializePromise,yield this._acquireLock(-1,()=>v(this,null,function*(){return yield this._updateUser(e,r)}))})}_updateUser(i){return v(this,arguments,function*(e,r={}){try{return yield this._useSession(o=>v(this,null,function*(){let{data:s,error:a}=o;if(a)throw a;if(!s.session)throw new pt;let l=s.session,c=null,u=null;this.flowType==="pkce"&&e.email!=null&&([c,u]=yield Xo(this.storage,this.storageKey));let{data:d,error:f}=yield z(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:c,code_challenge_method:u}),jwt:l.access_token,xform:mr});if(f)throw f;return l.user=d.user,yield this._saveSession(l),yield this._notifyAllSubscribers("USER_UPDATED",l),this._returnResult({data:{user:l.user},error:null})}))}catch(o){if(yield gt(this.storage,`${this.storageKey}-code-verifier`),j(o))return this._returnResult({data:{user:null},error:o});throw o}})}setSession(e){return v(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>v(this,null,function*(){return yield this._setSession(e)}))})}_setSession(e){return v(this,null,function*(){try{if(!e.access_token||!e.refresh_token)throw new pt;let r=Date.now()/1e3,i=r,o=!0,s=null,{payload:a}=np(e.access_token);if(a.exp&&(i=a.exp,o=i<=r),o){let{data:l,error:c}=yield this._callRefreshToken(e.refresh_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l)return{data:{user:null,session:null},error:null};s=l}else{let{data:l,error:c}=yield this._getUser(e.access_token);if(c)throw c;s={access_token:e.access_token,refresh_token:e.refresh_token,user:l.user,token_type:"bearer",expires_in:i-r,expires_at:i},yield this._saveSession(s),yield this._notifyAllSubscribers("SIGNED_IN",s)}return this._returnResult({data:{user:s.user,session:s},error:null})}catch(r){if(j(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}})}refreshSession(e){return v(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>v(this,null,function*(){return yield this._refreshSession(e)}))})}_refreshSession(e){return v(this,null,function*(){try{return yield this._useSession(r=>v(this,null,function*(){var i;if(!e){let{data:a,error:l}=r;if(l)throw l;e=(i=a.session)!==null&&i!==void 0?i:void 0}if(!e?.refresh_token)throw new pt;let{data:o,error:s}=yield this._callRefreshToken(e.refresh_token);return s?this._returnResult({data:{user:null,session:null},error:s}):o?this._returnResult({data:{user:o.user,session:o},error:null}):this._returnResult({data:{user:null,session:null},error:null})}))}catch(r){if(j(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}})}_getSessionFromURL(e,r){return v(this,null,function*(){try{if(!ut())throw new Bi("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Bi(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new ja("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Bi("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new ja("No code detected.");let{data:w,error:C}=yield this._exchangeCodeForSession(e.code);if(C)throw C;let x=new URL(window.location.href);return x.searchParams.delete("code"),window.history.replaceState(window.history.state,"",x.toString()),{data:{session:w.session,redirectType:null},error:null}}let{provider_token:i,provider_refresh_token:o,access_token:s,refresh_token:a,expires_in:l,expires_at:c,token_type:u}=e;if(!s||!l||!a||!u)throw new Bi("No session defined in URL");let d=Math.round(Date.now()/1e3),f=parseInt(l),h=d+f;c&&(h=parseInt(c));let p=h-d;p*1e3<=Go&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${f}s`);let g=h-f;d-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,h,d):d-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",g,h,d);let{data:m,error:y}=yield this._getUser(s);if(y)throw y;let b={provider_token:i,provider_refresh_token:o,access_token:s,expires_in:f,expires_at:h,refresh_token:a,token_type:u,user:m.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:b,redirectType:e.type},error:null})}catch(i){if(j(i))return this._returnResult({data:{session:null,redirectType:null},error:i});throw i}})}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}_isPKCECallback(e){return v(this,null,function*(){let r=yield Hi(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)})}signOut(){return v(this,arguments,function*(e={scope:"global"}){return yield this.initializePromise,yield this._acquireLock(-1,()=>v(this,null,function*(){return yield this._signOut(e)}))})}_signOut(){return v(this,arguments,function*({scope:e}={scope:"global"}){return yield this._useSession(r=>v(this,null,function*(){var i;let{data:o,error:s}=r;if(s)return this._returnResult({error:s});let a=(i=o.session)===null||i===void 0?void 0:i.access_token;if(a){let{error:l}=yield this.admin.signOut(a,e);if(l&&!(Sb(l)&&(l.status===404||l.status===401||l.status===403)))return this._returnResult({error:l})}return e!=="others"&&(yield this._removeSession(),yield gt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})}))})}onAuthStateChange(e){let r=vA(),i={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,i),v(this,null,function*(){yield this.initializePromise,yield this._acquireLock(-1,()=>v(this,null,function*(){this._emitInitialSession(r)}))}),{data:{subscription:i}}}_emitInitialSession(e){return v(this,null,function*(){return yield this._useSession(r=>v(this,null,function*(){var i,o;try{let{data:{session:s},error:a}=r;if(a)throw a;yield(i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",s),this._debug("INITIAL_SESSION","callback id",e,"session",s)}catch(s){yield(o=this.stateChangeEmitters.get(e))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null),this._debug("INITIAL_SESSION","callback id",e,"error",s),console.error(s)}}))})}resetPasswordForEmail(i){return v(this,arguments,function*(e,r={}){let o=null,s=null;this.flowType==="pkce"&&([o,s]=yield Xo(this.storage,this.storageKey,!0));try{return yield z(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:o,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if(yield gt(this.storage,`${this.storageKey}-code-verifier`),j(a))return this._returnResult({data:null,error:a});throw a}})}getUserIdentities(){return v(this,null,function*(){var e;try{let{data:r,error:i}=yield this.getUser();if(i)throw i;return this._returnResult({data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(r){if(j(r))return this._returnResult({data:null,error:r});throw r}})}linkIdentity(e){return v(this,null,function*(){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)})}linkIdentityOAuth(e){return v(this,null,function*(){var r;try{let{data:i,error:o}=yield this._useSession(s=>v(this,null,function*(){var a,l,c,u,d;let{data:f,error:h}=s;if(h)throw h;let p=yield this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(a=e.options)===null||a===void 0?void 0:a.redirectTo,scopes:(l=e.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=e.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return yield z(this.fetch,"GET",p,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})}));if(o)throw o;return ut()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(i?.url),this._returnResult({data:{provider:e.provider,url:i?.url},error:null})}catch(i){if(j(i))return this._returnResult({data:{provider:e.provider,url:null},error:i});throw i}})}linkIdentityIdToken(e){return v(this,null,function*(){return yield this._useSession(r=>v(this,null,function*(){var i;try{let{error:o,data:{session:s}}=r;if(o)throw o;let{options:a,provider:l,token:c,access_token:u,nonce:d}=e,f=yield z(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(i=s?.access_token)!==null&&i!==void 0?i:void 0,body:{provider:l,id_token:c,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:a?.captchaToken}},xform:bn}),{data:h,error:p}=f;return p?this._returnResult({data:{user:null,session:null},error:p}):!h||!h.session||!h.user?this._returnResult({data:{user:null,session:null},error:new gr}):(h.session&&(yield this._saveSession(h.session),yield this._notifyAllSubscribers("USER_UPDATED",h.session)),this._returnResult({data:h,error:p}))}catch(o){if(yield gt(this.storage,`${this.storageKey}-code-verifier`),j(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}))})}unlinkIdentity(e){return v(this,null,function*(){try{return yield this._useSession(r=>v(this,null,function*(){var i,o;let{data:s,error:a}=r;if(a)throw a;return yield z(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(o=(i=s.session)===null||i===void 0?void 0:i.access_token)!==null&&o!==void 0?o:void 0})}))}catch(r){if(j(r))return this._returnResult({data:null,error:r});throw r}})}_refreshAccessToken(e){return v(this,null,function*(){let r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{let i=Date.now();return yield wA(o=>v(this,null,function*(){return o>0&&(yield bA(200*Math.pow(2,o-1))),this._debug(r,"refreshing attempt",o),yield z(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:bn})}),(o,s)=>{let a=200*Math.pow(2,o);return s&&Fc(s)&&Date.now()+a-i<Go})}catch(i){if(this._debug(r,"error",i),j(i))return this._returnResult({data:{session:null,user:null},error:i});throw i}finally{this._debug(r,"end")}})}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}_handleProviderSignIn(e,r){return v(this,null,function*(){let i=yield this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",i),ut()&&!r.skipBrowserRedirect&&window.location.assign(i),{data:{provider:e,url:i},error:null}})}_recoverAndRefresh(){return v(this,null,function*(){var e,r;let i="#_recoverAndRefresh()";this._debug(i,"begin");try{let o=yield Hi(this.storage,this.storageKey);if(o&&this.userStorage){let a=yield Hi(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:o.user},yield Jo(this.userStorage,this.storageKey+"-user",a)),o.user=(e=a?.user)!==null&&e!==void 0?e:rp()}else if(o&&!o.user&&!o.user){let a=yield Hi(this.storage,this.storageKey+"-user");a&&a?.user?(o.user=a.user,yield gt(this.storage,this.storageKey+"-user"),yield Jo(this.storage,this.storageKey,o)):o.user=rp()}if(this._debug(i,"session from storage",o),!this._isValidSession(o)){this._debug(i,"session is not valid"),o!==null&&(yield this._removeSession());return}let s=((r=o.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Zf;if(this._debug(i,`session has${s?"":" not"} expired with margin of ${Zf}s`),s){if(this.autoRefreshToken&&o.refresh_token){let{error:a}=yield this._callRefreshToken(o.refresh_token);a&&(console.error(a),Fc(a)||(this._debug(i,"refresh failed with a non-retryable error, removing the session",a),yield this._removeSession()))}}else if(o.user&&o.user.__isUserNotAvailableProxy===!0)try{let{data:a,error:l}=yield this._getUser(o.access_token);!l&&a?.user?(o.user=a.user,yield this._saveSession(o),yield this._notifyAllSubscribers("SIGNED_IN",o)):this._debug(i,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(i,"error getting user data, skipping SIGNED_IN notification",a)}else yield this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(i,"error",o),console.error(o);return}finally{this._debug(i,"end")}})}_callRefreshToken(e){return v(this,null,function*(){var r,i;if(!e)throw new pt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;let o=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new Lc;let{data:s,error:a}=yield this._refreshAccessToken(e);if(a)throw a;if(!s.session)throw new pt;yield this._saveSession(s.session),yield this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);let l={data:s.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(s){if(this._debug(o,"error",s),j(s)){let a={data:null,error:s};return Fc(s)||(yield this._removeSession()),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(s),s}finally{this.refreshingDeferred=null,this._debug(o,"end")}})}_notifyAllSubscribers(e,r,i=!0){return v(this,null,function*(){let o=`#_notifyAllSubscribers(${e})`;this._debug(o,"begin",r,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:e,session:r});let s=[],a=Array.from(this.stateChangeEmitters.values()).map(l=>v(this,null,function*(){try{yield l.callback(e,r)}catch(c){s.push(c)}}));if(yield Promise.all(a),s.length>0){for(let l=0;l<s.length;l+=1)console.error(s[l]);throw s[0]}}finally{this._debug(o,"end")}})}_saveSession(e){return v(this,null,function*(){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,yield gt(this.storage,`${this.storageKey}-code-verifier`);let r=Object.assign({},e),i=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!i&&r.user&&(yield Jo(this.userStorage,this.storageKey+"-user",{user:r.user}));let o=Object.assign({},r);delete o.user;let s=Ab(o);yield Jo(this.storage,this.storageKey,s)}else{let o=Ab(r);yield Jo(this.storage,this.storageKey,o)}})}_removeSession(){return v(this,null,function*(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,yield gt(this.storage,this.storageKey),yield gt(this.storage,this.storageKey+"-code-verifier"),yield gt(this.storage,this.storageKey+"-user"),this.userStorage&&(yield gt(this.userStorage,this.storageKey+"-user")),yield this._notifyAllSubscribers("SIGNED_OUT",null)})}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");let e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&ut()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}_startAutoRefresh(){return v(this,null,function*(){yield this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");let e=setInterval(()=>this._autoRefreshTokenTick(),Go);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(()=>v(this,null,function*(){yield this.initializePromise,yield this._autoRefreshTokenTick()}),0)})}_stopAutoRefresh(){return v(this,null,function*(){this._debug("#_stopAutoRefresh()");let e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)})}startAutoRefresh(){return v(this,null,function*(){this._removeVisibilityChangedCallback(),yield this._startAutoRefresh()})}stopAutoRefresh(){return v(this,null,function*(){this._removeVisibilityChangedCallback(),yield this._stopAutoRefresh()})}_autoRefreshTokenTick(){return v(this,null,function*(){this._debug("#_autoRefreshTokenTick()","begin");try{yield this._acquireLock(0,()=>v(this,null,function*(){try{let e=Date.now();try{return yield this._useSession(r=>v(this,null,function*(){let{data:{session:i}}=r;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}let o=Math.floor((i.expires_at*1e3-e)/Go);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${Go}ms, refresh threshold is ${Yf} ticks`),o<=Yf&&(yield this._callRefreshToken(i.refresh_token))}))}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}}))}catch(e){if(e.isAcquireTimeout||e instanceof Ua)this._debug("auto refresh token tick lock not available");else throw e}})}_handleVisibilityChange(){return v(this,null,function*(){if(this._debug("#_handleVisibilityChange()"),!ut()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=()=>v(this,null,function*(){return yield this._onVisibilityChanged(!1)}),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),yield this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}})}_onVisibilityChanged(e){return v(this,null,function*(){let r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(yield this.initializePromise,yield this._acquireLock(-1,()=>v(this,null,function*(){if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}yield this._recoverAndRefresh()})))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()})}_getUrlForProvider(e,r,i){return v(this,null,function*(){let o=[`provider=${encodeURIComponent(r)}`];if(i?.redirectTo&&o.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i?.scopes&&o.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){let[s,a]=yield Xo(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(a)}`});o.push(l.toString())}if(i?.queryParams){let s=new URLSearchParams(i.queryParams);o.push(s.toString())}return i?.skipBrowserRedirect&&o.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${e}?${o.join("&")}`})}_unenroll(e){return v(this,null,function*(){try{return yield this._useSession(r=>v(this,null,function*(){var i;let{data:o,error:s}=r;return s?this._returnResult({data:null,error:s}):yield z(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token})}))}catch(r){if(j(r))return this._returnResult({data:null,error:r});throw r}})}_enroll(e){return v(this,null,function*(){try{return yield this._useSession(r=>v(this,null,function*(){var i,o;let{data:s,error:a}=r;if(a)return this._returnResult({data:null,error:a});let l=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:c,error:u}=yield z(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(i=s?.session)===null||i===void 0?void 0:i.access_token});return u?this._returnResult({data:null,error:u}):(e.factorType==="totp"&&c.type==="totp"&&(!((o=c?.totp)===null||o===void 0)&&o.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),this._returnResult({data:c,error:null}))}))}catch(r){if(j(r))return this._returnResult({data:null,error:r});throw r}})}_verify(e){return v(this,null,function*(){return this._acquireLock(-1,()=>v(this,null,function*(){try{return yield this._useSession(r=>v(this,null,function*(){var i;let{data:o,error:s}=r;if(s)return this._returnResult({data:null,error:s});let a=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?zA(e.webauthn.credential_response):WA(e.webauthn.credential_response)})}:{code:e.code}),{data:l,error:c}=yield z(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:a,headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token});return c?this._returnResult({data:null,error:c}):(yield this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),yield this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),this._returnResult({data:l,error:c}))}))}catch(r){if(j(r))return this._returnResult({data:null,error:r});throw r}}))})}_challenge(e){return v(this,null,function*(){return this._acquireLock(-1,()=>v(this,null,function*(){try{return yield this._useSession(r=>v(this,null,function*(){var i;let{data:o,error:s}=r;if(s)return this._returnResult({data:null,error:s});let a=yield z(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token});if(a.error)return a;let{data:l}=a;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:$A(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:HA(l.webauthn.credential_options.publicKey)})})}),error:null}}}))}catch(r){if(j(r))return this._returnResult({data:null,error:r});throw r}}))})}_challengeAndVerify(e){return v(this,null,function*(){let{data:r,error:i}=yield this._challenge({factorId:e.factorId});return i?this._returnResult({data:null,error:i}):yield this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})})}_listFactors(){return v(this,null,function*(){var e;let{data:{user:r},error:i}=yield this.getUser();if(i)return{data:null,error:i};let o={all:[],phone:[],totp:[],webauthn:[]};for(let s of(e=r?.factors)!==null&&e!==void 0?e:[])o.all.push(s),s.status==="verified"&&o[s.factor_type].push(s);return{data:o,error:null}})}_getAuthenticatorAssuranceLevel(){return v(this,null,function*(){var e,r;let{data:{session:i},error:o}=yield this.getSession();if(o)return this._returnResult({data:null,error:o});if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};let{payload:s}=np(i.access_token),a=null;s.aal&&(a=s.aal);let l=a;((r=(e=i.user.factors)===null||e===void 0?void 0:e.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");let u=s.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:u},error:null}})}_getAuthorizationDetails(e){return v(this,null,function*(){try{return yield this._useSession(r=>v(this,null,function*(){let{data:{session:i},error:o}=r;return o?this._returnResult({data:null,error:o}):i?yield z(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:i.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new pt})}))}catch(r){if(j(r))return this._returnResult({data:null,error:r});throw r}})}_approveAuthorization(e,r){return v(this,null,function*(){try{return yield this._useSession(i=>v(this,null,function*(){let{data:{session:o},error:s}=i;if(s)return this._returnResult({data:null,error:s});if(!o)return this._returnResult({data:null,error:new pt});let a=yield z(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"approve"},xform:l=>({data:l,error:null})});return a.data&&a.data.redirect_url&&ut()&&!r?.skipBrowserRedirect&&window.location.assign(a.data.redirect_url),a}))}catch(i){if(j(i))return this._returnResult({data:null,error:i});throw i}})}_denyAuthorization(e,r){return v(this,null,function*(){try{return yield this._useSession(i=>v(this,null,function*(){let{data:{session:o},error:s}=i;if(s)return this._returnResult({data:null,error:s});if(!o)return this._returnResult({data:null,error:new pt});let a=yield z(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"deny"},xform:l=>({data:l,error:null})});return a.data&&a.data.redirect_url&&ut()&&!r?.skipBrowserRedirect&&window.location.assign(a.data.redirect_url),a}))}catch(i){if(j(i))return this._returnResult({data:null,error:i});throw i}})}_listOAuthGrants(){return v(this,null,function*(){try{return yield this._useSession(e=>v(this,null,function*(){let{data:{session:r},error:i}=e;return i?this._returnResult({data:null,error:i}):r?yield z(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new pt})}))}catch(e){if(j(e))return this._returnResult({data:null,error:e});throw e}})}_revokeOAuthGrant(e){return v(this,null,function*(){try{return yield this._useSession(r=>v(this,null,function*(){let{data:{session:i},error:o}=r;return o?this._returnResult({data:null,error:o}):i?(yield z(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:i.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new pt})}))}catch(r){if(j(r))return this._returnResult({data:null,error:r});throw r}})}fetchJwk(i){return v(this,arguments,function*(e,r={keys:[]}){let o=r.keys.find(c=>c.kid===e);if(o)return o;let s=Date.now();if(o=this.jwks.keys.find(c=>c.kid===e),o&&this.jwks_cached_at+dA>s)return o;let{data:a,error:l}=yield z(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(l)throw l;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=s,o=a.keys.find(c=>c.kid===e),!o)?null:o})}getClaims(i){return v(this,arguments,function*(e,r={}){try{let o=e;if(!o){let{data:g,error:m}=yield this.getSession();if(m||!g.session)return this._returnResult({data:null,error:m});o=g.session.access_token}let{header:s,payload:a,signature:l,raw:{header:c,payload:u}}=np(o);r?.allowExpired||CA(a.exp);let d=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:yield this.fetchJwk(s.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!d){let{error:g}=yield this.getUser(o);if(g)throw g;return{data:{claims:a,header:s,signature:l},error:null}}let f=DA(s.alg),h=yield crypto.subtle.importKey("jwk",d,f,!0,["verify"]);if(!(yield crypto.subtle.verify(f,h,l,gA(`${c}.${u}`))))throw new Ui("Invalid JWT signature");return{data:{claims:a,header:s,signature:l},error:null}}catch(o){if(j(o))return this._returnResult({data:null,error:o});throw o}})}}return n.nextInstanceID={},n})(),lp=Hz});var zz,GA,KA=B(()=>{"use strict";ip();zz=zi,GA=zz});var Wz,YA,ZA=B(()=>{"use strict";$b();Wz=lp,YA=Wz});var Hb={};sl(Hb,{AuthAdminApi:()=>GA,AuthApiError:()=>Nc,AuthClient:()=>YA,AuthError:()=>Yr,AuthImplicitGrantRedirectError:()=>Bi,AuthInvalidCredentialsError:()=>Vi,AuthInvalidJwtError:()=>Ui,AuthInvalidTokenResponseError:()=>gr,AuthPKCEGrantCodeExchangeError:()=>ja,AuthRetryableFetchError:()=>Ko,AuthSessionMissingError:()=>pt,AuthUnknownError:()=>hn,AuthWeakPasswordError:()=>Va,CustomAuthError:()=>Hn,GoTrueAdminApi:()=>zi,GoTrueClient:()=>lp,NavigatorLockAcquireTimeoutError:()=>Vc,SIGN_OUT_SCOPES:()=>jc,isAuthApiError:()=>Sb,isAuthError:()=>j,isAuthImplicitGrantRedirectError:()=>Mb,isAuthRetryableFetchError:()=>Fc,isAuthSessionMissingError:()=>Ib,isAuthWeakPasswordError:()=>bz,lockInternals:()=>Wi,navigatorLock:()=>op,processLock:()=>OA});var zb=B(()=>{"use strict";ip();$b();KA();ZA();Pb();Yo();Lb()});var JA=Rt(cp=>{"use strict";Object.defineProperty(cp,"__esModule",{value:!0});cp.SupabaseAuthClient=void 0;var qz=(zb(),tn(Hb)),Wb=class extends qz.AuthClient{constructor(t){super(t)}};cp.SupabaseAuthClient=Wb});var Kb=Rt(Gb=>{"use strict";Object.defineProperty(Gb,"__esModule",{value:!0});var Gz=(N_(),tn(P_)),Kz=X_(),Yz=(fb(),tn(hb)),Zz=(tA(),tn(eA)),up=rA(),Jz=iA(),XA=sA(),Xz=JA(),qb=class{constructor(t,e,r){var i,o,s;this.supabaseUrl=t,this.supabaseKey=e;let a=(0,XA.validateSupabaseUrl)(t);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);let l=`sb-${a.hostname.split(".")[0]}-auth-token`,c={db:up.DEFAULT_DB_OPTIONS,realtime:up.DEFAULT_REALTIME_OPTIONS,auth:Object.assign(Object.assign({},up.DEFAULT_AUTH_OPTIONS),{storageKey:l}),global:up.DEFAULT_GLOBAL_OPTIONS},u=(0,XA.applySettingDefaults)(r??{},c);this.storageKey=(i=u.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(o=u.global.headers)!==null&&o!==void 0?o:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(d,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((s=u.auth)!==null&&s!==void 0?s:{},this.headers,u.global.fetch),this.fetch=(0,Jz.fetchWithAuth)(e,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.accessToken&&this.accessToken().then(d=>this.realtime.setAuth(d)).catch(d=>console.warn("Failed to set initial Realtime auth token:",d)),this.rest=new Kz.PostgrestClient(new URL("rest/v1",a).href,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),this.storage=new Zz.StorageClient(this.storageUrl.href,this.headers,this.fetch,r?.storage),u.accessToken||this._listenForAuthEvents()}get functions(){return new Gz.FunctionsClient(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,e={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,e,r)}channel(t,e={config:{}}){return this.realtime.channel(t,e)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){return v(this,null,function*(){var t,e;if(this.accessToken)return yield this.accessToken();let{data:r}=yield this.auth.getSession();return(e=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&e!==void 0?e:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:e,detectSessionInUrl:r,storage:i,userStorage:o,storageKey:s,flowType:a,lock:l,debug:c,throwOnError:u},d,f){let h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Xz.SupabaseAuthClient({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),d),storageKey:s,autoRefreshToken:t,persistSession:e,detectSessionInUrl:r,storage:i,userStorage:o,flowType:a,lock:l,debug:c,throwOnError:u,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(p=>p.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new Yz.RealtimeClient(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,r)=>{this._handleTokenChanged(e,"CLIENT",r?.access_token)})}_handleTokenChanged(t,e,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};Gb.default=qb});var tO=Rt(Ie=>{"use strict";var Qz=Ie&&Ie.__createBinding||(Object.create?function(n,t,e,r){r===void 0&&(r=e);var i=Object.getOwnPropertyDescriptor(t,e);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[e]}}),Object.defineProperty(n,r,i)}:function(n,t,e,r){r===void 0&&(r=e),n[r]=t[e]}),QA=Ie&&Ie.__exportStar||function(n,t){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(t,e)&&Qz(t,n,e)},eO=Ie&&Ie.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Ie,"__esModule",{value:!0});Ie.createClient=Ie.SupabaseClient=Ie.FunctionRegion=Ie.FunctionsError=Ie.FunctionsRelayError=Ie.FunctionsFetchError=Ie.FunctionsHttpError=Ie.PostgrestError=void 0;var e3=eO(Kb());QA((zb(),tn(Hb)),Ie);var t3=X_();Object.defineProperty(Ie,"PostgrestError",{enumerable:!0,get:function(){return t3.PostgrestError}});var Bc=(N_(),tn(P_));Object.defineProperty(Ie,"FunctionsHttpError",{enumerable:!0,get:function(){return Bc.FunctionsHttpError}});Object.defineProperty(Ie,"FunctionsFetchError",{enumerable:!0,get:function(){return Bc.FunctionsFetchError}});Object.defineProperty(Ie,"FunctionsRelayError",{enumerable:!0,get:function(){return Bc.FunctionsRelayError}});Object.defineProperty(Ie,"FunctionsError",{enumerable:!0,get:function(){return Bc.FunctionsError}});Object.defineProperty(Ie,"FunctionRegion",{enumerable:!0,get:function(){return Bc.FunctionRegion}});QA((fb(),tn(hb)),Ie);var n3=Kb();Object.defineProperty(Ie,"SupabaseClient",{enumerable:!0,get:function(){return eO(n3).default}});var r3=(n,t,e)=>new e3.default(n,t,e);Ie.createClient=r3;function i3(){if(typeof window<"u"||typeof process>"u")return!1;let n=process.version;if(n==null)return!1;let t=n.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}i3()&&console.warn("\u26A0\uFE0F  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217")});function dg(n,t){return Object.is(n,t)}var rt=null,uu=!1,hg=1,fn=Symbol("SIGNAL");function le(n){let t=rt;return rt=n,t}function fg(){return rt}var ll={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function cl(n){if(uu)throw new Error("");if(rt===null)return;rt.consumerOnSignalRead(n);let t=rt.nextProducerIndex++;if(pu(rt),t<rt.producerNode.length&&rt.producerNode[t]!==n&&al(rt)){let e=rt.producerNode[t];fu(e,rt.producerIndexOfThis[t])}rt.producerNode[t]!==n&&(rt.producerNode[t]=n,rt.producerIndexOfThis[t]=al(rt)?vw(n,rt,t):0),rt.producerLastReadVersion[t]=n.version}function mw(){hg++}function pg(n){if(!(al(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===hg)){if(!n.producerMustRecompute(n)&&!yg(n)){ug(n);return}n.producerRecomputeValue(n),ug(n)}}function gg(n){if(n.liveConsumerNode===void 0)return;let t=uu;uu=!0;try{for(let e of n.liveConsumerNode)e.dirty||Sk(e)}finally{uu=t}}function mg(){return rt?.consumerAllowSignalWrites!==!1}function Sk(n){n.dirty=!0,gg(n),n.consumerMarkedDirty?.(n)}function ug(n){n.dirty=!1,n.lastCleanEpoch=hg}function hu(n){return n&&(n.nextProducerIndex=0),le(n)}function vg(n,t){if(le(t),!(!n||n.producerNode===void 0||n.producerIndexOfThis===void 0||n.producerLastReadVersion===void 0)){if(al(n))for(let e=n.nextProducerIndex;e<n.producerNode.length;e++)fu(n.producerNode[e],n.producerIndexOfThis[e]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function yg(n){pu(n);for(let t=0;t<n.producerNode.length;t++){let e=n.producerNode[t],r=n.producerLastReadVersion[t];if(r!==e.version||(pg(e),r!==e.version))return!0}return!1}function _g(n){if(pu(n),al(n))for(let t=0;t<n.producerNode.length;t++)fu(n.producerNode[t],n.producerIndexOfThis[t]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function vw(n,t,e){if(yw(n),n.liveConsumerNode.length===0&&_w(n))for(let r=0;r<n.producerNode.length;r++)n.producerIndexOfThis[r]=vw(n.producerNode[r],n,r);return n.liveConsumerIndexOfThis.push(e),n.liveConsumerNode.push(t)-1}function fu(n,t){if(yw(n),n.liveConsumerNode.length===1&&_w(n))for(let r=0;r<n.producerNode.length;r++)fu(n.producerNode[r],n.producerIndexOfThis[r]);let e=n.liveConsumerNode.length-1;if(n.liveConsumerNode[t]=n.liveConsumerNode[e],n.liveConsumerIndexOfThis[t]=n.liveConsumerIndexOfThis[e],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,t<n.liveConsumerNode.length){let r=n.liveConsumerIndexOfThis[t],i=n.liveConsumerNode[t];pu(i),i.producerIndexOfThis[r]=t}}function al(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function pu(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function yw(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}function _w(n){return n.producerNode!==void 0}function bg(n,t){let e=Object.create(Ik);e.computation=n,t!==void 0&&(e.equal=t);let r=()=>{if(pg(e),cl(e),e.value===du)throw e.error;return e.value};return r[fn]=e,r}var lg=Symbol("UNSET"),cg=Symbol("COMPUTING"),du=Symbol("ERRORED"),Ik=ee(O({},ll),{value:lg,dirty:!0,error:null,equal:dg,kind:"computed",producerMustRecompute(n){return n.value===lg||n.value===cg},producerRecomputeValue(n){if(n.value===cg)throw new Error("Detected cycle in computations.");let t=n.value;n.value=cg;let e=hu(n),r,i=!1;try{r=n.computation(),le(null),i=t!==lg&&t!==du&&r!==du&&n.equal(t,r)}catch(o){r=du,n.error=o}finally{vg(n,e)}if(i){n.value=t;return}n.value=r,n.version++}});function Mk(){throw new Error}var bw=Mk;function ww(n){bw(n)}function wg(n){bw=n}var Tk=null;function Eg(n,t){let e=Object.create(gu);e.value=n,t!==void 0&&(e.equal=t);let r=()=>(cl(e),e.value);return r[fn]=e,r}function ul(n,t){mg()||ww(n),n.equal(n.value,t)||(n.value=t,Ak(n))}function Cg(n,t){mg()||ww(n),ul(n,t(n.value))}var gu=ee(O({},ll),{equal:dg,value:void 0,kind:"signal"});function Ak(n){n.version++,mw(),gg(n),Tk?.()}function Dg(n){let t=le(null);try{return n()}finally{le(t)}}var xg;function dl(){return xg}function Dr(n){let t=xg;return xg=n,t}var mu=Symbol("NotFound");function Y(n){return typeof n=="function"}function hs(n){let e=n(r=>{Error.call(r),r.stack=new Error().stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}var vu=hs(n=>function(e){n(this),this.message=e?`${e.length} errors occurred during unsubscription:
${e.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=e});function hl(n,t){if(n){let e=n.indexOf(t);0<=e&&n.splice(e,1)}}var Ze=class n{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;let{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(let o of e)o.remove(this);else e.remove(this);let{initialTeardown:r}=this;if(Y(r))try{r()}catch(o){t=o instanceof vu?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{Ew(o)}catch(s){t=t??[],s instanceof vu?t=[...t,...s.errors]:t.push(s)}}if(t)throw new vu(t)}}add(t){var e;if(t&&t!==this)if(this.closed)Ew(t);else{if(t instanceof n){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(e=this._finalizers)!==null&&e!==void 0?e:[]).push(t)}}_hasParent(t){let{_parentage:e}=this;return e===t||Array.isArray(e)&&e.includes(t)}_addParent(t){let{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(t),e):e?[e,t]:t}_removeParent(t){let{_parentage:e}=this;e===t?this._parentage=null:Array.isArray(e)&&hl(e,t)}remove(t){let{_finalizers:e}=this;e&&hl(e,t),t instanceof n&&t._removeParent(this)}};Ze.EMPTY=(()=>{let n=new Ze;return n.closed=!0,n})();var Sg=Ze.EMPTY;function yu(n){return n instanceof Ze||n&&"closed"in n&&Y(n.remove)&&Y(n.add)&&Y(n.unsubscribe)}function Ew(n){Y(n)?n():n.unsubscribe()}var Dn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var fs={setTimeout(n,t,...e){let{delegate:r}=fs;return r?.setTimeout?r.setTimeout(n,t,...e):setTimeout(n,t,...e)},clearTimeout(n){let{delegate:t}=fs;return(t?.clearTimeout||clearTimeout)(n)},delegate:void 0};function _u(n){fs.setTimeout(()=>{let{onUnhandledError:t}=Dn;if(t)t(n);else throw n})}function fl(){}var Cw=Ig("C",void 0,void 0);function Dw(n){return Ig("E",void 0,n)}function xw(n){return Ig("N",n,void 0)}function Ig(n,t,e){return{kind:n,value:t,error:e}}var so=null;function ps(n){if(Dn.useDeprecatedSynchronousErrorHandling){let t=!so;if(t&&(so={errorThrown:!1,error:null}),n(),t){let{errorThrown:e,error:r}=so;if(so=null,e)throw r}}else n()}function Sw(n){Dn.useDeprecatedSynchronousErrorHandling&&so&&(so.errorThrown=!0,so.error=n)}var ao=class extends Ze{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,yu(t)&&t.add(this)):this.destination=Fk}static create(t,e,r){return new gs(t,e,r)}next(t){this.isStopped?Tg(xw(t),this):this._next(t)}error(t){this.isStopped?Tg(Dw(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?Tg(Cw,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},Pk=Function.prototype.bind;function Mg(n,t){return Pk.call(n,t)}var Ag=class{constructor(t){this.partialObserver=t}next(t){let{partialObserver:e}=this;if(e.next)try{e.next(t)}catch(r){bu(r)}}error(t){let{partialObserver:e}=this;if(e.error)try{e.error(t)}catch(r){bu(r)}else bu(t)}complete(){let{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(e){bu(e)}}},gs=class extends ao{constructor(t,e,r){super();let i;if(Y(t)||!t)i={next:t??void 0,error:e??void 0,complete:r??void 0};else{let o;this&&Dn.useDeprecatedNextContext?(o=Object.create(t),o.unsubscribe=()=>this.unsubscribe(),i={next:t.next&&Mg(t.next,o),error:t.error&&Mg(t.error,o),complete:t.complete&&Mg(t.complete,o)}):i=t}this.destination=new Ag(i)}};function bu(n){Dn.useDeprecatedSynchronousErrorHandling?Sw(n):_u(n)}function Nk(n){throw n}function Tg(n,t){let{onStoppedNotification:e}=Dn;e&&fs.setTimeout(()=>e(n,t))}var Fk={closed:!0,next:fl,error:Nk,complete:fl};var ms=typeof Symbol=="function"&&Symbol.observable||"@@observable";function nn(n){return n}function Og(...n){return Rg(n)}function Rg(n){return n.length===0?nn:n.length===1?n[0]:function(e){return n.reduce((r,i)=>i(r),e)}}var fe=(()=>{class n{constructor(e){e&&(this._subscribe=e)}lift(e){let r=new n;return r.source=this,r.operator=e,r}subscribe(e,r,i){let o=jk(e)?e:new gs(e,r,i);return ps(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(e){try{return this._subscribe(e)}catch(r){e.error(r)}}forEach(e,r){return r=Iw(r),new r((i,o)=>{let s=new gs({next:a=>{try{e(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(e){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(e)}[ms](){return this}pipe(...e){return Rg(e)(this)}toPromise(e){return e=Iw(e),new e((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=t=>new n(t),n})();function Iw(n){var t;return(t=n??Dn.Promise)!==null&&t!==void 0?t:Promise}function Lk(n){return n&&Y(n.next)&&Y(n.error)&&Y(n.complete)}function jk(n){return n&&n instanceof ao||Lk(n)&&yu(n)}function kg(n){return Y(n?.lift)}function de(n){return t=>{if(kg(t))return t.lift(function(e){try{return n(e,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ce(n,t,e,r,i){return new Pg(n,t,e,r,i)}var Pg=class extends ao{constructor(t,e,r,i,o,s){super(t),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=e?function(a){try{e(a)}catch(l){t.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){t.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:e}=this;super.unsubscribe(),!e&&((t=this.onFinalize)===null||t===void 0||t.call(this))}}};function vs(){return de((n,t)=>{let e=null;n._refCount++;let r=ce(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){e=null;return}let i=n._connection,o=e;e=null,i&&(!o||i===o)&&i.unsubscribe(),t.unsubscribe()});n.subscribe(r),r.closed||(e=n.connect())})}var ys=class extends fe{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,kg(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){let t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new Ze;let e=this.getSubject();t.add(this.source.subscribe(ce(e,void 0,()=>{this._teardown(),e.complete()},r=>{this._teardown(),e.error(r)},()=>this._teardown()))),t.closed&&(this._connection=null,t=Ze.EMPTY)}return t}refCount(){return vs()(this)}};var Mw=hs(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var qe=(()=>{class n extends fe{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){let r=new wu(this,this);return r.operator=e,r}_throwIfClosed(){if(this.closed)throw new Mw}next(e){ps(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(e)}})}error(e){ps(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;let{observers:r}=this;for(;r.length;)r.shift().error(e)}})}complete(){ps(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var e;return((e=this.observers)===null||e===void 0?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){let{hasError:r,isStopped:i,observers:o}=this;return r||i?Sg:(this.currentObservers=null,o.push(e),new Ze(()=>{this.currentObservers=null,hl(o,e)}))}_checkFinalizedStatuses(e){let{hasError:r,thrownError:i,isStopped:o}=this;r?e.error(i):o&&e.complete()}asObservable(){let e=new fe;return e.source=this,e}}return n.create=(t,e)=>new wu(t,e),n})(),wu=class extends qe{constructor(t,e){super(),this.destination=t,this.source=e}next(t){var e,r;(r=(e=this.destination)===null||e===void 0?void 0:e.next)===null||r===void 0||r.call(e,t)}error(t){var e,r;(r=(e=this.destination)===null||e===void 0?void 0:e.error)===null||r===void 0||r.call(e,t)}complete(){var t,e;(e=(t=this.destination)===null||t===void 0?void 0:t.complete)===null||e===void 0||e.call(t)}_subscribe(t){var e,r;return(r=(e=this.source)===null||e===void 0?void 0:e.subscribe(t))!==null&&r!==void 0?r:Sg}};var Je=class extends qe{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){let e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){let{hasError:t,thrownError:e,_value:r}=this;if(t)throw e;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}};var kt=new fe(n=>n.complete());function Tw(n){return n&&Y(n.schedule)}function Aw(n){return n[n.length-1]}function Eu(n){return Y(Aw(n))?n.pop():void 0}function ii(n){return Tw(Aw(n))?n.pop():void 0}Ne();var Mu=n=>n&&typeof n.length=="number"&&typeof n!="function";function Tu(n){return Y(n?.then)}function Au(n){return Y(n[ms])}function Ou(n){return Symbol.asyncIterator&&Y(n?.[Symbol.asyncIterator])}function Ru(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function $k(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var ku=$k();function Pu(n){return Y(n?.[ku])}Ne();function Nu(n){return Su(this,arguments,function*(){let e=n.getReader();try{for(;;){let{value:r,done:i}=yield qn(e.read());if(i)return yield qn(void 0);yield yield qn(r)}}finally{e.releaseLock()}})}function Fu(n){return Y(n?.getReader)}function Xe(n){if(n instanceof fe)return n;if(n!=null){if(Au(n))return Hk(n);if(Mu(n))return zk(n);if(Tu(n))return Wk(n);if(Ou(n))return eE(n);if(Pu(n))return qk(n);if(Fu(n))return Gk(n)}throw Ru(n)}function Hk(n){return new fe(t=>{let e=n[ms]();if(Y(e.subscribe))return e.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function zk(n){return new fe(t=>{for(let e=0;e<n.length&&!t.closed;e++)t.next(n[e]);t.complete()})}function Wk(n){return new fe(t=>{n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,_u)})}function qk(n){return new fe(t=>{for(let e of n)if(t.next(e),t.closed)return;t.complete()})}function eE(n){return new fe(t=>{Kk(n,t).catch(e=>t.error(e))})}function Gk(n){return eE(Nu(n))}function Kk(n,t){var e,r,i,o;return R(this,void 0,void 0,function*(){try{for(e=Iu(n);r=yield e.next(),!r.done;){let s=r.value;if(t.next(s),t.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=e.return)&&(yield o.call(e))}finally{if(i)throw i.error}}t.complete()})}function Pt(n,t,e,r=0,i=!1){let o=t.schedule(function(){e(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function Lu(n,t=0){return de((e,r)=>{e.subscribe(ce(r,i=>Pt(r,n,()=>r.next(i),t),()=>Pt(r,n,()=>r.complete(),t),i=>Pt(r,n,()=>r.error(i),t)))})}function ju(n,t=0){return de((e,r)=>{r.add(n.schedule(()=>e.subscribe(r),t))})}function tE(n,t){return Xe(n).pipe(ju(t),Lu(t))}function nE(n,t){return Xe(n).pipe(ju(t),Lu(t))}function rE(n,t){return new fe(e=>{let r=0;return t.schedule(function(){r===n.length?e.complete():(e.next(n[r++]),e.closed||this.schedule())})})}function iE(n,t){return new fe(e=>{let r;return Pt(e,t,()=>{r=n[ku](),Pt(e,t,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){e.error(s);return}o?e.complete():e.next(i)},0,!0)}),()=>Y(r?.return)&&r.return()})}function Vu(n,t){if(!n)throw new Error("Iterable cannot be null");return new fe(e=>{Pt(e,t,()=>{let r=n[Symbol.asyncIterator]();Pt(e,t,()=>{r.next().then(i=>{i.done?e.complete():e.next(i.value)})},0,!0)})})}function oE(n,t){return Vu(Nu(n),t)}function sE(n,t){if(n!=null){if(Au(n))return tE(n,t);if(Mu(n))return rE(n,t);if(Tu(n))return nE(n,t);if(Ou(n))return Vu(n,t);if(Pu(n))return iE(n,t);if(Fu(n))return oE(n,t)}throw Ru(n)}function Ce(n,t){return t?sE(n,t):Xe(n)}function $(...n){let t=ii(n);return Ce(n,t)}function _s(n,t){let e=Y(n)?n:()=>n,r=i=>i.error(e());return new fe(t?i=>t.schedule(r,0,i):r)}function jg(n){return!!n&&(n instanceof fe||Y(n.lift)&&Y(n.subscribe))}var Sr=hs(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function te(n,t){return de((e,r)=>{let i=0;e.subscribe(ce(r,o=>{r.next(n.call(t,o,i++))}))})}var{isArray:Yk}=Array;function Zk(n,t){return Yk(t)?n(...t):n(t)}function Bu(n){return te(t=>Zk(n,t))}var{isArray:Jk}=Array,{getPrototypeOf:Xk,prototype:Qk,keys:eP}=Object;function Uu(n){if(n.length===1){let t=n[0];if(Jk(t))return{args:t,keys:null};if(tP(t)){let e=eP(t);return{args:e.map(r=>t[r]),keys:e}}}return{args:n,keys:null}}function tP(n){return n&&typeof n=="object"&&Xk(n)===Qk}function $u(n,t){return n.reduce((e,r,i)=>(e[r]=t[i],e),{})}function pl(...n){let t=ii(n),e=Eu(n),{args:r,keys:i}=Uu(n);if(r.length===0)return Ce([],t);let o=new fe(nP(r,t,i?s=>$u(i,s):nn));return e?o.pipe(Bu(e)):o}function nP(n,t,e=nn){return r=>{aE(t,()=>{let{length:i}=n,o=new Array(i),s=i,a=i;for(let l=0;l<i;l++)aE(t,()=>{let c=Ce(n[l],t),u=!1;c.subscribe(ce(r,d=>{o[l]=d,u||(u=!0,a--),a||r.next(e(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function aE(n,t,e){n?Pt(e,n,t):t()}function lE(n,t,e,r,i,o,s,a){let l=[],c=0,u=0,d=!1,f=()=>{d&&!l.length&&!c&&t.complete()},h=g=>c<r?p(g):l.push(g),p=g=>{o&&t.next(g),c++;let m=!1;Xe(e(g,u++)).subscribe(ce(t,y=>{i?.(y),o?h(y):t.next(y)},()=>{m=!0},void 0,()=>{if(m)try{for(c--;l.length&&c<r;){let y=l.shift();s?Pt(t,s,()=>p(y)):p(y)}f()}catch(y){t.error(y)}}))};return n.subscribe(ce(t,h,()=>{d=!0,f()})),()=>{a?.()}}function Ge(n,t,e=1/0){return Y(t)?Ge((r,i)=>te((o,s)=>t(r,o,i,s))(Xe(n(r,i))),e):(typeof t=="number"&&(e=t),de((r,i)=>lE(r,i,n,e)))}function oi(n=1/0){return Ge(nn,n)}function cE(){return oi(1)}function bs(...n){return cE()(Ce(n,ii(n)))}function Hu(n){return new fe(t=>{Xe(n()).subscribe(t)})}function Vg(...n){let t=Eu(n),{args:e,keys:r}=Uu(n),i=new fe(o=>{let{length:s}=e;if(!s){o.complete();return}let a=new Array(s),l=s,c=s;for(let u=0;u<s;u++){let d=!1;Xe(e[u]).subscribe(ce(o,f=>{d||(d=!0,c--),a[u]=f},()=>l--,void 0,()=>{(!l||!d)&&(c||o.next(r?$u(r,a):a),o.complete())}))}});return t?i.pipe(Bu(t)):i}function Mt(n,t){return de((e,r)=>{let i=0;e.subscribe(ce(r,o=>n.call(t,o,i++)&&r.next(o)))})}function Ir(n){return de((t,e)=>{let r=null,i=!1,o;r=t.subscribe(ce(e,void 0,void 0,s=>{o=Xe(n(s,Ir(n)(t))),r?(r.unsubscribe(),r=null,o.subscribe(e)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(e))})}function uE(n,t,e,r,i){return(o,s)=>{let a=e,l=t,c=0;o.subscribe(ce(s,u=>{let d=c++;l=a?n(l,u,d):(a=!0,u),r&&s.next(l)},i&&(()=>{a&&s.next(l),s.complete()})))}}function Gn(n,t){return Y(t)?Ge(n,t,1):Ge(n,1)}function si(n){return de((t,e)=>{let r=!1;t.subscribe(ce(e,i=>{r=!0,e.next(i)},()=>{r||e.next(n),e.complete()}))})}function Mr(n){return n<=0?()=>kt:de((t,e)=>{let r=0;t.subscribe(ce(e,i=>{++r<=n&&(e.next(i),n<=r&&e.complete())}))})}function zu(n=rP){return de((t,e)=>{let r=!1;t.subscribe(ce(e,i=>{r=!0,e.next(i)},()=>r?e.complete():e.error(n())))})}function rP(){return new Sr}function co(n){return de((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}function Tr(n,t){let e=arguments.length>=2;return r=>r.pipe(n?Mt((i,o)=>n(i,o,r)):nn,Mr(1),e?si(t):zu(()=>new Sr))}function ws(n){return n<=0?()=>kt:de((t,e)=>{let r=[];t.subscribe(ce(e,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(let i of r)e.next(i);e.complete()},void 0,()=>{r=null}))})}function Bg(n,t){let e=arguments.length>=2;return r=>r.pipe(n?Mt((i,o)=>n(i,o,r)):nn,ws(1),e?si(t):zu(()=>new Sr))}function Ug(n,t){return de(uE(n,t,arguments.length>=2,!0))}function $g(...n){let t=ii(n);return de((e,r)=>{(t?bs(n,e,t):bs(n,e)).subscribe(r)})}function Nt(n,t){return de((e,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();e.subscribe(ce(r,l=>{i?.unsubscribe();let c=0,u=o++;Xe(n(l,u)).subscribe(i=ce(r,d=>r.next(t?t(l,d,u,c++):d),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function Hg(n){return de((t,e)=>{Xe(n).subscribe(ce(e,()=>e.complete(),fl)),!e.closed&&t.subscribe(e)})}function it(n,t,e){let r=Y(n)||t||e?{next:n,error:t,complete:e}:n;return r?de((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(ce(o,l=>{var c;(c=r.next)===null||c===void 0||c.call(r,l),o.next(l)},()=>{var l;a=!1,(l=r.complete)===null||l===void 0||l.call(r),o.complete()},l=>{var c;a=!1,(c=r.error)===null||c===void 0||c.call(r,l),o.error(l)},()=>{var l,c;a&&((l=r.unsubscribe)===null||l===void 0||l.call(r)),(c=r.finalize)===null||c===void 0||c.call(r)}))}):nn}var Kg={JSACTION:"jsaction"},Yg={JSACTION:"__jsaction",OWNER:"__owner"},pE={};function iP(n){return n[Yg.JSACTION]}function dE(n,t){n[Yg.JSACTION]=t}function oP(n){return pE[n]}function sP(n,t){pE[n]=t}var H={CLICK:"click",CLICKMOD:"clickmod",DBLCLICK:"dblclick",FOCUS:"focus",FOCUSIN:"focusin",BLUR:"blur",FOCUSOUT:"focusout",SUBMIT:"submit",KEYDOWN:"keydown",KEYPRESS:"keypress",KEYUP:"keyup",MOUSEOVER:"mouseover",MOUSEOUT:"mouseout",MOUSEENTER:"mouseenter",MOUSELEAVE:"mouseleave",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",ERROR:"error",LOAD:"load",TOUCHSTART:"touchstart",TOUCHEND:"touchend",TOUCHMOVE:"touchmove",TOGGLE:"toggle"},aP=[H.MOUSEENTER,H.MOUSELEAVE,"pointerenter","pointerleave"],YK=[H.CLICK,H.DBLCLICK,H.FOCUSIN,H.FOCUSOUT,H.KEYDOWN,H.KEYUP,H.KEYPRESS,H.MOUSEOVER,H.MOUSEOUT,H.SUBMIT,H.TOUCHSTART,H.TOUCHEND,H.TOUCHMOVE,"touchcancel","auxclick","change","compositionstart","compositionupdate","compositionend","beforeinput","input","select","copy","cut","paste","mousedown","mouseup","wheel","contextmenu","dragover","dragenter","dragleave","drop","dragstart","dragend","pointerdown","pointermove","pointerup","pointercancel","pointerover","pointerout","gotpointercapture","lostpointercapture","ended","loadedmetadata","pagehide","pageshow","visibilitychange","beforematch"],lP=[H.FOCUS,H.BLUR,H.ERROR,H.LOAD,H.TOGGLE],Zg=n=>lP.indexOf(n)>=0;function cP(n){return n===H.MOUSEENTER?H.MOUSEOVER:n===H.MOUSELEAVE?H.MOUSEOUT:n===H.POINTERENTER?H.POINTEROVER:n===H.POINTERLEAVE?H.POINTEROUT:n}function uP(n,t,e,r){let i=!1;Zg(t)&&(i=!0);let o=typeof r=="boolean"?{capture:i,passive:r}:i;return n.addEventListener(t,e,o),{eventType:t,handler:e,capture:i,passive:r}}function dP(n,t){if(n.removeEventListener){let e=typeof t.passive=="boolean"?{capture:t.capture}:t.capture;n.removeEventListener(t.eventType,t.handler,e)}else n.detachEvent&&n.detachEvent(`on${t.eventType}`,t.handler)}function hP(n){n.preventDefault?n.preventDefault():n.returnValue=!1}var hE=typeof navigator<"u"&&/Macintosh/.test(navigator.userAgent);function fP(n){return n.which===2||n.which==null&&n.button===4}function pP(n){return hE&&n.metaKey||!hE&&n.ctrlKey||fP(n)||n.shiftKey}function gP(n,t,e){let r=n.relatedTarget;return(n.type===H.MOUSEOVER&&t===H.MOUSEENTER||n.type===H.MOUSEOUT&&t===H.MOUSELEAVE||n.type===H.POINTEROVER&&t===H.POINTERENTER||n.type===H.POINTEROUT&&t===H.POINTERLEAVE)&&(!r||r!==e&&!e.contains(r))}function mP(n,t){let e={};for(let r in n){if(r==="srcElement"||r==="target")continue;let i=r,o=n[i];typeof o!="function"&&(e[i]=o)}return n.type===H.MOUSEOVER?e.type=H.MOUSEENTER:n.type===H.MOUSEOUT?e.type=H.MOUSELEAVE:n.type===H.POINTEROVER?e.type=H.POINTERENTER:e.type=H.POINTERLEAVE,e.target=e.srcElement=t,e.bubbles=!1,e._originalEvent=n,e}var vP=typeof navigator<"u"&&/iPhone|iPad|iPod/.test(navigator.userAgent),Ku=class{element;handlerInfos=[];constructor(t){this.element=t}addEventListener(t,e,r){vP&&(this.element.style.cursor="pointer"),this.handlerInfos.push(uP(this.element,t,e(this.element),r))}cleanUp(){for(let t=0;t<this.handlerInfos.length;t++)dP(this.element,this.handlerInfos[t]);this.handlerInfos=[]}},yP={EVENT_ACTION_SEPARATOR:":"};function ai(n){return n.eventType}function Jg(n,t){n.eventType=t}function qu(n){return n.event}function gE(n,t){n.event=t}function mE(n){return n.targetElement}function vE(n,t){n.targetElement=t}function yE(n){return n.eic}function _P(n,t){n.eic=t}function bP(n){return n.timeStamp}function wP(n,t){n.timeStamp=t}function Gu(n){return n.eia}function _E(n,t,e){n.eia=[t,e]}function zg(n){n.eia=void 0}function Wu(n){return n[1]}function EP(n){return n.eirp}function bE(n,t){n.eirp=t}function wE(n){return n.eir}function EE(n,t){n.eir=t}function CE(n){return{eventType:n.eventType,event:n.event,targetElement:n.targetElement,eic:n.eic,eia:n.eia,timeStamp:n.timeStamp,eirp:n.eirp,eiack:n.eiack,eir:n.eir}}function CP(n,t,e,r,i,o,s,a){return{eventType:n,event:t,targetElement:e,eic:r,timeStamp:i,eia:o,eirp:s,eiack:a}}var Wg=class n{eventInfo;constructor(t){this.eventInfo=t}getEventType(){return ai(this.eventInfo)}setEventType(t){Jg(this.eventInfo,t)}getEvent(){return qu(this.eventInfo)}setEvent(t){gE(this.eventInfo,t)}getTargetElement(){return mE(this.eventInfo)}setTargetElement(t){vE(this.eventInfo,t)}getContainer(){return yE(this.eventInfo)}setContainer(t){_P(this.eventInfo,t)}getTimestamp(){return bP(this.eventInfo)}setTimestamp(t){wP(this.eventInfo,t)}getAction(){let t=Gu(this.eventInfo);if(t)return{name:t[0],element:t[1]}}setAction(t){if(!t){zg(this.eventInfo);return}_E(this.eventInfo,t.name,t.element)}getIsReplay(){return EP(this.eventInfo)}setIsReplay(t){bE(this.eventInfo,t)}getResolved(){return wE(this.eventInfo)}setResolved(t){EE(this.eventInfo,t)}clone(){return new n(CE(this.eventInfo))}},DP={},xP=/\s*;\s*/,SP=H.CLICK,qg=class{a11yClickSupport=!1;clickModSupport=!0;syntheticMouseEventSupport;updateEventInfoForA11yClick=void 0;preventDefaultForA11yClick=void 0;populateClickOnlyAction=void 0;constructor({syntheticMouseEventSupport:t=!1,clickModSupport:e=!0}={}){this.syntheticMouseEventSupport=t,this.clickModSupport=e}resolveEventType(t){this.clickModSupport&&ai(t)===H.CLICK&&pP(qu(t))?Jg(t,H.CLICKMOD):this.a11yClickSupport&&this.updateEventInfoForA11yClick(t)}resolveAction(t){wE(t)||(this.populateAction(t,mE(t)),EE(t,!0))}resolveParentAction(t){let e=Gu(t),r=e&&Wu(e);zg(t);let i=r&&this.getParentNode(r);i&&this.populateAction(t,i)}populateAction(t,e){let r=e;for(;r&&r!==yE(t)&&(r.nodeType===Node.ELEMENT_NODE&&this.populateActionOnElement(r,t),!Gu(t));)r=this.getParentNode(r);let i=Gu(t);if(i&&(this.a11yClickSupport&&this.preventDefaultForA11yClick(t),this.syntheticMouseEventSupport&&(ai(t)===H.MOUSEENTER||ai(t)===H.MOUSELEAVE||ai(t)===H.POINTERENTER||ai(t)===H.POINTERLEAVE)))if(gP(qu(t),ai(t),Wu(i))){let o=mP(qu(t),Wu(i));gE(t,o),vE(t,Wu(i))}else zg(t)}getParentNode(t){let e=t[Yg.OWNER];if(e)return e;let r=t.parentNode;return r?.nodeName==="#document-fragment"?r?.host??null:r}populateActionOnElement(t,e){let r=this.parseActions(t),i=r[ai(e)];i!==void 0&&_E(e,i,t),this.a11yClickSupport&&this.populateClickOnlyAction(t,e,r)}parseActions(t){let e=iP(t);if(!e){let r=t.getAttribute(Kg.JSACTION);if(!r)e=DP,dE(t,e);else{if(e=oP(r),!e){e={};let i=r.split(xP);for(let o=0;o<i.length;o++){let s=i[o];if(!s)continue;let a=s.indexOf(yP.EVENT_ACTION_SEPARATOR),l=a!==-1,c=l?s.substr(0,a).trim():SP,u=l?s.substr(a+1).trim():s;e[c]=u}sP(r,e)}dE(t,e)}}return e}addA11yClickSupport(t,e,r){this.a11yClickSupport=!0,this.updateEventInfoForA11yClick=t,this.preventDefaultForA11yClick=e,this.populateClickOnlyAction=r}},DE=function(n){return n[n.I_AM_THE_JSACTION_FRAMEWORK=0]="I_AM_THE_JSACTION_FRAMEWORK",n}(DE||{}),Gg=class{dispatchDelegate;actionResolver;eventReplayer;eventReplayScheduled=!1;replayEventInfoWrappers=[];constructor(t,{actionResolver:e,eventReplayer:r}={}){this.dispatchDelegate=t,this.actionResolver=e,this.eventReplayer=r}dispatch(t){let e=new Wg(t);this.actionResolver?.resolveEventType(t),this.actionResolver?.resolveAction(t);let r=e.getAction();if(r&&IP(r.element,e)&&hP(e.getEvent()),this.eventReplayer&&e.getIsReplay()){this.scheduleEventInfoWrapperReplay(e);return}this.dispatchDelegate(e)}scheduleEventInfoWrapperReplay(t){this.replayEventInfoWrappers.push(t),!this.eventReplayScheduled&&(this.eventReplayScheduled=!0,Promise.resolve().then(()=>{this.eventReplayScheduled=!1,this.eventReplayer(this.replayEventInfoWrappers)}))}};function IP(n,t){return n.tagName==="A"&&(t.getEventType()===H.CLICK||t.getEventType()===H.CLICKMOD)}var xE=Symbol.for("propagationStopped"),Xg={REPLAY:101};var MP="`preventDefault` called during event replay.";var TP="`composedPath` called during event replay.",Yu=class{dispatchDelegate;clickModSupport;actionResolver;dispatcher;constructor(t,e=!0){this.dispatchDelegate=t,this.clickModSupport=e,this.actionResolver=new qg({clickModSupport:e}),this.dispatcher=new Gg(r=>{this.dispatchToDelegate(r)},{actionResolver:this.actionResolver})}dispatch(t){this.dispatcher.dispatch(t)}dispatchToDelegate(t){for(t.getIsReplay()&&RP(t),AP(t);t.getAction();){if(kP(t),Zg(t.getEventType())&&t.getAction().element!==t.getTargetElement()||(this.dispatchDelegate(t.getEvent(),t.getAction().name),OP(t)))return;this.actionResolver.resolveParentAction(t.eventInfo)}}};function AP(n){let t=n.getEvent(),e=n.getEvent().stopPropagation.bind(t),r=()=>{t[xE]=!0,e()};uo(t,"stopPropagation",r),uo(t,"stopImmediatePropagation",r)}function OP(n){return!!n.getEvent()[xE]}function RP(n){let t=n.getEvent(),e=n.getTargetElement(),r=t.preventDefault.bind(t);uo(t,"target",e),uo(t,"eventPhase",Xg.REPLAY),uo(t,"preventDefault",()=>{throw r(),new Error(MP+"")}),uo(t,"composedPath",()=>{throw new Error(TP+"")})}function kP(n){let t=n.getEvent(),e=n.getAction()?.element;e&&uo(t,"currentTarget",e,{configurable:!0})}function uo(n,t,e,{configurable:r=!1}={}){Object.defineProperty(n,t,{value:e,configurable:r})}function SE(n,t){n.ecrd(e=>{t.dispatch(e)},DE.I_AM_THE_JSACTION_FRAMEWORK)}function PP(n){return n?.q??[]}function NP(n){n&&(fE(n.c,n.et,n.h),fE(n.c,n.etc,n.h,!0))}function fE(n,t,e,r){for(let i=0;i<t.length;i++)n.removeEventListener(t[i],e,r)}var FP=!1,IE=(()=>{class n{static MOUSE_SPECIAL_SUPPORT=FP;containerManager;eventHandlers={};browserEventTypeToExtraEventTypes={};dispatcher=null;queuedEventInfos=[];constructor(e){this.containerManager=e}handleEvent(e,r,i){let o=CP(e,r,r.target,i,Date.now());this.handleEventInfo(o)}handleEventInfo(e){if(!this.dispatcher){bE(e,!0),this.queuedEventInfos?.push(e);return}this.dispatcher(e)}addEvent(e,r,i){if(e in this.eventHandlers||!this.containerManager||!n.MOUSE_SPECIAL_SUPPORT&&aP.indexOf(e)>=0)return;let o=(a,l,c)=>{this.handleEvent(a,l,c)};this.eventHandlers[e]=o;let s=cP(r||e);if(s!==e){let a=this.browserEventTypeToExtraEventTypes[s]||[];a.push(e),this.browserEventTypeToExtraEventTypes[s]=a}this.containerManager.addEventListener(s,a=>l=>{o(e,l,a)},i)}replayEarlyEvents(e=window._ejsa){e&&(this.replayEarlyEventInfos(e.q),NP(e),delete window._ejsa)}replayEarlyEventInfos(e){for(let r=0;r<e.length;r++){let i=e[r],o=this.getEventTypesForBrowserEventType(i.eventType);for(let s=0;s<o.length;s++){let a=CE(i);Jg(a,o[s]),this.handleEventInfo(a)}}}getEventTypesForBrowserEventType(e){let r=[];return this.eventHandlers[e]&&r.push(e),this.browserEventTypeToExtraEventTypes[e]&&r.push(...this.browserEventTypeToExtraEventTypes[e]),r}handler(e){return this.eventHandlers[e]}cleanUp(){this.containerManager?.cleanUp(),this.containerManager=null,this.eventHandlers={},this.browserEventTypeToExtraEventTypes={},this.dispatcher=null,this.queuedEventInfos=[]}registerDispatcher(e,r){this.ecrd(e,r)}ecrd(e,r){if(this.dispatcher=e,this.queuedEventInfos?.length){for(let i=0;i<this.queuedEventInfos.length;i++)this.handleEventInfo(this.queuedEventInfos[i]);this.queuedEventInfos=null}}}return n})();function ME(n,t=window){return PP(t._ejsas?.[n])}function Qg(n,t=window){t._ejsas&&(t._ejsas[n]=void 0)}var TC="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",P=class extends Error{code;constructor(t,e){super(Nd(t,e)),this.code=t}};function LP(n){return`NG0${Math.abs(n)}`}function Nd(n,t){return`${LP(n)}${t?": "+t:""}`}var AC=Symbol("InputSignalNode#UNSET"),jP=ee(O({},gu),{transformFn:void 0,applyValueToInputSignal(n,t){ul(n,t)}});function OC(n,t){let e=Object.create(jP);e.value=n,e.transformFn=t?.transform;function r(){if(cl(e),e.value===AC){let i=null;throw new P(-950,i)}return e.value}return r[fn]=e,r}function xl(n){return{toString:n}.toString()}var Zu="__parameters__";function VP(n){return function(...e){if(n){let r=n(...e);for(let i in r)this[i]=r[i]}}}function RC(n,t,e){return xl(()=>{let r=VP(t);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(l,c,u){let d=l.hasOwnProperty(Zu)?l[Zu]:Object.defineProperty(l,Zu,{value:[]})[Zu];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(s),l}}return i.prototype.ngMetadataName=n,i.annotationCls=i,i})}var li=globalThis;function De(n){for(let t in n)if(n[t]===De)return t;throw Error("Could not find renamed property on target object.")}function BP(n,t){for(let e in t)t.hasOwnProperty(e)&&!n.hasOwnProperty(e)&&(n[e]=t[e])}function Lt(n){if(typeof n=="string")return n;if(Array.isArray(n))return`[${n.map(Lt).join(", ")}]`;if(n==null)return""+n;let t=n.overriddenName||n.name;if(t)return`${t}`;let e=n.toString();if(e==null)return""+e;let r=e.indexOf(`
`);return r>=0?e.slice(0,r):e}function TE(n,t){return n?t?`${n} ${t}`:n:t||""}var UP=De({__forward_ref__:De});function Tn(n){return n.__forward_ref__=Tn,n.toString=function(){return Lt(this())},n}function Tt(n){return kC(n)?n():n}function kC(n){return typeof n=="function"&&n.hasOwnProperty(UP)&&n.__forward_ref__===Tn}function F(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function An(n){return{providers:n.providers||[],imports:n.imports||[]}}function Fd(n){return AE(n,NC)||AE(n,FC)}function PC(n){return Fd(n)!==null}function AE(n,t){return n.hasOwnProperty(t)?n[t]:null}function $P(n){let t=n&&(n[NC]||n[FC]);return t||null}function OE(n){return n&&(n.hasOwnProperty(RE)||n.hasOwnProperty(HP))?n[RE]:null}var NC=De({\u0275prov:De}),RE=De({\u0275inj:De}),FC=De({ngInjectableDef:De}),HP=De({ngInjectorDef:De}),k=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(t,e){this._desc=t,this.\u0275prov=void 0,typeof e=="number"?this.__NG_ELEMENT_ID__=e:e!==void 0&&(this.\u0275prov=F({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function LC(n){return n&&!!n.\u0275providers}var zP=De({\u0275cmp:De}),WP=De({\u0275dir:De}),qP=De({\u0275pipe:De}),GP=De({\u0275mod:De}),cd=De({\u0275fac:De}),yl=De({__NG_ELEMENT_ID__:De}),kE=De({__NG_ENV_ID__:De});function Ar(n){return typeof n=="string"?n:n==null?"":String(n)}function KP(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():Ar(n)}function jC(n,t){throw new P(-200,n)}function pv(n,t){throw new P(-201,!1)}var X=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(X||{}),ym;function VC(){return ym}function Ft(n){let t=ym;return ym=n,t}function BC(n,t,e){let r=Fd(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(e&X.Optional)return null;if(t!==void 0)return t;pv(n,"Injector")}var YP={},fo=YP,_m="__NG_DI_FLAG__",ud=class{injector;constructor(t){this.injector=t}retrieve(t,e){let r=e;return this.injector.get(t,r.optional?mu:fo,r)}},dd="ngTempTokenPath",ZP="ngTokenPath",JP=/\n/gm,XP="\u0275",PE="__source";function QP(n,t=X.Default){if(dl()===void 0)throw new P(-203,!1);if(dl()===null)return BC(n,void 0,t);{let e=dl(),r;return e instanceof ud?r=e.injector:r=e,r.get(n,t&X.Optional?null:void 0,t)}}function U(n,t=X.Default){return(VC()||QP)(Tt(n),t)}function S(n,t=X.Default){return U(n,Ld(t))}function Ld(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function bm(n){let t=[];for(let e=0;e<n.length;e++){let r=Tt(n[e]);if(Array.isArray(r)){if(r.length===0)throw new P(900,!1);let i,o=X.Default;for(let s=0;s<r.length;s++){let a=r[s],l=eN(a);typeof l=="number"?l===-1?i=a.token:o|=l:i=a}t.push(U(i,o))}else t.push(U(r))}return t}function UC(n,t){return n[_m]=t,n.prototype[_m]=t,n}function eN(n){return n[_m]}function tN(n,t,e,r){let i=n[dd];throw t[PE]&&i.unshift(t[PE]),n.message=nN(`
`+n.message,i,e,r),n[ZP]=i,n[dd]=null,n}function nN(n,t,e,r=null){n=n&&n.charAt(0)===`
`&&n.charAt(1)==XP?n.slice(2):n;let i=Lt(t);if(Array.isArray(t))i=t.map(Lt).join(" -> ");else if(typeof t=="object"){let o=[];for(let s in t)if(t.hasOwnProperty(s)){let a=t[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):Lt(a)))}i=`{${o.join(", ")}}`}return`${e}${r?"("+r+")":""}[${i}]: ${n.replace(JP,`
  `)}`}var $C=UC(RC("Optional"),8);var rN=UC(RC("SkipSelf"),4);function go(n,t){let e=n.hasOwnProperty(cd);return e?n[cd]:null}function iN(n,t,e){if(n.length!==t.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],o=t[r];if(e&&(i=e(i),o=e(o)),o!==i)return!1}return!0}function oN(n){return n.flat(Number.POSITIVE_INFINITY)}function gv(n,t){n.forEach(e=>Array.isArray(e)?gv(e,t):t(e))}function HC(n,t,e){t>=n.length?n.push(e):n.splice(t,0,e)}function hd(n,t){return t>=n.length-1?n.pop():n.splice(t,1)[0]}function sN(n,t,e,r){let i=n.length;if(i==t)n.push(e,r);else if(i===1)n.push(r,n[0]),n[0]=e;else{for(i--,n.push(n[i-1],n[i]);i>t;){let o=i-2;n[i]=n[o],i--}n[t]=e,n[t+1]=r}}function aN(n,t,e){let r=Sl(n,t);return r>=0?n[r|1]=e:(r=~r,sN(n,r,t,e)),r}function em(n,t){let e=Sl(n,t);if(e>=0)return n[e|1]}function Sl(n,t){return lN(n,t,1)}function lN(n,t,e){let r=0,i=n.length>>e;for(;i!==r;){let o=r+(i-r>>1),s=n[o<<e];if(t===s)return o<<e;s>t?i=o:r=o+1}return~(i<<e)}var mo={},pn=[],ui=new k(""),zC=new k("",-1),WC=new k(""),fd=class{get(t,e=fo){if(e===fo){let r=new Error(`NullInjectorError: No provider for ${Lt(t)}!`);throw r.name="NullInjectorError",r}return e}};function qC(n,t){let e=n[GP]||null;if(!e&&t===!0)throw new Error(`Type ${Lt(n)} does not have '\u0275mod' property.`);return e}function di(n){return n[zP]||null}function GC(n){return n[WP]||null}function KC(n){return n[qP]||null}function jr(n){return{\u0275providers:n}}function cN(...n){return{\u0275providers:mv(!0,n),\u0275fromNgModule:!0}}function mv(n,...t){let e=[],r=new Set,i,o=s=>{e.push(s)};return gv(t,s=>{let a=s;wm(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&YC(i,o),e}function YC(n,t){for(let e=0;e<n.length;e++){let{ngModule:r,providers:i}=n[e];vv(i,o=>{t(o,r)})}}function wm(n,t,e,r){if(n=Tt(n),!n)return!1;let i=null,o=OE(n),s=!o&&di(n);if(!o&&!s){let l=n.ngModule;if(o=OE(l),o)i=l;else return!1}else{if(s&&!s.standalone)return!1;i=n}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let l=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let c of l)wm(c,t,e,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let c;try{gv(o.imports,u=>{wm(u,t,e,r)&&(c||=[],c.push(u))})}finally{}c!==void 0&&YC(c,t)}if(!a){let c=go(i)||(()=>new i);t({provide:i,useFactory:c,deps:pn},i),t({provide:WC,useValue:i,multi:!0},i),t({provide:ui,useValue:()=>U(i),multi:!0},i)}let l=o.providers;if(l!=null&&!a){let c=n;vv(l,u=>{t(u,c)})}}else return!1;return i!==n&&n.providers!==void 0}function vv(n,t){for(let e of n)LC(e)&&(e=e.\u0275providers),Array.isArray(e)?vv(e,t):t(e)}var uN=De({provide:String,useValue:De});function ZC(n){return n!==null&&typeof n=="object"&&uN in n}function dN(n){return!!(n&&n.useExisting)}function hN(n){return!!(n&&n.useFactory)}function Os(n){return typeof n=="function"}function fN(n){return!!n.useClass}var jd=new k(""),td={},NE={},tm;function yv(){return tm===void 0&&(tm=new fd),tm}var vt=class{},_l=class extends vt{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(t,e,r,i){super(),this.parent=e,this.source=r,this.scopes=i,Cm(t,s=>this.processProvider(s)),this.records.set(zC,Es(void 0,this)),i.has("environment")&&this.records.set(vt,Es(void 0,this));let o=this.records.get(jd);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(WC,pn,X.Self))}retrieve(t,e){let r=e;return this.get(t,r.optional?mu:fo,r)}destroy(){ml(this),this._destroyed=!0;let t=le(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let e=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of e)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),le(t)}}onDestroy(t){return ml(this),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){ml(this);let e=Dr(this),r=Ft(void 0),i;try{return t()}finally{Dr(e),Ft(r)}}get(t,e=fo,r=X.Default){if(ml(this),t.hasOwnProperty(kE))return t[kE](this);r=Ld(r);let i,o=Dr(this),s=Ft(void 0);try{if(!(r&X.SkipSelf)){let l=this.records.get(t);if(l===void 0){let c=yN(t)&&Fd(t);c&&this.injectableDefInScope(c)?l=Es(Em(t),td):l=null,this.records.set(t,l)}if(l!=null)return this.hydrate(t,l,r)}let a=r&X.Self?yv():this.parent;return e=r&X.Optional&&e===fo?null:e,a.get(t,e)}catch(a){if(a.name==="NullInjectorError"){if((a[dd]=a[dd]||[]).unshift(Lt(t)),o)throw a;return tN(a,t,"R3InjectorError",this.source)}else throw a}finally{Ft(s),Dr(o)}}resolveInjectorInitializers(){let t=le(null),e=Dr(this),r=Ft(void 0),i;try{let o=this.get(ui,pn,X.Self);for(let s of o)s()}finally{Dr(e),Ft(r),le(t)}}toString(){let t=[],e=this.records;for(let r of e.keys())t.push(Lt(r));return`R3Injector[${t.join(", ")}]`}processProvider(t){t=Tt(t);let e=Os(t)?t:Tt(t&&t.provide),r=gN(t);if(!Os(t)&&t.multi===!0){let i=this.records.get(e);i||(i=Es(void 0,td,!0),i.factory=()=>bm(i.multi),this.records.set(e,i)),e=t,i.multi.push(t)}this.records.set(e,r)}hydrate(t,e,r){let i=le(null);try{return e.value===NE?jC(Lt(t)):e.value===td&&(e.value=NE,e.value=e.factory(void 0,r)),typeof e.value=="object"&&e.value&&vN(e.value)&&this._ngOnDestroyHooks.add(e.value),e.value}finally{le(i)}}injectableDefInScope(t){if(!t.providedIn)return!1;let e=Tt(t.providedIn);return typeof e=="string"?e==="any"||this.scopes.has(e):this.injectorDefTypes.has(e)}removeOnDestroy(t){let e=this._onDestroyHooks.indexOf(t);e!==-1&&this._onDestroyHooks.splice(e,1)}};function Em(n){let t=Fd(n),e=t!==null?t.factory:go(n);if(e!==null)return e;if(n instanceof k)throw new P(204,!1);if(n instanceof Function)return pN(n);throw new P(204,!1)}function pN(n){if(n.length>0)throw new P(204,!1);let e=$P(n);return e!==null?()=>e.factory(n):()=>new n}function gN(n){if(ZC(n))return Es(void 0,n.useValue);{let t=JC(n);return Es(t,td)}}function JC(n,t,e){let r;if(Os(n)){let i=Tt(n);return go(i)||Em(i)}else if(ZC(n))r=()=>Tt(n.useValue);else if(hN(n))r=()=>n.useFactory(...bm(n.deps||[]));else if(dN(n))r=(i,o)=>U(Tt(n.useExisting),o!==void 0&&o&X.Optional?X.Optional:void 0);else{let i=Tt(n&&(n.useClass||n.provide));if(mN(n))r=()=>new i(...bm(n.deps));else return go(i)||Em(i)}return r}function ml(n){if(n.destroyed)throw new P(205,!1)}function Es(n,t,e=!1){return{factory:n,value:t,multi:e?[]:void 0}}function mN(n){return!!n.deps}function vN(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function yN(n){return typeof n=="function"||typeof n=="object"&&n instanceof k}function Cm(n,t){for(let e of n)Array.isArray(e)?Cm(e,t):e&&LC(e)?Cm(e.\u0275providers,t):t(e)}function $t(n,t){let e;n instanceof _l?(ml(n),e=n):e=new ud(n);let r,i=Dr(e),o=Ft(void 0);try{return t()}finally{Dr(i),Ft(o)}}function XC(){return VC()!==void 0||dl()!=null}function QC(n){if(!XC())throw new P(-203,!1)}function _N(n){return typeof n=="function"}var on=0,q=1,K=2,st=3,Sn=4,On=5,Yn=6,pd=7,Vt=8,Zn=9,Rr=10,Ae=11,bl=12,FE=13,Vs=14,mn=15,vo=16,Cs=17,kr=18,Vd=19,eD=20,ci=21,nm=22,gd=23,gn=24,Is=25,Ye=26,tD=1,Pr=6,Nr=7,md=8,Rs=9,jt=10;function In(n){return Array.isArray(n)&&typeof n[tD]=="object"}function tr(n){return Array.isArray(n)&&n[tD]===!0}function _v(n){return(n.flags&4)!==0}function Do(n){return n.componentOffset>-1}function Bd(n){return(n.flags&1)===1}function Jn(n){return!!n.template}function wl(n){return(n[K]&512)!==0}function xo(n){return(n[K]&256)===256}var Dm=class{previousValue;currentValue;firstChange;constructor(t,e,r){this.previousValue=t,this.currentValue=e,this.firstChange=r}isFirstChange(){return this.firstChange}};function nD(n,t,e,r){t!==null?t.applyValueToInputSignal(t,r):n[e]=r}var Rn=(()=>{let n=()=>rD;return n.ngInherit=!0,n})();function rD(n){return n.type.prototype.ngOnChanges&&(n.setInput=wN),bN}function bN(){let n=oD(this),t=n?.current;if(t){let e=n.previous;if(e===mo)n.previous=t;else for(let r in t)e[r]=t[r];n.current=null,this.ngOnChanges(t)}}function wN(n,t,e,r,i){let o=this.declaredInputs[r],s=oD(n)||EN(n,{previous:mo,current:null}),a=s.current||(s.current={}),l=s.previous,c=l[o];a[o]=new Dm(c&&c.currentValue,e,l===mo),nD(n,t,i,e)}var iD="__ngSimpleChanges__";function oD(n){return n[iD]||null}function EN(n,t){return n[iD]=t}var LE=null;var ye=function(n,t=null,e){LE?.(n,t,e)},CN="svg",DN="math";function Mn(n){for(;Array.isArray(n);)n=n[on];return n}function sD(n,t){return Mn(t[n])}function kn(n,t){return Mn(t[n.index])}function Ud(n,t){return n.data[t]}function aD(n,t){return n[t]}function xN(n,t,e,r){e>=n.data.length&&(n.data[e]=null,n.blueprint[e]=null),t[e]=r}function Xn(n,t){let e=t[n];return In(e)?e:e[on]}function SN(n){return(n[K]&4)===4}function bv(n){return(n[K]&128)===128}function IN(n){return tr(n[st])}function ks(n,t){return t==null?null:n[t]}function lD(n){n[Cs]=0}function cD(n){n[K]&1024||(n[K]|=1024,bv(n)&&Il(n))}function MN(n,t){for(;n>0;)t=t[Vs],n--;return t}function $d(n){return!!(n[K]&9216||n[gn]?.dirty)}function xm(n){n[Rr].changeDetectionScheduler?.notify(8),n[K]&64&&(n[K]|=1024),$d(n)&&Il(n)}function Il(n){n[Rr].changeDetectionScheduler?.notify(0);let t=yo(n);for(;t!==null&&!(t[K]&8192||(t[K]|=8192,!bv(t)));)t=yo(t)}function uD(n,t){if(xo(n))throw new P(911,!1);n[ci]===null&&(n[ci]=[]),n[ci].push(t)}function TN(n,t){if(n[ci]===null)return;let e=n[ci].indexOf(t);e!==-1&&n[ci].splice(e,1)}function yo(n){let t=n[st];return tr(t)?t[st]:t}function wv(n){return n[pd]??=[]}function Ev(n){return n.cleanup??=[]}function AN(n,t,e,r){let i=wv(t);i.push(e),n.firstCreatePass&&Ev(n).push(r,i.length-1)}var ne={lFrame:_D(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var Sm=!1;function ON(){return ne.lFrame.elementDepthCount}function RN(){ne.lFrame.elementDepthCount++}function kN(){ne.lFrame.elementDepthCount--}function Cv(){return ne.bindingsEnabled}function Ml(){return ne.skipHydrationRootTNode!==null}function PN(n){return ne.skipHydrationRootTNode===n}function NN(n){ne.skipHydrationRootTNode=n}function FN(){ne.skipHydrationRootTNode=null}function he(){return ne.lFrame.lView}function ht(){return ne.lFrame.tView}function at(n){return ne.lFrame.contextLView=n,n[Vt]}function lt(n){return ne.lFrame.contextLView=null,n}function Et(){let n=dD();for(;n!==null&&n.type===64;)n=n.parent;return n}function dD(){return ne.lFrame.currentTNode}function LN(){let n=ne.lFrame,t=n.currentTNode;return n.isParent?t:t.parent}function So(n,t){let e=ne.lFrame;e.currentTNode=n,e.isParent=t}function Dv(){return ne.lFrame.isParent}function hD(){ne.lFrame.isParent=!1}function fD(){return Sm}function jE(n){let t=Sm;return Sm=n,t}function pD(){let n=ne.lFrame,t=n.bindingRootIndex;return t===-1&&(t=n.bindingRootIndex=n.tView.bindingStartIndex),t}function gD(){return ne.lFrame.bindingIndex}function jN(n){return ne.lFrame.bindingIndex=n}function Hd(){return ne.lFrame.bindingIndex++}function xv(n){let t=ne.lFrame,e=t.bindingIndex;return t.bindingIndex=t.bindingIndex+n,e}function VN(){return ne.lFrame.inI18n}function BN(n,t){let e=ne.lFrame;e.bindingIndex=e.bindingRootIndex=n,Im(t)}function UN(){return ne.lFrame.currentDirectiveIndex}function Im(n){ne.lFrame.currentDirectiveIndex=n}function $N(n){let t=ne.lFrame.currentDirectiveIndex;return t===-1?null:n[t]}function mD(){return ne.lFrame.currentQueryIndex}function Sv(n){ne.lFrame.currentQueryIndex=n}function HN(n){let t=n[q];return t.type===2?t.declTNode:t.type===1?n[On]:null}function vD(n,t,e){if(e&X.SkipSelf){let i=t,o=n;for(;i=i.parent,i===null&&!(e&X.Host);)if(i=HN(o),i===null||(o=o[Vs],i.type&10))break;if(i===null)return!1;t=i,n=o}let r=ne.lFrame=yD();return r.currentTNode=t,r.lView=n,!0}function Iv(n){let t=yD(),e=n[q];ne.lFrame=t,t.currentTNode=e.firstChild,t.lView=n,t.tView=e,t.contextLView=n,t.bindingIndex=e.bindingStartIndex,t.inI18n=!1}function yD(){let n=ne.lFrame,t=n===null?null:n.child;return t===null?_D(n):t}function _D(n){let t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=t),t}function bD(){let n=ne.lFrame;return ne.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var wD=bD;function Mv(){let n=bD();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function zN(n){return(ne.lFrame.contextLView=MN(n,ne.lFrame.contextLView))[Vt]}function hi(){return ne.lFrame.selectedIndex}function _o(n){ne.lFrame.selectedIndex=n}function Tv(){let n=ne.lFrame;return Ud(n.tView,n.selectedIndex)}function ED(){return ne.lFrame.currentNamespace}var CD=!0;function zd(){return CD}function fi(n){CD=n}function WN(n,t,e){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=t.type.prototype;if(r){let s=rD(t);(e.preOrderHooks??=[]).push(n,s),(e.preOrderCheckHooks??=[]).push(n,s)}i&&(e.preOrderHooks??=[]).push(0-n,i),o&&((e.preOrderHooks??=[]).push(n,o),(e.preOrderCheckHooks??=[]).push(n,o))}function Av(n,t){for(let e=t.directiveStart,r=t.directiveEnd;e<r;e++){let o=n.data[e].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=o;s&&(n.contentHooks??=[]).push(-e,s),a&&((n.contentHooks??=[]).push(e,a),(n.contentCheckHooks??=[]).push(e,a)),l&&(n.viewHooks??=[]).push(-e,l),c&&((n.viewHooks??=[]).push(e,c),(n.viewCheckHooks??=[]).push(e,c)),u!=null&&(n.destroyHooks??=[]).push(e,u)}}function nd(n,t,e){DD(n,t,3,e)}function rd(n,t,e,r){(n[K]&3)===e&&DD(n,t,e,r)}function rm(n,t){let e=n[K];(e&3)===t&&(e&=16383,e+=1,n[K]=e)}function DD(n,t,e,r){let i=r!==void 0?n[Cs]&65535:0,o=r??-1,s=t.length-1,a=0;for(let l=i;l<s;l++)if(typeof t[l+1]=="number"){if(a=t[l],r!=null&&a>=r)break}else t[l]<0&&(n[Cs]+=65536),(a<o||o==-1)&&(qN(n,e,t,l),n[Cs]=(n[Cs]&4294901760)+l+2),l++}function VE(n,t){ye(4,n,t);let e=le(null);try{t.call(n)}finally{le(e),ye(5,n,t)}}function qN(n,t,e,r){let i=e[r]<0,o=e[r+1],s=i?-e[r]:e[r],a=n[s];i?n[K]>>14<n[Cs]>>16&&(n[K]&3)===t&&(n[K]+=16384,VE(a,o)):VE(a,o)}var Ms=-1,bo=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(t,e,r){this.factory=t,this.canSeeViewProviders=e,this.injectImpl=r}};function GN(n){return(n.flags&8)!==0}function KN(n){return(n.flags&16)!==0}function YN(n,t,e){let r=0;for(;r<e.length;){let i=e[r];if(typeof i=="number"){if(i!==0)break;r++;let o=e[r++],s=e[r++],a=e[r++];n.setAttribute(t,s,a,o)}else{let o=i,s=e[++r];ZN(o)?n.setProperty(t,o,s):n.setAttribute(t,o,s),r++}}return r}function xD(n){return n===3||n===4||n===6}function ZN(n){return n.charCodeAt(0)===64}function Ps(n,t){if(!(t===null||t.length===0))if(n===null||n.length===0)n=t.slice();else{let e=-1;for(let r=0;r<t.length;r++){let i=t[r];typeof i=="number"?e=i:e===0||(e===-1||e===2?BE(n,e,i,null,t[++r]):BE(n,e,i,null,null))}}return n}function BE(n,t,e,r,i){let o=0,s=n.length;if(t===-1)s=-1;else for(;o<n.length;){let a=n[o++];if(typeof a=="number"){if(a===t){s=-1;break}else if(a>t){s=o-1;break}}}for(;o<n.length;){let a=n[o];if(typeof a=="number")break;if(a===e){i!==null&&(n[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(n.splice(s,0,t),o=s+1),n.splice(o++,0,e),i!==null&&n.splice(o++,0,i)}function SD(n){return n!==Ms}function vd(n){return n&32767}function JN(n){return n>>16}function yd(n,t){let e=JN(n),r=t;for(;e>0;)r=r[Vs],e--;return r}var Mm=!0;function _d(n){let t=Mm;return Mm=n,t}var XN=256,ID=XN-1,MD=5,QN=0,Kn={};function e1(n,t,e){let r;typeof e=="string"?r=e.charCodeAt(0)||0:e.hasOwnProperty(yl)&&(r=e[yl]),r==null&&(r=e[yl]=QN++);let i=r&ID,o=1<<i;t.data[n+(i>>MD)]|=o}function bd(n,t){let e=TD(n,t);if(e!==-1)return e;let r=t[q];r.firstCreatePass&&(n.injectorIndex=t.length,im(r.data,n),im(t,null),im(r.blueprint,null));let i=Ov(n,t),o=n.injectorIndex;if(SD(i)){let s=vd(i),a=yd(i,t),l=a[q].data;for(let c=0;c<8;c++)t[o+c]=a[s+c]|l[s+c]}return t[o+8]=i,o}function im(n,t){n.push(0,0,0,0,0,0,0,0,t)}function TD(n,t){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||t[n.injectorIndex+8]===null?-1:n.injectorIndex}function Ov(n,t){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let e=0,r=null,i=t;for(;i!==null;){if(r=PD(i),r===null)return Ms;if(e++,i=i[Vs],r.injectorIndex!==-1)return r.injectorIndex|e<<16}return Ms}function Tm(n,t,e){e1(n,t,e)}function t1(n,t){if(t==="class")return n.classes;if(t==="style")return n.styles;let e=n.attrs;if(e){let r=e.length,i=0;for(;i<r;){let o=e[i];if(xD(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof e[i]=="string";)i++;else{if(o===t)return e[i+1];i=i+2}}}return null}function AD(n,t,e){if(e&X.Optional||n!==void 0)return n;pv(t,"NodeInjector")}function OD(n,t,e,r){if(e&X.Optional&&r===void 0&&(r=null),(e&(X.Self|X.Host))===0){let i=n[Zn],o=Ft(void 0);try{return i?i.get(t,r,e&X.Optional):BC(t,r,e&X.Optional)}finally{Ft(o)}}return AD(r,t,e)}function RD(n,t,e,r=X.Default,i){if(n!==null){if(t[K]&2048&&!(r&X.Self)){let s=o1(n,t,e,r,Kn);if(s!==Kn)return s}let o=kD(n,t,e,r,Kn);if(o!==Kn)return o}return OD(t,e,r,i)}function kD(n,t,e,r,i){let o=r1(e);if(typeof o=="function"){if(!vD(t,n,r))return r&X.Host?AD(i,e,r):OD(t,e,r,i);try{let s;if(s=o(r),s==null&&!(r&X.Optional))pv(e);else return s}finally{wD()}}else if(typeof o=="number"){let s=null,a=TD(n,t),l=Ms,c=r&X.Host?t[mn][On]:null;for((a===-1||r&X.SkipSelf)&&(l=a===-1?Ov(n,t):t[a+8],l===Ms||!$E(r,!1)?a=-1:(s=t[q],a=vd(l),t=yd(l,t)));a!==-1;){let u=t[q];if(UE(o,a,u.data)){let d=n1(a,t,e,s,r,c);if(d!==Kn)return d}l=t[a+8],l!==Ms&&$E(r,t[q].data[a+8]===c)&&UE(o,a,t)?(s=u,a=vd(l),t=yd(l,t)):a=-1}}return i}function n1(n,t,e,r,i,o){let s=t[q],a=s.data[n+8],l=r==null?Do(a)&&Mm:r!=s&&(a.type&3)!==0,c=i&X.Host&&o===a,u=id(a,s,e,l,c);return u!==null?El(t,s,u,a,i):Kn}function id(n,t,e,r,i){let o=n.providerIndexes,s=t.data,a=o&1048575,l=n.directiveStart,c=n.directiveEnd,u=o>>20,d=r?a:a+u,f=i?a+u:c;for(let h=d;h<f;h++){let p=s[h];if(h<l&&e===p||h>=l&&p.type===e)return h}if(i){let h=s[l];if(h&&Jn(h)&&h.type===e)return l}return null}function El(n,t,e,r,i){let o=n[e],s=t.data;if(o instanceof bo){let a=o;a.resolving&&jC(KP(s[e]));let l=_d(a.canSeeViewProviders);a.resolving=!0;let c,u=a.injectImpl?Ft(a.injectImpl):null,d=vD(n,r,X.Default);try{o=n[e]=a.factory(void 0,i,s,n,r),t.firstCreatePass&&e>=r.directiveStart&&WN(e,s[e],t)}finally{u!==null&&Ft(u),_d(l),a.resolving=!1,wD()}}return o}function r1(n){if(typeof n=="string")return n.charCodeAt(0)||0;let t=n.hasOwnProperty(yl)?n[yl]:void 0;return typeof t=="number"?t>=0?t&ID:i1:t}function UE(n,t,e){let r=1<<n;return!!(e[t+(n>>MD)]&r)}function $E(n,t){return!(n&X.Self)&&!(n&X.Host&&t)}var po=class{_tNode;_lView;constructor(t,e){this._tNode=t,this._lView=e}get(t,e,r){return RD(this._tNode,this._lView,t,Ld(r),e)}};function i1(){return new po(Et(),he())}function Vr(n){return xl(()=>{let t=n.prototype.constructor,e=t[cd]||Am(t),r=Object.prototype,i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){let o=i[cd]||Am(i);if(o&&o!==e)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Am(n){return kC(n)?()=>{let t=Am(Tt(n));return t&&t()}:go(n)}function o1(n,t,e,r,i){let o=n,s=t;for(;o!==null&&s!==null&&s[K]&2048&&!wl(s);){let a=kD(o,s,e,r|X.Self,Kn);if(a!==Kn)return a;let l=o.parent;if(!l){let c=s[eD];if(c){let u=c.get(e,Kn,r);if(u!==Kn)return u}l=PD(s),s=s[Vs]}o=l}return i}function PD(n){let t=n[q],e=t.type;return e===2?t.declTNode:e===1?n[On]:null}function Rv(n){return t1(Et(),n)}function HE(n,t=null,e=null,r){let i=ND(n,t,e,r);return i.resolveInjectorInitializers(),i}function ND(n,t=null,e=null,r,i=new Set){let o=[e||pn,cN(n)];return r=r||(typeof n=="object"?void 0:Lt(n)),new _l(o,t||yv(),r||null,i)}var Bt=class n{static THROW_IF_NOT_FOUND=fo;static NULL=new fd;static create(t,e){if(Array.isArray(t))return HE({name:""},e,t,"");{let r=t.name??"";return HE({name:r},t.parent,t.providers,r)}}static \u0275prov=F({token:n,providedIn:"any",factory:()=>U(zC)});static __NG_ELEMENT_ID__=-1};var s1=new k("");s1.__NG_ELEMENT_ID__=n=>{let t=Et();if(t===null)throw new P(204,!1);if(t.type&2)return t.value;if(n&X.Optional)return null;throw new P(204,!1)};var FD=!1,Bs=(()=>{class n{static __NG_ELEMENT_ID__=a1;static __NG_ENV_ID__=e=>e}return n})(),Om=class extends Bs{_lView;constructor(t){super(),this._lView=t}onDestroy(t){let e=this._lView;return xo(e)?(t(),()=>{}):(uD(e,t),()=>TN(e,t))}};function a1(){return new Om(he())}var wo=class{},Wd=new k("",{providedIn:"root",factory:()=>!1});var LD=new k(""),jD=new k(""),nr=(()=>{class n{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new Je(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let e=this.taskId++;return this.pendingTasks.add(e),e}has(e){return this.pendingTasks.has(e)}remove(e){this.pendingTasks.delete(e),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=F({token:n,providedIn:"root",factory:()=>new n})}return n})(),l1=(()=>{class n{internalPendingTasks=S(nr);scheduler=S(wo);add(){let e=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(e)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(e))}}run(e){return v(this,null,function*(){let r=this.add();try{return yield e()}finally{r()}})}static \u0275prov=F({token:n,providedIn:"root",factory:()=>new n})}return n})(),Rm=class extends qe{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(t=!1){super(),this.__isAsync=t,XC()&&(this.destroyRef=S(Bs,{optional:!0})??void 0,this.pendingTasks=S(nr,{optional:!0})??void 0)}emit(t){let e=le(null);try{super.next(t)}finally{le(e)}}subscribe(t,e,r){let i=t,o=e||(()=>null),s=r;if(t&&typeof t=="object"){let l=t;i=l.next?.bind(l),o=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return t instanceof Ze&&t.add(a),a}wrapInTimeout(t){return e=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{t(e)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},Ke=Rm;function wd(...n){}function VD(n){let t,e;function r(){n=wd;try{e!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(e),t!==void 0&&clearTimeout(t)}catch{}}return t=setTimeout(()=>{n(),r()}),typeof requestAnimationFrame=="function"&&(e=requestAnimationFrame(()=>{n(),r()})),()=>r()}function zE(n){return queueMicrotask(()=>n()),()=>{n=wd}}var kv="isAngularZone",Ed=kv+"_ID",c1=0,Le=class n{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new Ke(!1);onMicrotaskEmpty=new Ke(!1);onStable=new Ke(!1);onError=new Ke(!1);constructor(t){let{enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=FD}=t;if(typeof Zone>"u")throw new P(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,h1(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(kv)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new P(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new P(909,!1)}run(t,e,r){return this._inner.run(t,e,r)}runTask(t,e,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,t,u1,wd,wd);try{return o.runTask(s,e,r)}finally{o.cancelTask(s)}}runGuarded(t,e,r){return this._inner.runGuarded(t,e,r)}runOutsideAngular(t){return this._outer.run(t)}},u1={};function Pv(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function d1(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function t(){VD(()=>{n.callbackScheduled=!1,km(n),n.isCheckStableRunning=!0,Pv(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{t()}):n._outer.run(()=>{t()}),km(n)}function h1(n){let t=()=>{d1(n)},e=c1++;n._inner=n._inner.fork({name:"angular",properties:{[kv]:!0,[Ed]:e,[Ed+e]:!0},onInvokeTask:(r,i,o,s,a,l)=>{if(f1(l))return r.invokeTask(o,s,a,l);try{return WE(n),r.invokeTask(o,s,a,l)}finally{(n.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&t(),qE(n)}},onInvoke:(r,i,o,s,a,l,c)=>{try{return WE(n),r.invoke(o,s,a,l,c)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!p1(l)&&t(),qE(n)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(n._hasPendingMicrotasks=s.microTask,km(n),Pv(n)):s.change=="macroTask"&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}function km(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function WE(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function qE(n){n._nesting--,Pv(n)}var Pm=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new Ke;onMicrotaskEmpty=new Ke;onStable=new Ke;onError=new Ke;run(t,e,r){return t.apply(e,r)}runGuarded(t,e,r){return t.apply(e,r)}runOutsideAngular(t){return t()}runTask(t,e,r,i){return t.apply(e,r)}};function f1(n){return BD(n,"__ignore_ng_zone__")}function p1(n){return BD(n,"__scheduler_tick__")}function BD(n,t){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[t]===!0}var Qn=class{_console=console;handleError(t){this._console.error("ERROR",t)}},g1=new k("",{providedIn:"root",factory:()=>{let n=S(Le),t=S(Qn);return e=>n.runOutsideAngular(()=>t.handleError(e))}});function GE(n,t){return OC(n,t)}function m1(n){return OC(AC,n)}var UD=(GE.required=m1,GE);function v1(){return Us(Et(),he())}function Us(n,t){return new Ht(kn(n,t))}var Ht=(()=>{class n{nativeElement;constructor(e){this.nativeElement=e}static __NG_ELEMENT_ID__=v1}return n})();function y1(n){return n instanceof Ht?n.nativeElement:n}function _1(n){return typeof n=="function"&&n[fn]!==void 0}function $s(n,t){let e=Eg(n,t?.equal),r=e[fn];return e.set=i=>ul(r,i),e.update=i=>Cg(r,i),e.asReadonly=b1.bind(e),e}function b1(){let n=this[fn];if(n.readonlyFn===void 0){let t=()=>this();t[fn]=n,n.readonlyFn=t}return n.readonlyFn}function $D(n){return _1(n)&&typeof n.set=="function"}function w1(){return this._results[Symbol.iterator]()}var Nm=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new qe}constructor(t=!1){this._emitDistinctChangesOnly=t}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){this.dirty=!1;let r=oN(t);(this._changesDetected=!iN(this._results,r,e))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(t){this._onDirty=t}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=w1},E1="ngSkipHydration",C1="ngskiphydration";function HD(n){let t=n.mergedAttrs;if(t===null)return!1;for(let e=0;e<t.length;e+=2){let r=t[e];if(typeof r=="number")return!1;if(typeof r=="string"&&r.toLowerCase()===C1)return!0}return!1}function zD(n){return n.hasAttribute(E1)}function Cd(n){return(n.flags&128)===128}function D1(n){if(Cd(n))return!0;let t=n.parent;for(;t;){if(Cd(n)||HD(t))return!0;t=t.parent}return!1}var WD=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(WD||{}),qD=new Map,x1=0;function S1(){return x1++}function I1(n){qD.set(n[Vd],n)}function Fm(n){qD.delete(n[Vd])}var KE="__ngContext__";function Hs(n,t){In(t)?(n[KE]=t[Vd],I1(t)):n[KE]=t}function GD(n){return YD(n[bl])}function KD(n){return YD(n[Sn])}function YD(n){for(;n!==null&&!tr(n);)n=n[Sn];return n}var Lm;function ZD(n){Lm=n}function qd(){if(Lm!==void 0)return Lm;if(typeof document<"u")return document;throw new P(210,!1)}var Or=new k("",{providedIn:"root",factory:()=>M1}),M1="ng",Nv=new k(""),pi=new k("",{providedIn:"platform",factory:()=>"unknown"});var Fv=new k("",{providedIn:"root",factory:()=>qd().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});function T1(){let n=new zs;return n.store=A1(qd(),S(Or)),n}var zs=(()=>{class n{static \u0275prov=F({token:n,providedIn:"root",factory:T1});store={};onSerializeCallbacks={};get(e,r){return this.store[e]!==void 0?this.store[e]:r}set(e,r){this.store[e]=r}remove(e){delete this.store[e]}hasKey(e){return this.store.hasOwnProperty(e)}get isEmpty(){return Object.keys(this.store).length===0}onSerialize(e,r){this.onSerializeCallbacks[e]=r}toJson(){for(let e in this.onSerializeCallbacks)if(this.onSerializeCallbacks.hasOwnProperty(e))try{this.store[e]=this.onSerializeCallbacks[e]()}catch(r){console.warn("Exception in onSerialize callback: ",r)}return JSON.stringify(this.store).replace(/</g,"\\u003C")}}return n})();function A1(n,t){let e=n.getElementById(t+"-state");if(e?.textContent)try{return JSON.parse(e.textContent)}catch(r){console.warn("Exception while restoring TransferState for app "+t,r)}return{}}var JD="h",XD="b",O1="f",R1="n",k1="e",P1="t",Lv="c",QD="x",Dd="r",N1="i",F1="n",ex="d";var L1="di",j1="s",V1="p";var Ju=new k(""),tx=!1,nx=new k("",{providedIn:"root",factory:()=>tx});var rx=new k(""),B1=!1,U1=new k(""),YE=new k("",{providedIn:"root",factory:()=>new Map}),jv=function(n){return n[n.CHANGE_DETECTION=0]="CHANGE_DETECTION",n[n.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",n}(jv||{}),Ws=new k(""),ZE=new Set;function rr(n){ZE.has(n)||(ZE.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}var ix=(()=>{class n{view;node;constructor(e,r){this.view=e,this.node=r}static __NG_ELEMENT_ID__=$1}return n})();function $1(){return new ix(he(),Et())}var Ds=function(n){return n[n.EarlyRead=0]="EarlyRead",n[n.Write=1]="Write",n[n.MixedReadWrite=2]="MixedReadWrite",n[n.Read=3]="Read",n}(Ds||{}),ox=(()=>{class n{impl=null;execute(){this.impl?.execute()}static \u0275prov=F({token:n,providedIn:"root",factory:()=>new n})}return n})(),H1=[Ds.EarlyRead,Ds.Write,Ds.MixedReadWrite,Ds.Read],z1=(()=>{class n{ngZone=S(Le);scheduler=S(wo);errorHandler=S(Qn,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){S(Ws,{optional:!0})}execute(){let e=this.sequences.size>0;e&&ye(16),this.executing=!0;for(let r of H1)for(let i of this.sequences)if(!(i.erroredOrDestroyed||!i.hooks[r]))try{i.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let o=i.hooks[r];return o(i.pipelinedValue)},i.snapshot))}catch(o){i.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),e&&ye(17)}register(e){let{view:r}=e;r!==void 0?((r[Is]??=[]).push(e),Il(r),r[K]|=8192):this.executing?this.deferredRegistrations.add(e):this.addSequence(e)}addSequence(e){this.sequences.add(e),this.scheduler.notify(7)}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}maybeTrace(e,r){return r?r.run(jv.AFTER_NEXT_RENDER,e):e()}static \u0275prov=F({token:n,providedIn:"root",factory:()=>new n})}return n})(),jm=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(t,e,r,i,o,s=null){this.impl=t,this.hooks=e,this.view=r,this.once=i,this.snapshot=s,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let t=this.view?.[Is];t&&(this.view[Is]=t.filter(e=>e!==this))}};function Gd(n,t){!t?.injector&&QC(Gd);let e=t?.injector??S(Bt);return rr("NgAfterNextRender"),q1(n,e,t,!0)}function W1(n,t){if(n instanceof Function){let e=[void 0,void 0,void 0,void 0];return e[t]=n,e}else return[n.earlyRead,n.write,n.mixedReadWrite,n.read]}function q1(n,t,e,r){let i=t.get(ox);i.impl??=t.get(z1);let o=t.get(Ws,null,{optional:!0}),s=e?.phase??Ds.MixedReadWrite,a=e?.manualCleanup!==!0?t.get(Bs):null,l=t.get(ix,null,{optional:!0}),c=new jm(i.impl,W1(n,s),l?.view,r,a,o?.snapshot(null));return i.impl.register(c),c}var rn=function(n){return n[n.NOT_STARTED=0]="NOT_STARTED",n[n.IN_PROGRESS=1]="IN_PROGRESS",n[n.COMPLETE=2]="COMPLETE",n[n.FAILED=3]="FAILED",n}(rn||{}),JE=0,G1=1,ot=function(n){return n[n.Placeholder=0]="Placeholder",n[n.Loading=1]="Loading",n[n.Complete=2]="Complete",n[n.Error=3]="Error",n}(ot||{});var K1=0,Kd=1;var Y1=4,Z1=5;var J1=7,Ts=8,X1=9,sx=function(n){return n[n.Manual=0]="Manual",n[n.Playthrough=1]="Playthrough",n}(sx||{});function od(n,t){let e=eF(n),r=t[e];if(r!==null){for(let i of r)i();t[e]=null}}function Q1(n){od(1,n),od(0,n),od(2,n)}function eF(n){let t=Y1;return n===1?t=Z1:n===2&&(t=X1),t}function ax(n){return n+1}function Tl(n,t){let e=n[q],r=ax(t.index);return n[r]}function Yd(n,t){let e=ax(t.index);return n.data[e]}function tF(n,t,e){let r=t[q],i=Yd(r,e);switch(n){case ot.Complete:return i.primaryTmplIndex;case ot.Loading:return i.loadingTmplIndex;case ot.Error:return i.errorTmplIndex;case ot.Placeholder:return i.placeholderTmplIndex;default:return null}}function XE(n,t){return t===ot.Placeholder?n.placeholderBlockConfig?.[JE]??null:t===ot.Loading?n.loadingBlockConfig?.[JE]??null:null}function nF(n){return n.loadingBlockConfig?.[G1]??null}function QE(n,t){if(!n||n.length===0)return t;let e=new Set(n);for(let r of t)e.add(r);return n.length===e.size?n:Array.from(e)}function rF(n,t){let e=t.primaryTmplIndex+Ye;return Ud(n,e)}var Zd="ngb";var iF=(n,t,e)=>{let r=n,i=r.__jsaction_fns??new Map,o=i.get(t)??[];o.push(e),i.set(t,o),r.__jsaction_fns=i},oF=(n,t)=>{let e=n,r=e.getAttribute(Zd)??"",i=t.get(r)??new Set;i.has(e)||i.add(e),t.set(r,i)};var sF=n=>{n.removeAttribute(Kg.JSACTION),n.removeAttribute(Zd),n.__jsaction_fns=void 0},aF=new k("",{providedIn:"root",factory:()=>({})});function lx(n,t){let e=t?.__jsaction_fns?.get(n.type);if(!(!e||!t?.isConnected))for(let r of e)r(n)}var Vm=new Map;function lF(n,t){return Vm.set(n,t),()=>Vm.delete(n)}var eC=!1,cx=(n,t,e,r)=>{};function cF(n,t,e,r){cx(n,t,e,r)}function uF(){eC||(cx=(n,t,e,r)=>{let i=n[Zn].get(Or);Vm.get(i)?.(t,e,r)},eC=!0)}var Vv=new k("");var dF="__nghData__",ux=dF,hF="__nghDeferData__",fF=hF,om="ngh",pF="nghm",dx=()=>null;function gF(n,t,e=!1){let r=n.getAttribute(om);if(r==null)return null;let[i,o]=r.split("|");if(r=e?o:i,!r)return null;let s=o?`|${o}`:"",a=e?i:s,l={};if(r!==""){let u=t.get(zs,null,{optional:!0});u!==null&&(l=u.get(ux,[])[Number(r)])}let c={data:l,firstChild:n.firstChild??null};return e&&(c.firstChild=n,Jd(c,0,n.nextSibling)),a?n.setAttribute(om,a):n.removeAttribute(om),c}function mF(){dx=gF}function hx(n,t,e=!1){return dx(n,t,e)}function vF(n){let t=n._lView;return t[q].type===2?null:(wl(t)&&(t=t[Ye]),t)}function yF(n){return n.textContent?.replace(/\s/gm,"")}function _F(n){let t=qd(),e=t.createNodeIterator(n,NodeFilter.SHOW_COMMENT,{acceptNode(o){let s=yF(o);return s==="ngetn"||s==="ngtns"?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT}}),r,i=[];for(;r=e.nextNode();)i.push(r);for(let o of i)o.textContent==="ngetn"?o.replaceWith(t.createTextNode("")):o.remove()}function Jd(n,t,e){n.segmentHeads??={},n.segmentHeads[t]=e}function Bm(n,t){return n.segmentHeads?.[t]??null}function bF(n){return n.get(U1,!1,{optional:!0})}function wF(n,t){let e=n.data,r=e[k1]?.[t]??null;return r===null&&e[Lv]?.[t]&&(r=Bv(n,t)),r}function fx(n,t){return n.data[Lv]?.[t]??null}function Bv(n,t){let e=fx(n,t)??[],r=0;for(let i of e)r+=i[Dd]*(i[QD]??1);return r}function EF(n){if(typeof n.disconnectedNodes>"u"){let t=n.data[ex];n.disconnectedNodes=t?new Set(t):null}return n.disconnectedNodes}function Al(n,t){if(typeof n.disconnectedNodes>"u"){let e=n.data[ex];n.disconnectedNodes=e?new Set(e):null}return!!EF(n)?.has(t)}function CF(n,t){let e=t.get(Vv),i=t.get(zs).get(fF,{}),o=!1,s=n,a=null,l=[];for(;!o&&s;){o=e.has(s);let c=e.hydrating.get(s);if(a===null&&c!=null){a=c.promise;break}l.unshift(s),s=i[s][V1]}return{parentBlockPromise:a,hydrationQueue:l}}function sm(n){return!!n&&n.nodeType===Node.COMMENT_NODE&&n.textContent?.trim()===pF}function tC(n){for(;n&&n.nodeType===Node.TEXT_NODE;)n=n.previousSibling;return n}function DF(n){for(let r of n.body.childNodes)if(sm(r))return;let t=tC(n.body.previousSibling);if(sm(t))return;let e=tC(n.head.lastChild);if(!sm(e))throw new P(-507,!1)}function px(n,t){let e=n.contentQueries;if(e!==null){let r=le(null);try{for(let i=0;i<e.length;i+=2){let o=e[i],s=e[i+1];if(s!==-1){let a=n.data[s];Sv(o),a.contentQueries(2,t[s],s)}}}finally{le(r)}}}function Um(n,t,e){Sv(0);let r=le(null);try{t(n,e)}finally{le(r)}}function Uv(n,t,e){if(_v(t)){let r=le(null);try{let i=t.directiveStart,o=t.directiveEnd;for(let s=i;s<o;s++){let a=n.data[s];if(a.contentQueries){let l=e[s];a.contentQueries(1,l,s)}}}finally{le(r)}}}var er=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(er||{});var Xu;function xF(){if(Xu===void 0&&(Xu=null,li.trustedTypes))try{Xu=li.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Xu}function nC(n){return xF()?.createScriptURL(n)||n}var xd=class{changingThisBreaksApplicationSecurity;constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${TC})`}};function Ol(n){return n instanceof xd?n.changingThisBreaksApplicationSecurity:n}function $v(n,t){let e=SF(n);if(e!=null&&e!==t){if(e==="ResourceURL"&&t==="URL")return!0;throw new Error(`Required a safe ${t}, got a ${e} (see ${TC})`)}return e===t}function SF(n){return n instanceof xd&&n.getTypeName()||null}var IF=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function gx(n){return n=String(n),n.match(IF)?n:"unsafe:"+n}var MF=/^>|^->|<!--|-->|--!>|<!-$/g,TF=/(<|>)/g,AF="\u200B$1\u200B";function OF(n){return n.replace(MF,t=>t.replace(TF,AF))}function mx(n,t){return n.createText(t)}function RF(n,t,e){n.setValue(t,e)}function vx(n,t){return n.createComment(OF(t))}function Hv(n,t,e){return n.createElement(t,e)}function Sd(n,t,e,r,i){n.insertBefore(t,e,r,i)}function yx(n,t,e){n.appendChild(t,e)}function rC(n,t,e,r,i){r!==null?Sd(n,t,e,r,i):yx(n,t,e)}function zv(n,t,e){n.removeChild(null,t,e)}function _x(n){n.textContent=""}function kF(n,t,e){n.setAttribute(t,"style",e)}function PF(n,t,e){e===""?n.removeAttribute(t,"class"):n.setAttribute(t,"class",e)}function bx(n,t,e){let{mergedAttrs:r,classes:i,styles:o}=e;r!==null&&YN(n,t,r),i!==null&&PF(n,t,i),o!==null&&kF(n,t,o)}var Xd=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(Xd||{});function NF(n){let t=Ex();return t?t.sanitize(Xd.URL,n)||"":$v(n,"URL")?Ol(n):gx(Ar(n))}function FF(n){let t=Ex();if(t)return nC(t.sanitize(Xd.RESOURCE_URL,n)||"");if($v(n,"ResourceURL"))return nC(Ol(n));throw new P(904,!1)}function LF(n,t){return t==="src"&&(n==="embed"||n==="frame"||n==="iframe"||n==="media"||n==="script")||t==="href"&&(n==="base"||n==="link")?FF:NF}function wx(n,t,e){return LF(t,e)(n)}function Ex(){let n=he();return n&&n[Rr].sanitizer}function jF(n){return n.ownerDocument.body}function Cx(n){return n instanceof Function?n():n}function VF(n,t,e){let r=n.length;for(;;){let i=n.indexOf(t,e);if(i===-1)return i;if(i===0||n.charCodeAt(i-1)<=32){let o=t.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}e=i+1}}var Dx="ng-template";function BF(n,t,e,r){let i=0;if(r){for(;i<t.length&&typeof t[i]=="string";i+=2)if(t[i]==="class"&&VF(t[i+1].toLowerCase(),e,0)!==-1)return!0}else if(Wv(n))return!1;if(i=t.indexOf(1,i),i>-1){let o;for(;++i<t.length&&typeof(o=t[i])=="string";)if(o.toLowerCase()===e)return!0}return!1}function Wv(n){return n.type===4&&n.value!==Dx}function UF(n,t,e){let r=n.type===4&&!e?Dx:n.value;return t===r}function $F(n,t,e){let r=4,i=n.attrs,o=i!==null?WF(i):0,s=!1;for(let a=0;a<t.length;a++){let l=t[a];if(typeof l=="number"){if(!s&&!xn(r)&&!xn(l))return!1;if(s&&xn(l))continue;s=!1,r=l|r&1;continue}if(!s)if(r&4){if(r=2|r&1,l!==""&&!UF(n,l,e)||l===""&&t.length===1){if(xn(r))return!1;s=!0}}else if(r&8){if(i===null||!BF(n,i,l,e)){if(xn(r))return!1;s=!0}}else{let c=t[++a],u=HF(l,i,Wv(n),e);if(u===-1){if(xn(r))return!1;s=!0;continue}if(c!==""){let d;if(u>o?d="":d=i[u+1].toLowerCase(),r&2&&c!==d){if(xn(r))return!1;s=!0}}}}return xn(r)||s}function xn(n){return(n&1)===0}function HF(n,t,e,r){if(t===null)return-1;let i=0;if(r||!e){let o=!1;for(;i<t.length;){let s=t[i];if(s===n)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=t[++i];for(;typeof a=="string";)a=t[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return qF(t,n)}function zF(n,t,e=!1){for(let r=0;r<t.length;r++)if($F(n,t[r],e))return!0;return!1}function WF(n){for(let t=0;t<n.length;t++){let e=n[t];if(xD(e))return t}return n.length}function qF(n,t){let e=n.indexOf(4);if(e>-1)for(e++;e<n.length;){let r=n[e];if(typeof r=="number")return-1;if(r===t)return e;e++}return-1}function iC(n,t){return n?":not("+t.trim()+")":t}function GF(n){let t=n[0],e=1,r=2,i="",o=!1;for(;e<n.length;){let s=n[e];if(typeof s=="string")if(r&2){let a=n[++e];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!xn(s)&&(t+=iC(o,i),i=""),r=s,o=o||!xn(r);e++}return i!==""&&(t+=iC(o,i)),t}function KF(n){return n.map(GF).join(",")}function YF(n){let t=[],e=[],r=1,i=2;for(;r<n.length;){let o=n[r];if(typeof o=="string")i===2?o!==""&&t.push(o,n[++r]):i===8&&e.push(o);else{if(!xn(i))break;i=o}r++}return e.length&&t.push(1,...e),t}var Pn={};function qv(n,t,e,r,i,o,s,a,l,c,u){let d=Ye+r,f=d+i,h=ZF(d,f),p=typeof c=="function"?c():c;return h[q]={type:n,blueprint:h,template:e,queries:null,viewQuery:a,declTNode:t,data:h.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:f,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:l,consts:p,incompleteFirstPass:!1,ssrId:u}}function ZF(n,t){let e=[];for(let r=0;r<t;r++)e.push(r<n?null:Pn);return e}function JF(n){let t=n.tView;return t===null||t.incompleteFirstPass?n.tView=qv(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):t}function Gv(n,t,e,r,i,o,s,a,l,c,u){let d=t.blueprint.slice();return d[on]=i,d[K]=r|4|128|8|64|1024,(c!==null||n&&n[K]&2048)&&(d[K]|=2048),lD(d),d[st]=d[Vs]=n,d[Vt]=e,d[Rr]=s||n&&n[Rr],d[Ae]=a||n&&n[Ae],d[Zn]=l||n&&n[Zn]||null,d[On]=o,d[Vd]=S1(),d[Yn]=u,d[eD]=c,d[mn]=t.type==2?n[mn]:d,d}function XF(n,t,e){let r=kn(t,n),i=JF(e),o=n[Rr].rendererFactory,s=Kv(n,Gv(n,i,null,xx(e),r,t,null,o.createRenderer(r,e),null,null,null));return n[t.index]=s}function xx(n){let t=16;return n.signals?t=4096:n.onPush&&(t=64),t}function Sx(n,t,e,r){if(e===0)return-1;let i=t.length;for(let o=0;o<e;o++)t.push(r),n.blueprint.push(r),n.data.push(null);return i}function Kv(n,t){return n[bl]?n[FE][Sn]=t:n[bl]=t,n[FE]=t,t}function M(n=1){Ix(ht(),he(),hi()+n,!1)}function Ix(n,t,e,r){if(!r)if((t[K]&3)===3){let o=n.preOrderCheckHooks;o!==null&&nd(t,o,e)}else{let o=n.preOrderHooks;o!==null&&rd(t,o,0,e)}_o(e)}var Qd=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(Qd||{});function $m(n,t,e,r){let i=le(null);try{let[o,s,a]=n.inputs[e],l=null;(s&Qd.SignalBased)!==0&&(l=t[o][fn]),l!==null&&l.transformFn!==void 0?r=l.transformFn(r):a!==null&&(r=a.call(t,r)),n.setInput!==null?n.setInput(t,l,r,e,o):nD(t,l,o,r)}finally{le(i)}}function Mx(n,t,e,r,i){let o=hi(),s=r&2;try{_o(-1),s&&t.length>Ye&&Ix(n,t,Ye,!1),ye(s?2:0,i),e(r,i)}finally{_o(o),ye(s?3:1,i)}}function eh(n,t,e){oL(n,t,e),(e.flags&64)===64&&sL(n,t,e)}function Yv(n,t,e=kn){let r=t.localNames;if(r!==null){let i=t.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?e(t,n):n[s];n[i++]=a}}}function QF(n,t,e,r){let o=r.get(nx,tx)||e===er.ShadowDom,s=n.selectRootElement(t,o);return eL(s),s}function eL(n){Tx(n)}var Tx=()=>null;function tL(n){zD(n)?_x(n):_F(n)}function nL(){Tx=tL}function rL(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function Ax(n,t,e,r,i,o,s,a){if(!a&&Xv(t,n,e,r,i)){Do(t)&&iL(e,t.index);return}if(t.type&3){let l=kn(t,e);r=rL(r),i=s!=null?s(i,t.value||"",r):i,o.setProperty(l,r,i)}else t.type&12}function iL(n,t){let e=Xn(t,n);e[K]&16||(e[K]|=64)}function oL(n,t,e){let r=e.directiveStart,i=e.directiveEnd;Do(e)&&XF(t,e,n.data[r+e.componentOffset]),n.firstCreatePass||bd(e,t);let o=e.initialInputs;for(let s=r;s<i;s++){let a=n.data[s],l=El(t,n,s,e);if(Hs(l,t),o!==null&&uL(t,s-r,l,a,e,o),Jn(a)){let c=Xn(e.index,t);c[Vt]=El(t,n,s,e)}}}function sL(n,t,e){let r=e.directiveStart,i=e.directiveEnd,o=e.index,s=UN();try{_o(o);for(let a=r;a<i;a++){let l=n.data[a],c=t[a];Im(a),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&aL(l,c)}}finally{_o(-1),Im(s)}}function aL(n,t){n.hostBindings!==null&&n.hostBindings(1,t)}function Zv(n,t){let e=n.directiveRegistry,r=null;if(e)for(let i=0;i<e.length;i++){let o=e[i];zF(t,o.selectors,!1)&&(r??=[],Jn(o)?r.unshift(o):r.push(o))}return r}function lL(n,t,e,r,i,o){let s=kn(n,t);cL(t[Ae],s,o,n.value,e,r,i)}function cL(n,t,e,r,i,o,s){if(o==null)n.removeAttribute(t,i,e);else{let a=s==null?Ar(o):s(o,r||"",i);n.setAttribute(t,i,a,e)}}function uL(n,t,e,r,i,o){let s=o[t];if(s!==null)for(let a=0;a<s.length;a+=2){let l=s[a],c=s[a+1];$m(r,e,l,c)}}function Jv(n,t){let e=n[Zn],r=e?e.get(Qn,null):null;r&&r.handleError(t)}function Xv(n,t,e,r,i){let o=n.inputs?.[r],s=n.hostDirectiveInputs?.[r],a=!1;if(s)for(let l=0;l<s.length;l+=2){let c=s[l],u=s[l+1],d=t.data[c];$m(d,e[c],u,i),a=!0}if(o)for(let l of o){let c=e[l],u=t.data[l];$m(u,c,r,i),a=!0}return a}function dL(n,t){let e=Xn(t,n),r=e[q];hL(r,e);let i=e[on];i!==null&&e[Yn]===null&&(e[Yn]=hx(i,e[Zn])),ye(18),Qv(r,e,e[Vt]),ye(19,e[Vt])}function hL(n,t){for(let e=t.length;e<n.blueprint.length;e++)t.push(n.blueprint[e])}function Qv(n,t,e){Iv(t);try{let r=n.viewQuery;r!==null&&Um(1,r,e);let i=n.template;i!==null&&Mx(n,t,i,1,e),n.firstCreatePass&&(n.firstCreatePass=!1),t[kr]?.finishViewCreation(n),n.staticContentQueries&&px(n,t),n.staticViewQueries&&Um(2,n.viewQuery,e);let o=n.components;o!==null&&fL(t,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{t[K]&=-5,Mv()}}function fL(n,t){for(let e=0;e<t.length;e++)dL(n,t[e])}function Ox(n,t,e,r){let i=le(null);try{let o=t.tView,a=n[K]&4096?4096:16,l=Gv(n,o,e,a,null,t,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),c=n[t.index];l[vo]=c;let u=n[kr];return u!==null&&(l[kr]=u.createEmbeddedView(o)),Qv(o,l,e),l}finally{le(i)}}function Hm(n,t){return!t||t.firstChild===null||Cd(n)}var pL;function ey(n,t){return pL(n,t)}var Fr=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(Fr||{});function qs(n){return(n.flags&32)===32}function xs(n,t,e,r,i){if(r!=null){let o,s=!1;tr(r)?o=r:In(r)&&(s=!0,r=r[on]);let a=Mn(r);n===0&&e!==null?i==null?yx(t,e,a):Sd(t,e,a,i||null,!0):n===1&&e!==null?Sd(t,e,a,i||null,!0):n===2?zv(t,a,s):n===3&&t.destroyNode(a),o!=null&&SL(t,n,o,e,i)}}function gL(n,t){Rx(n,t),t[on]=null,t[On]=null}function mL(n,t,e,r,i,o){r[on]=i,r[On]=t,nh(n,r,e,1,i,o)}function Rx(n,t){t[Rr].changeDetectionScheduler?.notify(9),nh(n,t,t[Ae],2,null,null)}function vL(n){let t=n[bl];if(!t)return am(n[q],n);for(;t;){let e=null;if(In(t))e=t[bl];else{let r=t[jt];r&&(e=r)}if(!e){for(;t&&!t[Sn]&&t!==n;)In(t)&&am(t[q],t),t=t[st];t===null&&(t=n),In(t)&&am(t[q],t),e=t&&t[Sn]}t=e}}function ty(n,t){let e=n[Rs],r=e.indexOf(t);e.splice(r,1)}function ny(n,t){if(xo(t))return;let e=t[Ae];e.destroyNode&&nh(n,t,e,3,null,null),vL(t)}function am(n,t){if(xo(t))return;let e=le(null);try{t[K]&=-129,t[K]|=256,t[gn]&&_g(t[gn]),_L(n,t),yL(n,t),t[q].type===1&&t[Ae].destroy();let r=t[vo];if(r!==null&&tr(t[st])){r!==t[st]&&ty(r,t);let i=t[kr];i!==null&&i.detachView(n)}Fm(t)}finally{le(e)}}function yL(n,t){let e=n.cleanup,r=t[pd];if(e!==null)for(let s=0;s<e.length-1;s+=2)if(typeof e[s]=="string"){let a=e[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[e[s+1]];e[s].call(a)}r!==null&&(t[pd]=null);let i=t[ci];if(i!==null){t[ci]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=t[gd];if(o!==null){t[gd]=null;for(let s of o)s.destroy()}}function _L(n,t){let e;if(n!=null&&(e=n.destroyHooks)!=null)for(let r=0;r<e.length;r+=2){let i=t[e[r]];if(!(i instanceof bo)){let o=e[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],l=o[s+1];ye(4,a,l);try{l.call(a)}finally{ye(5,a,l)}}else{ye(4,i,o);try{o.call(i)}finally{ye(5,i,o)}}}}}function bL(n,t,e){return wL(n,t.parent,e)}function wL(n,t,e){let r=t;for(;r!==null&&r.type&168;)t=r,r=t.parent;if(r===null)return e[on];if(Do(r)){let{encapsulation:i}=n.data[r.directiveStart+r.componentOffset];if(i===er.None||i===er.Emulated)return null}return kn(r,e)}function EL(n,t,e){return DL(n,t,e)}function CL(n,t,e){return n.type&40?kn(n,e):null}var DL=CL,oC;function th(n,t,e,r){let i=bL(n,r,t),o=t[Ae],s=r.parent||t[On],a=EL(s,r,t);if(i!=null)if(Array.isArray(e))for(let l=0;l<e.length;l++)rC(o,i,e[l],a,!1);else rC(o,i,e,a,!1);oC!==void 0&&oC(o,r,t,e,i)}function vl(n,t){if(t!==null){let e=t.type;if(e&3)return kn(t,n);if(e&4)return zm(-1,n[t.index]);if(e&8){let r=t.child;if(r!==null)return vl(n,r);{let i=n[t.index];return tr(i)?zm(-1,i):Mn(i)}}else{if(e&128)return vl(n,t.next);if(e&32)return ey(t,n)()||Mn(n[t.index]);{let r=kx(n,t);if(r!==null){if(Array.isArray(r))return r[0];let i=yo(n[mn]);return vl(i,r)}else return vl(n,t.next)}}}return null}function kx(n,t){if(t!==null){let r=n[mn][On],i=t.projection;return r.projection[i]}return null}function zm(n,t){let e=jt+n+1;if(e<t.length){let r=t[e],i=r[q].firstChild;if(i!==null)return vl(r,i)}return t[Nr]}function ry(n,t,e,r,i,o,s){for(;e!=null;){if(e.type===128){e=e.next;continue}let a=r[e.index],l=e.type;if(s&&t===0&&(a&&Hs(Mn(a),r),e.flags|=2),!qs(e))if(l&8)ry(n,t,e.child,r,i,o,!1),xs(t,n,i,a,o);else if(l&32){let c=ey(e,r),u;for(;u=c();)xs(t,n,i,u,o);xs(t,n,i,a,o)}else l&16?xL(n,t,r,e,i,o):xs(t,n,i,a,o);e=s?e.projectionNext:e.next}}function nh(n,t,e,r,i,o){ry(e,r,n.firstChild,t,i,o,!1)}function xL(n,t,e,r,i,o){let s=e[mn],l=s[On].projection[r.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++){let u=l[c];xs(t,n,i,u,o)}else{let c=l,u=s[st];Cd(r)&&(c.flags|=128),ry(n,t,c,u,i,o,!0)}}function SL(n,t,e,r,i){let o=e[Nr],s=Mn(e);o!==s&&xs(t,n,r,o,i);for(let a=jt;a<e.length;a++){let l=e[a];nh(l[q],l,n,t,r,o)}}function IL(n,t,e,r,i){if(t)i?n.addClass(e,r):n.removeClass(e,r);else{let o=r.indexOf("-")===-1?void 0:Fr.DashCase;i==null?n.removeStyle(e,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Fr.Important),n.setStyle(e,r,i,o))}}function Id(n,t,e,r,i=!1){for(;e!==null;){if(e.type===128){e=i?e.projectionNext:e.next;continue}let o=t[e.index];o!==null&&r.push(Mn(o)),tr(o)&&ML(o,r);let s=e.type;if(s&8)Id(n,t,e.child,r);else if(s&32){let a=ey(e,t),l;for(;l=a();)r.push(l)}else if(s&16){let a=kx(t,e);if(Array.isArray(a))r.push(...a);else{let l=yo(t[mn]);Id(l[q],l,a,r,!0)}}e=i?e.projectionNext:e.next}return r}function ML(n,t){for(let e=jt;e<n.length;e++){let r=n[e],i=r[q].firstChild;i!==null&&Id(r[q],r,i,t)}n[Nr]!==n[on]&&t.push(n[Nr])}function Px(n){if(n[Is]!==null){for(let t of n[Is])t.impl.addSequence(t);n[Is].length=0}}var Nx=[];function TL(n){return n[gn]??AL(n)}function AL(n){let t=Nx.pop()??Object.create(RL);return t.lView=n,t}function OL(n){n.lView[gn]!==n&&(n.lView=null,Nx.push(n))}var RL=ee(O({},ll),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{Il(n.lView)},consumerOnSignalRead(){this.lView[gn]=this}});function kL(n){let t=n[gn]??Object.create(PL);return t.lView=n,t}var PL=ee(O({},ll),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{let t=yo(n.lView);for(;t&&!Fx(t[q]);)t=yo(t);t&&cD(t)},consumerOnSignalRead(){this.lView[gn]=this}});function Fx(n){return n.type!==2}function Lx(n){if(n[gd]===null)return;let t=!0;for(;t;){let e=!1;for(let r of n[gd])r.dirty&&(e=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));t=e&&!!(n[K]&8192)}}var NL=100;function jx(n,t=!0,e=0){let i=n[Rr].rendererFactory,o=!1;o||i.begin?.();try{FL(n,e)}catch(s){throw t&&Jv(n,s),s}finally{o||i.end?.()}}function FL(n,t){let e=fD();try{jE(!0),Wm(n,t);let r=0;for(;$d(n);){if(r===NL)throw new P(103,!1);r++,Wm(n,1)}}finally{jE(e)}}function LL(n,t,e,r){if(xo(t))return;let i=t[K],o=!1,s=!1;Iv(t);let a=!0,l=null,c=null;o||(Fx(n)?(c=TL(t),l=hu(c)):fg()===null?(a=!1,c=kL(t),l=hu(c)):t[gn]&&(_g(t[gn]),t[gn]=null));try{lD(t),jN(n.bindingStartIndex),e!==null&&Mx(n,t,e,2,r);let u=(i&3)===3;if(!o)if(u){let h=n.preOrderCheckHooks;h!==null&&nd(t,h,null)}else{let h=n.preOrderHooks;h!==null&&rd(t,h,0,null),rm(t,0)}if(s||jL(t),Lx(t),Vx(t,0),n.contentQueries!==null&&px(n,t),!o)if(u){let h=n.contentCheckHooks;h!==null&&nd(t,h)}else{let h=n.contentHooks;h!==null&&rd(t,h,1),rm(t,1)}BL(n,t);let d=n.components;d!==null&&Ux(t,d,0);let f=n.viewQuery;if(f!==null&&Um(2,f,r),!o)if(u){let h=n.viewCheckHooks;h!==null&&nd(t,h)}else{let h=n.viewHooks;h!==null&&rd(t,h,2),rm(t,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),t[nm]){for(let h of t[nm])h();t[nm]=null}o||(Px(t),t[K]&=-73)}catch(u){throw o||Il(t),u}finally{c!==null&&(vg(c,l),a&&OL(c)),Mv()}}function Vx(n,t){for(let e=GD(n);e!==null;e=KD(e))for(let r=jt;r<e.length;r++){let i=e[r];Bx(i,t)}}function jL(n){for(let t=GD(n);t!==null;t=KD(t)){if(!(t[K]&2))continue;let e=t[Rs];for(let r=0;r<e.length;r++){let i=e[r];cD(i)}}}function VL(n,t,e){ye(18);let r=Xn(t,n);Bx(r,e),ye(19,r[Vt])}function Bx(n,t){bv(n)&&Wm(n,t)}function Wm(n,t){let r=n[q],i=n[K],o=n[gn],s=!!(t===0&&i&16);if(s||=!!(i&64&&t===0),s||=!!(i&1024),s||=!!(o?.dirty&&yg(o)),s||=!1,o&&(o.dirty=!1),n[K]&=-9217,s)LL(r,n,r.template,n[Vt]);else if(i&8192){Lx(n),Vx(n,1);let a=r.components;a!==null&&Ux(n,a,1),Px(n)}}function Ux(n,t,e){for(let r=0;r<t.length;r++)VL(n,t[r],e)}function BL(n,t){let e=n.hostBindingOpCodes;if(e!==null)try{for(let r=0;r<e.length;r++){let i=e[r];if(i<0)_o(~i);else{let o=i,s=e[++r],a=e[++r];BN(s,o);let l=t[o];ye(24,l),a(2,l),ye(25,l)}}}finally{_o(-1)}}function rh(n,t){let e=fD()?64:1088;for(n[Rr].changeDetectionScheduler?.notify(t);n;){n[K]|=e;let r=yo(n);if(wl(n)&&!r)return n;n=r}return null}function $x(n,t,e,r){return[n,!0,0,t,null,r,null,e,null,null]}function Hx(n,t,e,r=!0){let i=t[q];if($L(i,t,n,e),r){let s=zm(e,n),a=t[Ae],l=a.parentNode(n[Nr]);l!==null&&mL(i,n[On],a,t,l,s)}let o=t[Yn];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function UL(n,t){let e=Md(n,t);return e!==void 0&&ny(e[q],e),e}function Md(n,t){if(n.length<=jt)return;let e=jt+t,r=n[e];if(r){let i=r[vo];i!==null&&i!==n&&ty(i,r),t>0&&(n[e-1][Sn]=r[Sn]);let o=hd(n,jt+t);gL(r[q],r);let s=o[kr];s!==null&&s.detachView(o[q]),r[st]=null,r[Sn]=null,r[K]&=-129}return r}function $L(n,t,e,r){let i=jt+r,o=e.length;r>0&&(e[i-1][Sn]=t),r<o-jt?(t[Sn]=e[i],HC(e,jt+r,t)):(e.push(t),t[Sn]=null),t[st]=e;let s=t[vo];s!==null&&e!==s&&zx(s,t);let a=t[kr];a!==null&&a.insertView(n),xm(t),t[K]|=128}function zx(n,t){let e=n[Rs],r=t[st];if(In(r))n[K]|=2;else{let i=r[st][mn];t[mn]!==i&&(n[K]|=2)}e===null?n[Rs]=[t]:e.push(t)}var Cl=class{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){let t=this._lView,e=t[q];return Id(e,t,e.firstChild,[])}constructor(t,e,r=!0){this._lView=t,this._cdRefInjectingView=e,this.notifyErrorHandler=r}get context(){return this._lView[Vt]}set context(t){this._lView[Vt]=t}get destroyed(){return xo(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let t=this._lView[st];if(tr(t)){let e=t[md],r=e?e.indexOf(this):-1;r>-1&&(Md(t,r),hd(e,r))}this._attachedToViewContainer=!1}ny(this._lView[q],this._lView)}onDestroy(t){uD(this._lView,t)}markForCheck(){rh(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[K]&=-129}reattach(){xm(this._lView),this._lView[K]|=128}detectChanges(){this._lView[K]|=1024,jx(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new P(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let t=wl(this._lView),e=this._lView[vo];e!==null&&!t&&ty(e,this._lView),Rx(this._lView[q],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new P(902,!1);this._appRef=t;let e=wl(this._lView),r=this._lView[vo];r!==null&&!e&&zx(r,this._lView),xm(this._lView)}};var Eo=(()=>{class n{static __NG_ELEMENT_ID__=WL}return n})(),HL=Eo,zL=class extends HL{_declarationLView;_declarationTContainer;elementRef;constructor(t,e,r){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,e){return this.createEmbeddedViewImpl(t,e)}createEmbeddedViewImpl(t,e,r){let i=Ox(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:e,dehydratedView:r});return new Cl(i)}};function WL(){return iy(Et(),he())}function iy(n,t){return n.type&4?new zL(t,n,Us(n,t)):null}function ih(n,t,e,r,i){let o=n.data[t];if(o===null)o=qL(n,t,e,r,i),VN()&&(o.flags|=32);else if(o.type&64){o.type=e,o.value=r,o.attrs=i;let s=LN();o.injectorIndex=s===null?-1:s.injectorIndex}return So(o,!0),o}function qL(n,t,e,r,i){let o=dD(),s=Dv(),a=s?o:o&&o.parent,l=n.data[t]=KL(n,a,e,t,r,i);return GL(n,l,o,s),l}function GL(n,t,e,r){n.firstChild===null&&(n.firstChild=t),e!==null&&(r?e.child==null&&t.parent!==null&&(e.child=t):e.next===null&&(e.next=t,t.prev=e))}function KL(n,t,e,r,i,o){let s=t?t.injectorIndex:-1,a=0;return Ml()&&(a|=128),{type:e,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var YL=new RegExp(`^(\\d+)*(${XD}|${JD})*(.*)`);function ZL(n){let t=n.match(YL),[e,r,i,o]=t,s=r?parseInt(r,10):i,a=[];for(let[l,c,u]of o.matchAll(/(f|n)(\d*)/g)){let d=parseInt(u,10)||1;a.push(c,d)}return[s,...a]}function JL(n){return!n.prev&&n.parent?.type===8}function lm(n){return n.index-Ye}function XL(n,t){let e=n.i18nNodes;if(e)return e.get(t)}function oh(n,t,e,r){let i=lm(r),o=XL(n,i);if(o===void 0){let s=n.data[F1];if(s?.[i])o=ej(s[i],e);else if(t.firstChild===r)o=n.firstChild;else{let a=r.prev===null,l=r.prev??r.parent;if(JL(r)){let c=lm(r.parent);o=Bm(n,c)}else{let c=kn(l,e);if(a)o=c.firstChild;else{let u=lm(l),d=Bm(n,u);if(l.type===2&&d){let h=Bv(n,u)+1;o=sh(h,d)}else o=c.nextSibling}}}}return o}function sh(n,t){let e=t;for(let r=0;r<n;r++)e=e.nextSibling;return e}function QL(n,t){let e=n;for(let r=0;r<t.length;r+=2){let i=t[r],o=t[r+1];for(let s=0;s<o;s++)switch(i){case O1:e=e.firstChild;break;case R1:e=e.nextSibling;break}}return e}function ej(n,t){let[e,...r]=ZL(n),i;if(e===JD)i=t[mn][on];else if(e===XD)i=jF(t[mn][on]);else{let o=Number(e);i=Mn(t[o+Ye])}return QL(i,r)}var tj=!1;function nj(n){tj=n}function rj(n){let t=n[Yn];if(t){let{i18nNodes:e,dehydratedIcuData:r}=t;if(e&&r){let i=n[Ae];for(let o of r.values())ij(i,e,o)}t.i18nNodes=void 0,t.dehydratedIcuData=void 0}}function ij(n,t,e){for(let r of e.node.cases[e.case]){let i=t.get(r.index-Ye);i&&zv(n,i,!1)}}function Wx(n){let t=n[Pr]??[],r=n[st][Ae],i=[];for(let o of t)o.data[L1]!==void 0?i.push(o):qx(o,r);n[Pr]=i}function oj(n){let{lContainer:t}=n,e=t[Pr];if(e===null)return;let i=t[st][Ae];for(let o of e)qx(o,i)}function qx(n,t){let e=0,r=n.firstChild;if(r){let i=n.data[Dd];for(;e<i;){let o=r.nextSibling;zv(t,r,!1),r=o,e++}}}function ah(n){Wx(n);let t=n[on];In(t)&&Td(t);for(let e=jt;e<n.length;e++)Td(n[e])}function Td(n){rj(n);let t=n[q];for(let e=Ye;e<t.bindingStartIndex;e++)if(tr(n[e])){let r=n[e];ah(r)}else In(n[e])&&Td(n[e])}function Gx(n){let t=n._views;for(let e of t){let r=vF(e);r!==null&&r[on]!==null&&(In(r)?Td(r):ah(r))}}function sj(n,t,e,r){n!==null&&(e.cleanup(t),ah(n.lContainer),Gx(r))}function aj(n,t){let e=[];for(let r of t)for(let i=0;i<(r[QD]??1);i++){let o={data:r,firstChild:null};r[Dd]>0&&(o.firstChild=n,n=sh(r[Dd],n)),e.push(o)}return[n,e]}var Kx=()=>null;function lj(n,t){let e=n[Pr];return!t||e===null||e.length===0?null:e[0].data[N1]===t?e.shift():(Wx(n),null)}function cj(){Kx=lj}function sC(n,t){return Kx(n,t)}var uj=class{},Yx=class{},qm=class{resolveComponentFactory(t){throw Error(`No component factory found for ${Lt(t)}.`)}},lh=class{static NULL=new qm},Ns=class{},ir=(()=>{class n{destroyNode=null;static __NG_ELEMENT_ID__=()=>dj()}return n})();function dj(){let n=he(),t=Et(),e=Xn(t.index,n);return(In(e)?e:n)[Ae]}var hj=(()=>{class n{static \u0275prov=F({token:n,providedIn:"root",factory:()=>null})}return n})();var cm={},As=class{injector;parentInjector;constructor(t,e){this.injector=t,this.parentInjector=e}get(t,e,r){r=Ld(r);let i=this.injector.get(t,cm,r);return i!==cm||e===cm?i:this.parentInjector.get(t,e,r)}};function Gm(n,t,e){let r=e?n.styles:null,i=e?n.classes:null,o=0;if(t!==null)for(let s=0;s<t.length;s++){let a=t[s];if(typeof a=="number")o=a;else if(o==1)i=TE(i,a);else if(o==2){let l=a,c=t[++s];r=TE(r,l+": "+c+";")}}e?n.styles=r:n.stylesWithoutHost=r,e?n.classes=i:n.classesWithoutHost=i}function L(n,t=X.Default){let e=he();if(e===null)return U(n,t);let r=Et();return RD(r,e,Tt(n),t)}function Zx(){let n="invalid";throw new Error(n)}function oy(n,t,e,r,i){let o=r===null?null:{"":-1},s=i(n,e);if(s!==null){let a,l=null,c=null,u=pj(s);u===null?a=s:[a,l,c]=u,vj(n,t,e,a,o,l,c)}o!==null&&r!==null&&fj(e,r,o)}function fj(n,t,e){let r=n.localNames=[];for(let i=0;i<t.length;i+=2){let o=e[t[i+1]];if(o==null)throw new P(-301,!1);r.push(t[i],o)}}function pj(n){let t=null,e=!1;for(let s=0;s<n.length;s++){let a=n[s];if(s===0&&Jn(a)&&(t=a),a.findHostDirectiveDefs!==null){e=!0;break}}if(!e)return null;let r=null,i=null,o=null;for(let s of n)s.findHostDirectiveDefs!==null&&(r??=[],i??=new Map,o??=new Map,gj(s,r,o,i)),s===t&&(r??=[],r.push(s));return r!==null?(r.push(...t===null?n:n.slice(1)),[r,i,o]):null}function gj(n,t,e,r){let i=t.length;n.findHostDirectiveDefs(n,t,r),e.set(n,[i,t.length-1])}function mj(n,t,e){t.componentOffset=e,(n.components??=[]).push(t.index)}function vj(n,t,e,r,i,o,s){let a=r.length,l=!1;for(let f=0;f<a;f++){let h=r[f];!l&&Jn(h)&&(l=!0,mj(n,e,f)),Tm(bd(e,t),n,h.type)}Cj(e,n.data.length,a);for(let f=0;f<a;f++){let h=r[f];h.providersResolver&&h.providersResolver(h)}let c=!1,u=!1,d=Sx(n,t,a,null);a>0&&(e.directiveToIndex=new Map);for(let f=0;f<a;f++){let h=r[f];if(e.mergedAttrs=Ps(e.mergedAttrs,h.hostAttrs),_j(n,e,t,d,h),Ej(d,h,i),s!==null&&s.has(h)){let[g,m]=s.get(h);e.directiveToIndex.set(h.type,[d,g+e.directiveStart,m+e.directiveStart])}else(o===null||!o.has(h))&&e.directiveToIndex.set(h.type,d);h.contentQueries!==null&&(e.flags|=4),(h.hostBindings!==null||h.hostAttrs!==null||h.hostVars!==0)&&(e.flags|=64);let p=h.type.prototype;!c&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((n.preOrderHooks??=[]).push(e.index),c=!0),!u&&(p.ngOnChanges||p.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(e.index),u=!0),d++}yj(n,e,o)}function yj(n,t,e){for(let r=t.directiveStart;r<t.directiveEnd;r++){let i=n.data[r];if(e===null||!e.has(i))aC(0,t,i,r),aC(1,t,i,r),cC(t,r,!1);else{let o=e.get(i);lC(0,t,o,r),lC(1,t,o,r),cC(t,r,!0)}}}function aC(n,t,e,r){let i=n===0?e.inputs:e.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;n===0?s=t.inputs??={}:s=t.outputs??={},s[o]??=[],s[o].push(r),Jx(t,o)}}function lC(n,t,e,r){let i=n===0?e.inputs:e.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],a;n===0?a=t.hostDirectiveInputs??={}:a=t.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,o),Jx(t,s)}}function Jx(n,t){t==="class"?n.flags|=8:t==="style"&&(n.flags|=16)}function cC(n,t,e){let{attrs:r,inputs:i,hostDirectiveInputs:o}=n;if(r===null||!e&&i===null||e&&o===null||Wv(n)){n.initialInputs??=[],n.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let l=r[a];if(l===0){a+=4;continue}else if(l===5){a+=2;continue}else if(typeof l=="number")break;if(!e&&i.hasOwnProperty(l)){let c=i[l];for(let u of c)if(u===t){s??=[],s.push(l,r[a+1]);break}}else if(e&&o.hasOwnProperty(l)){let c=o[l];for(let u=0;u<c.length;u+=2)if(c[u]===t){s??=[],s.push(c[u+1],r[a+1]);break}}a+=2}n.initialInputs??=[],n.initialInputs.push(s)}function _j(n,t,e,r,i){n.data[r]=i;let o=i.factory||(i.factory=go(i.type,!0)),s=new bo(o,Jn(i),L);n.blueprint[r]=s,e[r]=s,bj(n,t,r,Sx(n,e,i.hostVars,Pn),i)}function bj(n,t,e,r,i){let o=i.hostBindings;if(o){let s=n.hostBindingOpCodes;s===null&&(s=n.hostBindingOpCodes=[]);let a=~t.index;wj(s)!=a&&s.push(a),s.push(e,r,o)}}function wj(n){let t=n.length;for(;t>0;){let e=n[--t];if(typeof e=="number"&&e<0)return e}return 0}function Ej(n,t,e){if(e){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)e[t.exportAs[r]]=n;Jn(t)&&(e[""]=n)}}function Cj(n,t,e){n.flags|=1,n.directiveStart=t,n.directiveEnd=t+e,n.providerIndexes=t}function Xx(n,t,e,r,i,o,s,a){let l=t.consts,c=ks(l,s),u=ih(t,n,2,r,c);return o&&oy(t,e,u,ks(l,a),i),u.mergedAttrs=Ps(u.mergedAttrs,u.attrs),u.attrs!==null&&Gm(u,u.attrs,!1),u.mergedAttrs!==null&&Gm(u,u.mergedAttrs,!0),t.queries!==null&&t.queries.elementStart(t,u),u}function Qx(n,t){Av(n,t),_v(t)&&n.queries.elementEnd(t)}var Ad=class extends lh{ngModule;constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){let e=di(t);return new Fs(e,this.ngModule)}};function Dj(n){return Object.keys(n).map(t=>{let[e,r,i]=n[t],o={propName:e,templateName:t,isSignal:(r&Qd.SignalBased)!==0};return i&&(o.transform=i),o})}function xj(n){return Object.keys(n).map(t=>({propName:n[t],templateName:t}))}function Sj(n,t,e){let r=t instanceof vt?t:t?.injector;return r&&n.getStandaloneInjector!==null&&(r=n.getStandaloneInjector(r)||r),r?new As(e,r):e}function Ij(n){let t=n.get(Ns,null);if(t===null)throw new P(407,!1);let e=n.get(hj,null),r=n.get(wo,null);return{rendererFactory:t,sanitizer:e,changeDetectionScheduler:r}}function Mj(n,t){let e=(n.selectors[0][0]||"div").toLowerCase();return Hv(t,e,e==="svg"?CN:e==="math"?DN:null)}var Fs=class extends Yx{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=Dj(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=xj(this.componentDef.outputs),this.cachedOutputs}constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=KF(t.selectors),this.ngContentSelectors=t.ngContentSelectors??[],this.isBoundToModule=!!e}create(t,e,r,i){ye(22);let o=le(null);try{let s=this.componentDef,a=r?["ng-version","19.2.17"]:YF(this.componentDef.selectors[0]),l=qv(0,null,null,1,0,null,null,null,null,[a],null),c=Sj(s,i||this.ngModule,t),u=Ij(c),d=u.rendererFactory.createRenderer(null,s),f=r?QF(d,r,s.encapsulation,c):Mj(s,d),h=Gv(null,l,null,512|xx(s),null,null,u,d,c,null,hx(f,c,!0));h[Ye]=f,Iv(h);let p=null;try{let g=Xx(Ye,l,h,"#host",()=>[this.componentDef],!0,0);f&&(bx(d,f,g),Hs(f,h)),eh(l,h,g),Uv(l,g,h),Qx(l,g),e!==void 0&&Tj(g,this.ngContentSelectors,e),p=Xn(g.index,h),h[Vt]=p[Vt],Qv(l,h,null)}catch(g){throw p!==null&&Fm(p),Fm(h),g}finally{ye(23),Mv()}return new Km(this.componentType,h)}finally{le(o)}}},Km=class extends uj{_rootLView;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(t,e){super(),this._rootLView=e,this._tNode=Ud(e[q],Ye),this.location=Us(this._tNode,e),this.instance=Xn(this._tNode.index,e)[Vt],this.hostView=this.changeDetectorRef=new Cl(e,void 0,!1),this.componentType=t}setInput(t,e){let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),e))return;let i=this._rootLView,o=Xv(r,i[q],i,t,e);this.previousInputValues.set(t,e);let s=Xn(r.index,i);rh(s,1)}get injector(){return new po(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}};function Tj(n,t,e){let r=n.projection=[];for(let i=0;i<t.length;i++){let o=e[i];r.push(o!=null&&o.length?Array.from(o):null)}}var gi=(()=>{class n{static __NG_ELEMENT_ID__=Aj}return n})();function Aj(){let n=Et();return tS(n,he())}var Oj=gi,eS=class extends Oj{_lContainer;_hostTNode;_hostLView;constructor(t,e,r){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=r}get element(){return Us(this._hostTNode,this._hostLView)}get injector(){return new po(this._hostTNode,this._hostLView)}get parentInjector(){let t=Ov(this._hostTNode,this._hostLView);if(SD(t)){let e=yd(t,this._hostLView),r=vd(t),i=e[q].data[r+8];return new po(i,e)}else return new po(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){let e=uC(this._lContainer);return e!==null&&e[t]||null}get length(){return this._lContainer.length-jt}createEmbeddedView(t,e,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=sC(this._lContainer,t.ssrId),a=t.createEmbeddedViewImpl(e||{},o,s);return this.insertImpl(a,i,Hm(this._hostTNode,s)),a}createComponent(t,e,r,i,o){let s=t&&!_N(t),a;if(s)a=e;else{let p=e||{};a=p.index,r=p.injector,i=p.projectableNodes,o=p.environmentInjector||p.ngModuleRef}let l=s?t:new Fs(di(t)),c=r||this.parentInjector;if(!o&&l.ngModule==null){let g=(s?c:this.parentInjector).get(vt,null);g&&(o=g)}let u=di(l.componentType??{}),d=sC(this._lContainer,u?.id??null),f=d?.firstChild??null,h=l.create(c,i,f,o);return this.insertImpl(h.hostView,a,Hm(this._hostTNode,d)),h}insert(t,e){return this.insertImpl(t,e,!0)}insertImpl(t,e,r){let i=t._lView;if(IN(i)){let a=this.indexOf(t);if(a!==-1)this.detach(a);else{let l=i[st],c=new eS(l,l[On],l[st]);c.detach(c.indexOf(t))}}let o=this._adjustIndex(e),s=this._lContainer;return Hx(s,i,o,r),t.attachToViewContainerRef(),HC(um(s),o,t),t}move(t,e){return this.insert(t,e)}indexOf(t){let e=uC(this._lContainer);return e!==null?e.indexOf(t):-1}remove(t){let e=this._adjustIndex(t,-1),r=Md(this._lContainer,e);r&&(hd(um(this._lContainer),e),ny(r[q],r))}detach(t){let e=this._adjustIndex(t,-1),r=Md(this._lContainer,e);return r&&hd(um(this._lContainer),e)!=null?new Cl(r):null}_adjustIndex(t,e=0){return t??this.length+e}};function uC(n){return n[md]}function um(n){return n[md]||(n[md]=[])}function tS(n,t){let e,r=t[n.index];return tr(r)?e=r:(e=$x(r,t,null,n),t[n.index]=e,Kv(t,e)),nS(e,t,n,r),new eS(e,n,t)}function Rj(n,t){let e=n[Ae],r=e.createComment(""),i=kn(t,n),o=e.parentNode(i);return Sd(e,o,r,e.nextSibling(i),!1),r}var nS=rS,sy=()=>!1;function kj(n,t,e){return sy(n,t,e)}function rS(n,t,e,r){if(n[Nr])return;let i;e.type&8?i=Mn(r):i=Rj(t,e),n[Nr]=i}function Pj(n,t,e){if(n[Nr]&&n[Pr])return!0;let r=e[Yn],i=t.index-Ye;if(!r||D1(t)||Al(r,i))return!1;let s=Bm(r,i),a=r.data[Lv]?.[i],[l,c]=aj(s,a);return n[Nr]=l,n[Pr]=c,!0}function Nj(n,t,e,r){sy(n,e,t)||rS(n,t,e,r)}function Fj(){nS=Nj,sy=Pj}var Ym=class n{queryList;matches=null;constructor(t){this.queryList=t}clone(){return new n(this.queryList)}setDirty(){this.queryList.setDirty()}},Zm=class n{queries;constructor(t=[]){this.queries=t}createEmbeddedView(t){let e=t.queries;if(e!==null){let r=t.contentQueries!==null?t.contentQueries[0]:e.length,i=[];for(let o=0;o<r;o++){let s=e.getByIndex(o),a=this.queries[s.indexInDeclarationView];i.push(a.clone())}return new n(i)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}finishViewCreation(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)ay(t,e).matches!==null&&this.queries[e].setDirty()}},Jm=class{flags;read;predicate;constructor(t,e,r=null){this.flags=e,this.read=r,typeof t=="string"?this.predicate=zj(t):this.predicate=t}},Xm=class n{queries;constructor(t=[]){this.queries=t}elementStart(t,e){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let r=0;r<this.length;r++){let i=e!==null?e.length:0,o=this.getByIndex(r).embeddedTView(t,i);o&&(o.indexInDeclarationView=r,e!==null?e.push(o):e=[o])}return e!==null?new n(e):null}template(t,e){for(let r=0;r<this.queries.length;r++)this.queries[r].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}},Qm=class n{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(t,e=-1){this.metadata=t,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new n(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let e=this._declarationNodeIndex,r=t.parent;for(;r!==null&&r.type&8&&r.index!==e;)r=r.parent;return e===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(t,e){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(t,e,Lj(e,o)),this.matchTNodeWithReadOption(t,e,id(e,t,o,!1,!1))}else r===Eo?e.type&4&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,id(e,t,r,!1,!1))}matchTNodeWithReadOption(t,e,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===Ht||i===gi||i===Eo&&e.type&4)this.addMatch(e.index,-2);else{let o=id(e,t,i,!1,!1);o!==null&&this.addMatch(e.index,o)}else this.addMatch(e.index,r)}}addMatch(t,e){this.matches===null?this.matches=[t,e]:this.matches.push(t,e)}};function Lj(n,t){let e=n.localNames;if(e!==null){for(let r=0;r<e.length;r+=2)if(e[r]===t)return e[r+1]}return null}function jj(n,t){return n.type&11?Us(n,t):n.type&4?iy(n,t):null}function Vj(n,t,e,r){return e===-1?jj(t,n):e===-2?Bj(n,t,r):El(n,n[q],e,t)}function Bj(n,t,e){if(e===Ht)return Us(t,n);if(e===Eo)return iy(t,n);if(e===gi)return tS(t,n)}function iS(n,t,e,r){let i=t[kr].queries[r];if(i.matches===null){let o=n.data,s=e.matches,a=[];for(let l=0;s!==null&&l<s.length;l+=2){let c=s[l];if(c<0)a.push(null);else{let u=o[c];a.push(Vj(t,u,s[l+1],e.metadata.read))}}i.matches=a}return i.matches}function ev(n,t,e,r){let i=n.queries.getByIndex(e),o=i.matches;if(o!==null){let s=iS(n,t,i,e);for(let a=0;a<o.length;a+=2){let l=o[a];if(l>0)r.push(s[a/2]);else{let c=o[a+1],u=t[-l];for(let d=jt;d<u.length;d++){let f=u[d];f[vo]===f[st]&&ev(f[q],f,c,r)}if(u[Rs]!==null){let d=u[Rs];for(let f=0;f<d.length;f++){let h=d[f];ev(h[q],h,c,r)}}}}}return r}function Uj(n,t){return n[kr].queries[t].queryList}function $j(n,t,e){let r=new Nm((e&4)===4);return AN(n,t,r,r.destroy),(t[kr]??=new Zm).queries.push(new Ym(r))-1}function Hj(n,t,e,r){let i=ht();if(i.firstCreatePass){let o=Et();Wj(i,new Jm(t,e,r),o.index),qj(i,n),(e&2)===2&&(i.staticContentQueries=!0)}return $j(i,he(),e)}function zj(n){return n.split(",").map(t=>t.trim())}function Wj(n,t,e){n.queries===null&&(n.queries=new Xm),n.queries.track(new Qm(t,e))}function qj(n,t){let e=n.contentQueries||(n.contentQueries=[]),r=e.length?e[e.length-1]:-1;t!==r&&e.push(n.queries.length-1,t)}function ay(n,t){return n.queries.getByIndex(t)}function Gj(n,t){let e=n[q],r=ay(e,t);return r.crossesNgTemplate?ev(e,n,t,[]):iS(e,n,r,t)}var Ls=class{},ly=class{};var tv=class extends Ls{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new Ad(this);constructor(t,e,r,i=!0){super(),this.ngModuleType=t,this._parent=e;let o=qC(t);this._bootstrapComponents=Cx(o.bootstrap),this._r3Injector=ND(t,e,[{provide:Ls,useValue:this},{provide:lh,useValue:this.componentFactoryResolver},...r],Lt(t),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}},nv=class extends ly{moduleType;constructor(t){super(),this.moduleType=t}create(t){return new tv(this.moduleType,t,[])}};var Od=class extends Ls{injector;componentFactoryResolver=new Ad(this);instance=null;constructor(t){super();let e=new _l([...t.providers,{provide:Ls,useValue:this},{provide:lh,useValue:this.componentFactoryResolver}],t.parent||yv(),t.debugName,new Set(["environment"]));this.injector=e,t.runEnvironmentInitializers&&e.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}};function Gs(n,t,e=null){return new Od({providers:n,parent:t,debugName:e,runEnvironmentInitializers:!0}).injector}var Kj=(()=>{class n{_injector;cachedInjectors=new Map;constructor(e){this._injector=e}getOrCreateStandaloneInjector(e){if(!e.standalone)return null;if(!this.cachedInjectors.has(e)){let r=mv(!1,e.type),i=r.length>0?Gs([r],this._injector,`Standalone[${e.type.name}]`):null;this.cachedInjectors.set(e,i)}return this.cachedInjectors.get(e)}ngOnDestroy(){try{for(let e of this.cachedInjectors.values())e!==null&&e.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=F({token:n,providedIn:"environment",factory:()=>new n(U(vt))})}return n})();function Fe(n){return xl(()=>{let t=oS(n),e=ee(O({},t),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===WD.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&n.dependencies||null,getStandaloneInjector:t.standalone?i=>i.get(Kj).getOrCreateStandaloneInjector(e):null,getExternalStyles:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||er.Emulated,styles:n.styles||pn,_:null,schemas:n.schemas||null,tView:null,id:""});t.standalone&&rr("NgStandalone"),sS(e);let r=n.dependencies;return e.directiveDefs=dC(r,!1),e.pipeDefs=dC(r,!0),e.id=Qj(e),e})}function Yj(n){return di(n)||GC(n)}function Zj(n){return n!==null}function Nn(n){return xl(()=>({type:n.type,bootstrap:n.bootstrap||pn,declarations:n.declarations||pn,imports:n.imports||pn,exports:n.exports||pn,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function Jj(n,t){if(n==null)return mo;let e={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r],o,s,a,l;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o,l=i[3]||null):(o=i,s=i,a=Qd.None,l=null),e[o]=[r,a,l],t[o]=s}return e}function Xj(n){if(n==null)return mo;let t={};for(let e in n)n.hasOwnProperty(e)&&(t[n[e]]=e);return t}function Oe(n){return xl(()=>{let t=oS(n);return sS(t),t})}function ch(n){return{type:n.type,name:n.name,factory:null,pure:n.pure!==!1,standalone:n.standalone??!0,onDestroy:n.type.prototype.ngOnDestroy||null}}function oS(n){let t={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:t,inputConfig:n.inputs||mo,exportAs:n.exportAs||null,standalone:n.standalone??!0,signals:n.signals===!0,selectors:n.selectors||pn,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Jj(n.inputs,t),outputs:Xj(n.outputs),debugInfo:null}}function sS(n){n.features?.forEach(t=>t(n))}function dC(n,t){if(!n)return null;let e=t?KC:Yj;return()=>(typeof n=="function"?n():n).map(r=>e(r)).filter(Zj)}function Qj(n){let t=0,e=typeof n.consts=="function"?"":n.consts,r=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,e,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery];for(let o of r.join("|"))t=Math.imul(31,t)+o.charCodeAt(0)<<0;return t+=2147483648,"c"+t}function eV(n){return Object.getPrototypeOf(n.prototype).constructor}function sn(n){let t=eV(n.type),e=!0,r=[n];for(;t;){let i;if(Jn(n))i=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new P(903,!1);i=t.\u0275dir}if(i){if(e){r.push(i);let s=n;s.inputs=dm(n.inputs),s.declaredInputs=dm(n.declaredInputs),s.outputs=dm(n.outputs);let a=i.hostBindings;a&&oV(n,a);let l=i.viewQuery,c=i.contentQueries;if(l&&rV(n,l),c&&iV(n,c),tV(n,i),BP(n.outputs,i.outputs),Jn(i)&&i.data.animation){let u=n.data;u.animation=(u.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(n),a===sn&&(e=!1)}}t=Object.getPrototypeOf(t)}nV(r)}function tV(n,t){for(let e in t.inputs){if(!t.inputs.hasOwnProperty(e)||n.inputs.hasOwnProperty(e))continue;let r=t.inputs[e];r!==void 0&&(n.inputs[e]=r,n.declaredInputs[e]=t.declaredInputs[e])}}function nV(n){let t=0,e=null;for(let r=n.length-1;r>=0;r--){let i=n[r];i.hostVars=t+=i.hostVars,i.hostAttrs=Ps(i.hostAttrs,e=Ps(e,i.hostAttrs))}}function dm(n){return n===mo?{}:n===pn?[]:n}function rV(n,t){let e=n.viewQuery;e?n.viewQuery=(r,i)=>{t(r,i),e(r,i)}:n.viewQuery=t}function iV(n,t){let e=n.contentQueries;e?n.contentQueries=(r,i,o)=>{t(r,i,o),e(r,i,o)}:n.contentQueries=t}function oV(n,t){let e=n.hostBindings;e?n.hostBindings=(r,i)=>{t(r,i),e(r,i)}:n.hostBindings=t}function aS(n){return aV(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function sV(n,t){if(Array.isArray(n))for(let e=0;e<n.length;e++)t(n[e]);else{let e=n[Symbol.iterator](),r;for(;!(r=e.next()).done;)t(r.value)}}function aV(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function lS(n,t,e){return n[t]=e}function Lr(n,t,e){let r=n[t];return Object.is(r,e)?!1:(n[t]=e,!0)}function cy(n,t,e,r){let i=Lr(n,t,e);return Lr(n,t+1,r)||i}function lV(n,t,e,r,i){let o=cy(n,t,e,r);return Lr(n,t+2,i)||o}function cV(n,t,e,r,i,o,s,a,l){let c=t.consts,u=ih(t,n,4,s||null,a||null);Cv()&&oy(t,e,u,ks(c,l),Zv),u.mergedAttrs=Ps(u.mergedAttrs,u.attrs),Av(t,u);let d=u.tView=qv(2,u,r,i,o,t.directiveRegistry,t.pipeRegistry,null,t.schemas,c,null);return t.queries!==null&&(t.queries.template(t,u),d.queries=t.queries.embeddedTView(u)),u}function uV(n,t,e,r,i,o,s,a,l,c){let u=e+Ye,d=t.firstCreatePass?cV(u,t,n,r,i,o,s,a,l):t.data[u];So(d,!1);let f=cS(t,n,d,e);zd()&&th(t,n,f,d),Hs(f,n);let h=$x(f,n,f,d);return n[u]=h,Kv(n,h),kj(h,d,n),Bd(d)&&eh(t,n,d),l!=null&&Yv(n,d,c),d}function ue(n,t,e,r,i,o,s,a){let l=he(),c=ht(),u=ks(c.consts,o);return uV(l,c,n,t,e,r,i,u,s,a),ue}var cS=uS;function uS(n,t,e,r){return fi(!0),t[Ae].createComment("")}function dV(n,t,e,r){let i=t[Yn],o=!i||Ml()||qs(e)||Al(i,r);if(fi(o),o)return uS(n,t);let s=i.data[P1]?.[r]??null;s!==null&&e.tView!==null&&e.tView.ssrId===null&&(e.tView.ssrId=s);let a=oh(i,n,t,e);Jd(i,r,a);let l=Bv(i,r);return sh(l,a)}function hV(){cS=dV}var fV=(()=>{class n{cachedInjectors=new Map;getOrCreateInjector(e,r,i,o){if(!this.cachedInjectors.has(e)){let s=i.length>0?Gs(i,r,o):null;this.cachedInjectors.set(e,s)}return this.cachedInjectors.get(e)}ngOnDestroy(){try{for(let e of this.cachedInjectors.values())e!==null&&e.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=F({token:n,providedIn:"environment",factory:()=>new n})}return n})();var pV=new k("");function hm(n,t,e){return n.get(fV).getOrCreateInjector(t,n,e,"")}function gV(n,t,e){if(n instanceof As){let i=n.injector,o=n.parentInjector,s=hm(o,t,e);return new As(i,s)}let r=n.get(vt);if(r!==n){let i=hm(r,t,e);return new As(n,i)}return hm(n,t,e)}function Ss(n,t,e,r=!1){let i=e[st],o=i[q];if(xo(i))return;let s=Tl(i,t),a=s[Kd],l=s[J1];if(!(l!==null&&n<l)&&hC(a,n)&&hC(s[K1]??-1,n)){let c=Yd(o,t),d=!r&&!0&&(nF(c)!==null||XE(c,ot.Loading)!==null||XE(c,ot.Placeholder))?yV:vV;try{d(n,s,e,t,i)}catch(f){Jv(i,f)}}}function mV(n,t){let e=n[Pr]?.findIndex(i=>i.data[j1]===t[Kd])??-1;return{dehydratedView:e>-1?n[Pr][e]:null,dehydratedViewIx:e}}function vV(n,t,e,r,i){ye(20);let o=tF(n,i,r);if(o!==null){t[Kd]=n;let s=i[q],a=o+Ye,l=Ud(s,a),c=0;UL(e,c);let u;if(n===ot.Complete){let p=Yd(s,r),g=p.providers;g&&g.length>0&&(u=gV(i[Zn],p,g))}let{dehydratedView:d,dehydratedViewIx:f}=mV(e,t),h=Ox(i,l,null,{injector:u,dehydratedView:d});if(Hx(e,h,c,Hm(l,d)),rh(h,2),f>-1&&e[Pr]?.splice(f,1),(n===ot.Complete||n===ot.Error)&&Array.isArray(t[Ts])){for(let p of t[Ts])p();t[Ts]=null}}ye(21)}function hC(n,t){return n<t}function fC(n,t,e){n.loadingPromise.then(()=>{n.loadingState===rn.COMPLETE?Ss(ot.Complete,t,e):n.loadingState===rn.FAILED&&Ss(ot.Error,t,e)})}var yV=null;var uy=(()=>{class n{log(e){console.log(e)}warn(e){console.warn(e)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();var dS=new k("");var _V=(()=>{class n{static \u0275prov=F({token:n,providedIn:"root",factory:()=>new rv})}return n})(),rv=class{queuedEffectCount=0;queues=new Map;schedule(t){this.enqueue(t)}remove(t){let e=t.zone,r=this.queues.get(e);r.has(t)&&(r.delete(t),this.queuedEffectCount--)}enqueue(t){let e=t.zone;this.queues.has(e)||this.queues.set(e,new Set);let r=this.queues.get(e);r.has(t)||(this.queuedEffectCount++,r.add(t))}flush(){for(;this.queuedEffectCount>0;)for(let[t,e]of this.queues)t===null?this.flushQueue(e):t.run(()=>this.flushQueue(e))}flushQueue(t){for(let e of t)t.delete(e),this.queuedEffectCount--,e.run()}};function mi(n){return!!n&&typeof n.then=="function"}function dy(n){return!!n&&typeof n.subscribe=="function"}var hS=new k("");function hy(n){return jr([{provide:hS,multi:!0,useValue:n}])}var fS=(()=>{class n{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((e,r)=>{this.resolve=e,this.reject=r});appInits=S(hS,{optional:!0})??[];injector=S(Bt);constructor(){}runInitializers(){if(this.initialized)return;let e=[];for(let i of this.appInits){let o=$t(this.injector,i);if(mi(o))e.push(o);else if(dy(o)){let s=new Promise((a,l)=>{o.subscribe({complete:a,error:l})});e.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(e).then(()=>{r()}).catch(i=>{this.reject(i)}),e.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||n)};static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),vi=new k("");function bV(){wg(()=>{throw new P(600,!1)})}function wV(n){return n.isBoundToModule}var EV=10;var Ut=(()=>{class n{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=S(g1);afterRenderManager=S(ox);zonelessEnabled=S(Wd);rootEffectScheduler=S(_V);dirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new qe;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=S(nr).hasPendingTasks.pipe(te(e=>!e));constructor(){S(Ws,{optional:!0})}whenStable(){let e;return new Promise(r=>{e=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{e.unsubscribe()})}_injector=S(vt);_rendererFactory=null;get injector(){return this._injector}bootstrap(e,r){return this.bootstrapImpl(e,r)}bootstrapImpl(e,r,i=Bt.NULL){ye(10);let o=e instanceof Yx;if(!this._injector.get(fS).done){let h="";throw new P(405,h)}let a;o?a=e:a=this._injector.get(lh).resolveComponentFactory(e),this.componentTypes.push(a.componentType);let l=wV(a)?void 0:this._injector.get(Ls),c=r||a.selector,u=a.create(i,[],c,l),d=u.location.nativeElement,f=u.injector.get(dS,null);return f?.registerApplication(d),u.onDestroy(()=>{this.detachView(u.hostView),sd(this.components,u),f?.unregisterApplication(d)}),this._loadComponent(u),ye(11,u),u}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){ye(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(jv.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new P(101,!1);let e=le(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,le(e),this.afterTick.next(),ye(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Ns,null,{optional:!0}));let e=0;for(;this.dirtyFlags!==0&&e++<EV;)ye(14),this.synchronizeOnce(),ye(15)}synchronizeOnce(){if(this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),this.dirtyFlags&7){let e=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:r,notifyErrorHandler:i}of this.allViews)CV(r,i,e,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}else this._rendererFactory?.begin?.(),this._rendererFactory?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:e})=>$d(e))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(e){let r=e;this._views.push(r),r.attachToAppRef(this)}detachView(e){let r=e;sd(this._views,r),r.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(vi,[]).forEach(i=>i(e))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(e=>e()),this._views.slice().forEach(e=>e.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(e){return this._destroyListeners.push(e),()=>sd(this._destroyListeners,e)}destroy(){if(this._destroyed)throw new P(406,!1);let e=this._injector;e.destroy&&!e.destroyed&&e.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||n)};static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function sd(n,t){let e=n.indexOf(t);e>-1&&n.splice(e,1)}function CV(n,t,e,r){if(!e&&!$d(n))return;jx(n,t,e&&!r?0:1)}function DV(n,t,e){let r=t[Zn],i=t[q];if(n.loadingState!==rn.NOT_STARTED)return n.loadingPromise??Promise.resolve();let o=Tl(t,e),s=rF(i,n);n.loadingState=rn.IN_PROGRESS,od(1,o);let a=n.dependencyResolverFn,l=r.get(l1).add();return a?(n.loadingPromise=Promise.allSettled(a()).then(c=>{let u=!1,d=[],f=[];for(let h of c)if(h.status==="fulfilled"){let p=h.value,g=di(p)||GC(p);if(g)d.push(g);else{let m=KC(p);m&&f.push(m)}}else{u=!0;break}if(u){if(n.loadingState=rn.FAILED,n.errorTmplIndex===null){let h="",p=new P(-750,!1);Jv(t,p)}}else{n.loadingState=rn.COMPLETE;let h=s.tView;if(d.length>0){h.directiveRegistry=QE(h.directiveRegistry,d);let p=d.map(m=>m.type),g=mv(!1,...p);n.providers=g}f.length>0&&(h.pipeRegistry=QE(h.pipeRegistry,f))}}),n.loadingPromise.finally(()=>{n.loadingPromise=null,l()})):(n.loadingPromise=Promise.resolve().then(()=>{n.loadingPromise=null,n.loadingState=rn.COMPLETE,l()}),n.loadingPromise)}function xV(n,t){return t[Zn].get(pV,null,{optional:!0})?.behavior!==sx.Manual}function SV(n,t,e){let r=t[q],i=t[e.index];if(!xV(n,t))return;let o=Tl(t,e),s=Yd(r,e);switch(Q1(o),s.loadingState){case rn.NOT_STARTED:Ss(ot.Loading,e,i),DV(s,t,e),s.loadingState===rn.IN_PROGRESS&&fC(s,e,i);break;case rn.IN_PROGRESS:Ss(ot.Loading,e,i),fC(s,e,i);break;case rn.COMPLETE:Ss(ot.Complete,e,i);break;case rn.FAILED:Ss(ot.Error,e,i);break;default:}}function IV(n,t,e){return v(this,null,function*(){let r=n.get(Vv);if(r.hydrating.has(t))return;let{parentBlockPromise:o,hydrationQueue:s}=CF(t,n);if(s.length===0)return;o!==null&&s.shift(),AV(r,s),o!==null&&(yield o);let a=s[0];r.has(a)?yield pC(n,s,e):r.awaitParentBlock(a,()=>v(null,null,function*(){return yield pC(n,s,e)}))})}function pC(n,t,e){return v(this,null,function*(){let r=n.get(Vv),i=r.hydrating,o=n.get(nr),s=o.add();for(let l=0;l<t.length;l++){let c=t[l],u=r.get(c);if(u!=null){if(yield RV(u),yield OV(n),MV(u)){oj(u),gC(t.slice(l),r);break}i.get(c).resolve()}else{TV(l,t,r),gC(t.slice(l),r);break}}let a=t[t.length-1];yield i.get(a)?.promise,o.remove(s),e&&e(t),sj(r.get(a),t,r,n.get(Ut))})}function MV(n){return Tl(n.lView,n.tNode)[Kd]===ot.Error}function TV(n,t,e){let r=n-1,i=r>-1?e.get(t[r]):null;i&&ah(i.lContainer)}function gC(n,t){let e=t.hydrating;for(let r in n)e.get(r)?.reject();t.cleanup(n)}function AV(n,t){for(let e of t)n.hydrating.set(e,Promise.withResolvers())}function OV(n){return new Promise(t=>Gd(t,{injector:n}))}function RV(n){return v(this,null,function*(){let{tNode:t,lView:e}=n,r=Tl(e,t);return new Promise(i=>{kV(r,i),SV(2,e,t)})})}function kV(n,t){Array.isArray(n[Ts])||(n[Ts]=[]),n[Ts].push(t)}function Rl(n,t,e,r){let i=he(),o=Hd();if(Lr(i,o,t)){let s=ht(),a=Tv();lL(a,i,n,t,e,r)}return Rl}function PV(n,t,e,r){return Lr(n,Hd(),e)?t+Ar(e)+r:Pn}function NV(n,t,e,r,i,o){let s=gD(),a=cy(n,s,e,i);return xv(2),a?t+Ar(e)+r+Ar(i)+o:Pn}function FV(n,t,e,r,i,o,s,a){let l=gD(),c=lV(n,l,e,i,s);return xv(3),c?t+Ar(e)+r+Ar(i)+o+Ar(s)+a:Pn}function Qu(n,t){return n<<17|t<<2}function Co(n){return n>>17&32767}function LV(n){return(n&2)==2}function jV(n,t){return n&131071|t<<17}function iv(n){return n|2}function js(n){return(n&131068)>>2}function fm(n,t){return n&-131069|t<<2}function VV(n){return(n&1)===1}function ov(n){return n|1}function BV(n,t,e,r,i,o){let s=o?t.classBindings:t.styleBindings,a=Co(s),l=js(s);n[r]=e;let c=!1,u;if(Array.isArray(e)){let d=e;u=d[1],(u===null||Sl(d,u)>0)&&(c=!0)}else u=e;if(i)if(l!==0){let f=Co(n[a+1]);n[r+1]=Qu(f,a),f!==0&&(n[f+1]=fm(n[f+1],r)),n[a+1]=jV(n[a+1],r)}else n[r+1]=Qu(a,0),a!==0&&(n[a+1]=fm(n[a+1],r)),a=r;else n[r+1]=Qu(l,0),a===0?a=r:n[l+1]=fm(n[l+1],r),l=r;c&&(n[r+1]=iv(n[r+1])),mC(n,u,r,!0),mC(n,u,r,!1),UV(t,u,n,r,o),s=Qu(a,l),o?t.classBindings=s:t.styleBindings=s}function UV(n,t,e,r,i){let o=i?n.residualClasses:n.residualStyles;o!=null&&typeof t=="string"&&Sl(o,t)>=0&&(e[r+1]=ov(e[r+1]))}function mC(n,t,e,r){let i=n[e+1],o=t===null,s=r?Co(i):js(i),a=!1;for(;s!==0&&(a===!1||o);){let l=n[s],c=n[s+1];$V(l,t)&&(a=!0,n[s+1]=r?ov(c):iv(c)),s=r?Co(c):js(c)}a&&(n[e+1]=r?iv(i):ov(i))}function $V(n,t){return n===null||t==null||(Array.isArray(n)?n[1]:n)===t?!0:Array.isArray(n)&&typeof t=="string"?Sl(n,t)>=0:!1}function V(n,t,e){let r=he(),i=Hd();if(Lr(r,i,t)){let o=ht(),s=Tv();Ax(o,s,r,n,t,r[Ae],e,!1)}return V}function vC(n,t,e,r,i){Xv(t,n,e,i?"class":"style",r)}function or(n,t){return HV(n,t,null,!0),or}function HV(n,t,e,r){let i=he(),o=ht(),s=xv(2);if(o.firstUpdatePass&&WV(o,n,s,r),t!==Pn&&Lr(i,s,t)){let a=o.data[hi()];ZV(o,a,i,i[Ae],n,i[s+1]=JV(t,e),r,s)}}function zV(n,t){return t>=n.expandoStartIndex}function WV(n,t,e,r){let i=n.data;if(i[e+1]===null){let o=i[hi()],s=zV(n,e);XV(o,r)&&t===null&&!s&&(t=!1),t=qV(i,o,t,r),BV(i,o,t,e,s,r)}}function qV(n,t,e,r){let i=$N(n),o=r?t.residualClasses:t.residualStyles;if(i===null)(r?t.classBindings:t.styleBindings)===0&&(e=pm(null,n,t,e,r),e=Dl(e,t.attrs,r),o=null);else{let s=t.directiveStylingLast;if(s===-1||n[s]!==i)if(e=pm(i,n,t,e,r),o===null){let l=GV(n,t,r);l!==void 0&&Array.isArray(l)&&(l=pm(null,n,t,l[1],r),l=Dl(l,t.attrs,r),KV(n,t,r,l))}else o=YV(n,t,r)}return o!==void 0&&(r?t.residualClasses=o:t.residualStyles=o),e}function GV(n,t,e){let r=e?t.classBindings:t.styleBindings;if(js(r)!==0)return n[Co(r)]}function KV(n,t,e,r){let i=e?t.classBindings:t.styleBindings;n[Co(i)]=r}function YV(n,t,e){let r,i=t.directiveEnd;for(let o=1+t.directiveStylingLast;o<i;o++){let s=n[o].hostAttrs;r=Dl(r,s,e)}return Dl(r,t.attrs,e)}function pm(n,t,e,r,i){let o=null,s=e.directiveEnd,a=e.directiveStylingLast;for(a===-1?a=e.directiveStart:a++;a<s&&(o=t[a],r=Dl(r,o.hostAttrs,i),o!==n);)a++;return n!==null&&(e.directiveStylingLast=a),r}function Dl(n,t,e){let r=e?1:2,i=-1;if(t!==null)for(let o=0;o<t.length;o++){let s=t[o];typeof s=="number"?i=s:i===r&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),aN(n,s,e?!0:t[++o]))}return n===void 0?null:n}function ZV(n,t,e,r,i,o,s,a){if(!(t.type&3))return;let l=n.data,c=l[a+1],u=VV(c)?yC(l,t,e,i,js(c),s):void 0;if(!Rd(u)){Rd(o)||LV(c)&&(o=yC(l,null,e,i,a,s));let d=sD(hi(),e);IL(r,s,d,i,o)}}function yC(n,t,e,r,i,o){let s=t===null,a;for(;i>0;){let l=n[i],c=Array.isArray(l),u=c?l[1]:l,d=u===null,f=e[i+1];f===Pn&&(f=d?pn:void 0);let h=d?em(f,r):u===r?f:void 0;if(c&&!Rd(h)&&(h=em(l,r)),Rd(h)&&(a=h,s))return a;let p=n[i+1];i=s?Co(p):js(p)}if(t!==null){let l=o?t.residualClasses:t.residualStyles;l!=null&&(a=em(l,r))}return a}function Rd(n){return n!==void 0}function JV(n,t){return n==null||n===""||(typeof t=="string"?n=n+t:typeof n=="object"&&(n=Lt(Ol(n)))),n}function XV(n,t){return(n.flags&(t?8:16))!==0}function E(n,t,e,r){let i=he(),o=ht(),s=Ye+n,a=i[Ae],l=o.firstCreatePass?Xx(s,o,i,t,Zv,Cv(),e,r):o.data[s],c=pS(o,i,l,a,t,n);i[s]=c;let u=Bd(l);return So(l,!0),bx(a,c,l),!qs(l)&&zd()&&th(o,i,c,l),(ON()===0||u)&&Hs(c,i),RN(),u&&(eh(o,i,l),Uv(o,l,i)),r!==null&&Yv(i,l),E}function _(){let n=Et();Dv()?hD():(n=n.parent,So(n,!1));let t=n;PN(t)&&FN(),kN();let e=ht();return e.firstCreatePass&&Qx(e,t),t.classesWithoutHost!=null&&GN(t)&&vC(e,t,he(),t.classesWithoutHost,!0),t.stylesWithoutHost!=null&&KN(t)&&vC(e,t,he(),t.stylesWithoutHost,!1),_}function ge(n,t,e,r){return E(n,t,e,r),_(),ge}var pS=(n,t,e,r,i,o)=>(fi(!0),Hv(r,i,ED()));function QV(n,t,e,r,i,o){let s=t[Yn],a=!s||Ml()||qs(e)||Al(s,o);if(fi(a),a)return Hv(r,i,ED());let l=oh(s,n,t,e);return fx(s,o)&&Jd(s,o,l.nextSibling),s&&(HD(e)||zD(l))&&Do(e)&&(NN(e),_x(l)),l}function e2(){pS=QV}function t2(n,t,e,r,i){let o=t.consts,s=ks(o,r),a=ih(t,n,8,"ng-container",s);s!==null&&Gm(a,s,!0);let l=ks(o,i);return Cv()&&oy(t,e,a,l,Zv),a.mergedAttrs=Ps(a.mergedAttrs,a.attrs),t.queries!==null&&t.queries.elementStart(t,a),a}function fy(n,t,e){let r=he(),i=ht(),o=n+Ye,s=i.firstCreatePass?t2(o,i,r,t,e):i.data[o];So(s,!0);let a=gS(i,r,s,n);return r[o]=a,zd()&&th(i,r,a,s),Hs(a,r),Bd(s)&&(eh(i,r,s),Uv(i,s,r)),e!=null&&Yv(r,s),fy}function py(){let n=Et(),t=ht();return Dv()?hD():(n=n.parent,So(n,!1)),t.firstCreatePass&&(Av(t,n),_v(n)&&t.queries.elementEnd(n)),py}var gS=(n,t,e,r)=>(fi(!0),vx(t[Ae],""));function n2(n,t,e,r){let i,o=t[Yn],s=!o||Ml()||Al(o,r)||qs(e);if(fi(s),s)return vx(t[Ae],"");let a=oh(o,n,t,e),l=wF(o,r);return Jd(o,r,a),i=sh(l,a),i}function r2(){gS=n2}function zt(){return he()}var ho=void 0;function i2(n){let t=Math.floor(Math.abs(n)),e=n.toString().replace(/^[^.]*\.?/,"").length;return t===1&&e===0?1:5}var o2=["en",[["a","p"],["AM","PM"],ho],[["AM","PM"],ho,ho],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ho,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ho,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ho,"{1} 'at' {0}",ho],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",i2],gm={};function Wt(n){let t=s2(n),e=_C(t);if(e)return e;let r=t.split("-")[0];if(e=_C(r),e)return e;if(r==="en")return o2;throw new P(701,!1)}function _C(n){return n in gm||(gm[n]=li.ng&&li.ng.common&&li.ng.common.locales&&li.ng.common.locales[n]),gm[n]}var je=function(n){return n[n.LocaleId=0]="LocaleId",n[n.DayPeriodsFormat=1]="DayPeriodsFormat",n[n.DayPeriodsStandalone=2]="DayPeriodsStandalone",n[n.DaysFormat=3]="DaysFormat",n[n.DaysStandalone=4]="DaysStandalone",n[n.MonthsFormat=5]="MonthsFormat",n[n.MonthsStandalone=6]="MonthsStandalone",n[n.Eras=7]="Eras",n[n.FirstDayOfWeek=8]="FirstDayOfWeek",n[n.WeekendRange=9]="WeekendRange",n[n.DateFormat=10]="DateFormat",n[n.TimeFormat=11]="TimeFormat",n[n.DateTimeFormat=12]="DateTimeFormat",n[n.NumberSymbols=13]="NumberSymbols",n[n.NumberFormats=14]="NumberFormats",n[n.CurrencyCode=15]="CurrencyCode",n[n.CurrencySymbol=16]="CurrencySymbol",n[n.CurrencyName=17]="CurrencyName",n[n.Currencies=18]="Currencies",n[n.Directionality=19]="Directionality",n[n.PluralCase=20]="PluralCase",n[n.ExtraData=21]="ExtraData",n}(je||{});function s2(n){return n.toLowerCase().replace(/_/g,"-")}var kd="en-US",a2="USD";var l2=kd;function c2(n){typeof n=="string"&&(l2=n.toLowerCase().replace(/_/g,"-"))}function bC(n,t,e){return function r(i){if(i===Function)return e;let o=Do(n)?Xn(n.index,t):t;rh(o,5);let s=t[Vt],a=wC(t,s,e,i),l=r.__ngNextListenerFn__;for(;l;)a=wC(t,s,l,i)&&a,l=l.__ngNextListenerFn__;return a}}function wC(n,t,e,r){let i=le(null);try{return ye(6,t,e),e(r)!==!1}catch(o){return u2(n,o),!1}finally{ye(7,t,e),le(i)}}function u2(n,t){let e=n[Zn],r=e?e.get(Qn,null):null;r&&r.handleError(t)}function EC(n,t,e,r,i,o){let s=t[e],a=t[q],c=a.data[e].outputs[r],u=s[c],d=a.firstCreatePass?Ev(a):null,f=wv(t),h=u.subscribe(o),p=f.length;f.push(o,h),d&&d.push(i,n.index,p,-(p+1))}function ie(n,t,e,r){let i=he(),o=ht(),s=Et();return mS(o,i,i[Ae],s,n,t,r),ie}function d2(n,t,e,r){let i=n.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===e&&i[o+1]===r){let a=t[pd],l=i[o+2];return a.length>l?a[l]:null}typeof s=="string"&&(o+=2)}return null}function mS(n,t,e,r,i,o,s){let a=Bd(r),c=n.firstCreatePass?Ev(n):null,u=wv(t),d=!0;if(r.type&3||s){let f=kn(r,t),h=s?s(f):f,p=u.length,g=s?y=>s(Mn(y[r.index])):r.index,m=null;if(!s&&a&&(m=d2(n,t,i,r.index)),m!==null){let y=m.__ngLastListenerFn__||m;y.__ngNextListenerFn__=o,m.__ngLastListenerFn__=o,d=!1}else{o=bC(r,t,o),cF(t,h,i,o);let y=e.listen(h,i,o);u.push(o,y),c&&c.push(i,g,p,p+1)}}else o=bC(r,t,o);if(d){let f=r.outputs?.[i],h=r.hostDirectiveOutputs?.[i];if(h&&h.length)for(let p=0;p<h.length;p+=2){let g=h[p],m=h[p+1];EC(r,t,g,m,i,o)}if(f&&f.length)for(let p of f)EC(r,t,p,i,i,o)}}function oe(n=1){return zN(n)}function vS(n,t,e,r){Hj(n,t,e,r)}function yS(n){let t=he(),e=ht(),r=mD();Sv(r+1);let i=ay(e,r);if(n.dirty&&SN(t)===((i.metadata.flags&2)===2)){if(i.matches===null)n.reset([]);else{let o=Gj(t,r);n.reset(o,y1),n.notifyOnChanges()}return!0}return!1}function _S(){return Uj(he(),mD())}function D(n,t=""){let e=he(),r=ht(),i=n+Ye,o=r.firstCreatePass?ih(r,i,1,t,null):r.data[i],s=bS(r,e,o,t,n);e[i]=s,zd()&&th(r,e,s,o),So(o,!1)}var bS=(n,t,e,r,i)=>(fi(!0),mx(t[Ae],r));function h2(n,t,e,r,i){let o=t[Yn],s=!o||Ml()||qs(e)||Al(o,i);return fi(s),s?mx(t[Ae],r):oh(o,n,t,e)}function f2(){bS=h2}function Q(n){return At("",n,""),Q}function At(n,t,e){let r=he(),i=PV(r,n,t,e);return i!==Pn&&my(r,hi(),i),At}function Ks(n,t,e,r,i){let o=he(),s=NV(o,n,t,e,r,i);return s!==Pn&&my(o,hi(),s),Ks}function gy(n,t,e,r,i,o,s){let a=he(),l=FV(a,n,t,e,r,i,o,s);return l!==Pn&&my(a,hi(),l),gy}function my(n,t,e){let r=sD(t,n);RF(n[Ae],r,e)}function Ys(n,t,e){$D(t)&&(t=t());let r=he(),i=Hd();if(Lr(r,i,t)){let o=ht(),s=Tv();Ax(o,s,r,n,t,r[Ae],e,!1)}return Ys}function kl(n,t){let e=$D(n);return e&&n.set(t),e}function Zs(n,t){let e=he(),r=ht(),i=Et();return mS(r,e,e[Ae],i,n,t),Zs}function p2(n,t,e){let r=ht();if(r.firstCreatePass){let i=Jn(n);sv(e,r.data,r.blueprint,i,!0),sv(t,r.data,r.blueprint,i,!1)}}function sv(n,t,e,r,i){if(n=Tt(n),Array.isArray(n))for(let o=0;o<n.length;o++)sv(n[o],t,e,r,i);else{let o=ht(),s=he(),a=Et(),l=Os(n)?n:Tt(n.provide),c=JC(n),u=a.providerIndexes&1048575,d=a.directiveStart,f=a.providerIndexes>>20;if(Os(n)||!n.multi){let h=new bo(c,i,L),p=vm(l,t,i?u:u+f,d);p===-1?(Tm(bd(a,s),o,l),mm(o,n,t.length),t.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),e.push(h),s.push(h)):(e[p]=h,s[p]=h)}else{let h=vm(l,t,u+f,d),p=vm(l,t,u,u+f),g=h>=0&&e[h],m=p>=0&&e[p];if(i&&!m||!i&&!g){Tm(bd(a,s),o,l);let y=v2(i?m2:g2,e.length,i,r,c);!i&&m&&(e[p].providerFactory=y),mm(o,n,t.length,0),t.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),e.push(y),s.push(y)}else{let y=wS(e[i?p:h],c,!i&&r);mm(o,n,h>-1?h:p,y)}!i&&r&&m&&e[p].componentProviders++}}}function mm(n,t,e,r){let i=Os(t),o=fN(t);if(i||o){let l=(o?Tt(t.useClass):t).prototype.ngOnDestroy;if(l){let c=n.destroyHooks||(n.destroyHooks=[]);if(!i&&t.multi){let u=c.indexOf(e);u===-1?c.push(e,[r,l]):c[u+1].push(r,l)}else c.push(e,l)}}}function wS(n,t,e){return e&&n.componentProviders++,n.multi.push(t)-1}function vm(n,t,e,r){for(let i=e;i<r;i++)if(t[i]===n)return i;return-1}function g2(n,t,e,r,i){return av(this.multi,[])}function m2(n,t,e,r,i){let o=this.multi,s;if(this.providerFactory){let a=this.providerFactory.componentProviders,l=El(r,r[q],this.providerFactory.index,i);s=l.slice(0,a),av(o,s);for(let c=a;c<l.length;c++)s.push(l[c])}else s=[],av(o,s);return s}function av(n,t){for(let e=0;e<n.length;e++){let r=n[e];t.push(r())}return t}function v2(n,t,e,r,i){let o=new bo(n,e,L);return o.multi=[],o.index=t,o.componentProviders=0,wS(o,i,r&&!e),o}function Br(n,t=[]){return e=>{e.providersResolver=(r,i)=>p2(r,i?i(n):n,t)}}function ES(n,t){let e=n[t];return e===Pn?void 0:e}function y2(n,t,e,r,i,o){let s=t+e;return Lr(n,s,i)?lS(n,s+1,o?r.call(o,i):r(i)):ES(n,s+1)}function _2(n,t,e,r,i,o,s){let a=t+e;return cy(n,a,i,o)?lS(n,a+2,s?r.call(s,i,o):r(i,o)):ES(n,a+2)}function me(n,t){let e=ht(),r,i=n+Ye;e.firstCreatePass?(r=b2(t,e.pipeRegistry),e.data[i]=r,r.onDestroy&&(e.destroyHooks??=[]).push(i,r.onDestroy)):r=e.data[i];let o=r.factory||(r.factory=go(r.type,!0)),s,a=Ft(L);try{let l=_d(!1),c=o();return _d(l),xN(e,he(),i,c),c}finally{Ft(a)}}function b2(n,t){if(t)for(let e=t.length-1;e>=0;e--){let r=t[e];if(n===r.name)return r}}function sr(n,t,e){let r=n+Ye,i=he(),o=aD(i,r);return CS(i,r)?y2(i,pD(),t,o.transform,e,o):o.transform(e)}function Ve(n,t,e,r){let i=n+Ye,o=he(),s=aD(o,i);return CS(o,i)?_2(o,pD(),t,s.transform,e,r,s):s.transform(e,r)}function CS(n,t){return n[q].data[t].pure}var lv=class{ngModuleFactory;componentFactories;constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}},DS=(()=>{class n{compileModuleSync(e){return new nv(e)}compileModuleAsync(e){return Promise.resolve(this.compileModuleSync(e))}compileModuleAndAllComponentsSync(e){let r=this.compileModuleSync(e),i=qC(e),o=Cx(i.declarations).reduce((s,a)=>{let l=di(a);return l&&s.push(new Fs(l)),s},[]);return new lv(r,o)}compileModuleAndAllComponentsAsync(e){return Promise.resolve(this.compileModuleAndAllComponentsSync(e))}clearCache(){}clearCacheFor(e){}getModuleId(e){}static \u0275fac=function(r){return new(r||n)};static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var w2=(()=>{class n{zone=S(Le);changeDetectionScheduler=S(wo);applicationRef=S(Ut);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),E2=new k("",{factory:()=>!1});function xS({ngZoneFactory:n,ignoreChangesOutsideZone:t,scheduleInRootZone:e}){return n??=()=>new Le(ee(O({},IS()),{scheduleInRootZone:e})),[{provide:Le,useFactory:n},{provide:ui,multi:!0,useFactory:()=>{let r=S(w2,{optional:!0});return()=>r.initialize()}},{provide:ui,multi:!0,useFactory:()=>{let r=S(C2);return()=>{r.initialize()}}},t===!0?{provide:LD,useValue:!0}:[],{provide:jD,useValue:e??FD}]}function SS(n){let t=n?.ignoreChangesOutsideZone,e=n?.scheduleInRootZone,r=xS({ngZoneFactory:()=>{let i=IS(n);return i.scheduleInRootZone=e,i.shouldCoalesceEventChangeDetection&&rr("NgZone_CoalesceEvent"),new Le(i)},ignoreChangesOutsideZone:t,scheduleInRootZone:e});return jr([{provide:E2,useValue:!0},{provide:Wd,useValue:!1},r])}function IS(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var C2=(()=>{class n{subscription=new Ze;initialized=!1;zone=S(Le);pendingTasks=S(nr);initialize(){if(this.initialized)return;this.initialized=!0;let e=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(e=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Le.assertNotInAngularZone(),queueMicrotask(()=>{e!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(e),e=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Le.assertInAngularZone(),e??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var D2=(()=>{class n{appRef=S(Ut);taskService=S(nr);ngZone=S(Le);zonelessEnabled=S(Wd);tracing=S(Ws,{optional:!0});disableScheduling=S(LD,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new Ze;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Ed):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(S(jD,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Pm||!this.zoneIsDefined)}notify(e){if(!this.zonelessEnabled&&e===5)return;let r=!1;switch(e){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?zE:VD;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(e){return!(this.disableScheduling&&!e||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Ed+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let e=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(e),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,zE(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(e)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let e=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(e)}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function x2(){return typeof $localize<"u"&&$localize.locale||kd}var Pl=new k("",{providedIn:"root",factory:()=>S(Pl,X.Optional|X.SkipSelf)||x2()}),MS=new k("",{providedIn:"root",factory:()=>a2});var cv=new k(""),S2=new k("");function gl(n){return!n.moduleRef}function I2(n){let t=gl(n)?n.r3Injector:n.moduleRef.injector,e=t.get(Le);return e.run(()=>{gl(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let r=t.get(Qn,null),i;if(e.runOutsideAngular(()=>{i=e.onError.subscribe({next:o=>{r.handleError(o)}})}),gl(n)){let o=()=>t.destroy(),s=n.platformInjector.get(cv);s.add(o),t.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>n.moduleRef.destroy(),s=n.platformInjector.get(cv);s.add(o),n.moduleRef.onDestroy(()=>{sd(n.allPlatformModules,n.moduleRef),i.unsubscribe(),s.delete(o)})}return T2(r,e,()=>{let o=t.get(fS);return o.runInitializers(),o.donePromise.then(()=>{let s=t.get(Pl,kd);if(c2(s||kd),!t.get(S2,!0))return gl(n)?t.get(Ut):(n.allPlatformModules.push(n.moduleRef),n.moduleRef);if(gl(n)){let l=t.get(Ut);return n.rootComponent!==void 0&&l.bootstrap(n.rootComponent),l}else return M2(n.moduleRef,n.allPlatformModules),n.moduleRef})})})}function M2(n,t){let e=n.injector.get(Ut);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(r=>e.bootstrap(r));else if(n.instance.ngDoBootstrap)n.instance.ngDoBootstrap(e);else throw new P(-403,!1);t.push(n)}function T2(n,t,e){try{let r=e();return mi(r)?r.catch(i=>{throw t.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw t.runOutsideAngular(()=>n.handleError(r)),r}}var ad=null;function A2(n=[],t){return Bt.create({name:t,providers:[{provide:jd,useValue:"platform"},{provide:cv,useValue:new Set([()=>ad=null])},...n]})}function O2(n=[]){if(ad)return ad;let t=A2(n);return ad=t,bV(),R2(t),t}function R2(n){let t=n.get(Nv,null);$t(n,()=>{t?.forEach(e=>e())})}var Ur=(()=>{class n{static __NG_ELEMENT_ID__=k2}return n})();function k2(n){return P2(Et(),he(),(n&16)===16)}function P2(n,t,e){if(Do(n)&&!e){let r=Xn(n.index,t);return new Cl(r,r)}else if(n.type&175){let r=t[mn];return new Cl(r,t)}return null}var uv=class{constructor(){}supports(t){return aS(t)}create(t){return new dv(t)}},N2=(n,t)=>t,dv=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(t){this._trackByFn=t||N2}forEachItem(t){let e;for(e=this._itHead;e!==null;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,r=this._removalsHead,i=0,o=null;for(;e||r;){let s=!r||e&&e.currentIndex<CC(r,i,o)?e:r,a=CC(s,i,o),l=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(e=e._next,s.previousIndex==null)i++;else{o||(o=[]);let c=a-i,u=l-i;if(c!=u){for(let f=0;f<c;f++){let h=f<o.length?o[f]:o[f]=0,p=h+f;u<=p&&p<c&&(o[f]=h+1)}let d=s.previousIndex;o[d]=u-c}}a!==l&&t(s,a,l)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;e!==null;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;e!==null;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;e!==null;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;e!==null;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;e!==null;e=e._nextIdentityChange)t(e)}diff(t){if(t==null&&(t=[]),!aS(t))throw new P(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._itHead,r=!1,i,o,s;if(Array.isArray(t)){this.length=t.length;for(let a=0;a<this.length;a++)o=t[a],s=this._trackByFn(a,o),e===null||!Object.is(e.trackById,s)?(e=this._mismatch(e,o,s,a),r=!0):(r&&(e=this._verifyReinsertion(e,o,s,a)),Object.is(e.item,o)||this._addIdentityChange(e,o)),e=e._next}else i=0,sV(t,a=>{s=this._trackByFn(i,a),e===null||!Object.is(e.trackById,s)?(e=this._mismatch(e,a,s,i),r=!0):(r&&(e=this._verifyReinsertion(e,a,s,i)),Object.is(e.item,a)||this._addIdentityChange(e,a)),e=e._next,i++}),this.length=i;return this._truncate(e),this.collection=t,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;t!==null;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;t!==null;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;t!==null;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,r,i){let o;return t===null?o=this._itTail:(o=t._prev,this._remove(t)),t=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),t!==null?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,o,i)):(t=this._linkedRecords===null?null:this._linkedRecords.get(r,i),t!==null?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,o,i)):t=this._addAfter(new hv(e,r),o,i)),t}_verifyReinsertion(t,e,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?t=this._reinsertAfter(o,t._prev,i):t.currentIndex!=i&&(t.currentIndex=i,this._addToMoves(t,i)),t}_truncate(t){for(;t!==null;){let e=t._next;this._addToRemovals(this._unlink(t)),t=e}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(t);let i=t._prevRemoved,o=t._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(t,e,r),this._addToMoves(t,r),t}_moveAfter(t,e,r){return this._unlink(t),this._insertAfter(t,e,r),this._addToMoves(t,r),t}_addAfter(t,e,r){return this._insertAfter(t,e,r),this._additionsTail===null?this._additionsTail=this._additionsHead=t:this._additionsTail=this._additionsTail._nextAdded=t,t}_insertAfter(t,e,r){let i=e===null?this._itHead:e._next;return t._next=i,t._prev=e,i===null?this._itTail=t:i._prev=t,e===null?this._itHead=t:e._next=t,this._linkedRecords===null&&(this._linkedRecords=new Pd),this._linkedRecords.put(t),t.currentIndex=r,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){this._linkedRecords!==null&&this._linkedRecords.remove(t);let e=t._prev,r=t._next;return e===null?this._itHead=r:e._next=r,r===null?this._itTail=e:r._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail===null?this._movesTail=this._movesHead=t:this._movesTail=this._movesTail._nextMoved=t),t}_addToRemovals(t){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Pd),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=t:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=t,t}},hv=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(t,e){this.item=t,this.trackById=e}},fv=class{_head=null;_tail=null;add(t){this._head===null?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let r;for(r=this._head;r!==null;r=r._nextDup)if((e===null||e<=r.currentIndex)&&Object.is(r.trackById,t))return r;return null}remove(t){let e=t._prevDup,r=t._nextDup;return e===null?this._head=r:e._nextDup=r,r===null?this._tail=e:r._prevDup=e,this._head===null}},Pd=class{map=new Map;put(t){let e=t.trackById,r=this.map.get(e);r||(r=new fv,this.map.set(e,r)),r.add(t)}get(t,e){let r=t,i=this.map.get(r);return i?i.get(t,e):null}remove(t){let e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function CC(n,t,e){let r=n.previousIndex;if(r===null)return r;let i=0;return e&&r<e.length&&(i=e[r]),r+t+i}function DC(){return new vy([new uv])}var vy=(()=>{class n{factories;static \u0275prov=F({token:n,providedIn:"root",factory:DC});constructor(e){this.factories=e}static create(e,r){if(r!=null){let i=r.factories.slice();e=e.concat(i)}return new n(e)}static extend(e){return{provide:n,useFactory:r=>n.create(e,r||DC()),deps:[[n,new rN,new $C]]}}find(e){let r=this.factories.find(i=>i.supports(e));if(r!=null)return r;throw new P(901,!1)}}return n})();function TS(n){let{rootComponent:t,appProviders:e,platformProviders:r,platformRef:i}=n;ye(8);try{let o=i?.injector??O2(r),s=[xS({}),{provide:wo,useExisting:D2},...e||[]],a=new Od({providers:s,parent:o,debugName:"",runEnvironmentInitializers:!1});return I2({r3Injector:a.injector,platformInjector:o,rootComponent:t})}catch(o){return Promise.reject(o)}finally{ye(9)}}var ed=new WeakSet,xC="",ld=[];function SC(n){return n.get(rx,B1)}function AS(){let n=[{provide:rx,useFactory:()=>{let t=!0;{let e=S(Or);t=!!window._ejsas?.[e]}return t&&rr("NgEventReplay"),t}}];return n.push({provide:ui,useValue:()=>{let t=S(Ut),{injector:e}=t;if(!ed.has(t)){let r=S(YE);if(SC(e)){uF();let i=e.get(Or),o=lF(i,(s,a,l)=>{s.nodeType===Node.ELEMENT_NODE&&(iF(s,a,l),oF(s,r))});t.onDestroy(o)}}},multi:!0},{provide:vi,useFactory:()=>{let t=S(Ut),{injector:e}=t;return()=>{!SC(e)||ed.has(t)||(ed.add(t),t.onDestroy(()=>{ed.delete(t);{let r=e.get(Or);Qg(r)}}),t.whenStable().then(()=>{if(t.destroyed)return;let r=e.get(aF);F2(r,e);let i=e.get(YE);i.get(xC)?.forEach(sF),i.delete(xC);let o=r.instance;bF(e)?t.onDestroy(()=>o.cleanUp()):o.cleanUp()}))}},multi:!0}),n}var F2=(n,t)=>{let e=t.get(Or),r=window._ejsas[e],i=n.instance=new IE(new Ku(r.c));for(let a of r.et)i.addEvent(a);for(let a of r.etc)i.addEvent(a);let o=ME(e);i.replayEarlyEventInfos(o),Qg(e);let s=new Yu(a=>{L2(t,a,a.currentTarget)});SE(i,s)};function L2(n,t,e){let r=(e&&e.getAttribute(Zd))??"";/d\d+/.test(r)?j2(r,n,t,e):t.eventPhase===Xg.REPLAY&&lx(t,e)}function j2(n,t,e,r){ld.push({event:e,currentTarget:r}),IV(t,n,V2)}function V2(n){let t=[...ld],e=new Set(n);ld=[];for(let{event:r,currentTarget:i}of t){let o=i.getAttribute(Zd);e.has(o)?lx(r,i):ld.push({event:r,currentTarget:i})}}var IC=!1;function B2(){IC||(IC=!0,mF(),e2(),f2(),r2(),hV(),Fj(),cj(),nL())}function U2(n){return n.whenStable()}function OS(){let n=[{provide:Ju,useFactory:()=>{let t=!0;return t=!!S(zs,{optional:!0})?.get(ux,null),t&&rr("NgHydration"),t}},{provide:ui,useValue:()=>{nj(!1),S(Ju)&&(DF(qd()),B2())},multi:!0}];return n.push({provide:nx,useFactory:()=>S(Ju)},{provide:vi,useFactory:()=>{if(S(Ju)){let t=S(Ut);return()=>{U2(t).then(()=>{t.destroyed||Gx(t)})}}return()=>{}},multi:!0}),jr(n)}function Io(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function Fn(n){return Dg(n)}function Js(n,t){return bg(n,t?.equal)}var MC=class{[fn];constructor(t){this[fn]=t}destroy(){this[fn].destroy()}};function RS(n){let t=di(n);if(!t)return null;let e=new Fs(t);return{get selector(){return e.selector},get type(){return e.componentType},get inputs(){return e.inputs},get outputs(){return e.outputs},get ngContentSelectors(){return e.ngContentSelectors},get isStandalone(){return t.standalone},get isSignal(){return t.signals}}}var Qe=new k("");var NS=null;function vn(){return NS}function yy(n){NS??=n}var Nl=class{},Fl=(()=>{class n{historyGo(e){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=F({token:n,factory:()=>S(FS),providedIn:"platform"})}return n})(),_y=new k(""),FS=(()=>{class n extends Fl{_location;_history;_doc=S(Qe);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return vn().getBaseHref(this._doc)}onPopState(e){let r=vn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",e,!1),()=>r.removeEventListener("popstate",e)}onHashChange(e){let r=vn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",e,!1),()=>r.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,r,i){this._history.pushState(e,r,i)}replaceState(e,r,i){this._history.replaceState(e,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||n)};static \u0275prov=F({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function uh(n,t){return n?t?n.endsWith("/")?t.startsWith("/")?n+t.slice(1):n+t:t.startsWith("/")?n+t:`${n}/${t}`:n:t}function kS(n){let t=n.search(/#|\?|$/);return n[t-1]==="/"?n.slice(0,t-1)+n.slice(t):n}function Ln(n){return n&&n[0]!=="?"?`?${n}`:n}var jn=(()=>{class n{historyGo(e){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=F({token:n,factory:()=>S(hh),providedIn:"root"})}return n})(),dh=new k(""),hh=(()=>{class n extends jn{_platformLocation;_baseHref;_removeListenerFns=[];constructor(e,r){super(),this._platformLocation=e,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??S(Qe).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return uh(this._baseHref,e)}path(e=!1){let r=this._platformLocation.pathname+Ln(this._platformLocation.search),i=this._platformLocation.hash;return i&&e?`${r}${i}`:r}pushState(e,r,i,o){let s=this.prepareExternalUrl(i+Ln(o));this._platformLocation.pushState(e,r,s)}replaceState(e,r,i,o){let s=this.prepareExternalUrl(i+Ln(o));this._platformLocation.replaceState(e,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static \u0275fac=function(r){return new(r||n)(U(Fl),U(dh,8))};static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),yi=(()=>{class n{_subject=new qe;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(e){this._locationStrategy=e;let r=this._locationStrategy.getBaseHref();this._basePath=z2(kS(PS(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,r=""){return this.path()==this.normalize(e+Ln(r))}normalize(e){return n.stripTrailingSlash(H2(this._basePath,PS(e)))}prepareExternalUrl(e){return e&&e[0]!=="/"&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,r="",i=null){this._locationStrategy.pushState(i,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Ln(r)),i)}replaceState(e,r="",i=null){this._locationStrategy.replaceState(i,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Ln(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",r){this._urlChangeListeners.forEach(i=>i(e,r))}subscribe(e,r,i){return this._subject.subscribe({next:e,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=Ln;static joinWithSlash=uh;static stripTrailingSlash=kS;static \u0275fac=function(r){return new(r||n)(U(jn))};static \u0275prov=F({token:n,factory:()=>$2(),providedIn:"root"})}return n})();function $2(){return new yi(U(jn))}function H2(n,t){if(!n||!t.startsWith(n))return t;let e=t.substring(n.length);return e===""||["/",";","?","#"].includes(e[0])?e:t}function PS(n){return n.replace(/\/index.html$/,"")}function z2(n){if(new RegExp("^(https?:)?//").test(n)){let[,e]=n.split(/\/\/[^\/]+/);return e}return n}var Iy=(()=>{class n extends jn{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(e,r){super(),this._platformLocation=e,r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(e){let r=uh(this._baseHref,e);return r.length>0?"#"+r:r}pushState(e,r,i,o){let s=this.prepareExternalUrl(i+Ln(o))||this._platformLocation.pathname;this._platformLocation.pushState(e,r,s)}replaceState(e,r,i,o){let s=this.prepareExternalUrl(i+Ln(o))||this._platformLocation.pathname;this._platformLocation.replaceState(e,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static \u0275fac=function(r){return new(r||n)(U(Fl),U(dh,8))};static \u0275prov=F({token:n,factory:n.\u0275fac})}return n})(),$S={ADP:[void 0,void 0,0],AFN:[void 0,"\u060B",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058F",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20BC"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09F3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xA5","\xA5"],COP:[void 0,"$",2],CRC:[void 0,"\u20A1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010D",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xA3"],ESP:[void 0,"\u20A7",0],EUR:["\u20AC"],FJD:[void 0,"$"],FKP:[void 0,"\xA3"],GBP:["\xA3"],GEL:[void 0,"\u20BE"],GHS:[void 0,"GH\u20B5"],GIP:[void 0,"\xA3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20AA"],INR:["\u20B9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xA5",void 0,0],KHR:[void 0,"\u17DB"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20A9",0],KRW:["\u20A9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20B8"],LAK:[void 0,"\u20AD",0],LBP:[void 0,"L\xA3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20AE",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20A6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20B1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20B2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20BD"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xA3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xA3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xA3",0],THB:[void 0,"\u0E3F"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20BA"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20B4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20AB",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202FCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xA4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]},My=function(n){return n[n.Decimal=0]="Decimal",n[n.Percent=1]="Percent",n[n.Currency=2]="Currency",n[n.Scientific=3]="Scientific",n}(My||{});var Ct=function(n){return n[n.Format=0]="Format",n[n.Standalone=1]="Standalone",n}(Ct||{}),Ee=function(n){return n[n.Narrow=0]="Narrow",n[n.Abbreviated=1]="Abbreviated",n[n.Wide=2]="Wide",n[n.Short=3]="Short",n}(Ee||{}),qt=function(n){return n[n.Short=0]="Short",n[n.Medium=1]="Medium",n[n.Long=2]="Long",n[n.Full=3]="Full",n}(qt||{}),Gt={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function HS(n){return Wt(n)[je.LocaleId]}function zS(n,t,e){let r=Wt(n),i=[r[je.DayPeriodsFormat],r[je.DayPeriodsStandalone]],o=yn(i,t);return yn(o,e)}function WS(n,t,e){let r=Wt(n),i=[r[je.DaysFormat],r[je.DaysStandalone]],o=yn(i,t);return yn(o,e)}function qS(n,t,e){let r=Wt(n),i=[r[je.MonthsFormat],r[je.MonthsStandalone]],o=yn(i,t);return yn(o,e)}function GS(n,t){let r=Wt(n)[je.Eras];return yn(r,t)}function Ll(n,t){let e=Wt(n);return yn(e[je.DateFormat],t)}function jl(n,t){let e=Wt(n);return yn(e[je.TimeFormat],t)}function Vl(n,t){let r=Wt(n)[je.DateTimeFormat];return yn(r,t)}function ar(n,t){let e=Wt(n),r=e[je.NumberSymbols][t];if(typeof r>"u"){if(t===Gt.CurrencyDecimal)return e[je.NumberSymbols][Gt.Decimal];if(t===Gt.CurrencyGroup)return e[je.NumberSymbols][Gt.Group]}return r}function KS(n,t){return Wt(n)[je.NumberFormats][t]}function W2(n){return Wt(n)[je.Currencies]}function YS(n){if(!n[je.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[je.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function ZS(n){let t=Wt(n);return YS(t),(t[je.ExtraData][2]||[]).map(r=>typeof r=="string"?by(r):[by(r[0]),by(r[1])])}function JS(n,t,e){let r=Wt(n);YS(r);let i=[r[je.ExtraData][0],r[je.ExtraData][1]],o=yn(i,t)||[];return yn(o,e)||[]}function yn(n,t){for(let e=t;e>-1;e--)if(typeof n[e]<"u")return n[e];throw new Error("Locale data API: locale data undefined")}function by(n){let[t,e]=n.split(":");return{hours:+t,minutes:+e}}function XS(n,t,e="en"){let r=W2(e)[n]||$S[n]||[],i=r[1];return t==="narrow"&&typeof i=="string"?i:r[0]||n}var q2=2;function QS(n){let t,e=$S[n];return e&&(t=e[2]),typeof t=="number"?t:q2}var G2=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,fh={},K2=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;function eI(n,t,e,r){let i=rB(n);t=$r(e,t)||t;let s=[],a;for(;t;)if(a=K2.exec(t),a){s=s.concat(a.slice(1));let u=s.pop();if(!u)break;t=u}else{s.push(t);break}let l=i.getTimezoneOffset();r&&(l=nI(r,l),i=nB(i,r));let c="";return s.forEach(u=>{let d=eB(u);c+=d?d(i,e,l):u==="''"?"'":u.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),c}function yh(n,t,e){let r=new Date(0);return r.setFullYear(n,t,e),r.setHours(0,0,0),r}function $r(n,t){let e=HS(n);if(fh[e]??={},fh[e][t])return fh[e][t];let r="";switch(t){case"shortDate":r=Ll(n,qt.Short);break;case"mediumDate":r=Ll(n,qt.Medium);break;case"longDate":r=Ll(n,qt.Long);break;case"fullDate":r=Ll(n,qt.Full);break;case"shortTime":r=jl(n,qt.Short);break;case"mediumTime":r=jl(n,qt.Medium);break;case"longTime":r=jl(n,qt.Long);break;case"fullTime":r=jl(n,qt.Full);break;case"short":let i=$r(n,"shortTime"),o=$r(n,"shortDate");r=ph(Vl(n,qt.Short),[i,o]);break;case"medium":let s=$r(n,"mediumTime"),a=$r(n,"mediumDate");r=ph(Vl(n,qt.Medium),[s,a]);break;case"long":let l=$r(n,"longTime"),c=$r(n,"longDate");r=ph(Vl(n,qt.Long),[l,c]);break;case"full":let u=$r(n,"fullTime"),d=$r(n,"fullDate");r=ph(Vl(n,qt.Full),[u,d]);break}return r&&(fh[e][t]=r),r}function ph(n,t){return t&&(n=n.replace(/\{([^}]+)}/g,function(e,r){return t!=null&&r in t?t[r]:e})),n}function Vn(n,t,e="-",r,i){let o="";(n<0||i&&n<=0)&&(i?n=-n+1:(n=-n,o=e));let s=String(n);for(;s.length<t;)s="0"+s;return r&&(s=s.slice(s.length-t)),o+s}function Y2(n,t){return Vn(n,3).substring(0,t)}function et(n,t,e=0,r=!1,i=!1){return function(o,s){let a=Z2(n,o);if((e>0||a>-e)&&(a+=e),n===3)a===0&&e===-12&&(a=12);else if(n===6)return Y2(a,t);let l=ar(s,Gt.MinusSign);return Vn(a,t,l,r,i)}}function Z2(n,t){switch(n){case 0:return t.getFullYear();case 1:return t.getMonth();case 2:return t.getDate();case 3:return t.getHours();case 4:return t.getMinutes();case 5:return t.getSeconds();case 6:return t.getMilliseconds();case 7:return t.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}function Se(n,t,e=Ct.Format,r=!1){return function(i,o){return J2(i,o,n,t,e,r)}}function J2(n,t,e,r,i,o){switch(e){case 2:return qS(t,i,r)[n.getMonth()];case 1:return WS(t,i,r)[n.getDay()];case 0:let s=n.getHours(),a=n.getMinutes();if(o){let c=ZS(t),u=JS(t,i,r),d=c.findIndex(f=>{if(Array.isArray(f)){let[h,p]=f,g=s>=h.hours&&a>=h.minutes,m=s<p.hours||s===p.hours&&a<p.minutes;if(h.hours<p.hours){if(g&&m)return!0}else if(g||m)return!0}else if(f.hours===s&&f.minutes===a)return!0;return!1});if(d!==-1)return u[d]}return zS(t,i,r)[s<12?0:1];case 3:return GS(t,r)[n.getFullYear()<=0?0:1];default:let l=e;throw new Error(`unexpected translation type ${l}`)}}function gh(n){return function(t,e,r){let i=-1*r,o=ar(e,Gt.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(n){case 0:return(i>=0?"+":"")+Vn(s,2,o)+Vn(Math.abs(i%60),2,o);case 1:return"GMT"+(i>=0?"+":"")+Vn(s,1,o);case 2:return"GMT"+(i>=0?"+":"")+Vn(s,2,o)+":"+Vn(Math.abs(i%60),2,o);case 3:return r===0?"Z":(i>=0?"+":"")+Vn(s,2,o)+":"+Vn(Math.abs(i%60),2,o);default:throw new Error(`Unknown zone width "${n}"`)}}}var X2=0,vh=4;function Q2(n){let t=yh(n,X2,1).getDay();return yh(n,0,1+(t<=vh?vh:vh+7)-t)}function tI(n){let t=n.getDay(),e=t===0?-3:vh-t;return yh(n.getFullYear(),n.getMonth(),n.getDate()+e)}function wy(n,t=!1){return function(e,r){let i;if(t){let o=new Date(e.getFullYear(),e.getMonth(),1).getDay()-1,s=e.getDate();i=1+Math.floor((s+o)/7)}else{let o=tI(e),s=Q2(o.getFullYear()),a=o.getTime()-s.getTime();i=1+Math.round(a/6048e5)}return Vn(i,n,ar(r,Gt.MinusSign))}}function mh(n,t=!1){return function(e,r){let o=tI(e).getFullYear();return Vn(o,n,ar(r,Gt.MinusSign),t)}}var Ey={};function eB(n){if(Ey[n])return Ey[n];let t;switch(n){case"G":case"GG":case"GGG":t=Se(3,Ee.Abbreviated);break;case"GGGG":t=Se(3,Ee.Wide);break;case"GGGGG":t=Se(3,Ee.Narrow);break;case"y":t=et(0,1,0,!1,!0);break;case"yy":t=et(0,2,0,!0,!0);break;case"yyy":t=et(0,3,0,!1,!0);break;case"yyyy":t=et(0,4,0,!1,!0);break;case"Y":t=mh(1);break;case"YY":t=mh(2,!0);break;case"YYY":t=mh(3);break;case"YYYY":t=mh(4);break;case"M":case"L":t=et(1,1,1);break;case"MM":case"LL":t=et(1,2,1);break;case"MMM":t=Se(2,Ee.Abbreviated);break;case"MMMM":t=Se(2,Ee.Wide);break;case"MMMMM":t=Se(2,Ee.Narrow);break;case"LLL":t=Se(2,Ee.Abbreviated,Ct.Standalone);break;case"LLLL":t=Se(2,Ee.Wide,Ct.Standalone);break;case"LLLLL":t=Se(2,Ee.Narrow,Ct.Standalone);break;case"w":t=wy(1);break;case"ww":t=wy(2);break;case"W":t=wy(1,!0);break;case"d":t=et(2,1);break;case"dd":t=et(2,2);break;case"c":case"cc":t=et(7,1);break;case"ccc":t=Se(1,Ee.Abbreviated,Ct.Standalone);break;case"cccc":t=Se(1,Ee.Wide,Ct.Standalone);break;case"ccccc":t=Se(1,Ee.Narrow,Ct.Standalone);break;case"cccccc":t=Se(1,Ee.Short,Ct.Standalone);break;case"E":case"EE":case"EEE":t=Se(1,Ee.Abbreviated);break;case"EEEE":t=Se(1,Ee.Wide);break;case"EEEEE":t=Se(1,Ee.Narrow);break;case"EEEEEE":t=Se(1,Ee.Short);break;case"a":case"aa":case"aaa":t=Se(0,Ee.Abbreviated);break;case"aaaa":t=Se(0,Ee.Wide);break;case"aaaaa":t=Se(0,Ee.Narrow);break;case"b":case"bb":case"bbb":t=Se(0,Ee.Abbreviated,Ct.Standalone,!0);break;case"bbbb":t=Se(0,Ee.Wide,Ct.Standalone,!0);break;case"bbbbb":t=Se(0,Ee.Narrow,Ct.Standalone,!0);break;case"B":case"BB":case"BBB":t=Se(0,Ee.Abbreviated,Ct.Format,!0);break;case"BBBB":t=Se(0,Ee.Wide,Ct.Format,!0);break;case"BBBBB":t=Se(0,Ee.Narrow,Ct.Format,!0);break;case"h":t=et(3,1,-12);break;case"hh":t=et(3,2,-12);break;case"H":t=et(3,1);break;case"HH":t=et(3,2);break;case"m":t=et(4,1);break;case"mm":t=et(4,2);break;case"s":t=et(5,1);break;case"ss":t=et(5,2);break;case"S":t=et(6,1);break;case"SS":t=et(6,2);break;case"SSS":t=et(6,3);break;case"Z":case"ZZ":case"ZZZ":t=gh(0);break;case"ZZZZZ":t=gh(3);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=gh(1);break;case"OOOO":case"ZZZZ":case"zzzz":t=gh(2);break;default:return null}return Ey[n]=t,t}function nI(n,t){n=n.replace(/:/g,"");let e=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(e)?t:e}function tB(n,t){return n=new Date(n.getTime()),n.setMinutes(n.getMinutes()+t),n}function nB(n,t,e){let i=n.getTimezoneOffset(),o=nI(t,i);return tB(n,-1*(o-i))}function rB(n){if(LS(n))return n;if(typeof n=="number"&&!isNaN(n))return new Date(n);if(typeof n=="string"){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){let[i,o=1,s=1]=n.split("-").map(a=>+a);return yh(i,o-1,s)}let e=parseFloat(n);if(!isNaN(n-e))return new Date(e);let r;if(r=n.match(G2))return iB(r)}let t=new Date(n);if(!LS(t))throw new Error(`Unable to convert "${n}" into a date`);return t}function iB(n){let t=new Date(0),e=0,r=0,i=n[8]?t.setUTCFullYear:t.setFullYear,o=n[8]?t.setUTCHours:t.setHours;n[9]&&(e=Number(n[9]+n[10]),r=Number(n[9]+n[11])),i.call(t,Number(n[1]),Number(n[2])-1,Number(n[3]));let s=Number(n[4]||0)-e,a=Number(n[5]||0)-r,l=Number(n[6]||0),c=Math.floor(parseFloat("0."+(n[7]||0))*1e3);return o.call(t,s,a,l,c),t}function LS(n){return n instanceof Date&&!isNaN(n.valueOf())}var oB=/^(\d+)?\.((\d+)(-(\d+))?)?$/,jS=22,_h=".",Bl="0",sB=";",aB=",",Cy="#",VS="\xA4";function lB(n,t,e,r,i,o,s=!1){let a="",l=!1;if(!isFinite(n))a=ar(e,Gt.Infinity);else{let c=dB(n);s&&(c=uB(c));let u=t.minInt,d=t.minFrac,f=t.maxFrac;if(o){let b=o.match(oB);if(b===null)throw new Error(`${o} is not a valid digit info`);let w=b[1],C=b[3],x=b[5];w!=null&&(u=Dy(w)),C!=null&&(d=Dy(C)),x!=null?f=Dy(x):C!=null&&d>f&&(f=d)}hB(c,d,f);let h=c.digits,p=c.integerLen,g=c.exponent,m=[];for(l=h.every(b=>!b);p<u;p++)h.unshift(0);for(;p<0;p++)h.unshift(0);p>0?m=h.splice(p,h.length):(m=h,h=[0]);let y=[];for(h.length>=t.lgSize&&y.unshift(h.splice(-t.lgSize,h.length).join(""));h.length>t.gSize;)y.unshift(h.splice(-t.gSize,h.length).join(""));h.length&&y.unshift(h.join("")),a=y.join(ar(e,r)),m.length&&(a+=ar(e,i)+m.join("")),g&&(a+=ar(e,Gt.Exponential)+"+"+g)}return n<0&&!l?a=t.negPre+a+t.negSuf:a=t.posPre+a+t.posSuf,a}function rI(n,t,e,r,i){let o=KS(t,My.Currency),s=cB(o,ar(t,Gt.MinusSign));return s.minFrac=QS(r),s.maxFrac=s.minFrac,lB(n,s,t,Gt.CurrencyGroup,Gt.CurrencyDecimal,i).replace(VS,e).replace(VS,"").trim()}function cB(n,t="-"){let e={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=n.split(sB),i=r[0],o=r[1],s=i.indexOf(_h)!==-1?i.split(_h):[i.substring(0,i.lastIndexOf(Bl)+1),i.substring(i.lastIndexOf(Bl)+1)],a=s[0],l=s[1]||"";e.posPre=a.substring(0,a.indexOf(Cy));for(let u=0;u<l.length;u++){let d=l.charAt(u);d===Bl?e.minFrac=e.maxFrac=u+1:d===Cy?e.maxFrac=u+1:e.posSuf+=d}let c=a.split(aB);if(e.gSize=c[1]?c[1].length:0,e.lgSize=c[2]||c[1]?(c[2]||c[1]).length:0,o){let u=i.length-e.posPre.length-e.posSuf.length,d=o.indexOf(Cy);e.negPre=o.substring(0,d).replace(/'/g,""),e.negSuf=o.slice(d+u).replace(/'/g,"")}else e.negPre=t+e.posPre,e.negSuf=e.posSuf;return e}function uB(n){if(n.digits[0]===0)return n;let t=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(t===0?n.digits.push(0,0):t===1&&n.digits.push(0),n.integerLen+=2),n}function dB(n){let t=Math.abs(n)+"",e=0,r,i,o,s,a;for((i=t.indexOf(_h))>-1&&(t=t.replace(_h,"")),(o=t.search(/e/i))>0?(i<0&&(i=o),i+=+t.slice(o+1),t=t.substring(0,o)):i<0&&(i=t.length),o=0;t.charAt(o)===Bl;o++);if(o===(a=t.length))r=[0],i=1;else{for(a--;t.charAt(a)===Bl;)a--;for(i-=o,r=[],s=0;o<=a;o++,s++)r[s]=Number(t.charAt(o))}return i>jS&&(r=r.splice(0,jS-1),e=i-1,i=1),{digits:r,exponent:e,integerLen:i}}function hB(n,t,e){if(t>e)throw new Error(`The minimum number of digits after fraction (${t}) is higher than the maximum (${e}).`);let r=n.digits,i=r.length-n.integerLen,o=Math.min(Math.max(t,i),e),s=o+n.integerLen,a=r[s];if(s>0){r.splice(Math.max(n.integerLen,s));for(let d=s;d<r.length;d++)r[d]=0}else{i=Math.max(0,i),n.integerLen=1,r.length=Math.max(1,s=o+1),r[0]=0;for(let d=1;d<s;d++)r[d]=0}if(a>=5)if(s-1<0){for(let d=0;d>s;d--)r.unshift(0),n.integerLen++;r.unshift(1),n.integerLen++}else r[s-1]++;for(;i<Math.max(0,o);i++)r.push(0);let l=o!==0,c=t+n.integerLen,u=r.reduceRight(function(d,f,h,p){return f=f+d,p[h]=f<10?f:f-10,l&&(p[h]===0&&h>=c?p.pop():l=!1),f>=10?1:0},0);u&&(r.unshift(u),n.integerLen++)}function Dy(n){let t=parseInt(n);if(isNaN(t))throw new Error("Invalid integer literal when parsing "+n);return t}var bh=class{$implicit;ngForOf;index;count;constructor(t,e,r,i){this.$implicit=t,this.ngForOf=e,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Dt=(()=>{class n{_viewContainer;_template;_differs;set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(e,r,i){this._viewContainer=e,this._template=r,this._differs=i}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){let e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){let r=this._viewContainer;e.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new bh(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),BS(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}e.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);BS(o,i)})}static ngTemplateContextGuard(e,r){return!0}static \u0275fac=function(r){return new(r||n)(L(gi),L(Eo),L(vy))};static \u0275dir=Oe({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return n})();function BS(n,t){n.context.$implicit=t.item}var Bn=(()=>{class n{_viewContainer;_context=new wh;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(e,r){this._viewContainer=e,this._thenTemplateRef=r}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){US(e,!1),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){US(e,!1),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(e,r){return!0}static \u0275fac=function(r){return new(r||n)(L(gi),L(Eo))};static \u0275dir=Oe({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return n})(),wh=class{$implicit=null;ngIf=null};function US(n,t){if(n&&!n.createEmbeddedView)throw new P(2020,!1)}function Ty(n,t){return new P(2100,!1)}var xy=class{createSubscription(t,e){return Fn(()=>t.subscribe({next:e,error:r=>{throw r}}))}dispose(t){Fn(()=>t.unsubscribe())}},Sy=class{createSubscription(t,e){return t.then(r=>e?.(r),r=>{throw r}),{unsubscribe:()=>{e=null}}}dispose(t){t.unsubscribe()}},fB=new Sy,pB=new xy,Mo=(()=>{class n{_ref;_latestValue=null;markForCheckOnValueUpdate=!0;_subscription=null;_obj=null;_strategy=null;constructor(e){this._ref=e}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(e){if(!this._obj){if(e)try{this.markForCheckOnValueUpdate=!1,this._subscribe(e)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,r=>this._updateLatestValue(e,r))}_selectStrategy(e){if(mi(e))return fB;if(dy(e))return pB;throw Ty(n,e)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,r){e===this._obj&&(this._latestValue=r,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static \u0275fac=function(r){return new(r||n)(L(Ur,16))};static \u0275pipe=ch({name:"async",type:n,pure:!1})}return n})();var gB="mediumDate",iI=new k(""),oI=new k(""),Ul=(()=>{class n{locale;defaultTimezone;defaultOptions;constructor(e,r,i){this.locale=e,this.defaultTimezone=r,this.defaultOptions=i}transform(e,r,i,o){if(e==null||e===""||e!==e)return null;try{let s=r??this.defaultOptions?.dateFormat??gB,a=i??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return eI(e,s,o||this.locale,a)}catch(s){throw Ty(n,s.message)}}static \u0275fac=function(r){return new(r||n)(L(Pl,16),L(iI,24),L(oI,24))};static \u0275pipe=ch({name:"date",type:n,pure:!0})}return n})();var Hr=(()=>{class n{_locale;_defaultCurrencyCode;constructor(e,r="USD"){this._locale=e,this._defaultCurrencyCode=r}transform(e,r=this._defaultCurrencyCode,i="symbol",o,s){if(!mB(e))return null;s||=this._locale,typeof i=="boolean"&&(i=i?"symbol":"code");let a=r||this._defaultCurrencyCode;i!=="code"&&(i==="symbol"||i==="symbol-narrow"?a=XS(a,i==="symbol"?"wide":"narrow",s):a=i);try{let l=vB(e);return rI(l,s,a,r,o)}catch(l){throw Ty(n,l.message)}}static \u0275fac=function(r){return new(r||n)(L(Pl,16),L(MS,16))};static \u0275pipe=ch({name:"currency",type:n,pure:!0})}return n})();function mB(n){return!(n==null||n===""||n!==n)}function vB(n){if(typeof n=="string"&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if(typeof n!="number")throw new Error(`${n} is not a number`);return n}var xt=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Nn({type:n});static \u0275inj=An({})}return n})();function $l(n,t){t=encodeURIComponent(t);for(let e of n.split(";")){let r=e.indexOf("="),[i,o]=r==-1?[e,""]:[e.slice(0,r),e.slice(r+1)];if(i.trim()===t)return decodeURIComponent(o)}return null}var Eh="browser",sI="server";function Ay(n){return n===Eh}function Ch(n){return n===sI}var To=class{};var lI=(()=>{class n{static \u0275prov=F({token:n,providedIn:"root",factory:()=>new Oy(S(Qe),window)})}return n})(),Oy=class{document;window;offset=()=>[0,0];constructor(t,e){this.document=t,this.window=e}setOffset(t){Array.isArray(t)?this.offset=()=>t:this.offset=t}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(t){this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){let e=yB(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){this.window.history.scrollRestoration=t}scrollToElement(t){let e=t.getBoundingClientRect(),r=e.left+this.window.pageXOffset,i=e.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}};function yB(n,t){let e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if(typeof n.createTreeWalker=="function"&&n.body&&typeof n.body.attachShadow=="function"){let r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(t)||o.querySelector(`[name="${t}"]`);if(s)return s}i=r.nextNode()}}return null}var Sh=new k(""),Ny=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(e,r){this._zone=r,e.forEach(i=>{i.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,r,i,o){return this._findPluginFor(r).addEventListener(e,r,i,o)}getZone(){return this._zone}_findPluginFor(e){let r=this._eventNameToPlugin.get(e);if(r)return r;if(r=this._plugins.find(o=>o.supports(e)),!r)throw new P(5101,!1);return this._eventNameToPlugin.set(e,r),r}static \u0275fac=function(r){return new(r||n)(U(Sh),U(Le))};static \u0275prov=F({token:n,factory:n.\u0275fac})}return n})(),Hl=class{_doc;constructor(t){this._doc=t}manager},Dh="ng-app-id";function cI(n){for(let t of n)t.remove()}function uI(n,t){let e=t.createElement("style");return e.textContent=n,e}function _B(n,t,e,r){let i=n.head?.querySelectorAll(`style[${Dh}="${t}"],link[${Dh}="${t}"]`);if(i)for(let o of i)o.removeAttribute(Dh),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&e.set(o.textContent,{usage:0,elements:[o]})}function ky(n,t){let e=t.createElement("link");return e.setAttribute("rel","stylesheet"),e.setAttribute("href",n),e}var Fy=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(e,r,i,o={}){this.doc=e,this.appId=r,this.nonce=i,this.isServer=Ch(o),_B(e,r,this.inline,this.external),this.hosts.add(e.head)}addStyles(e,r){for(let i of e)this.addUsage(i,this.inline,uI);r?.forEach(i=>this.addUsage(i,this.external,ky))}removeStyles(e,r){for(let i of e)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(e,r,i){let o=r.get(e);o?o.usage++:r.set(e,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(e,this.doc)))})}removeUsage(e,r){let i=r.get(e);i&&(i.usage--,i.usage<=0&&(cI(i.elements),r.delete(e)))}ngOnDestroy(){for(let[,{elements:e}]of[...this.inline,...this.external])cI(e);this.hosts.clear()}addHost(e){this.hosts.add(e);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(e,uI(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(e,ky(r,this.doc)))}removeHost(e){this.hosts.delete(e)}addElement(e,r){return this.nonce&&r.setAttribute("nonce",this.nonce),this.isServer&&r.setAttribute(Dh,this.appId),e.appendChild(r)}static \u0275fac=function(r){return new(r||n)(U(Qe),U(Or),U(Fv,8),U(pi))};static \u0275prov=F({token:n,factory:n.\u0275fac})}return n})(),Ry={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Ly=/%COMP%/g;var hI="%COMP%",bB=`_nghost-${hI}`,wB=`_ngcontent-${hI}`,EB=!0,CB=new k("",{providedIn:"root",factory:()=>EB});function DB(n){return wB.replace(Ly,n)}function xB(n){return bB.replace(Ly,n)}function fI(n,t){return t.map(e=>e.replace(Ly,n))}var jy=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(e,r,i,o,s,a,l,c=null,u=null){this.eventManager=e,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=l,this.nonce=c,this.tracingService=u,this.platformIsServer=Ch(a),this.defaultRenderer=new zl(e,s,l,this.platformIsServer,this.tracingService)}createRenderer(e,r){if(!e||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===er.ShadowDom&&(r=ee(O({},r),{encapsulation:er.Emulated}));let i=this.getOrCreateRenderer(e,r);return i instanceof xh?i.applyToHost(e):i instanceof Wl&&i.applyStyles(),i}getOrCreateRenderer(e,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,l=this.eventManager,c=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,d=this.platformIsServer,f=this.tracingService;switch(r.encapsulation){case er.Emulated:o=new xh(l,c,r,this.appId,u,s,a,d,f);break;case er.ShadowDom:return new Py(l,c,e,r,s,a,this.nonce,d,f);default:o=new Wl(l,c,r,u,s,a,d,f);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(e){this.rendererByCompId.delete(e)}static \u0275fac=function(r){return new(r||n)(U(Ny),U(Fy),U(Or),U(CB),U(Qe),U(pi),U(Le),U(Fv),U(Ws,8))};static \u0275prov=F({token:n,factory:n.\u0275fac})}return n})(),zl=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(t,e,r,i,o){this.eventManager=t,this.doc=e,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(t,e){return e?this.doc.createElementNS(Ry[e]||e,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,e){(dI(t)?t.content:t).appendChild(e)}insertBefore(t,e,r){t&&(dI(t)?t.content:t).insertBefore(e,r)}removeChild(t,e){e.remove()}selectRootElement(t,e){let r=typeof t=="string"?this.doc.querySelector(t):t;if(!r)throw new P(-5104,!1);return e||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,r,i){if(i){e=i+":"+e;let o=Ry[i];o?t.setAttributeNS(o,e,r):t.setAttribute(e,r)}else t.setAttribute(e,r)}removeAttribute(t,e,r){if(r){let i=Ry[r];i?t.removeAttributeNS(i,e):t.removeAttribute(`${r}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,r,i){i&(Fr.DashCase|Fr.Important)?t.style.setProperty(e,r,i&Fr.Important?"important":""):t.style[e]=r}removeStyle(t,e,r){r&Fr.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,r){t!=null&&(t[e]=r)}setValue(t,e){t.nodeValue=e}listen(t,e,r,i){if(typeof t=="string"&&(t=vn().getGlobalEventTarget(this.doc,t),!t))throw new P(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(t,e,o)),this.eventManager.addEventListener(t,e,o,i)}decoratePreventDefault(t){return e=>{if(e==="__ngUnwrap__")return t;(this.platformIsServer?this.ngZone.runGuarded(()=>t(e)):t(e))===!1&&e.preventDefault()}}};function dI(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var Py=class extends zl{sharedStylesHost;hostEl;shadowRoot;constructor(t,e,r,i,o,s,a,l,c){super(t,o,s,l,c),this.sharedStylesHost=e,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let u=i.styles;u=fI(i.id,u);for(let f of u){let h=document.createElement("style");a&&h.setAttribute("nonce",a),h.textContent=f,this.shadowRoot.appendChild(h)}let d=i.getExternalStyles?.();if(d)for(let f of d){let h=ky(f,o);a&&h.setAttribute("nonce",a),this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,r){return super.insertBefore(this.nodeOrShadowRoot(t),e,r)}removeChild(t,e){return super.removeChild(null,e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Wl=class extends zl{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(t,e,r,i,o,s,a,l,c){super(t,o,s,a,l),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=i;let u=r.styles;this.styles=c?fI(c,u):u,this.styleUrls=r.getExternalStyles?.(c)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},xh=class extends Wl{contentAttr;hostAttr;constructor(t,e,r,i,o,s,a,l,c){let u=i+"-"+r.id;super(t,e,r,o,s,a,l,c,u),this.contentAttr=DB(u),this.hostAttr=xB(u)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,e){let r=super.createElement(t,e);return super.setAttribute(r,this.contentAttr,""),r}};var Ih=class n extends Nl{supportsDOMEvents=!0;static makeCurrent(){yy(new n)}onAndCancel(t,e,r,i){return t.addEventListener(e,r,i),()=>{t.removeEventListener(e,r,i)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.remove()}createElement(t,e){return e=e||this.getDefaultDocument(),e.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return e==="window"?window:e==="document"?t:e==="body"?t.body:null}getBaseHref(t){let e=SB();return e==null?null:IB(e)}resetBaseElement(){ql=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return $l(document.cookie,t)}},ql=null;function SB(){return ql=ql||document.head.querySelector("base"),ql?ql.getAttribute("href"):null}function IB(n){return new URL(n,document.baseURI).pathname}var MB=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||n)};static \u0275prov=F({token:n,factory:n.\u0275fac})}return n})(),gI=(()=>{class n extends Hl{constructor(e){super(e)}supports(e){return!0}addEventListener(e,r,i,o){return e.addEventListener(r,i,o),()=>this.removeEventListener(e,r,i,o)}removeEventListener(e,r,i,o){return e.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||n)(U(Qe))};static \u0275prov=F({token:n,factory:n.\u0275fac})}return n})(),pI=["alt","control","meta","shift"],TB={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},AB={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},mI=(()=>{class n extends Hl{constructor(e){super(e)}supports(e){return n.parseEventName(e)!=null}addEventListener(e,r,i,o){let s=n.parseEventName(r),a=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>vn().onAndCancel(e,s.domEventName,a,o))}static parseEventName(e){let r=e.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=n._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),pI.forEach(c=>{let u=r.indexOf(c);u>-1&&(r.splice(u,1),s+=c+".")}),s+=o,r.length!=0||o.length===0)return null;let l={};return l.domEventName=i,l.fullKey=s,l}static matchEventFullKeyCode(e,r){let i=TB[e.key]||e.key,o="";return r.indexOf("code.")>-1&&(i=e.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),pI.forEach(s=>{if(s!==i){let a=AB[s];a(e)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(e,r,i){return o=>{n.matchEventFullKeyCode(o,e)&&i.runGuarded(()=>r(o))}}static _normalizeKey(e){return e==="esc"?"escape":e}static \u0275fac=function(r){return new(r||n)(U(Qe))};static \u0275prov=F({token:n,factory:n.\u0275fac})}return n})();function Vy(n,t,e){return TS(O({rootComponent:n,platformRef:e?.platformRef},OB(t)))}function OB(n){return{appProviders:[...FB,...n?.providers??[]],platformProviders:NB}}function RB(){Ih.makeCurrent()}function kB(){return new Qn}function PB(){return ZD(document),document}var NB=[{provide:pi,useValue:Eh},{provide:Nv,useValue:RB,multi:!0},{provide:Qe,useFactory:PB}];var FB=[{provide:jd,useValue:"root"},{provide:Qn,useFactory:kB},{provide:Sh,useClass:gI,multi:!0,deps:[Qe]},{provide:Sh,useClass:mI,multi:!0,deps:[Qe]},jy,Fy,Ny,{provide:Ns,useExisting:jy},{provide:To,useClass:MB},[]];var Qs=class{},Gl=class{},Wr=class n{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(t){t?typeof t=="string"?this.lazyInit=()=>{this.headers=new Map,t.split(`
`).forEach(e=>{let r=e.indexOf(":");if(r>0){let i=e.slice(0,r),o=e.slice(r+1).trim();this.addHeaderEntry(i,o)}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((e,r)=>{this.addHeaderEntry(r,e)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([e,r])=>{this.setHeaderEntries(e,r)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();let e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){let e=new n;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){let e=t.name.toLowerCase();switch(t.op){case"a":case"s":let r=t.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(t.name,e);let i=(t.op==="a"?this.headers.get(e):void 0)||[];i.push(...r),this.headers.set(e,i);break;case"d":let o=t.value;if(!o)this.headers.delete(e),this.normalizedNames.delete(e);else{let s=this.headers.get(e);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,s)}break}}addHeaderEntry(t,e){let r=t.toLowerCase();this.maybeSetNormalizedName(t,r),this.headers.has(r)?this.headers.get(r).push(e):this.headers.set(r,[e])}setHeaderEntries(t,e){let r=(Array.isArray(e)?e:[e]).map(o=>o.toString()),i=t.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(t,i)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}};var Th=class{encodeKey(t){return vI(t)}encodeValue(t){return vI(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}};function LB(n,t){let e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[s,a]=o==-1?[t.decodeKey(i),""]:[t.decodeKey(i.slice(0,o)),t.decodeValue(i.slice(o+1))],l=e.get(s)||[];l.push(a),e.set(s,l)}),e}var jB=/%(\d[a-f0-9])/gi,VB={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function vI(n){return encodeURIComponent(n).replace(jB,(t,e)=>VB[e]??t)}function Mh(n){return`${n}`}var zr=class n{map;encoder;updates=null;cloneFrom=null;constructor(t={}){if(this.encoder=t.encoder||new Th,t.fromString){if(t.fromObject)throw new P(2805,!1);this.map=LB(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{let r=t.fromObject[e],i=Array.isArray(r)?r.map(Mh):[Mh(r)];this.map.set(e,i)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();let e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){let e=[];return Object.keys(t).forEach(r=>{let i=t[r];Array.isArray(i)?i.forEach(o=>{e.push({param:r,value:o,op:"a"})}):e.push({param:r,value:i,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{let e=this.encoder.encodeKey(t);return this.map.get(t).map(r=>e+"="+this.encoder.encodeValue(r)).join("&")}).filter(t=>t!=="").join("&")}clone(t){let e=new n({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":let e=(t.op==="a"?this.map.get(t.param):void 0)||[];e.push(Mh(t.value)),this.map.set(t.param,e);break;case"d":if(t.value!==void 0){let r=this.map.get(t.param)||[],i=r.indexOf(Mh(t.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(t.param,r):this.map.delete(t.param)}else{this.map.delete(t.param);break}}}),this.cloneFrom=this.updates=null)}};var Ah=class{map=new Map;set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}};function BB(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function yI(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function _I(n){return typeof Blob<"u"&&n instanceof Blob}function bI(n){return typeof FormData<"u"&&n instanceof FormData}function UB(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}var wI="Content-Type",EI="Accept",CI="X-Request-URL",DI="text/plain",xI="application/json",$B=`${xI}, ${DI}, */*`,Xs=class n{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;responseType="json";method;params;urlWithParams;transferCache;constructor(t,e,r,i){this.url=e,this.method=t.toUpperCase();let o;if(BB(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new Wr,this.context??=new Ah,!this.params)this.params=new zr,this.urlWithParams=e;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=e;else{let a=e.indexOf("?"),l=a===-1?"?":a<e.length-1?"&":"";this.urlWithParams=e+l+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||yI(this.body)||_I(this.body)||bI(this.body)||UB(this.body)?this.body:this.body instanceof zr?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||bI(this.body)?null:_I(this.body)?this.body.type||null:yI(this.body)?null:typeof this.body=="string"?DI:this.body instanceof zr?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?xI:null}clone(t={}){let e=t.method||this.method,r=t.url||this.url,i=t.responseType||this.responseType,o=t.transferCache??this.transferCache,s=t.body!==void 0?t.body:this.body,a=t.withCredentials??this.withCredentials,l=t.reportProgress??this.reportProgress,c=t.headers||this.headers,u=t.params||this.params,d=t.context??this.context;return t.setHeaders!==void 0&&(c=Object.keys(t.setHeaders).reduce((f,h)=>f.set(h,t.setHeaders[h]),c)),t.setParams&&(u=Object.keys(t.setParams).reduce((f,h)=>f.set(h,t.setParams[h]),u)),new n(e,r,s,{params:u,headers:c,context:d,reportProgress:l,responseType:i,withCredentials:a,transferCache:o})}},Ao=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(Ao||{}),ea=class{headers;status;statusText;url;ok;type;constructor(t,e=200,r="OK"){this.headers=t.headers||new Wr,this.status=t.status!==void 0?t.status:e,this.statusText=t.statusText||r,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}},Oh=class n extends ea{constructor(t={}){super(t)}type=Ao.ResponseHeader;clone(t={}){return new n({headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}},Oo=class n extends ea{body;constructor(t={}){super(t),this.body=t.body!==void 0?t.body:null}type=Ao.Response;clone(t={}){return new n({body:t.body!==void 0?t.body:this.body,headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}},Kl=class extends ea{name="HttpErrorResponse";message;error;ok=!1;constructor(t){super(t,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${t.url||"(unknown url)"}`:this.message=`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}},HB=200,zB=204;function By(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,transferCache:n.transferCache}}var SI=(()=>{class n{handler;constructor(e){this.handler=e}request(e,r,i={}){let o;if(e instanceof Xs)o=e;else{let l;i.headers instanceof Wr?l=i.headers:l=new Wr(i.headers);let c;i.params&&(i.params instanceof zr?c=i.params:c=new zr({fromObject:i.params})),o=new Xs(e,r,i.body!==void 0?i.body:null,{headers:l,context:i.context,params:c,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache})}let s=$(o).pipe(Gn(l=>this.handler.handle(l)));if(e instanceof Xs||i.observe==="events")return s;let a=s.pipe(Mt(l=>l instanceof Oo));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(te(l=>{if(l.body!==null&&!(l.body instanceof ArrayBuffer))throw new P(2806,!1);return l.body}));case"blob":return a.pipe(te(l=>{if(l.body!==null&&!(l.body instanceof Blob))throw new P(2807,!1);return l.body}));case"text":return a.pipe(te(l=>{if(l.body!==null&&typeof l.body!="string")throw new P(2808,!1);return l.body}));case"json":default:return a.pipe(te(l=>l.body))}case"response":return a;default:throw new P(2809,!1)}}delete(e,r={}){return this.request("DELETE",e,r)}get(e,r={}){return this.request("GET",e,r)}head(e,r={}){return this.request("HEAD",e,r)}jsonp(e,r){return this.request("JSONP",e,{params:new zr().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,r={}){return this.request("OPTIONS",e,r)}patch(e,r,i={}){return this.request("PATCH",e,By(i,r))}post(e,r,i={}){return this.request("POST",e,By(i,r))}put(e,r,i={}){return this.request("PUT",e,By(i,r))}static \u0275fac=function(r){return new(r||n)(U(Qs))};static \u0275prov=F({token:n,factory:n.\u0275fac})}return n})();var WB=new k("");function qB(n,t){return t(n)}function GB(n,t,e){return(r,i)=>$t(e,()=>t(r,o=>n(o,i)))}var II=new k(""),$y=new k(""),MI=new k("",{providedIn:"root",factory:()=>!0});var Rh=(()=>{class n extends Qs{backend;injector;chain=null;pendingTasks=S(nr);contributeToStability=S(MI);constructor(e,r){super(),this.backend=e,this.injector=r}handle(e){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(II),...this.injector.get($y,[])]));this.chain=r.reduceRight((i,o)=>GB(i,o,this.injector),qB)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(e,i=>this.backend.handle(i)).pipe(co(()=>this.pendingTasks.remove(r)))}else return this.chain(e,r=>this.backend.handle(r))}static \u0275fac=function(r){return new(r||n)(U(Gl),U(vt))};static \u0275prov=F({token:n,factory:n.\u0275fac})}return n})();var KB=/^\)\]\}',?\n/,YB=RegExp(`^${CI}:`,"m");function ZB(n){return"responseURL"in n&&n.responseURL?n.responseURL:YB.test(n.getAllResponseHeaders())?n.getResponseHeader(CI):null}var Uy=(()=>{class n{xhrFactory;constructor(e){this.xhrFactory=e}handle(e){if(e.method==="JSONP")throw new P(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?Ce(r.\u0275loadImpl()):$(null)).pipe(Nt(()=>new fe(o=>{let s=r.build();if(s.open(e.method,e.urlWithParams),e.withCredentials&&(s.withCredentials=!0),e.headers.forEach((g,m)=>s.setRequestHeader(g,m.join(","))),e.headers.has(EI)||s.setRequestHeader(EI,$B),!e.headers.has(wI)){let g=e.detectContentTypeHeader();g!==null&&s.setRequestHeader(wI,g)}if(e.responseType){let g=e.responseType.toLowerCase();s.responseType=g!=="json"?g:"text"}let a=e.serializeBody(),l=null,c=()=>{if(l!==null)return l;let g=s.statusText||"OK",m=new Wr(s.getAllResponseHeaders()),y=ZB(s)||e.url;return l=new Oh({headers:m,status:s.status,statusText:g,url:y}),l},u=()=>{let{headers:g,status:m,statusText:y,url:b}=c(),w=null;m!==zB&&(w=typeof s.response>"u"?s.responseText:s.response),m===0&&(m=w?HB:0);let C=m>=200&&m<300;if(e.responseType==="json"&&typeof w=="string"){let x=w;w=w.replace(KB,"");try{w=w!==""?JSON.parse(w):null}catch(I){w=x,C&&(C=!1,w={error:I,text:w})}}C?(o.next(new Oo({body:w,headers:g,status:m,statusText:y,url:b||void 0})),o.complete()):o.error(new Kl({error:w,headers:g,status:m,statusText:y,url:b||void 0}))},d=g=>{let{url:m}=c(),y=new Kl({error:g,status:s.status||0,statusText:s.statusText||"Unknown Error",url:m||void 0});o.error(y)},f=!1,h=g=>{f||(o.next(c()),f=!0);let m={type:Ao.DownloadProgress,loaded:g.loaded};g.lengthComputable&&(m.total=g.total),e.responseType==="text"&&s.responseText&&(m.partialText=s.responseText),o.next(m)},p=g=>{let m={type:Ao.UploadProgress,loaded:g.loaded};g.lengthComputable&&(m.total=g.total),o.next(m)};return s.addEventListener("load",u),s.addEventListener("error",d),s.addEventListener("timeout",d),s.addEventListener("abort",d),e.reportProgress&&(s.addEventListener("progress",h),a!==null&&s.upload&&s.upload.addEventListener("progress",p)),s.send(a),o.next({type:Ao.Sent}),()=>{s.removeEventListener("error",d),s.removeEventListener("abort",d),s.removeEventListener("load",u),s.removeEventListener("timeout",d),e.reportProgress&&(s.removeEventListener("progress",h),a!==null&&s.upload&&s.upload.removeEventListener("progress",p)),s.readyState!==s.DONE&&s.abort()}})))}static \u0275fac=function(r){return new(r||n)(U(To))};static \u0275prov=F({token:n,factory:n.\u0275fac})}return n})(),TI=new k(""),JB="XSRF-TOKEN",XB=new k("",{providedIn:"root",factory:()=>JB}),QB="X-XSRF-TOKEN",eU=new k("",{providedIn:"root",factory:()=>QB}),Yl=class{},tU=(()=>{class n{doc;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(e,r){this.doc=e,this.cookieName=r}getToken(){let e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=$l(e,this.cookieName),this.lastCookieString=e),this.lastToken}static \u0275fac=function(r){return new(r||n)(U(Qe),U(XB))};static \u0275prov=F({token:n,factory:n.\u0275fac})}return n})(),nU=/^(?:https?:)?\/\//i;function rU(n,t){if(!S(TI)||n.method==="GET"||n.method==="HEAD"||nU.test(n.url))return t(n);let e=S(Yl).getToken(),r=S(eU);return e!=null&&!n.headers.has(r)&&(n=n.clone({headers:n.headers.set(r,e)})),t(n)}function Hy(...n){let t=[SI,Uy,Rh,{provide:Qs,useExisting:Rh},{provide:Gl,useFactory:()=>S(WB,{optional:!0})??S(Uy)},{provide:II,useValue:rU,multi:!0},{provide:TI,useValue:!0},{provide:Yl,useClass:tU}];for(let e of n)t.push(...e.\u0275providers);return jr(t)}var iU=new k(""),oU="b",sU="h",aU="s",lU="st",cU="u",uU="rt",zy=new k(""),dU=["GET","HEAD"];function hU(n,t){let f=S(zy),{isCacheActive:e}=f,r=pw(f,["isCacheActive"]),{transferCache:i,method:o}=n;if(!e||i===!1||o==="POST"&&!r.includePostRequests&&!i||o!=="POST"&&!dU.includes(o)||!r.includeRequestsWithAuthHeaders&&fU(n)||r.filter?.(n)===!1)return t(n);let s=S(zs);if(S(iU,{optional:!0}))throw new P(2803,!1);let l=n.url,c=pU(n,l),u=s.get(c,null),d=r.includeHeaders;if(typeof i=="object"&&i.includeHeaders&&(d=i.includeHeaders),u){let{[oU]:h,[uU]:p,[sU]:g,[aU]:m,[lU]:y,[cU]:b}=u,w=h;switch(p){case"arraybuffer":w=new TextEncoder().encode(h).buffer;break;case"blob":w=new Blob([h]);break}let C=new Wr(g);return $(new Oo({body:w,headers:C,status:m,statusText:y,url:b}))}return t(n).pipe(it(h=>{h instanceof Oo}))}function fU(n){return n.headers.has("authorization")||n.headers.has("proxy-authorization")}function AI(n){return[...n.keys()].sort().map(t=>`${t}=${n.getAll(t)}`).join("&")}function pU(n,t){let{params:e,method:r,responseType:i}=n,o=AI(e),s=n.serializeBody();s instanceof URLSearchParams?s=AI(s):typeof s!="string"&&(s="");let a=[r,i,t,s,o].join("|"),l=gU(a);return l}function gU(n){let t=0;for(let e of n)t=Math.imul(31,t)+e.charCodeAt(0)<<0;return t+=2147483648,t.toString()}function OI(n){return[{provide:zy,useFactory:()=>(rr("NgHttpTransferCache"),O({isCacheActive:!0},n))},{provide:$y,useValue:hU,multi:!0},{provide:vi,multi:!0,useFactory:()=>{let t=S(Ut),e=S(zy);return()=>{t.whenStable().then(()=>{e.isCacheActive=!1})}}}]}var RI=(()=>{class n{_doc;constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}static \u0275fac=function(r){return new(r||n)(U(Qe))};static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var kh=function(n){return n[n.NoHttpTransferCache=0]="NoHttpTransferCache",n[n.HttpTransferCacheOptions=1]="HttpTransferCacheOptions",n[n.I18nSupport=2]="I18nSupport",n[n.EventReplay=3]="EventReplay",n[n.IncrementalHydration=4]="IncrementalHydration",n}(kh||{});function mU(n,t=[],e={}){return{\u0275kind:n,\u0275providers:t}}function kI(){return mU(kh.EventReplay,AS())}function PI(...n){let t=[],e=new Set;for(let{\u0275providers:i,\u0275kind:o}of n)e.add(o),i.length&&t.push(i);let r=e.has(kh.HttpTransferCacheOptions);return jr([[],OS(),e.has(kh.NoHttpTransferCache)||r?[]:OI({}),t])}var Z="primary",lc=Symbol("RouteTitle"),Yy=class{params;constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){let e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){let e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}};function Po(n){return new Yy(n)}function $I(n,t,e){let r=e.path.split("/");if(r.length>n.length||e.pathMatch==="full"&&(t.hasChildren()||r.length<n.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=n[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function yU(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!lr(n[e],t[e]))return!1;return!0}function lr(n,t){let e=n?Zy(n):void 0,r=t?Zy(t):void 0;if(!e||!r||e.length!=r.length)return!1;let i;for(let o=0;o<e.length;o++)if(i=e[o],!HI(n[i],t[i]))return!1;return!0}function Zy(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function HI(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;let e=[...n].sort(),r=[...t].sort();return e.every((i,o)=>r[o]===i)}else return n===t}function zI(n){return n.length>0?n[n.length-1]:null}function Di(n){return jg(n)?n:mi(n)?Ce(Promise.resolve(n)):$(n)}var _U={exact:qI,subset:GI},WI={exact:bU,subset:wU,ignored:()=>!0};function NI(n,t,e){return _U[e.paths](n.root,t.root,e.matrixParams)&&WI[e.queryParams](n.queryParams,t.queryParams)&&!(e.fragment==="exact"&&n.fragment!==t.fragment)}function bU(n,t){return lr(n,t)}function qI(n,t,e){if(!Ro(n.segments,t.segments)||!Fh(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(let r in t.children)if(!n.children[r]||!qI(n.children[r],t.children[r],e))return!1;return!0}function wU(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>HI(n[e],t[e]))}function GI(n,t,e){return KI(n,t,t.segments,e)}function KI(n,t,e,r){if(n.segments.length>e.length){let i=n.segments.slice(0,e.length);return!(!Ro(i,e)||t.hasChildren()||!Fh(i,e,r))}else if(n.segments.length===e.length){if(!Ro(n.segments,e)||!Fh(n.segments,e,r))return!1;for(let i in t.children)if(!n.children[i]||!GI(n.children[i],t.children[i],r))return!1;return!0}else{let i=e.slice(0,n.segments.length),o=e.slice(n.segments.length);return!Ro(n.segments,i)||!Fh(n.segments,i,r)||!n.children[Z]?!1:KI(n.children[Z],t,o,r)}}function Fh(n,t,e){return t.every((r,i)=>WI[e](n[i].parameters,r.parameters))}var ur=class{root;queryParams;fragment;_queryParamMap;constructor(t=new ve([],{}),e={},r=null){this.root=t,this.queryParams=e,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Po(this.queryParams),this._queryParamMap}toString(){return DU.serialize(this)}},ve=class{segments;children;parent=null;constructor(t,e){this.segments=t,this.children=e,Object.values(e).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Lh(this)}},bi=class{path;parameters;_parameterMap;constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap??=Po(this.parameters),this._parameterMap}toString(){return ZI(this)}};function EU(n,t){return Ro(n,t)&&n.every((e,r)=>lr(e.parameters,t[r].parameters))}function Ro(n,t){return n.length!==t.length?!1:n.every((e,r)=>e.path===t[r].path)}function CU(n,t){let e=[];return Object.entries(n.children).forEach(([r,i])=>{r===Z&&(e=e.concat(t(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==Z&&(e=e.concat(t(i,r)))}),e}var No=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=F({token:n,factory:()=>new wi,providedIn:"root"})}return n})(),wi=class{parse(t){let e=new Xy(t);return new ur(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){let e=`/${Zl(t.root,!0)}`,r=IU(t.queryParams),i=typeof t.fragment=="string"?`#${xU(t.fragment)}`:"";return`${e}${r}${i}`}},DU=new wi;function Lh(n){return n.segments.map(t=>ZI(t)).join("/")}function Zl(n,t){if(!n.hasChildren())return Lh(n);if(t){let e=n.children[Z]?Zl(n.children[Z],!1):"",r=[];return Object.entries(n.children).forEach(([i,o])=>{i!==Z&&r.push(`${i}:${Zl(o,!1)}`)}),r.length>0?`${e}(${r.join("//")})`:e}else{let e=CU(n,(r,i)=>i===Z?[Zl(n.children[Z],!1)]:[`${i}:${Zl(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[Z]!=null?`${Lh(n)}/${e[0]}`:`${Lh(n)}/(${e.join("//")})`}}function YI(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ph(n){return YI(n).replace(/%3B/gi,";")}function xU(n){return encodeURI(n)}function Jy(n){return YI(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function jh(n){return decodeURIComponent(n)}function FI(n){return jh(n.replace(/\+/g,"%20"))}function ZI(n){return`${Jy(n.path)}${SU(n.parameters)}`}function SU(n){return Object.entries(n).map(([t,e])=>`;${Jy(t)}=${Jy(e)}`).join("")}function IU(n){let t=Object.entries(n).map(([e,r])=>Array.isArray(r)?r.map(i=>`${Ph(e)}=${Ph(i)}`).join("&"):`${Ph(e)}=${Ph(r)}`).filter(e=>e);return t.length?`?${t.join("&")}`:""}var MU=/^[^\/()?;#]+/;function Wy(n){let t=n.match(MU);return t?t[0]:""}var TU=/^[^\/()?;=#]+/;function AU(n){let t=n.match(TU);return t?t[0]:""}var OU=/^[^=?&#]+/;function RU(n){let t=n.match(OU);return t?t[0]:""}var kU=/^[^&#]+/;function PU(n){let t=n.match(kU);return t?t[0]:""}var Xy=class{url;remaining;constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new ve([],{}):new ve([],this.parseChildren())}parseQueryParams(){let t={};if(this.consumeOptional("?"))do this.parseQueryParam(t);while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(r[Z]=new ve(t,e)),r}parseSegment(){let t=Wy(this.remaining);if(t===""&&this.peekStartsWith(";"))throw new P(4009,!1);return this.capture(t),new bi(jh(t),this.parseMatrixParams())}parseMatrixParams(){let t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){let e=AU(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){let i=Wy(this.remaining);i&&(r=i,this.capture(r))}t[jh(e)]=jh(r)}parseQueryParam(t){let e=RU(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){let s=PU(this.remaining);s&&(r=s,this.capture(r))}let i=FI(e),o=FI(r);if(t.hasOwnProperty(i)){let s=t[i];Array.isArray(s)||(s=[s],t[i]=s),s.push(o)}else t[i]=o}parseParens(t){let e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Wy(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new P(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=Z);let s=this.parseChildren();e[o]=Object.keys(s).length===1?s[Z]:new ve([],s),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return this.peekStartsWith(t)?(this.remaining=this.remaining.substring(t.length),!0):!1}capture(t){if(!this.consumeOptional(t))throw new P(4011,!1)}};function JI(n){return n.segments.length>0?new ve([],{[Z]:n}):n}function XI(n){let t={};for(let[r,i]of Object.entries(n.children)){let o=XI(i);if(r===Z&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))t[s]=a;else(o.segments.length>0||o.hasChildren())&&(t[r]=o)}let e=new ve(n.segments,t);return NU(e)}function NU(n){if(n.numberOfChildren===1&&n.children[Z]){let t=n.children[Z];return new ve(n.segments.concat(t.segments),t.children)}return n}function Ei(n){return n instanceof ur}function QI(n,t,e=null,r=null){let i=eM(n);return tM(i,t,e,r)}function eM(n){let t;function e(o){let s={};for(let l of o.children){let c=e(l);s[l.outlet]=c}let a=new ve(o.url,s);return o===n&&(t=a),a}let r=e(n.root),i=JI(r);return t??i}function tM(n,t,e,r){let i=n;for(;i.parent;)i=i.parent;if(t.length===0)return qy(i,i,i,e,r);let o=FU(t);if(o.toRoot())return qy(i,i,new ve([],{}),e,r);let s=LU(o,i,n),a=s.processChildren?Xl(s.segmentGroup,s.index,o.commands):rM(s.segmentGroup,s.index,o.commands);return qy(i,s.segmentGroup,a,e,r)}function Bh(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function ec(n){return typeof n=="object"&&n!=null&&n.outlets}function qy(n,t,e,r,i){let o={};r&&Object.entries(r).forEach(([l,c])=>{o[l]=Array.isArray(c)?c.map(u=>`${u}`):`${c}`});let s;n===t?s=e:s=nM(n,t,e);let a=JI(XI(s));return new ur(a,o,i)}function nM(n,t,e){let r={};return Object.entries(n.children).forEach(([i,o])=>{o===t?r[i]=e:r[i]=nM(o,t,e)}),new ve(n.segments,r)}var Uh=class{isAbsolute;numberOfDoubleDots;commands;constructor(t,e,r){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=r,t&&r.length>0&&Bh(r[0]))throw new P(4003,!1);let i=r.find(ec);if(i&&i!==zI(r))throw new P(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function FU(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new Uh(!0,0,n);let t=0,e=!1,r=n.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([l,c])=>{a[l]=typeof c=="string"?c.split("/"):c}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?e=!0:a===".."?t++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new Uh(e,t,r)}var ra=class{segmentGroup;processChildren;index;constructor(t,e,r){this.segmentGroup=t,this.processChildren=e,this.index=r}};function LU(n,t,e){if(n.isAbsolute)return new ra(t,!0,0);if(!e)return new ra(t,!1,NaN);if(e.parent===null)return new ra(e,!0,0);let r=Bh(n.commands[0])?0:1,i=e.segments.length-1+r;return jU(e,i,n.numberOfDoubleDots)}function jU(n,t,e){let r=n,i=t,o=e;for(;o>i;){if(o-=i,r=r.parent,!r)throw new P(4005,!1);i=r.segments.length}return new ra(r,!1,i-o)}function VU(n){return ec(n[0])?n[0].outlets:{[Z]:n}}function rM(n,t,e){if(n??=new ve([],{}),n.segments.length===0&&n.hasChildren())return Xl(n,t,e);let r=BU(n,t,e),i=e.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let o=new ve(n.segments.slice(0,r.pathIndex),{});return o.children[Z]=new ve(n.segments.slice(r.pathIndex),n.children),Xl(o,0,i)}else return r.match&&i.length===0?new ve(n.segments,{}):r.match&&!n.hasChildren()?Qy(n,t,e):r.match?Xl(n,0,i):Qy(n,t,e)}function Xl(n,t,e){if(e.length===0)return new ve(n.segments,{});{let r=VU(e),i={};if(Object.keys(r).some(o=>o!==Z)&&n.children[Z]&&n.numberOfChildren===1&&n.children[Z].segments.length===0){let o=Xl(n.children[Z],t,e);return new ve(n.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=rM(n.children[o],t,s))}),Object.entries(n.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new ve(n.segments,i)}}function BU(n,t,e){let r=0,i=t,o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=e.length)return o;let s=n.segments[i],a=e[r];if(ec(a))break;let l=`${a}`,c=r<e.length-1?e[r+1]:null;if(i>0&&l===void 0)break;if(l&&c&&typeof c=="object"&&c.outlets===void 0){if(!jI(l,c,s))return o;r+=2}else{if(!jI(l,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Qy(n,t,e){let r=n.segments.slice(0,t),i=0;for(;i<e.length;){let o=e[i];if(ec(o)){let l=UU(o.outlets);return new ve(r,l)}if(i===0&&Bh(e[0])){let l=n.segments[t];r.push(new bi(l.path,LI(e[0]))),i++;continue}let s=ec(o)?o.outlets[Z]:`${o}`,a=i<e.length-1?e[i+1]:null;s&&a&&Bh(a)?(r.push(new bi(s,LI(a))),i+=2):(r.push(new bi(s,{})),i++)}return new ve(r,{})}function UU(n){let t={};return Object.entries(n).forEach(([e,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(t[e]=Qy(new ve([],{}),0,r))}),t}function LI(n){let t={};return Object.entries(n).forEach(([e,r])=>t[e]=`${r}`),t}function jI(n,t,e){return n==e.path&&lr(t,e.parameters)}var Vh="imperative",ct=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(ct||{}),ln=class{id;url;constructor(t,e){this.id=t,this.url=e}},Ci=class extends ln{type=ct.NavigationStart;navigationTrigger;restoredState;constructor(t,e,r="imperative",i=null){super(t,e),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},cn=class extends ln{urlAfterRedirects;type=ct.NavigationEnd;constructor(t,e,r){super(t,e),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Kt=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(Kt||{}),oa=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(oa||{}),cr=class extends ln{reason;code;type=ct.NavigationCancel;constructor(t,e,r,i){super(t,e),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},dr=class extends ln{reason;code;type=ct.NavigationSkipped;constructor(t,e,r,i){super(t,e),this.reason=r,this.code=i}},sa=class extends ln{error;target;type=ct.NavigationError;constructor(t,e,r,i){super(t,e),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},tc=class extends ln{urlAfterRedirects;state;type=ct.RoutesRecognized;constructor(t,e,r,i){super(t,e),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},$h=class extends ln{urlAfterRedirects;state;type=ct.GuardsCheckStart;constructor(t,e,r,i){super(t,e),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Hh=class extends ln{urlAfterRedirects;state;shouldActivate;type=ct.GuardsCheckEnd;constructor(t,e,r,i,o){super(t,e),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},zh=class extends ln{urlAfterRedirects;state;type=ct.ResolveStart;constructor(t,e,r,i){super(t,e),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Wh=class extends ln{urlAfterRedirects;state;type=ct.ResolveEnd;constructor(t,e,r,i){super(t,e),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},qh=class{route;type=ct.RouteConfigLoadStart;constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Gh=class{route;type=ct.RouteConfigLoadEnd;constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Kh=class{snapshot;type=ct.ChildActivationStart;constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Yh=class{snapshot;type=ct.ChildActivationEnd;constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Zh=class{snapshot;type=ct.ActivationStart;constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Jh=class{snapshot;type=ct.ActivationEnd;constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},aa=class{routerEvent;position;anchor;type=ct.Scroll;constructor(t,e,r){this.routerEvent=t,this.position=e,this.anchor=r}toString(){let t=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${t}')`}},nc=class{},la=class{url;navigationBehaviorOptions;constructor(t,e){this.url=t,this.navigationBehaviorOptions=e}};function $U(n,t){return n.providers&&!n._injector&&(n._injector=Gs(n.providers,t,`Route: ${n.path}`)),n._injector??t}function Un(n){return n.outlet||Z}function HU(n,t){let e=n.filter(r=>Un(r)===t);return e.push(...n.filter(r=>Un(r)!==t)),e}function cc(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){let e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}var Xh=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return cc(this.route?.snapshot)??this.rootInjector}constructor(t){this.rootInjector=t,this.children=new Fo(this.rootInjector)}},Fo=(()=>{class n{rootInjector;contexts=new Map;constructor(e){this.rootInjector=e}onChildOutletCreated(e,r){let i=this.getOrCreateContext(e);i.outlet=r,this.contexts.set(e,i)}onChildOutletDestroyed(e){let r=this.getContext(e);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let r=this.getContext(e);return r||(r=new Xh(this.rootInjector),this.contexts.set(e,r)),r}getContext(e){return this.contexts.get(e)||null}static \u0275fac=function(r){return new(r||n)(U(vt))};static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Qh=class{_root;constructor(t){this._root=t}get root(){return this._root.value}parent(t){let e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){let e=e_(t,this._root);return e?e.children.map(r=>r.value):[]}firstChild(t){let e=e_(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){let e=t_(t,this._root);return e.length<2?[]:e[e.length-2].children.map(i=>i.value).filter(i=>i!==t)}pathFromRoot(t){return t_(t,this._root).map(e=>e.value)}};function e_(n,t){if(n===t.value)return t;for(let e of t.children){let r=e_(n,e);if(r)return r}return null}function t_(n,t){if(n===t.value)return[t];for(let e of t.children){let r=t_(n,e);if(r.length)return r.unshift(t),r}return[]}var an=class{value;children;constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}};function na(n){let t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}var rc=class extends Qh{snapshot;constructor(t,e){super(t),this.snapshot=e,c_(this,t)}toString(){return this.snapshot.toString()}};function iM(n){let t=zU(n),e=new Je([new bi("",{})]),r=new Je({}),i=new Je({}),o=new Je({}),s=new Je(""),a=new hr(e,r,o,s,i,Z,n,t.root);return a.snapshot=t.root,new rc(new an(a,[]),t)}function zU(n){let t={},e={},r={},i="",o=new ko([],t,r,i,e,Z,n,null,{});return new ic("",new an(o,[]))}var hr=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(t,e,r,i,o,s,a,l){this.urlSubject=t,this.paramsSubject=e,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(te(c=>c[lc]))??$(void 0),this.url=t,this.params=e,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(te(t=>Po(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(te(t=>Po(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function ef(n,t,e="emptyOnly"){let r,{routeConfig:i}=n;return t!==null&&(e==="always"||i?.path===""||!t.component&&!t.routeConfig?.loadComponent)?r={params:O(O({},t.params),n.params),data:O(O({},t.data),n.data),resolve:O(O(O(O({},n.data),t.data),i?.data),n._resolvedData)}:r={params:O({},n.params),data:O({},n.data),resolve:O(O({},n.data),n._resolvedData??{})},i&&sM(i)&&(r.resolve[lc]=i.title),r}var ko=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[lc]}constructor(t,e,r,i,o,s,a,l,c){this.url=t,this.params=e,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Po(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Po(this.queryParams),this._queryParamMap}toString(){let t=this.url.map(r=>r.toString()).join("/"),e=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${t}', path:'${e}')`}},ic=class extends Qh{url;constructor(t,e){super(e),this.url=t,c_(this,e)}toString(){return oM(this._root)}};function c_(n,t){t.value._routerState=n,t.children.forEach(e=>c_(n,e))}function oM(n){let t=n.children.length>0?` { ${n.children.map(oM).join(", ")} } `:"";return`${n.value}${t}`}function Gy(n){if(n.snapshot){let t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,lr(t.queryParams,e.queryParams)||n.queryParamsSubject.next(e.queryParams),t.fragment!==e.fragment&&n.fragmentSubject.next(e.fragment),lr(t.params,e.params)||n.paramsSubject.next(e.params),yU(t.url,e.url)||n.urlSubject.next(e.url),lr(t.data,e.data)||n.dataSubject.next(e.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function n_(n,t){let e=lr(n.params,t.params)&&EU(n.url,t.url),r=!n.parent!=!t.parent;return e&&!r&&(!n.parent||n_(n.parent,t.parent))}function sM(n){return typeof n.title=="string"||n.title===null}var aM=new k(""),uc=(()=>{class n{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=Z;activateEvents=new Ke;deactivateEvents=new Ke;attachEvents=new Ke;detachEvents=new Ke;routerOutletData=UD(void 0);parentContexts=S(Fo);location=S(gi);changeDetector=S(Ur);inputBinder=S(dc,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(e){if(e.name){let{firstChange:r,previousValue:i}=e.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new P(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new P(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new P(4012,!1);this.location.detach();let e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,r){this.activated=e,this._activatedRoute=r,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){let e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,r){if(this.isActivated)throw new P(4013,!1);this._activatedRoute=e;let i=this.location,s=e.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new r_(e,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:l,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=Oe({type:n,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Rn]})}return n})(),r_=class{route;childContexts;parent;outletData;constructor(t,e,r,i){this.route=t,this.childContexts=e,this.parent=r,this.outletData=i}get(t,e){return t===hr?this.route:t===Fo?this.childContexts:t===aM?this.outletData:this.parent.get(t,e)}},dc=new k(""),u_=(()=>{class n{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(e){this.unsubscribeFromRouteData(e),this.subscribeToRouteData(e)}unsubscribeFromRouteData(e){this.outletDataSubscriptions.get(e)?.unsubscribe(),this.outletDataSubscriptions.delete(e)}subscribeToRouteData(e){let{activatedRoute:r}=e,i=pl([r.queryParams,r.params,r.data]).pipe(Nt(([o,s,a],l)=>(a=O(O(O({},o),s),a),l===0?$(a):Promise.resolve(a)))).subscribe(o=>{if(!e.isActivated||!e.activatedComponentRef||e.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(e);return}let s=RS(r.component);if(!s){this.unsubscribeFromRouteData(e);return}for(let{templateName:a}of s.inputs)e.activatedComponentRef.setInput(a,o[a])});this.outletDataSubscriptions.set(e,i)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=F({token:n,factory:n.\u0275fac})}return n})(),d_=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=Fe({type:n,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&ge(0,"router-outlet")},dependencies:[uc],encapsulation:2})}return n})();function h_(n){let t=n.children&&n.children.map(h_),e=t?ee(O({},n),{children:t}):O({},n);return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==Z&&(e.component=d_),e}function WU(n,t,e){let r=oc(n,t._root,e?e._root:void 0);return new rc(r,t)}function oc(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){let r=e.value;r._futureSnapshot=t.value;let i=qU(n,t,e);return new an(r,i)}else{if(n.shouldAttach(t.value)){let o=n.retrieve(t.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=t.value,s.children=t.children.map(a=>oc(n,a)),s}}let r=GU(t.value),i=t.children.map(o=>oc(n,o));return new an(r,i)}}function qU(n,t,e){return t.children.map(r=>{for(let i of e.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return oc(n,r,i);return oc(n,r)})}function GU(n){return new hr(new Je(n.url),new Je(n.params),new Je(n.queryParams),new Je(n.fragment),new Je(n.data),n.outlet,n.component,n)}var ca=class{redirectTo;navigationBehaviorOptions;constructor(t,e){this.redirectTo=t,this.navigationBehaviorOptions=e}},lM="ngNavigationCancelingError";function tf(n,t){let{redirectTo:e,navigationBehaviorOptions:r}=Ei(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,i=cM(!1,Kt.Redirect);return i.url=e,i.navigationBehaviorOptions=r,i}function cM(n,t){let e=new Error(`NavigationCancelingError: ${n||""}`);return e[lM]=!0,e.cancellationCode=t,e}function KU(n){return uM(n)&&Ei(n.url)}function uM(n){return!!n&&n[lM]}var YU=(n,t,e,r)=>te(i=>(new i_(t,i.targetRouterState,i.currentRouterState,e,r).activate(n),i)),i_=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(t,e,r,i,o){this.routeReuseStrategy=t,this.futureState=e,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(t){let e=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,r,t),Gy(this.futureState.root),this.activateChildRoutes(e,r,t)}deactivateChildRoutes(t,e,r){let i=na(e);t.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(t,e,r){let i=t.value,o=e?e.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(t,e,s.children)}else this.deactivateChildRoutes(t,e,r);else o&&this.deactivateRouteAndItsChildren(e,r)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){let r=e.getContext(t.value.outlet),i=r&&t.value.component?r.children:e,o=na(t);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:s,route:t,contexts:a})}}deactivateRouteAndOutlet(t,e){let r=e.getContext(t.value.outlet),i=r&&t.value.component?r.children:e,o=na(t);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(t,e,r){let i=na(e);t.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Jh(o.value.snapshot))}),t.children.length&&this.forwardEvent(new Yh(t.value.snapshot))}activateRoutes(t,e,r){let i=t.value,o=e?e.value:null;if(Gy(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(t,e,s.children)}else this.activateChildRoutes(t,e,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Gy(a.route.value),this.activateChildRoutes(t,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(t,null,s.children)}else this.activateChildRoutes(t,null,r)}},nf=class{path;route;constructor(t){this.path=t,this.route=this.path[this.path.length-1]}},ia=class{component;route;constructor(t,e){this.component=t,this.route=e}};function ZU(n,t,e){let r=n._root,i=t?t._root:null;return Jl(r,i,e,[r.value])}function JU(n){let t=n.routeConfig?n.routeConfig.canActivateChild:null;return!t||t.length===0?null:{node:n,guards:t}}function da(n,t){let e=Symbol(),r=t.get(n,e);return r===e?typeof n=="function"&&!PC(n)?n:t.get(n):r}function Jl(n,t,e,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=na(t);return n.children.forEach(s=>{XU(s,o[s.value.outlet],e,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Ql(a,e.getContext(s),i)),i}function XU(n,t,e,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,s=t?t.value:null,a=e?e.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let l=QU(s,o,o.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new nf(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Jl(n,t,a?a.children:null,r,i):Jl(n,t,e,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new ia(a.outlet.component,s))}else s&&Ql(t,a,i),i.canActivateChecks.push(new nf(r)),o.component?Jl(n,null,a?a.children:null,r,i):Jl(n,null,e,r,i);return i}function QU(n,t,e){if(typeof e=="function")return e(n,t);switch(e){case"pathParamsChange":return!Ro(n.url,t.url);case"pathParamsOrQueryParamsChange":return!Ro(n.url,t.url)||!lr(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!n_(n,t)||!lr(n.queryParams,t.queryParams);case"paramsChange":default:return!n_(n,t)}}function Ql(n,t,e){let r=na(n),i=n.value;Object.entries(r).forEach(([o,s])=>{i.component?t?Ql(s,t.children.getContext(o),e):Ql(s,null,e):Ql(s,t,e)}),i.component?t&&t.outlet&&t.outlet.isActivated?e.canDeactivateChecks.push(new ia(t.outlet.component,i)):e.canDeactivateChecks.push(new ia(null,i)):e.canDeactivateChecks.push(new ia(null,i))}function hc(n){return typeof n=="function"}function e$(n){return typeof n=="boolean"}function t$(n){return n&&hc(n.canLoad)}function n$(n){return n&&hc(n.canActivate)}function r$(n){return n&&hc(n.canActivateChild)}function i$(n){return n&&hc(n.canDeactivate)}function o$(n){return n&&hc(n.canMatch)}function dM(n){return n instanceof Sr||n?.name==="EmptyError"}var Nh=Symbol("INITIAL_VALUE");function ua(){return Nt(n=>pl(n.map(t=>t.pipe(Mr(1),$g(Nh)))).pipe(te(t=>{for(let e of t)if(e!==!0){if(e===Nh)return Nh;if(e===!1||s$(e))return e}return!0}),Mt(t=>t!==Nh),Mr(1)))}function s$(n){return Ei(n)||n instanceof ca}function a$(n,t){return Ge(e=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=e;return s.length===0&&o.length===0?$(ee(O({},e),{guardsResult:!0})):l$(s,r,i,n).pipe(Ge(a=>a&&e$(a)?c$(r,o,n,t):$(a)),te(a=>ee(O({},e),{guardsResult:a})))})}function l$(n,t,e,r){return Ce(n).pipe(Ge(i=>p$(i.component,i.route,e,t,r)),Tr(i=>i!==!0,!0))}function c$(n,t,e,r){return Ce(t).pipe(Gn(i=>bs(d$(i.route.parent,r),u$(i.route,r),f$(n,i.path,e),h$(n,i.route,e))),Tr(i=>i!==!0,!0))}function u$(n,t){return n!==null&&t&&t(new Zh(n)),$(!0)}function d$(n,t){return n!==null&&t&&t(new Kh(n)),$(!0)}function h$(n,t,e){let r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||r.length===0)return $(!0);let i=r.map(o=>Hu(()=>{let s=cc(t)??e,a=da(o,s),l=n$(a)?a.canActivate(t,n):$t(s,()=>a(t,n));return Di(l).pipe(Tr())}));return $(i).pipe(ua())}function f$(n,t,e){let r=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(s=>JU(s)).filter(s=>s!==null).map(s=>Hu(()=>{let a=s.guards.map(l=>{let c=cc(s.node)??e,u=da(l,c),d=r$(u)?u.canActivateChild(r,n):$t(c,()=>u(r,n));return Di(d).pipe(Tr())});return $(a).pipe(ua())}));return $(o).pipe(ua())}function p$(n,t,e,r,i){let o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!o||o.length===0)return $(!0);let s=o.map(a=>{let l=cc(t)??i,c=da(a,l),u=i$(c)?c.canDeactivate(n,t,e,r):$t(l,()=>c(n,t,e,r));return Di(u).pipe(Tr())});return $(s).pipe(ua())}function g$(n,t,e,r){let i=t.canLoad;if(i===void 0||i.length===0)return $(!0);let o=i.map(s=>{let a=da(s,n),l=t$(a)?a.canLoad(t,e):$t(n,()=>a(t,e));return Di(l)});return $(o).pipe(ua(),hM(r))}function hM(n){return Og(it(t=>{if(typeof t!="boolean")throw tf(n,t)}),te(t=>t===!0))}function m$(n,t,e,r){let i=t.canMatch;if(!i||i.length===0)return $(!0);let o=i.map(s=>{let a=da(s,n),l=o$(a)?a.canMatch(t,e):$t(n,()=>a(t,e));return Di(l)});return $(o).pipe(ua(),hM(r))}var sc=class{segmentGroup;constructor(t){this.segmentGroup=t||null}},ac=class extends Error{urlTree;constructor(t){super(),this.urlTree=t}};function ta(n){return _s(new sc(n))}function v$(n){return _s(new P(4e3,!1))}function y$(n){return _s(cM(!1,Kt.GuardRejected))}var o_=class{urlSerializer;urlTree;constructor(t,e){this.urlSerializer=t,this.urlTree=e}lineralizeSegments(t,e){let r=[],i=e.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return $(r);if(i.numberOfChildren>1||!i.children[Z])return v$(`${t.redirectTo}`);i=i.children[Z]}}applyRedirectCommands(t,e,r,i,o){if(typeof e!="string"){let a=e,{queryParams:l,fragment:c,routeConfig:u,url:d,outlet:f,params:h,data:p,title:g}=i,m=$t(o,()=>a({params:h,data:p,queryParams:l,fragment:c,routeConfig:u,url:d,outlet:f,title:g}));if(m instanceof ur)throw new ac(m);e=m}let s=this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,r);if(e[0]==="/")throw new ac(s);return s}applyRedirectCreateUrlTree(t,e,r,i){let o=this.createSegmentGroup(t,e.root,r,i);return new ur(o,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){let r={};return Object.entries(t).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=e[a]}else r[i]=o}),r}createSegmentGroup(t,e,r,i){let o=this.createSegments(t,e.segments,r,i),s={};return Object.entries(e.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(t,l,r,i)}),new ve(o,s)}createSegments(t,e,r,i){return e.map(o=>o.path[0]===":"?this.findPosParam(t,o,i):this.findOrReturn(o,r))}findPosParam(t,e,r){let i=r[e.path.substring(1)];if(!i)throw new P(4001,!1);return i}findOrReturn(t,e){let r=0;for(let i of e){if(i.path===t.path)return e.splice(r),i;r++}return t}},s_={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function _$(n,t,e,r,i){let o=fM(n,t,e);return o.matched?(r=$U(t,r),m$(r,t,e,i).pipe(te(s=>s===!0?o:O({},s_)))):$(o)}function fM(n,t,e){if(t.path==="**")return b$(e);if(t.path==="")return t.pathMatch==="full"&&(n.hasChildren()||e.length>0)?O({},s_):{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};let i=(t.matcher||$I)(e,n,t);if(!i)return O({},s_);let o={};Object.entries(i.posParams??{}).forEach(([a,l])=>{o[a]=l.path});let s=i.consumed.length>0?O(O({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:e.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function b$(n){return{matched:!0,parameters:n.length>0?zI(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function VI(n,t,e,r){return e.length>0&&C$(n,e,r)?{segmentGroup:new ve(t,E$(r,new ve(e,n.children))),slicedSegments:[]}:e.length===0&&D$(n,e,r)?{segmentGroup:new ve(n.segments,w$(n,e,r,n.children)),slicedSegments:e}:{segmentGroup:new ve(n.segments,n.children),slicedSegments:e}}function w$(n,t,e,r){let i={};for(let o of e)if(of(n,t,o)&&!r[Un(o)]){let s=new ve([],{});i[Un(o)]=s}return O(O({},r),i)}function E$(n,t){let e={};e[Z]=t;for(let r of n)if(r.path===""&&Un(r)!==Z){let i=new ve([],{});e[Un(r)]=i}return e}function C$(n,t,e){return e.some(r=>of(n,t,r)&&Un(r)!==Z)}function D$(n,t,e){return e.some(r=>of(n,t,r))}function of(n,t,e){return(n.hasChildren()||t.length>0)&&e.pathMatch==="full"?!1:e.path===""}function x$(n,t,e){return t.length===0&&!n.children[e]}var a_=class{};function S$(n,t,e,r,i,o,s="emptyOnly"){return new l_(n,t,e,r,i,s,o).recognize()}var I$=31,l_=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(t,e,r,i,o,s,a){this.injector=t,this.configLoader=e,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new o_(this.urlSerializer,this.urlTree)}noMatchError(t){return new P(4002,`'${t.segmentGroup}'`)}recognize(){let t=VI(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe(te(({children:e,rootSnapshot:r})=>{let i=new an(r,e),o=new ic("",i),s=QI(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(t){let e=new ko([],Object.freeze({}),Object.freeze(O({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),Z,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,t,Z,e).pipe(te(r=>({children:r,rootSnapshot:e})),Ir(r=>{if(r instanceof ac)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof sc?this.noMatchError(r):r}))}processSegmentGroup(t,e,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(t,e,r,o):this.processSegment(t,e,r,r.segments,i,!0,o).pipe(te(s=>s instanceof an?[s]:[]))}processChildren(t,e,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return Ce(o).pipe(Gn(s=>{let a=r.children[s],l=HU(e,s);return this.processSegmentGroup(t,l,a,s,i)}),Ug((s,a)=>(s.push(...a),s)),si(null),Bg(),Ge(s=>{if(s===null)return ta(r);let a=pM(s);return M$(a),$(a)}))}processSegment(t,e,r,i,o,s,a){return Ce(e).pipe(Gn(l=>this.processSegmentAgainstRoute(l._injector??t,e,l,r,i,o,s,a).pipe(Ir(c=>{if(c instanceof sc)return $(null);throw c}))),Tr(l=>!!l),Ir(l=>{if(dM(l))return x$(r,i,o)?$(new a_):ta(r);throw l}))}processSegmentAgainstRoute(t,e,r,i,o,s,a,l){return Un(r)!==s&&(s===Z||!of(i,o,r))?ta(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(t,i,r,o,s,l):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(t,i,e,r,o,s,l):ta(i)}expandSegmentAgainstRouteUsingRedirect(t,e,r,i,o,s,a){let{matched:l,parameters:c,consumedSegments:u,positionalParamSegments:d,remainingSegments:f}=fM(e,i,o);if(!l)return ta(e);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>I$&&(this.allowRedirects=!1));let h=new ko(o,c,Object.freeze(O({},this.urlTree.queryParams)),this.urlTree.fragment,BI(i),Un(i),i.component??i._loadedComponent??null,i,UI(i)),p=ef(h,a,this.paramsInheritanceStrategy);h.params=Object.freeze(p.params),h.data=Object.freeze(p.data);let g=this.applyRedirects.applyRedirectCommands(u,i.redirectTo,d,h,t);return this.applyRedirects.lineralizeSegments(i,g).pipe(Ge(m=>this.processSegment(t,r,e,m.concat(f),s,!1,a)))}matchSegmentAgainstRoute(t,e,r,i,o,s){let a=_$(e,r,i,t,this.urlSerializer);return r.path==="**"&&(e.children={}),a.pipe(Nt(l=>l.matched?(t=r._injector??t,this.getChildConfig(t,r,i).pipe(Nt(({routes:c})=>{let u=r._loadedInjector??t,{parameters:d,consumedSegments:f,remainingSegments:h}=l,p=new ko(f,d,Object.freeze(O({},this.urlTree.queryParams)),this.urlTree.fragment,BI(r),Un(r),r.component??r._loadedComponent??null,r,UI(r)),g=ef(p,s,this.paramsInheritanceStrategy);p.params=Object.freeze(g.params),p.data=Object.freeze(g.data);let{segmentGroup:m,slicedSegments:y}=VI(e,f,h,c);if(y.length===0&&m.hasChildren())return this.processChildren(u,c,m,p).pipe(te(w=>new an(p,w)));if(c.length===0&&y.length===0)return $(new an(p,[]));let b=Un(r)===o;return this.processSegment(u,c,m,y,b?Z:o,!0,p).pipe(te(w=>new an(p,w instanceof an?[w]:[])))}))):ta(e)))}getChildConfig(t,e,r){return e.children?$({routes:e.children,injector:t}):e.loadChildren?e._loadedRoutes!==void 0?$({routes:e._loadedRoutes,injector:e._loadedInjector}):g$(t,e,r,this.urlSerializer).pipe(Ge(i=>i?this.configLoader.loadChildren(t,e).pipe(it(o=>{e._loadedRoutes=o.routes,e._loadedInjector=o.injector})):y$(e))):$({routes:[],injector:t})}};function M$(n){n.sort((t,e)=>t.value.outlet===Z?-1:e.value.outlet===Z?1:t.value.outlet.localeCompare(e.value.outlet))}function T$(n){let t=n.value.routeConfig;return t&&t.path===""}function pM(n){let t=[],e=new Set;for(let r of n){if(!T$(r)){t.push(r);continue}let i=t.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),e.add(i)):t.push(r)}for(let r of e){let i=pM(r.children);t.push(new an(r.value,i))}return t.filter(r=>!e.has(r))}function BI(n){return n.data||{}}function UI(n){return n.resolve||{}}function A$(n,t,e,r,i,o){return Ge(s=>S$(n,t,e,r,s.extractedUrl,i,o).pipe(te(({state:a,tree:l})=>ee(O({},s),{targetSnapshot:a,urlAfterRedirects:l}))))}function O$(n,t){return Ge(e=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=e;if(!i.length)return $(e);let o=new Set(i.map(l=>l.route)),s=new Set;for(let l of o)if(!s.has(l))for(let c of gM(l))s.add(c);let a=0;return Ce(s).pipe(Gn(l=>o.has(l)?R$(l,r,n,t):(l.data=ef(l,l.parent,n).resolve,$(void 0))),it(()=>a++),ws(1),Ge(l=>a===s.size?$(e):kt))})}function gM(n){let t=n.children.map(e=>gM(e)).flat();return[n,...t]}function R$(n,t,e,r){let i=n.routeConfig,o=n._resolve;return i?.title!==void 0&&!sM(i)&&(o[lc]=i.title),k$(o,n,t,r).pipe(te(s=>(n._resolvedData=s,n.data=ef(n,n.parent,e).resolve,null)))}function k$(n,t,e,r){let i=Zy(n);if(i.length===0)return $({});let o={};return Ce(i).pipe(Ge(s=>P$(n[s],t,e,r).pipe(Tr(),it(a=>{if(a instanceof ca)throw tf(new wi,a);o[s]=a}))),ws(1),te(()=>o),Ir(s=>dM(s)?kt:_s(s)))}function P$(n,t,e,r){let i=cc(t)??r,o=da(n,i),s=o.resolve?o.resolve(t,e):$t(i,()=>o(t,e));return Di(s)}function Ky(n){return Nt(t=>{let e=n(t);return e?Ce(e).pipe(te(()=>t)):$(t)})}var f_=(()=>{class n{buildTitle(e){let r,i=e.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===Z);return r}getResolvedTitleForRoute(e){return e.data[lc]}static \u0275fac=function(r){return new(r||n)};static \u0275prov=F({token:n,factory:()=>S(mM),providedIn:"root"})}return n})(),mM=(()=>{class n extends f_{title;constructor(e){super(),this.title=e}updateTitle(e){let r=this.buildTitle(e);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||n)(U(RI))};static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Lo=new k("",{providedIn:"root",factory:()=>({})}),jo=new k(""),sf=(()=>{class n{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=S(DS);loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return $(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);let r=Di(e.loadComponent()).pipe(te(yM),it(o=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=o}),co(()=>{this.componentLoaders.delete(e)})),i=new ys(r,()=>new qe).pipe(vs());return this.componentLoaders.set(e,i),i}loadChildren(e,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return $({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=vM(r,this.compiler,e,this.onLoadEndListener).pipe(co(()=>{this.childrenLoaders.delete(r)})),s=new ys(o,()=>new qe).pipe(vs());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||n)};static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function vM(n,t,e,r){return Di(n.loadChildren()).pipe(te(yM),Ge(i=>i instanceof ly||Array.isArray(i)?$(i):Ce(t.compileModuleAsync(i))),te(i=>{r&&r(n);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(e).injector,s=o.get(jo,[],{optional:!0,self:!0}).flat()),{routes:s.map(h_),injector:o}}))}function N$(n){return n&&typeof n=="object"&&"default"in n}function yM(n){return N$(n)?n.default:n}var af=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=F({token:n,factory:()=>S(F$),providedIn:"root"})}return n})(),F$=(()=>{class n{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,r){return e}static \u0275fac=function(r){return new(r||n)};static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),p_=new k(""),g_=new k("");function _M(n,t,e){let r=n.get(g_),i=n.get(Qe);return n.get(Le).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(c=>setTimeout(c));let o,s=new Promise(c=>{o=c}),a=i.startViewTransition(()=>(o(),L$(n))),{onViewTransitionCreated:l}=r;return l&&$t(n,()=>l({transition:a,from:t,to:e})),s})}function L$(n){return new Promise(t=>{Gd({read:()=>setTimeout(t)},{injector:n})})}var m_=new k(""),lf=(()=>{class n{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new qe;transitionAbortSubject=new qe;configLoader=S(sf);environmentInjector=S(vt);destroyRef=S(Bs);urlSerializer=S(No);rootContexts=S(Fo);location=S(yi);inputBindingEnabled=S(dc,{optional:!0})!==null;titleStrategy=S(f_);options=S(Lo,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=S(af);createViewTransition=S(p_,{optional:!0});navigationErrorHandler=S(m_,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>$(void 0);rootComponentType=null;destroyed=!1;constructor(){let e=i=>this.events.next(new qh(i)),r=i=>this.events.next(new Gh(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=e,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(e){let r=++this.navigationId;this.transitions?.next(ee(O({},e),{extractedUrl:this.urlHandlingStrategy.extract(e.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:r}))}setupNavigations(e){return this.transitions=new Je(null),this.transitions.pipe(Mt(r=>r!==null),Nt(r=>{let i=!1,o=!1;return $(r).pipe(Nt(s=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",Kt.SupersededByNewNavigation),kt;this.currentTransition=r,this.currentNavigation={id:s.id,initialUrl:s.rawUrl,extractedUrl:s.extractedUrl,targetBrowserUrl:typeof s.extras.browserUrl=="string"?this.urlSerializer.parse(s.extras.browserUrl):s.extras.browserUrl,trigger:s.source,extras:s.extras,previousNavigation:this.lastSuccessfulNavigation?ee(O({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let a=!e.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),l=s.extras.onSameUrlNavigation??e.onSameUrlNavigation;if(!a&&l!=="reload"){let c="";return this.events.next(new dr(s.id,this.urlSerializer.serialize(s.rawUrl),c,oa.IgnoredSameUrlNavigation)),s.resolve(!1),kt}if(this.urlHandlingStrategy.shouldProcessUrl(s.rawUrl))return $(s).pipe(Nt(c=>(this.events.next(new Ci(c.id,this.urlSerializer.serialize(c.extractedUrl),c.source,c.restoredState)),c.id!==this.navigationId?kt:Promise.resolve(c))),A$(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,this.paramsInheritanceStrategy),it(c=>{r.targetSnapshot=c.targetSnapshot,r.urlAfterRedirects=c.urlAfterRedirects,this.currentNavigation=ee(O({},this.currentNavigation),{finalUrl:c.urlAfterRedirects});let u=new tc(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}));if(a&&this.urlHandlingStrategy.shouldProcessUrl(s.currentRawUrl)){let{id:c,extractedUrl:u,source:d,restoredState:f,extras:h}=s,p=new Ci(c,this.urlSerializer.serialize(u),d,f);this.events.next(p);let g=iM(this.rootComponentType).snapshot;return this.currentTransition=r=ee(O({},s),{targetSnapshot:g,urlAfterRedirects:u,extras:ee(O({},h),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=u,$(r)}else{let c="";return this.events.next(new dr(s.id,this.urlSerializer.serialize(s.extractedUrl),c,oa.IgnoredByUrlHandlingStrategy)),s.resolve(!1),kt}}),it(s=>{let a=new $h(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),te(s=>(this.currentTransition=r=ee(O({},s),{guards:ZU(s.targetSnapshot,s.currentSnapshot,this.rootContexts)}),r)),a$(this.environmentInjector,s=>this.events.next(s)),it(s=>{if(r.guardsResult=s.guardsResult,s.guardsResult&&typeof s.guardsResult!="boolean")throw tf(this.urlSerializer,s.guardsResult);let a=new Hh(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot,!!s.guardsResult);this.events.next(a)}),Mt(s=>s.guardsResult?!0:(this.cancelNavigationTransition(s,"",Kt.GuardRejected),!1)),Ky(s=>{if(s.guards.canActivateChecks.length!==0)return $(s).pipe(it(a=>{let l=new zh(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(l)}),Nt(a=>{let l=!1;return $(a).pipe(O$(this.paramsInheritanceStrategy,this.environmentInjector),it({next:()=>l=!0,complete:()=>{l||this.cancelNavigationTransition(a,"",Kt.NoDataFromResolver)}}))}),it(a=>{let l=new Wh(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(l)}))}),Ky(s=>{let a=l=>{let c=[];l.routeConfig?.loadComponent&&!l.routeConfig._loadedComponent&&c.push(this.configLoader.loadComponent(l.routeConfig).pipe(it(u=>{l.component=u}),te(()=>{})));for(let u of l.children)c.push(...a(u));return c};return pl(a(s.targetSnapshot.root)).pipe(si(null),Mr(1))}),Ky(()=>this.afterPreactivation()),Nt(()=>{let{currentSnapshot:s,targetSnapshot:a}=r,l=this.createViewTransition?.(this.environmentInjector,s.root,a.root);return l?Ce(l).pipe(te(()=>r)):$(r)}),te(s=>{let a=WU(e.routeReuseStrategy,s.targetSnapshot,s.currentRouterState);return this.currentTransition=r=ee(O({},s),{targetRouterState:a}),this.currentNavigation.targetRouterState=a,r}),it(()=>{this.events.next(new nc)}),YU(this.rootContexts,e.routeReuseStrategy,s=>this.events.next(s),this.inputBindingEnabled),Mr(1),it({next:s=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new cn(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects))),this.titleStrategy?.updateTitle(s.targetRouterState.snapshot),s.resolve(!0)},complete:()=>{i=!0}}),Hg(this.transitionAbortSubject.pipe(it(s=>{throw s}))),co(()=>{!i&&!o&&this.cancelNavigationTransition(r,"",Kt.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation=null,this.currentTransition=null)}),Ir(s=>{if(this.destroyed)return r.resolve(!1),kt;if(o=!0,uM(s))this.events.next(new cr(r.id,this.urlSerializer.serialize(r.extractedUrl),s.message,s.cancellationCode)),KU(s)?this.events.next(new la(s.url,s.navigationBehaviorOptions)):r.resolve(!1);else{let a=new sa(r.id,this.urlSerializer.serialize(r.extractedUrl),s,r.targetSnapshot??void 0);try{let l=$t(this.environmentInjector,()=>this.navigationErrorHandler?.(a));if(l instanceof ca){let{message:c,cancellationCode:u}=tf(this.urlSerializer,l);this.events.next(new cr(r.id,this.urlSerializer.serialize(r.extractedUrl),c,u)),this.events.next(new la(l.redirectTo,l.navigationBehaviorOptions))}else throw this.events.next(a),s}catch(l){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(l)}}return kt}))}))}cancelNavigationTransition(e,r,i){let o=new cr(e.id,this.urlSerializer.serialize(e.extractedUrl),r,i);this.events.next(o),e.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let e=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return e.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||n)};static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function j$(n){return n!==Vh}var bM=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=F({token:n,factory:()=>S(V$),providedIn:"root"})}return n})(),rf=class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}},V$=(()=>{class n extends rf{static \u0275fac=(()=>{let e;return function(i){return(e||(e=Vr(n)))(i||n)}})();static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),wM=(()=>{class n{urlSerializer=S(No);options=S(Lo,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=S(yi);urlHandlingStrategy=S(af);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new ur;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:e,initialUrl:r,targetBrowserUrl:i}){let o=e!==void 0?this.urlHandlingStrategy.merge(e,r):r,s=i??o;return s instanceof ur?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:e,finalUrl:r,initialUrl:i}){r&&e?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=e):this.rawUrlTree=i}routerState=iM(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:e}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e??this.rawUrlTree)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=F({token:n,factory:()=>S(B$),providedIn:"root"})}return n})(),B$=(()=>{class n extends wM{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(e){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{e(r.url,r.state,"popstate")})})}handleRouterEvent(e,r){e instanceof Ci?this.updateStateMemento():e instanceof dr?this.commitTransition(r):e instanceof tc?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):e instanceof nc?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):e instanceof cr&&(e.code===Kt.GuardRejected||e.code===Kt.NoDataFromResolver)?this.restoreHistory(r):e instanceof sa?this.restoreHistory(r,!0):e instanceof cn&&(this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId)}setBrowserUrl(e,{extras:r,id:i}){let{replaceUrl:o,state:s}=r;if(this.location.isCurrentPathEqualTo(e)||o){let a=this.browserPageId,l=O(O({},s),this.generateNgRouterState(i,a));this.location.replaceState(e,"",l)}else{let a=O(O({},s),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(e,"",a)}}restoreHistory(e,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===e.finalUrl&&o===0&&(this.resetInternalState(e),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(e),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,r){return this.canceledNavigationResolution==="computed"?{navigationId:e,\u0275routerPageId:r}:{navigationId:e}}static \u0275fac=(()=>{let e;return function(i){return(e||(e=Vr(n)))(i||n)}})();static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function cf(n,t){n.events.pipe(Mt(e=>e instanceof cn||e instanceof cr||e instanceof sa||e instanceof dr),te(e=>e instanceof cn||e instanceof dr?0:(e instanceof cr?e.code===Kt.Redirect||e.code===Kt.SupersededByNewNavigation:!1)?2:1),Mt(e=>e!==2),Mr(1)).subscribe(()=>{t()})}var U$={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},$$={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},un=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=S(uy);stateManager=S(wM);options=S(Lo,{optional:!0})||{};pendingTasks=S(nr);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=S(lf);urlSerializer=S(No);location=S(yi);urlHandlingStrategy=S(af);_events=new qe;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=S(bM);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=S(jo,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!S(dc,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:e=>{this.console.warn(e)}}),this.subscribeToNavigationEvents()}eventsSubscription=new Ze;subscribeToNavigationEvents(){let e=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof cr&&r.code!==Kt.Redirect&&r.code!==Kt.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof cn)this.navigated=!0;else if(r instanceof la){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),l=O({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||j$(i.source)},s);this.scheduleNavigation(a,Vh,null,l,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}z$(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(e)}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Vh,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((e,r,i)=>{this.navigateToSyncWithBrowser(e,i,r)})}navigateToSyncWithBrowser(e,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let l=O({},i);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(o.state=l)}let a=this.parseUrl(e);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(h_),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(e,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:l}=r,c=l?this.currentUrlTree.fragment:s,u=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":u=O(O({},this.currentUrlTree.queryParams),o);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=o||null}u!==null&&(u=this.removeEmptyProps(u));let d;try{let f=i?i.snapshot:this.routerState.snapshot.root;d=eM(f)}catch{(typeof e[0]!="string"||e[0][0]!=="/")&&(e=[]),d=this.currentUrlTree.root}return tM(d,e,u,c??null)}navigateByUrl(e,r={skipLocationChange:!1}){let i=Ei(e)?e:this.parseUrl(e),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,Vh,null,r)}navigate(e,r={skipLocationChange:!1}){return H$(e),this.navigateByUrl(this.createUrlTree(e,r),r)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){try{return this.urlSerializer.parse(e)}catch{return this.urlSerializer.parse("/")}}isActive(e,r){let i;if(r===!0?i=O({},U$):r===!1?i=O({},$$):i=r,Ei(e))return NI(this.currentUrlTree,e,i);let o=this.parseUrl(e);return NI(this.currentUrlTree,o,i)}removeEmptyProps(e){return Object.entries(e).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(e,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,l,c;s?(a=s.resolve,l=s.reject,c=s.promise):c=new Promise((d,f)=>{a=d,l=f});let u=this.pendingTasks.add();return cf(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:o,resolve:a,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(d=>Promise.reject(d))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function H$(n){for(let t=0;t<n.length;t++)if(n[t]==null)throw new P(4008,!1)}function z$(n){return!(n instanceof nc)&&!(n instanceof la)}var xi=(()=>{class n{router;route;tabIndexAttribute;renderer;el;locationStrategy;href=null;target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new qe;constructor(e,r,i,o,s,a){this.router=e,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a;let l=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=l==="a"||l==="area",this.isAnchorElement?this.subscription=e.events.subscribe(c=>{c instanceof cn&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(e){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}routerLinkInput=null;set routerLink(e){e==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(Ei(e)?this.routerLinkInput=e:this.routerLinkInput=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0"))}onClick(e,r,i,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(e!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let l={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,l),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let e=this.urlTree;this.href=e!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(e)):null;let r=this.href===null?null:wx(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(e,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,e,r):i.removeAttribute(o,e)}get urlTree(){return this.routerLinkInput===null?null:Ei(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||n)(L(un),L(hr),Rv("tabindex"),L(ir),L(Ht),L(jn))};static \u0275dir=Oe({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){r&1&&ie("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&Rl("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Io],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Io],replaceUrl:[2,"replaceUrl","replaceUrl",Io],routerLink:"routerLink"},features:[Rn]})}return n})(),pc=(()=>{class n{router;element;renderer;cdr;link;links;classes=[];routerEventsSubscription;linkInputChangesSubscription;_isActive=!1;get isActive(){return this._isActive}routerLinkActiveOptions={exact:!1};ariaCurrentWhenActive;isActiveChange=new Ke;constructor(e,r,i,o,s){this.router=e,this.element=r,this.renderer=i,this.cdr=o,this.link=s,this.routerEventsSubscription=e.events.subscribe(a=>{a instanceof cn&&this.update()})}ngAfterContentInit(){$(this.links.changes,$(null)).pipe(oi()).subscribe(e=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let e=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=Ce(e).pipe(oi()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(e){let r=Array.isArray(e)?e:e.split(" ");this.classes=r.filter(i=>!!i)}ngOnChanges(e){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let e=this.hasActiveLinks();this.classes.forEach(r=>{e?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),e&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==e&&(this._isActive=e,this.cdr.markForCheck(),this.isActiveChange.emit(e))})}isLinkActive(e){let r=W$(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>{let o=i.urlTree;return o?e.isActive(o,r):!1}}hasActiveLinks(){let e=this.isLinkActive(this.router);return this.link&&e(this.link)||this.links.some(e)}static \u0275fac=function(r){return new(r||n)(L(un),L(Ht),L(ir),L(Ur),L(xi,8))};static \u0275dir=Oe({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(r,i,o){if(r&1&&vS(o,xi,5),r&2){let s;yS(s=_S())&&(i.links=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[Rn]})}return n})();function W$(n){return!!n.paths}var fc=class{};var EM=(()=>{class n{router;injector;preloadingStrategy;loader;subscription;constructor(e,r,i,o){this.router=e,this.injector=r,this.preloadingStrategy=i,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(Mt(e=>e instanceof cn),Gn(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,r){let i=[];for(let o of r){o.providers&&!o._injector&&(o._injector=Gs(o.providers,e,`Route: ${o.path}`));let s=o._injector??e,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return Ce(i).pipe(oi())}preloadConfig(e,r){return this.preloadingStrategy.preload(r,()=>{let i;r.loadChildren&&r.canLoad===void 0?i=this.loader.loadChildren(e,r):i=$(null);let o=i.pipe(Ge(s=>s===null?$(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??e,s.routes))));if(r.loadComponent&&!r._loadedComponent){let s=this.loader.loadComponent(r);return Ce([o,s]).pipe(oi())}else return o})}static \u0275fac=function(r){return new(r||n)(U(un),U(vt),U(fc),U(sf))};static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),CM=new k(""),q$=(()=>{class n{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource="imperative";restoredId=0;store={};constructor(e,r,i,o,s={}){this.urlSerializer=e,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof Ci?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof cn?(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment)):e instanceof dr&&e.code===oa.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof aa&&(e.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(e.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new aa(e,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(r){Zx()};static \u0275prov=F({token:n,factory:n.\u0275fac})}return n})();function y_(n,...t){return jr([{provide:jo,multi:!0,useValue:n},[],{provide:hr,useFactory:DM,deps:[un]},{provide:vi,multi:!0,useFactory:xM},t.map(e=>e.\u0275providers)])}function DM(n){return n.routerState.root}function gc(n,t){return{\u0275kind:n,\u0275providers:t}}function xM(){let n=S(Bt);return t=>{let e=n.get(Ut);if(t!==e.components[0])return;let r=n.get(un),i=n.get(SM);n.get(__)===1&&r.initialNavigation(),n.get(TM,null,X.Optional)?.setUpPreloading(),n.get(CM,null,X.Optional)?.init(),r.resetRootComponentType(e.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var SM=new k("",{factory:()=>new qe}),__=new k("",{providedIn:"root",factory:()=>1});function IM(){let n=[{provide:__,useValue:0},hy(()=>{let t=S(Bt);return t.get(_y,Promise.resolve()).then(()=>new Promise(r=>{let i=t.get(un),o=t.get(SM);cf(i,()=>{r(!0)}),t.get(lf).afterPreactivation=()=>(r(!0),o.closed?$(void 0):o),i.initialNavigation()}))})];return gc(2,n)}function MM(){let n=[hy(()=>{S(un).setUpLocationChangeListener()}),{provide:__,useValue:2}];return gc(3,n)}var TM=new k("");function AM(n){return gc(0,[{provide:TM,useExisting:EM},{provide:fc,useExisting:n}])}function OM(){return gc(8,[u_,{provide:dc,useExisting:u_}])}function RM(n){rr("NgRouterViewTransitions");let t=[{provide:p_,useValue:_M},{provide:g_,useValue:O({skipNextTransition:!!n?.skipInitialTransition},n)}];return gc(9,t)}var kM=[yi,{provide:No,useClass:wi},un,Fo,{provide:hr,useFactory:DM,deps:[un]},sf,[]],b_=(()=>{class n{constructor(){}static forRoot(e,r){return{ngModule:n,providers:[kM,[],{provide:jo,multi:!0,useValue:e},[],r?.errorHandler?{provide:m_,useValue:r.errorHandler}:[],{provide:Lo,useValue:r||{}},r?.useHash?K$():Y$(),G$(),r?.preloadingStrategy?AM(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?Z$(r):[],r?.bindToComponentInputs?OM().\u0275providers:[],r?.enableViewTransitions?RM().\u0275providers:[],J$()]}}static forChild(e){return{ngModule:n,providers:[{provide:jo,multi:!0,useValue:e}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=Nn({type:n});static \u0275inj=An({})}return n})();function G$(){return{provide:CM,useFactory:()=>{let n=S(lI),t=S(Le),e=S(Lo),r=S(lf),i=S(No);return e.scrollOffset&&n.setOffset(e.scrollOffset),new q$(i,r,n,t,e)}}}function K$(){return{provide:jn,useClass:Iy}}function Y$(){return{provide:jn,useClass:hh}}function Z$(n){return[n.initialNavigation==="disabled"?MM().\u0275providers:[],n.initialNavigation==="enabledBlocking"?IM().\u0275providers:[]]}var v_=new k("");function J$(){return[{provide:v_,useFactory:xM},{provide:vi,multi:!0,useExisting:v_}]}var HM=(()=>{class n{_renderer;_elementRef;onChange=e=>{};onTouched=()=>{};constructor(e,r){this._renderer=e,this._elementRef=r}setProperty(e,r){this._renderer.setProperty(this._elementRef.nativeElement,e,r)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}static \u0275fac=function(r){return new(r||n)(L(ir),L(Ht))};static \u0275dir=Oe({type:n})}return n})(),_f=(()=>{class n extends HM{static \u0275fac=(()=>{let e;return function(i){return(e||(e=Vr(n)))(i||n)}})();static \u0275dir=Oe({type:n,features:[sn]})}return n})(),ga=new k("");var Q$={provide:ga,useExisting:Tn(()=>fr),multi:!0};function eH(){let n=vn()?vn().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var tH=new k(""),fr=(()=>{class n extends HM{_compositionMode;_composing=!1;constructor(e,r,i){super(e,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!eH())}writeValue(e){let r=e??"";this.setProperty("value",r)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}static \u0275fac=function(r){return new(r||n)(L(ir),L(Ht),L(tH,8))};static \u0275dir=Oe({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&ie("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},standalone:!1,features:[Br([Q$]),sn]})}return n})();function I_(n){return n==null||M_(n)===0}function M_(n){return n==null?null:Array.isArray(n)||typeof n=="string"?n.length:n instanceof Set?n.size:null}var bf=new k(""),T_=new k(""),nH=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,He=class{static min(t){return zM(t)}static max(t){return rH(t)}static required(t){return iH(t)}static requiredTrue(t){return oH(t)}static email(t){return sH(t)}static minLength(t){return aH(t)}static maxLength(t){return lH(t)}static pattern(t){return cH(t)}static nullValidator(t){return df()}static compose(t){return ZM(t)}static composeAsync(t){return XM(t)}};function zM(n){return t=>{if(t.value==null||n==null)return null;let e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}function rH(n){return t=>{if(t.value==null||n==null)return null;let e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}function iH(n){return I_(n.value)?{required:!0}:null}function oH(n){return n.value===!0?null:{required:!0}}function sH(n){return I_(n.value)||nH.test(n.value)?null:{email:!0}}function aH(n){return t=>{let e=t.value?.length??M_(t.value);return e===null||e===0?null:e<n?{minlength:{requiredLength:n,actualLength:e}}:null}}function lH(n){return t=>{let e=t.value?.length??M_(t.value);return e!==null&&e>n?{maxlength:{requiredLength:n,actualLength:e}}:null}}function cH(n){if(!n)return df;let t,e;return typeof n=="string"?(e="",n.charAt(0)!=="^"&&(e+="^"),e+=n,n.charAt(n.length-1)!=="$"&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),r=>{if(I_(r.value))return null;let i=r.value;return t.test(i)?null:{pattern:{requiredPattern:e,actualValue:i}}}}function df(n){return null}function WM(n){return n!=null}function qM(n){return mi(n)?Ce(n):n}function GM(n){let t={};return n.forEach(e=>{t=e!=null?O(O({},t),e):t}),Object.keys(t).length===0?null:t}function KM(n,t){return t.map(e=>e(n))}function uH(n){return!n.validate}function YM(n){return n.map(t=>uH(t)?t:e=>t.validate(e))}function ZM(n){if(!n)return null;let t=n.filter(WM);return t.length==0?null:function(e){return GM(KM(e,t))}}function JM(n){return n!=null?ZM(YM(n)):null}function XM(n){if(!n)return null;let t=n.filter(WM);return t.length==0?null:function(e){let r=KM(e,t).map(qM);return Vg(r).pipe(te(GM))}}function QM(n){return n!=null?XM(YM(n)):null}function PM(n,t){return n===null?[t]:Array.isArray(n)?[...n,t]:[n,t]}function eT(n){return n._rawValidators}function tT(n){return n._rawAsyncValidators}function w_(n){return n?Array.isArray(n)?n:[n]:[]}function hf(n,t){return Array.isArray(n)?n.includes(t):n===t}function NM(n,t){let e=w_(t);return w_(n).forEach(i=>{hf(e,i)||e.push(i)}),e}function FM(n,t){return w_(t).filter(e=>!hf(n,e))}var ff=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=JM(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=QM(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,e){return this.control?this.control.hasError(t,e):!1}getError(t,e){return this.control?this.control.getError(t,e):null}},Vo=class extends ff{name;get formDirective(){return null}get path(){return null}},Bo=class extends ff{_parent=null;name=null;valueAccessor=null},pf=class{_cd;constructor(t){this._cd=t}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},dH={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},VQ=ee(O({},dH),{"[class.ng-submitted]":"isSubmitted"}),Ii=(()=>{class n extends pf{constructor(e){super(e)}static \u0275fac=function(r){return new(r||n)(L(Bo,2))};static \u0275dir=Oe({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&or("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[sn]})}return n})(),Mi=(()=>{class n extends pf{constructor(e){super(e)}static \u0275fac=function(r){return new(r||n)(L(Vo,10))};static \u0275dir=Oe({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&or("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},standalone:!1,features:[sn]})}return n})();var mc="VALID",uf="INVALID",ha="PENDING",vc="DISABLED",Si=class{},gf=class extends Si{value;source;constructor(t,e){super(),this.value=t,this.source=e}},yc=class extends Si{pristine;source;constructor(t,e){super(),this.pristine=t,this.source=e}},_c=class extends Si{touched;source;constructor(t,e){super(),this.touched=t,this.source=e}},fa=class extends Si{status;source;constructor(t,e){super(),this.status=t,this.source=e}},E_=class extends Si{source;constructor(t){super(),this.source=t}},C_=class extends Si{source;constructor(t){super(),this.source=t}};function A_(n){return(wf(n)?n.validators:n)||null}function hH(n){return Array.isArray(n)?JM(n):n||null}function O_(n,t){return(wf(t)?t.asyncValidators:n)||null}function fH(n){return Array.isArray(n)?QM(n):n||null}function wf(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function nT(n,t,e){let r=n.controls;if(!(t?Object.keys(r):r).length)throw new P(1e3,"");if(!r[e])throw new P(1001,"")}function rT(n,t,e){n._forEachChild((r,i)=>{if(e[i]===void 0)throw new P(1002,"")})}var pa=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(t,e){this._assignValidators(t),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get status(){return Fn(this.statusReactive)}set status(t){Fn(()=>this.statusReactive.set(t))}_status=Js(()=>this.statusReactive());statusReactive=$s(void 0);get valid(){return this.status===mc}get invalid(){return this.status===uf}get pending(){return this.status==ha}get disabled(){return this.status===vc}get enabled(){return this.status!==vc}errors;get pristine(){return Fn(this.pristineReactive)}set pristine(t){Fn(()=>this.pristineReactive.set(t))}_pristine=Js(()=>this.pristineReactive());pristineReactive=$s(!0);get dirty(){return!this.pristine}get touched(){return Fn(this.touchedReactive)}set touched(t){Fn(()=>this.touchedReactive.set(t))}_touched=Js(()=>this.touchedReactive());touchedReactive=$s(!1);get untouched(){return!this.touched}_events=new qe;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(NM(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(NM(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(FM(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(FM(t,this._rawAsyncValidators))}hasValidator(t){return hf(this._rawValidators,t)}hasAsyncValidator(t){return hf(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){let e=this.touched===!1;this.touched=!0;let r=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsTouched(ee(O({},t),{sourceControl:r})),e&&t.emitEvent!==!1&&this._events.next(new _c(!0,r))}markAllAsTouched(t={}){this.markAsTouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(e=>e.markAllAsTouched(t))}markAsUntouched(t={}){let e=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=t.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:r})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,r),e&&t.emitEvent!==!1&&this._events.next(new _c(!1,r))}markAsDirty(t={}){let e=this.pristine===!0;this.pristine=!1;let r=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsDirty(ee(O({},t),{sourceControl:r})),e&&t.emitEvent!==!1&&this._events.next(new yc(!1,r))}markAsPristine(t={}){let e=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=t.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:t.emitEvent})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t,r),e&&t.emitEvent!==!1&&this._events.next(new yc(!0,r))}markAsPending(t={}){this.status=ha;let e=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new fa(this.status,e)),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.markAsPending(ee(O({},t),{sourceControl:e}))}disable(t={}){let e=this._parentMarkedDirty(t.onlySelf);this.status=vc,this.errors=null,this._forEachChild(i=>{i.disable(ee(O({},t),{onlySelf:!0}))}),this._updateValue();let r=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new gf(this.value,r)),this._events.next(new fa(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(ee(O({},t),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){let e=this._parentMarkedDirty(t.onlySelf);this.status=mc,this._forEachChild(r=>{r.enable(ee(O({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(ee(O({},t),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(t,e){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine({},e),this._parent._updateTouched({},e))}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===mc||this.status===ha)&&this._runAsyncValidator(r,t.emitEvent)}let e=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new gf(this.value,e)),this._events.next(new fa(this.status,e)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(ee(O({},t),{sourceControl:e}))}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?vc:mc}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t,e){if(this.asyncValidator){this.status=ha,this._hasOwnPendingAsyncValidator={emitEvent:e!==!1};let r=qM(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:e,shouldHaveEmitted:t})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let t=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,t}return!1}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(e.emitEvent!==!1,this,e.shouldHaveEmitted)}get(t){let e=t;return e==null||(Array.isArray(e)||(e=e.split(".")),e.length===0)?null:e.reduce((r,i)=>r&&r._find(i),this)}getError(t,e){let r=e?this.get(e):this;return r&&r.errors?r.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t,e,r){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),(t||r)&&this._events.next(new fa(this.status,e)),this._parent&&this._parent._updateControlsErrors(t,e,r)}_initObservables(){this.valueChanges=new Ke,this.statusChanges=new Ke}_calculateStatus(){return this._allControlsDisabled()?vc:this.errors?uf:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ha)?ha:this._anyControlsHaveStatus(uf)?uf:mc}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t,e){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!t.onlySelf&&this._parent._updatePristine(t,e),i&&this._events.next(new yc(this.pristine,e))}_updateTouched(t={},e){this.touched=this._anyControlsTouched(),this._events.next(new _c(this.touched,e)),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,e)}_onDisabledChange=[];_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){wf(t)&&t.updateOn!=null&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){let e=this._parent&&this._parent.dirty;return!t&&!!e&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=hH(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=fH(this._rawAsyncValidators)}},mf=class extends pa{constructor(t,e,r){super(A_(e),O_(r,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,r={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,r={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){rT(this,!0,t),Object.keys(t).forEach(r=>{nT(this,!0,r),this.controls[r].setValue(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t!=null&&(Object.keys(t).forEach(r=>{let i=this.controls[r];i&&i.patchValue(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((r,i)=>{r.reset(t?t[i]:null,{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e,this),this._updateTouched(e,this),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,r)=>(t[r]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,r)=>r._syncPendingControls()?!0:e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{let r=this.controls[e];r&&t(r,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(let[e,r]of Object.entries(this.controls))if(this.contains(e)&&t(r))return!0;return!1}_reduceValue(){let t={};return this._reduceChildren(t,(e,r,i)=>((r.enabled||this.disabled)&&(e[i]=r.value),e))}_reduceChildren(t,e){let r=t;return this._forEachChild((i,o)=>{r=e(r,i,o)}),r}_allControlsDisabled(){for(let t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}};var D_=class extends mf{};var Ef=new k("",{providedIn:"root",factory:()=>Cf}),Cf="always";function iT(n,t){return[...t.path,n]}function x_(n,t,e=Cf){R_(n,t),t.valueAccessor.writeValue(n.value),(n.disabled||e==="always")&&t.valueAccessor.setDisabledState?.(n.disabled),gH(n,t),vH(n,t),mH(n,t),pH(n,t)}function LM(n,t,e=!0){let r=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(r),t.valueAccessor.registerOnTouched(r)),yf(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function vf(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function pH(n,t){if(t.valueAccessor.setDisabledState){let e=r=>{t.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}function R_(n,t){let e=eT(n);t.validator!==null?n.setValidators(PM(e,t.validator)):typeof e=="function"&&n.setValidators([e]);let r=tT(n);t.asyncValidator!==null?n.setAsyncValidators(PM(r,t.asyncValidator)):typeof r=="function"&&n.setAsyncValidators([r]);let i=()=>n.updateValueAndValidity();vf(t._rawValidators,i),vf(t._rawAsyncValidators,i)}function yf(n,t){let e=!1;if(n!==null){if(t.validator!==null){let i=eT(n);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==t.validator);o.length!==i.length&&(e=!0,n.setValidators(o))}}if(t.asyncValidator!==null){let i=tT(n);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==t.asyncValidator);o.length!==i.length&&(e=!0,n.setAsyncValidators(o))}}}let r=()=>{};return vf(t._rawValidators,r),vf(t._rawAsyncValidators,r),e}function gH(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&oT(n,t)})}function mH(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&oT(n,t),n.updateOn!=="submit"&&n.markAsTouched()})}function oT(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function vH(n,t){let e=(r,i)=>{t.valueAccessor.writeValue(r),i&&t.viewToModelUpdate(r)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}function yH(n,t){n==null,R_(n,t)}function _H(n,t){return yf(n,t)}function sT(n,t){if(!n.hasOwnProperty("model"))return!1;let e=n.model;return e.isFirstChange()?!0:!Object.is(t,e.currentValue)}function bH(n){return Object.getPrototypeOf(n.constructor)===_f}function wH(n,t){n._syncPendingControls(),t.forEach(e=>{let r=e.control;r.updateOn==="submit"&&r._pendingChange&&(e.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function aT(n,t){if(!t)return null;Array.isArray(t);let e,r,i;return t.forEach(o=>{o.constructor===fr?e=o:bH(o)?r=o:i=o}),i||r||e||null}function EH(n,t){let e=n.indexOf(t);e>-1&&n.splice(e,1)}function jM(n,t){let e=n.indexOf(t);e>-1&&n.splice(e,1)}function VM(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var bc=class extends pa{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(t=null,e,r){super(A_(e),O_(r,e)),this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),wf(e)&&(e.nonNullable||e.initialValueIsDefault)&&(VM(t)?this.defaultValue=t.value:this.defaultValue=t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&e.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,e.emitViewToModelChange!==!1)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){jM(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){jM(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(t){VM(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};var CH=n=>n instanceof bc;var DH={provide:Bo,useExisting:Tn(()=>wc)},BM=Promise.resolve(),wc=(()=>{class n extends Bo{_changeDetectorRef;callSetDisabledState;control=new bc;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new Ke;constructor(e,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=e,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=aT(this,o)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){let r=e.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),sT(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){x_(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(e){BM.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){let r=e.isDisabled.currentValue,i=r!==0&&Io(r);BM.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?iT(e,this._parent):[e]}static \u0275fac=function(r){return new(r||n)(L(Vo,9),L(bf,10),L(T_,10),L(ga,10),L(Ur,8),L(Ef,8))};static \u0275dir=Oe({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[Br([DH]),sn,Rn]})}return n})();var Ti=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275dir=Oe({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return n})(),xH={provide:ga,useExisting:Tn(()=>Uo),multi:!0},Uo=(()=>{class n extends _f{writeValue(e){let r=e??"";this.setProperty("value",r)}registerOnChange(e){this.onChange=r=>{e(r==""?null:parseFloat(r))}}static \u0275fac=(()=>{let e;return function(i){return(e||(e=Vr(n)))(i||n)}})();static \u0275dir=Oe({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){r&1&&ie("input",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},standalone:!1,features:[Br([xH]),sn]})}return n})();var lT=new k("");var SH={provide:Vo,useExisting:Tn(()=>qr)},qr=(()=>{class n extends Vo{callSetDisabledState;get submitted(){return Fn(this._submittedReactive)}set submitted(e){this._submittedReactive.set(e)}_submitted=Js(()=>this._submittedReactive());_submittedReactive=$s(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];form=null;ngSubmit=new Ke;constructor(e,r,i){super(),this.callSetDisabledState=i,this._setValidators(e),this._setAsyncValidators(r)}ngOnChanges(e){e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(yf(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){let r=this.form.get(e.path);return x_(r,e,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),r}getControl(e){return this.form.get(e.path)}removeControl(e){LM(e.control||null,e,!1),EH(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,r){this.form.get(e.path).setValue(r)}onSubmit(e){return this._submittedReactive.set(!0),wH(this.form,this.directives),this.ngSubmit.emit(e),this.form._events.next(new E_(this.control)),e?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this._submittedReactive.set(!1),this.form._events.next(new C_(this.form))}_updateDomValue(){this.directives.forEach(e=>{let r=e.control,i=this.form.get(e.path);r!==i&&(LM(r||null,e),CH(i)&&(x_(i,e,this.callSetDisabledState),e.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){let r=this.form.get(e.path);yH(r,e),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){let r=this.form.get(e.path);r&&_H(r,e)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){R_(this.form,this),this._oldForm&&yf(this._oldForm,this)}static \u0275fac=function(r){return new(r||n)(L(bf,10),L(T_,10),L(Ef,8))};static \u0275dir=Oe({type:n,selectors:[["","formGroup",""]],hostBindings:function(r,i){r&1&&ie("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[Br([SH]),sn,Rn]})}return n})();var IH={provide:Bo,useExisting:Tn(()=>Gr)},Gr=(()=>{class n extends Bo{_ngModelWarningConfig;_added=!1;viewModel;control;name=null;set isDisabled(e){}model;update=new Ke;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(e,r,i,o,s){super(),this._ngModelWarningConfig=s,this._parent=e,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=aT(this,o)}ngOnChanges(e){this._added||this._setUpControl(),sT(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return iT(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_setUpControl(){this.control=this.formDirective.addControl(this),this._added=!0}static \u0275fac=function(r){return new(r||n)(L(Vo,13),L(bf,10),L(T_,10),L(ga,10),L(lT,8))};static \u0275dir=Oe({type:n,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},standalone:!1,features:[Br([IH]),sn,Rn]})}return n})();var MH={provide:ga,useExisting:Tn(()=>Ai),multi:!0};function cT(n,t){return n==null?`${t}`:(t&&typeof t=="object"&&(t="Object"),`${n}: ${t}`.slice(0,50))}function TH(n){return n.split(":")[0]}var Ai=(()=>{class n extends _f{value;_optionMap=new Map;_idCounter=0;set compareWith(e){this._compareWith=e}_compareWith=Object.is;writeValue(e){this.value=e;let r=this._getOptionId(e),i=cT(r,e);this.setProperty("value",i)}registerOnChange(e){this.onChange=r=>{this.value=this._getOptionValue(r),e(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),e))return r;return null}_getOptionValue(e){let r=TH(e);return this._optionMap.has(r)?this._optionMap.get(r):e}static \u0275fac=(()=>{let e;return function(i){return(e||(e=Vr(n)))(i||n)}})();static \u0275dir=Oe({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&ie("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[Br([MH]),sn]})}return n})(),ma=(()=>{class n{_element;_renderer;_select;id;constructor(e,r,i){this._element=e,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(e){this._select!=null&&(this._select._optionMap.set(this.id,e),this._setElementValue(cT(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||n)(L(Ht),L(ir),L(Ai,9))};static \u0275dir=Oe({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return n})(),AH={provide:ga,useExisting:Tn(()=>uT),multi:!0};function UM(n,t){return n==null?`${t}`:(typeof t=="string"&&(t=`'${t}'`),t&&typeof t=="object"&&(t="Object"),`${n}: ${t}`.slice(0,50))}function OH(n){return n.split(":")[0]}var uT=(()=>{class n extends _f{value;_optionMap=new Map;_idCounter=0;set compareWith(e){this._compareWith=e}_compareWith=Object.is;writeValue(e){this.value=e;let r;if(Array.isArray(e)){let i=e.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(e){this.onChange=r=>{let i=[],o=r.selectedOptions;if(o!==void 0){let s=o;for(let a=0;a<s.length;a++){let l=s[a],c=this._getOptionValue(l.value);i.push(c)}}else{let s=r.options;for(let a=0;a<s.length;a++){let l=s[a];if(l.selected){let c=this._getOptionValue(l.value);i.push(c)}}}this.value=i,e(i)}}_registerOption(e){let r=(this._idCounter++).toString();return this._optionMap.set(r,e),r}_getOptionId(e){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,e))return r;return null}_getOptionValue(e){let r=OH(e);return this._optionMap.has(r)?this._optionMap.get(r)._value:e}static \u0275fac=(()=>{let e;return function(i){return(e||(e=Vr(n)))(i||n)}})();static \u0275dir=Oe({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&ie("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[Br([AH]),sn]})}return n})(),va=(()=>{class n{_element;_renderer;_select;id;_value;constructor(e,r,i){this._element=e,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){this._select!=null&&(this._value=e,this._setElementValue(UM(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue(UM(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||n)(L(Ht),L(ir),L(uT,9))};static \u0275dir=Oe({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return n})();function RH(n){return typeof n=="number"?n:parseFloat(n)}var kH=(()=>{class n{_validator=df;_onChange;_enabled;ngOnChanges(e){if(this.inputName in e){let r=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):df,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return e!=null}static \u0275fac=function(r){return new(r||n)};static \u0275dir=Oe({type:n,features:[Rn]})}return n})();var PH={provide:bf,useExisting:Tn(()=>Ec),multi:!0},Ec=(()=>{class n extends kH{min;inputName="min";normalizeInput=e=>RH(e);createValidator=e=>zM(e);static \u0275fac=(()=>{let e;return function(i){return(e||(e=Vr(n)))(i||n)}})();static \u0275dir=Oe({type:n,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&Rl("min",i._enabled?i.min:null)},inputs:{min:"min"},standalone:!1,features:[Br([PH]),sn]})}return n})();var dT=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Nn({type:n});static \u0275inj=An({})}return n})(),S_=class extends pa{constructor(t,e,r){super(A_(e),O_(r,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;at(t){return this.controls[this._adjustIndex(t)]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,r={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(t,e={}){let r=this._adjustIndex(t);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,r={}){let i=this._adjustIndex(t);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),e&&(this.controls.splice(i,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){rT(this,!1,t),t.forEach((r,i)=>{nT(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t!=null&&(t.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((r,i)=>{r.reset(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e,this),this._updateTouched(e,this),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_adjustIndex(t){return t<0?t+this.length:t}_syncPendingControls(){let t=this.controls.reduce((e,r)=>r._syncPendingControls()?!0:e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((e,r)=>{t(e,r)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(let t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}_find(t){return this.at(t)??null}};function $M(n){return!!n&&(n.asyncValidators!==void 0||n.validators!==void 0||n.updateOn!==void 0)}var Oi=(()=>{class n{useNonNullable=!1;get nonNullable(){let e=new n;return e.useNonNullable=!0,e}group(e,r=null){let i=this._reduceControls(e),o={};return $M(r)?o=r:r!==null&&(o.validators=r.validator,o.asyncValidators=r.asyncValidator),new mf(i,o)}record(e,r=null){let i=this._reduceControls(e);return new D_(i,r)}control(e,r,i){let o={};return this.useNonNullable?($M(r)?o=r:(o.validators=r,o.asyncValidators=i),new bc(e,ee(O({},o),{nonNullable:!0}))):new bc(e,r,i)}array(e,r,i){let o=e.map(s=>this._createControl(s));return new S_(o,r,i)}_reduceControls(e){let r={};return Object.keys(e).forEach(i=>{r[i]=this._createControl(e[i])}),r}_createControl(e){if(e instanceof bc)return e;if(e instanceof pa)return e;if(Array.isArray(e)){let r=e[0],i=e.length>1?e[1]:null,o=e.length>2?e[2]:null;return this.control(r,i,o)}else return this.control(e)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Df=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:Ef,useValue:e.callSetDisabledState??Cf}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=Nn({type:n});static \u0275inj=An({imports:[dT]})}return n})(),Ri=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:lT,useValue:e.warnOnNgModelWithFormControl??"always"},{provide:Ef,useValue:e.callSetDisabledState??Cf}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=Nn({type:n});static \u0275inj=An({imports:[dT]})}return n})();var Yb=xk(tO(),1),{PostgrestError:Pre,FunctionsHttpError:Nre,FunctionsFetchError:Fre,FunctionsRelayError:Lre,FunctionsError:jre,FunctionRegion:Vre,SupabaseClient:Bre,createClient:nO,GoTrueAdminApi:Ure,GoTrueClient:$re,AuthAdminApi:Hre,AuthClient:zre,navigatorLock:Wre,NavigatorLockAcquireTimeoutError:qre,lockInternals:Gre,processLock:Kre,SIGN_OUT_SCOPES:Yre,AuthError:Zre,AuthApiError:Jre,AuthUnknownError:Xre,CustomAuthError:Qre,AuthSessionMissingError:eie,AuthInvalidTokenResponseError:tie,AuthInvalidCredentialsError:nie,AuthImplicitGrantRedirectError:rie,AuthPKCEGrantCodeExchangeError:iie,AuthRetryableFetchError:oie,AuthWeakPasswordError:sie,AuthInvalidJwtError:aie,isAuthError:lie,isAuthApiError:cie,isAuthSessionMissingError:uie,isAuthImplicitGrantRedirectError:die,isAuthRetryableFetchError:hie,isAuthWeakPasswordError:fie,RealtimePresence:pie,RealtimeChannel:gie,RealtimeClient:mie,REALTIME_LISTEN_TYPES:vie,REALTIME_POSTGRES_CHANGES_LISTEN_EVENT:yie,REALTIME_PRESENCE_LISTEN_EVENTS:_ie,REALTIME_SUBSCRIBE_STATES:bie,REALTIME_CHANNEL_STATES:wie}=Yb.default||Yb;var Zb={production:!1,supabaseUrl:"https://vlwqsyjjoxuugxtwivtw.supabase.co",supabaseKey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InZsd3FzeWpqb3h1dWd4dHdpdnR3Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjU2MzMyODcsImV4cCI6MjA4MTIwOTI4N30.pv9_TyGNZbfWhG-6syitadvZLxH9ea1UvVua59pdGHo"};var Zt=class n{constructor(t){this.platformId=t;let e=Ay(this.platformId);this.supabase=nO(Zb.supabaseUrl,Zb.supabaseKey,{auth:{persistSession:e,autoRefreshToken:e,detectSessionInUrl:e}}),e&&this.initRealtimeSubscription()}supabase;_products=new Je([]);products$=this._products.asObservable();_fournisseurs=new Je([]);fournisseurs$=this._fournisseurs.asObservable();loadProducts(){return v(this,null,function*(){let{data:t,error:e}=yield this.supabase.from("products").select("*").order("name");e?console.error("Erreur chargement",e):this._products.next(t||[])})}initRealtimeSubscription(){this.supabase.channel("public:products").on("postgres_changes",{event:"*",schema:"public",table:"products"},t=>{t.eventType==="UPDATE"?this.updateLocalProductState(t.new):t.eventType==="INSERT"?this.addProductToLocalState(t.new):t.eventType==="DELETE"&&this.removeProductFromLocalState(t.old.id)}).subscribe()}updateLocalProductState(t){let e=this._products.value,r=e.findIndex(i=>i.id===t.id);if(r!==-1){let i=[...e];i[r]=t,this._products.next(i)}}addProductToLocalState(t){let e=this._products.value;this._products.next([...e,t])}removeProductFromLocalState(t){let e=this._products.value;this._products.next(e.filter(r=>r.id!==t))}createProduct(t){return v(this,null,function*(){let{error:e}=yield this.supabase.from("products").insert(t);if(e)throw console.error("Erreur cr\xE9ation",e),e})}updateProduct(t,e){return v(this,null,function*(){let{error:r}=yield this.supabase.from("products").update(e).eq("id",t);if(r)throw r})}updateStock(t,e){return v(this,null,function*(){let{data:r,error:i}=yield this.supabase.from("products").select("current_stock").eq("id",t).single();if(i)throw i;let o=(r.current_stock||0)+e,{error:s}=yield this.supabase.from("movements").insert({product_id:t,quantity:Math.abs(e),movement_type:e>0?"IN":"OUT",new_stock_level:o});if(s)throw s})}getStockHistory(t){return v(this,null,function*(){let{data:e,error:r}=yield this.supabase.from("movements").select("*").eq("product_id",t).order("created_at",{ascending:!0});if(r)throw r;return e})}loadFournisseurs(){return v(this,null,function*(){let{data:t,error:e}=yield this.supabase.from("suppliers").select("*").order("name");e?console.error("Erreur chargement fournisseurs",e):this._fournisseurs.next(t||[])})}addFournisseur(t){return v(this,null,function*(){let{data:e,error:r}=yield this.supabase.from("suppliers").insert(t).select().single();if(r)throw r;this._fournisseurs.next([...this._fournisseurs.value,e])})}deleteFournisseur(t){return v(this,null,function*(){let{error:e}=yield this.supabase.from("suppliers").delete().eq("id",t);if(e)throw e;this._fournisseurs.next(this._fournisseurs.value.filter(r=>r.id!==t))})}addPurchase(t,e,r,i){return v(this,null,function*(){let{error:o}=yield this.supabase.from("supplier_purchases").insert({product_id:t,quantity:e,supplier_price:r,supplier_id:i});if(o)throw o})}getPurchasesHistory(){return v(this,null,function*(){let{data:t,error:e}=yield this.supabase.from("supplier_purchases").select("*, products(name, sku), suppliers(name)").order("created_at",{ascending:!1});if(e)throw e;return t})}createVente(t){return v(this,null,function*(){let{error:e}=yield this.supabase.from("ventes").insert(t);if(e)throw e})}getVentesHistory(){return v(this,null,function*(){let{data:t,error:e}=yield this.supabase.from("ventes").select("*, products(name, sku)").order("created_at",{ascending:!1});if(e)throw e;return t})}signOut(){return v(this,null,function*(){let{error:t}=yield this.supabase.auth.signOut();if(t)throw t})}static \u0275fac=function(e){return new(e||n)(U(pi))};static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})};var qi=class n{show(t,e="success"){let r=document.createElement("div");r.innerText=t,Object.assign(r.style,{position:"fixed",bottom:"20px",right:"20px",padding:"12px 24px",borderRadius:"4px",color:"#fff",zIndex:"10000",fontFamily:"Arial, sans-serif",boxShadow:"0 4px 6px rgba(0,0,0,0.1)",opacity:"0",transition:"opacity 0.3s ease-in-out",backgroundColor:e==="success"?"#10B981":"#EF4444",pointerEvents:"none"}),document.body.appendChild(r),requestAnimationFrame(()=>{r.style.opacity="1"}),setTimeout(()=>{r.style.opacity="0",setTimeout(()=>{document.body.contains(r)&&document.body.removeChild(r)},300)},3e3)}success(t){this.show(t,"success")}error(t){this.show(t,"error")}static \u0275fac=function(e){return new(e||n)};static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})};function s3(n,t){n&1&&(E(0,"small",18),D(1," Le SKU est requis (min 3 chars). "),_())}function a3(n,t){if(n&1){let e=zt();E(0,"div",9)(1,"h3"),D(2,"Ajouter une r\xE9f\xE9rence"),_(),E(3,"form",10),ie("ngSubmit",function(){at(e);let i=oe();return lt(i.onSubmitCreate())}),E(4,"div",11)(5,"label"),D(6,"Code SKU (ex: REF-001)"),_(),ge(7,"input",12),ue(8,s3,2,0,"small",13),_(),E(9,"div",11)(10,"label"),D(11,"Nom du produit"),_(),ge(12,"input",14),_(),E(13,"div",11)(14,"label"),D(15,"Seuil d'alerte (Stock Min)"),_(),ge(16,"input",15),_(),E(17,"div",11)(18,"label"),D(19,"Description (Optionnel)"),_(),ge(20,"input",16),_(),E(21,"button",17),D(22," Sauvegarder "),_()()()}if(n&2){let e,r=oe();M(3),V("formGroup",r.productForm),M(5),V("ngIf",((e=r.productForm.get("sku"))==null?null:e.invalid)&&((e=r.productForm.get("sku"))==null?null:e.touched)),M(13),V("disabled",r.productForm.invalid)}}function l3(n,t){if(n&1){let e=zt();E(0,"tr")(1,"td"),D(2),_(),E(3,"td"),D(4),_(),E(5,"td"),D(6),me(7,"currency"),_(),E(8,"td")(9,"button",21),ie("click",function(){let i=at(e).$implicit,o=oe(3);return lt(o.openPriceModal(i))}),D(10,"\xC9diter"),_()(),E(11,"td"),D(12),me(13,"currency"),_()()}if(n&2){let e=t.$implicit;M(2),Q(e.sku),M(2),Q(e.name),M(2),Q(Ve(7,4,e.myprice,"EUR")),M(6),Q(Ve(13,7,e.current_stock*(e.myprice||0),"EUR"))}}function c3(n,t){if(n&1&&(E(0,"div")(1,"table",19)(2,"thead")(3,"tr")(4,"th"),D(5,"SKU"),_(),E(6,"th"),D(7,"Nom"),_(),E(8,"th"),D(9,"Mon Prix"),_(),E(10,"th"),D(11,"Modifier"),_(),E(12,"th"),D(13,"Total"),_()()(),E(14,"tbody"),ue(15,l3,14,10,"tr",20),_()()()),n&2){let e=oe().ngIf;M(15),V("ngForOf",e)}}function u3(n,t){if(n&1&&(E(0,"option",30),D(1),_()),n&2){let e=t.$implicit;V("value",e.id),M(),Q(e.name)}}function d3(n,t){if(n&1){let e=zt();E(0,"button",21),ie("click",function(){at(e);let i=oe().$implicit,o=oe(2).ngIf,s=oe();return lt(s.openPriceModal(s.findProduct(o,i.product_id),i.product_id))}),D(1,"\xC9diter"),_()}}function h3(n,t){if(n&1&&(E(0,"tr")(1,"td"),D(2),me(3,"date"),_(),E(4,"td"),D(5),_(),E(6,"td")(7,"span",31),D(8),_(),ge(9,"br"),E(10,"small",32),D(11),_()(),E(12,"td")(13,"span",33),D(14),_()(),E(15,"td"),D(16),me(17,"currency"),_(),E(18,"td",31),D(19),me(20,"currency"),_(),E(21,"td"),D(22),me(23,"currency"),_(),E(24,"td"),D(25),me(26,"currency"),_(),E(27,"td"),D(28),me(29,"currency"),_(),E(30,"td"),ue(31,d3,2,0,"button",34),_()()),n&2){let e,r,i,o=t.$implicit,s=oe(2).ngIf,a=oe();M(2),Q(Ve(3,11,o.created_at,"dd/MM/yyyy HH:mm")),M(3),Q((o.suppliers==null?null:o.suppliers.name)||"-"),M(3),Q((o.products==null?null:o.products.name)||"Produit inconnu"),M(3),Q(o.products==null?null:o.products.sku),M(3),At("+",o.quantity,""),M(2),Q(Ve(17,14,o.supplier_price,"EUR")),M(3),Q(Ve(20,17,o.quantity*o.supplier_price,"EUR")),M(3),Q(Ve(23,20,(e=a.findProduct(s,o.product_id))==null?null:e.myprice,"EUR")),M(3),Q(Ve(26,23,o.quantity*(((r=a.findProduct(s,o.product_id))==null?null:r.myprice)||0),"EUR")),M(3),Q(Ve(29,26,o.quantity*(((i=a.findProduct(s,o.product_id))==null?null:i.myprice)||0)-o.quantity*o.supplier_price,"EUR")),M(3),V("ngIf",o.products)}}function f3(n,t){n&1&&(E(0,"tr")(1,"td",35),D(2,"Aucun historique disponible pour le moment."),_()())}function p3(n,t){if(n&1&&(E(0,"tfoot")(1,"tr")(2,"td",36),D(3,"Totaux :"),_(),E(4,"td",37),D(5),me(6,"currency"),_(),ge(7,"td"),E(8,"td",37),D(9),me(10,"currency"),_(),E(11,"td",37),D(12),me(13,"currency"),_(),ge(14,"td"),_()()),n&2){let e=oe(3);M(5),Q(Ve(6,7,e.totalExpenses,"EUR")),M(4),Q(Ve(10,10,e.totalSales,"EUR")),M(2),or("text-success",e.totalMargin>=0)("text-danger",e.totalMargin<0),M(),Q(Ve(13,13,e.totalMargin,"EUR"))}}function g3(n,t){if(n&1){let e=zt();E(0,"div",38)(1,"button",39),ie("click",function(){at(e);let i=oe(3);return lt(i.changePage(i.currentPage-1))}),D(2,"Pr\xE9c\xE9dent"),_(),E(3,"span"),D(4),_(),E(5,"button",39),ie("click",function(){at(e);let i=oe(3);return lt(i.changePage(i.currentPage+1))}),D(6,"Suivant"),_()()}if(n&2){let e=oe(3);M(),V("disabled",e.currentPage===1),M(3),Ks("Page ",e.currentPage," sur ",e.totalPages,""),M(),V("disabled",e.currentPage===e.totalPages)}}function m3(n,t){if(n&1){let e=zt();E(0,"div")(1,"div",22)(2,"div",23)(3,"h3"),D(4,"Historique des Approvisionnements"),_(),E(5,"div",24)(6,"label",25),D(7,"Filtrer :"),_(),E(8,"select",26),Zs("ngModelChange",function(i){at(e);let o=oe(2);return kl(o.filterSupplierId,i)||(o.filterSupplierId=i),lt(i)}),ie("change",function(){at(e);let i=oe(2);return lt(i.applyFilter())}),E(9,"option",27),D(10,"Tous les fournisseurs"),_(),ue(11,u3,2,2,"option",28),me(12,"async"),_()()(),E(13,"table",19)(14,"thead")(15,"tr")(16,"th"),D(17,"Date"),_(),E(18,"th"),D(19,"Fournisseur"),_(),E(20,"th"),D(21,"Produit"),_(),E(22,"th"),D(23,"Quantit\xE9"),_(),E(24,"th"),D(25,"Prix Unitaire"),_(),E(26,"th"),D(27,"Total"),_(),E(28,"th"),D(29,"Mon Prix"),_(),E(30,"th"),D(31,"Total Vente"),_(),E(32,"th"),D(33,"Marge"),_(),E(34,"th"),D(35,"Modifier"),_()()(),E(36,"tbody"),ue(37,h3,32,29,"tr",20)(38,f3,3,0,"tr",7),_(),ue(39,p3,15,16,"tfoot",7),_(),ue(40,g3,7,4,"div",29),_()()}if(n&2){let e=oe(2);M(8),Ys("ngModel",e.filterSupplierId),M(3),V("ngForOf",sr(12,6,e.fournisseurs$)),M(26),V("ngForOf",e.paginatedPurchases),M(),V("ngIf",e.filteredPurchases.length===0),M(),V("ngIf",e.filteredPurchases.length>0),M(),V("ngIf",e.totalPages>1)}}function v3(n,t){if(n&1&&(fy(0),ue(1,c3,16,1,"div",7)(2,m3,41,8,"div",7),py()),n&2){let e=oe();M(),V("ngIf",e.activeTab==="stocks"),M(),V("ngIf",e.activeTab==="prices")}}function y3(n,t){if(n&1){let e=zt();E(0,"div",40)(1,"div",41)(2,"h3"),D(3,"Modifier le prix"),_(),E(4,"div",42)(5,"label"),D(6,"Prix de vente (\u20AC)"),_(),E(7,"input",43),Zs("ngModelChange",function(i){at(e);let o=oe();return kl(o.editingPrice,i)||(o.editingPrice=i),lt(i)}),_()(),E(8,"div",44)(9,"button",45),ie("click",function(){at(e);let i=oe();return lt(i.closePriceModal())}),D(10,"Annuler"),_(),E(11,"button",2),ie("click",function(){at(e);let i=oe();return lt(i.savePrice())}),D(12,"Enregistrer"),_()()()()}if(n&2){let e=oe();M(7),Ys("ngModel",e.editingPrice)}}var hp=class n{supabaseService=S(Zt);fb=S(Oi);toastService=S(qi);products$=this.supabaseService.products$;fournisseurs$=this.supabaseService.fournisseurs$;showCreateForm=!1;activeTab="stocks";purchases=[];filteredPurchases=[];filterSupplierId="";totalExpenses=0;totalSales=0;totalMargin=0;products=[];currentPage=1;itemsPerPage=10;showPriceModal=!1;editingProduct=null;editingPrice=0;get totalPages(){return Math.ceil(this.filteredPurchases.length/this.itemsPerPage)}get paginatedPurchases(){let t=(this.currentPage-1)*this.itemsPerPage;return this.filteredPurchases.slice(t,t+this.itemsPerPage)}changePage(t){t>=1&&t<=this.totalPages&&(this.currentPage=t)}productForm=this.fb.group({sku:["",[He.required,He.minLength(3)]],name:["",He.required],min_stock_threshold:[10,[He.required,He.min(0)]],description:[""]});ngOnInit(){this.supabaseService.loadProducts(),this.supabaseService.loadFournisseurs(),this.products$.subscribe(t=>{this.products=t,this.calculateTotal()}),this.loadPurchases()}addStock(t){return v(this,null,function*(){t.id&&(yield this.supabaseService.updateStock(t.id,1))})}removeStock(t){return v(this,null,function*(){if(t.id){if(t.current_stock<=0){this.toastService.error("Op\xE9ration impossible : Le stock ne peut pas \xEAtre n\xE9gatif.");return}try{yield this.supabaseService.updateStock(t.id,-1)}catch(e){e.code==="23514"?this.toastService.error("Op\xE9ration impossible : Le stock ne peut pas \xEAtre n\xE9gatif."):console.error("Erreur lors de la mise \xE0 jour du stock:",e)}}})}onSubmitCreate(){return v(this,null,function*(){if(!this.productForm.invalid)try{yield this.supabaseService.createProduct(this.productForm.value),this.productForm.reset({min_stock_threshold:10}),this.showCreateForm=!1}catch(t){t.code==="23505"?this.toastService.error("Ce SKU existe d\xE9j\xE0 !"):this.toastService.error("Erreur lors de la cr\xE9ation du produit.")}})}loadPurchases(){return v(this,null,function*(){this.purchases=(yield this.supabaseService.getPurchasesHistory())||[],this.applyFilter()})}applyFilter(){this.filterSupplierId?this.filteredPurchases=this.purchases.filter(t=>t.supplier_id==this.filterSupplierId):this.filteredPurchases=this.purchases,this.currentPage=1,this.calculateTotal()}calculateTotal(){this.totalExpenses=this.filteredPurchases.reduce((t,e)=>t+e.quantity*Number(e.supplier_price),0),this.totalSales=this.filteredPurchases.reduce((t,e)=>{let r=this.products.find(o=>o.id===e.product_id),i=r&&r.myprice||0;return t+e.quantity*i},0),this.totalMargin=this.totalSales-this.totalExpenses}getTotalStockValue(t){return t.reduce((e,r)=>e+r.current_stock*(r.price||0),0)}openPriceModal(t,e){this.editingProduct=O({},t),!this.editingProduct.id&&e&&(this.editingProduct.id=e),this.editingPrice=t.myprice||0,this.showPriceModal=!0}closePriceModal(){this.showPriceModal=!1,this.editingProduct=null,this.editingPrice=0}savePrice(){return v(this,null,function*(){if(!this.editingProduct||!this.editingProduct.id){this.toastService.error("Erreur: Identifiant du produit introuvable. Impossible de sauvegarder.");return}try{yield this.supabaseService.updateProduct(this.editingProduct.id,{myprice:this.editingPrice}),this.toastService.success("Prix mis \xE0 jour"),this.closePriceModal(),this.supabaseService.loadProducts(),this.loadPurchases()}catch(t){console.error(t),this.toastService.error("Erreur lors de la mise \xE0 jour du prix")}})}findProduct(t,e){return t.find(r=>r.id===e)}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=Fe({type:n,selectors:[["app-stock-manager"]],decls:18,vars:10,consts:[[1,"container"],[1,"header-actions"],[1,"btn","btn-primary",3,"click"],["class","creation-card",4,"ngIf"],[1,"nav","nav-tabs","mb-3"],[1,"nav-item"],[1,"nav-link",2,"cursor","pointer",3,"click"],[4,"ngIf"],["class","price-modal-overlay","style","position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); display: flex; justify-content: center; align-items: center; z-index: 1000;",4,"ngIf"],[1,"creation-card"],[3,"ngSubmit","formGroup"],[1,"form-group"],["type","text","formControlName","sku","placeholder","Code unique"],["class","error-text",4,"ngIf"],["type","text","formControlName","name","placeholder","Ex: Chaise de bureau"],["type","number","formControlName","min_stock_threshold"],["type","text","formControlName","description"],["type","submit",1,"btn","btn-save",3,"disabled"],[1,"error-text"],[1,"stock-table"],[4,"ngFor","ngForOf"],[1,"btn","btn-sm","btn-warning",3,"click"],[1,"card","list-card"],[1,"d-flex","justify-content-between","align-items-center","mb-3"],[1,"d-flex","align-items-center"],[1,"me-2"],[1,"form-control","w-auto",3,"ngModelChange","change","ngModel"],["value",""],[3,"value",4,"ngFor","ngForOf"],["class","d-flex justify-content-between align-items-center mt-3",4,"ngIf"],[3,"value"],[1,"fw-bold"],[1,"text-muted"],[1,"badge","bg-success","rounded-pill"],["class","btn btn-sm btn-warning",3,"click",4,"ngIf"],["colspan","10",1,"text-center"],["colspan","5",2,"text-align","right","font-weight","bold","padding","10px"],[2,"font-weight","bold","padding","10px"],[1,"d-flex","justify-content-between","align-items-center","mt-3"],[1,"btn","btn-sm","btn-outline-secondary",3,"click","disabled"],[1,"price-modal-overlay",2,"position","fixed","top","0","left","0","width","100%","height","100%","background","rgba(0,0,0,0.5)","display","flex","justify-content","center","align-items","center","z-index","1000"],[1,"price-modal-content",2,"background","white","padding","20px","border-radius","8px","width","300px","box-shadow","0 2px 10px rgba(0,0,0,0.1)"],[1,"form-group","mb-3"],["type","number",1,"form-control",3,"ngModelChange","ngModel"],[1,"d-flex","justify-content-end","gap-2"],[1,"btn","btn-secondary",3,"click"]],template:function(e,r){e&1&&(E(0,"div",0)(1,"div",1)(2,"h1"),D(3,"Gestion de Stock"),_(),E(4,"button",2),ie("click",function(){return r.showCreateForm=!r.showCreateForm}),D(5),_()(),ue(6,a3,23,3,"div",3),ge(7,"hr"),E(8,"ul",4)(9,"li",5)(10,"a",6),ie("click",function(){return r.activeTab="stocks"}),D(11,"Mes r\xE9f\xE9rences"),_()(),E(12,"li",5)(13,"a",6),ie("click",function(){return r.activeTab="prices"}),D(14,"Historique Achats"),_()()(),ue(15,v3,3,2,"ng-container",7),me(16,"async"),ue(17,y3,13,1,"div",8),_()),e&2&&(M(5),At(" ",r.showCreateForm?"Annuler":"+ Nouveau Produit"," "),M(),V("ngIf",r.showCreateForm&&r.productForm),M(4),or("active",r.activeTab==="stocks"),M(3),or("active",r.activeTab==="prices"),M(2),V("ngIf",sr(16,8,r.products$)),M(2),V("ngIf",r.showPriceModal))},dependencies:[xt,Dt,Bn,Mo,Hr,Ul,Df,Ti,ma,va,fr,Uo,Ai,Ii,Mi,wc,Ri,qr,Gr],styles:[".container[_ngcontent-%COMP%]{font-family:sans-serif;max-width:800px;margin:2rem auto}.stock-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.stock-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .stock-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:12px;border-bottom:1px solid #ddd;text-align:left}.low-stock[_ngcontent-%COMP%]{background-color:#fff4f4}.stock-count[_ngcontent-%COMP%]{font-weight:700;font-size:1.1rem}.badge[_ngcontent-%COMP%]{background:orange;color:#fff;padding:2px 6px;border-radius:4px;font-size:.8em;margin-left:8px}.btn[_ngcontent-%COMP%]{border:none;padding:6px 12px;cursor:pointer;border-radius:4px;margin-right:5px;color:#fff}.btn-in[_ngcontent-%COMP%]{background-color:#2ecc71}.btn-out[_ngcontent-%COMP%]{background-color:#e74c3c}.header-actions[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px}.creation-card[_ngcontent-%COMP%]{background:#f9f9f9;padding:20px;border-radius:8px;border:1px solid #ddd;margin-bottom:30px;animation:_ngcontent-%COMP%_slideDown .3s ease-out}@keyframes _ngcontent-%COMP%_slideDown{0%{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}.form-row[_ngcontent-%COMP%]{display:flex;gap:20px}.form-row[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{flex:1}label[_ngcontent-%COMP%]{display:block;margin-bottom:5px;font-weight:700;font-size:.9em;color:#555}input[_ngcontent-%COMP%]{width:100%;padding:10px;border:1px solid #ccc;border-radius:4px;box-sizing:border-box}input.ng-invalid.ng-touched[_ngcontent-%COMP%]{border-color:#e74c3c}.error-text[_ngcontent-%COMP%]{color:#e74c3c;font-size:.8em}.btn-primary[_ngcontent-%COMP%]{background-color:#3498db;color:#fff;padding:10px 20px;font-size:1rem}.btn-save[_ngcontent-%COMP%]{background-color:#2c3e50;color:#fff;width:100%;margin-top:10px}.btn[_ngcontent-%COMP%]:disabled{background-color:#ccc;cursor:not-allowed}"]})};function _3(n,t){if(n&1&&(E(0,"div"),D(1),_()),n&2){let e=oe().$implicit;M(),Q(e.contact_email)}}function b3(n,t){if(n&1&&(E(0,"div",26),D(1),_()),n&2){let e=oe().$implicit;M(),Q(e.phone_number)}}function w3(n,t){if(n&1&&(E(0,"span"),D(1),_()),n&2){let e=oe().$implicit;M(),At("(",e.code_postal,")")}}function E3(n,t){if(n&1){let e=zt();E(0,"tr")(1,"td")(2,"strong"),D(3),_()(),E(4,"td"),ue(5,_3,2,1,"div",23)(6,b3,2,1,"div",24),_(),E(7,"td"),D(8),ue(9,w3,2,1,"span",23),_(),E(10,"td"),D(11),_(),E(12,"td")(13,"button",25),ie("click",function(){let i=at(e).$implicit,o=oe();return lt(o.onDelete(i.id))}),D(14,"Supprimer"),_()()()}if(n&2){let e=t.$implicit;M(3),Q(e.name),M(2),V("ngIf",e.contact_email),M(),V("ngIf",e.phone_number),M(2),At("",e.ville," "),M(),V("ngIf",e.code_postal),M(2),Q(e.tva)}}function C3(n,t){n&1&&(E(0,"tr")(1,"td",27),D(2,"Aucun fournisseur enregistr\xE9."),_()())}var fp=class n{constructor(t,e,r){this.supabaseService=t;this.fb=e;this.toastService=r;this.fournisseurs$=this.supabaseService.fournisseurs$,this.fournisseurForm=this.fb.group({name:["",He.required],contact_email:["",[He.email]],phone_number:[""],tva:[""],adresse:[""],ville:[""],code_postal:[""]})}fournisseurs$;fournisseurForm;ngOnInit(){this.supabaseService.loadFournisseurs()}onSubmit(){return v(this,null,function*(){if(this.fournisseurForm.valid)try{let t=this.fournisseurForm.value,e=Object.keys(t).reduce((r,i)=>(r[i]=t[i]===""?null:t[i],r),{});yield this.supabaseService.addFournisseur(e),this.toastService.success("Fournisseur ajout\xE9 avec succ\xE8s !"),this.fournisseurForm.reset()}catch(t){console.warn(t),console.error("Erreur lors de l'ajout:",t),this.toastService.error("Erreur lors de l'enregistrement du fournisseur.")}else console.warn("Formulaire invalide",this.fournisseurForm.errors),this.toastService.error("Veuillez remplir les champs obligatoires (Nom).")})}onDelete(t){return v(this,null,function*(){t&&confirm("Voulez-vous vraiment supprimer ce fournisseur ?")&&(yield this.supabaseService.deleteFournisseur(String(t)))})}static \u0275fac=function(e){return new(e||n)(L(Zt),L(Oi),L(qi))};static \u0275cmp=Fe({type:n,selectors:[["app-fournisseurs"]],decls:61,vars:8,consts:[[1,"container"],[1,"card","form-card"],[3,"ngSubmit","formGroup"],[1,"form-row"],[1,"form-group"],["for","name"],["type","text","id","name","formControlName","name","placeholder","Nom de l'entreprise",1,"form-control"],["for","tva"],["type","text","id","tva","formControlName","tva","placeholder","123 456 789 00012",1,"form-control"],["for","contact_email"],["type","email","id","contact_email","formControlName","contact_email","placeholder","contact@fournisseur.com",1,"form-control"],["for","phone_number"],["type","text","id","phone_number","formControlName","phone_number","placeholder","01 23 45 67 89",1,"form-control"],["for","adresse"],["type","text","id","adresse","formControlName","adresse","placeholder","Rue...",1,"form-control"],["for","ville"],["type","text","id","ville","formControlName","ville","placeholder","Paris",1,"form-control"],["for","code_postal"],["type","text","id","code_postal","formControlName","code_postal","placeholder","75000",1,"form-control"],["type","submit",1,"btn-submit",3,"disabled"],[1,"card","list-card"],[1,"stock-table"],[4,"ngFor","ngForOf"],[4,"ngIf"],["class","text-sm",4,"ngIf"],[1,"btn-delete",3,"click"],[1,"text-sm"],["colspan","5",1,"text-center"]],template:function(e,r){if(e&1&&(E(0,"div",0)(1,"h2"),D(2,"Gestion des Fournisseurs"),_(),E(3,"div",1)(4,"h3"),D(5,"Nouveau Fournisseur"),_(),E(6,"form",2),ie("ngSubmit",function(){return r.onSubmit()}),E(7,"div",3)(8,"div",4)(9,"label",5),D(10,"Nom *"),_(),ge(11,"input",6),_(),E(12,"div",4)(13,"label",7),D(14,"TVA"),_(),ge(15,"input",8),_()(),E(16,"div",3)(17,"div",4)(18,"label",9),D(19,"Email"),_(),ge(20,"input",10),_(),E(21,"div",4)(22,"label",11),D(23,"T\xE9l\xE9phone"),_(),ge(24,"input",12),_()(),E(25,"div",3)(26,"div",4)(27,"label",13),D(28,"Adresse"),_(),ge(29,"input",14),_(),E(30,"div",4)(31,"label",15),D(32,"Ville"),_(),ge(33,"input",16),_(),E(34,"div",4)(35,"label",17),D(36,"Code Postal"),_(),ge(37,"input",18),_()(),E(38,"button",19),D(39,"Ajouter le fournisseur"),_()()(),E(40,"div",20)(41,"h3"),D(42,"Liste des Fournisseurs"),_(),E(43,"table",21)(44,"thead")(45,"tr")(46,"th"),D(47,"Nom"),_(),E(48,"th"),D(49,"Contact"),_(),E(50,"th"),D(51,"Ville"),_(),E(52,"th"),D(53,"TVA"),_(),E(54,"th"),D(55,"Actions"),_()()(),E(56,"tbody"),ue(57,E3,15,6,"tr",22),me(58,"async"),ue(59,C3,3,0,"tr",23),me(60,"async"),_()()()()),e&2){let i;M(6),V("formGroup",r.fournisseurForm),M(32),V("disabled",!r.fournisseurForm.valid),M(19),V("ngForOf",sr(58,4,r.fournisseurs$)),M(2),V("ngIf",((i=sr(60,6,r.fournisseurs$))==null?null:i.length)===0)}},dependencies:[xt,Dt,Bn,Mo,Ri,Ti,fr,Ii,Mi,qr,Gr],styles:[".container[_ngcontent-%COMP%]{padding:2rem;max-width:1200px;margin:0 auto}.card[_ngcontent-%COMP%]{background:#fff;border-radius:8px;padding:1.5rem;box-shadow:0 2px 4px #0000001a;margin-bottom:2rem}h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%]{color:#2c3e50;margin-bottom:1.5rem}.form-row[_ngcontent-%COMP%]{display:flex;gap:1rem;margin-bottom:1rem;flex-wrap:wrap}.form-group[_ngcontent-%COMP%]{flex:1;min-width:200px;display:flex;flex-direction:column}label[_ngcontent-%COMP%]{margin-bottom:.5rem;font-weight:500;color:#34495e}input[_ngcontent-%COMP%]{padding:.75rem;border:1px solid #bdc3c7;border-radius:4px;font-size:1rem}input[_ngcontent-%COMP%]:focus{border-color:#3498db;outline:none}.btn-submit[_ngcontent-%COMP%]{background-color:#27ae60;color:#fff;border:none;padding:.75rem 1.5rem;border-radius:4px;cursor:pointer;font-size:1rem;transition:background .3s}.btn-submit[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#2ecc71}.btn-submit[_ngcontent-%COMP%]:disabled{background-color:#95a5a6;cursor:not-allowed}.table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:1rem;text-align:left;border-bottom:1px solid #ecf0f1}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#f8f9fa;font-weight:600}.text-sm[_ngcontent-%COMP%]{font-size:.85rem;color:#7f8c8d}.btn-delete[_ngcontent-%COMP%]{background-color:#e74c3c;color:#fff;border:none;padding:.5rem 1rem;border-radius:4px;cursor:pointer}.btn-delete[_ngcontent-%COMP%]:hover{background-color:#c0392b}"]})};var pp=class n{static \u0275fac=function(e){return new(e||n)};static \u0275cmp=Fe({type:n,selectors:[["app-prospects"]],decls:2,vars:0,template:function(e,r){e&1&&(E(0,"p"),D(1,"prospects works!"),_())},encapsulation:2})};var gp=class n{static \u0275fac=function(e){return new(e||n)};static \u0275cmp=Fe({type:n,selectors:[["app-commissions"]],decls:2,vars:0,template:function(e,r){e&1&&(E(0,"p"),D(1,"commissions works!"),_())},encapsulation:2})};function D3(n,t){if(n&1&&(E(0,"option",26),D(1),_()),n&2){let e=t.$implicit;V("value",e.id),M(),At(" ",e.name," ")}}function x3(n,t){if(n&1&&(E(0,"option",26),D(1),_()),n&2){let e=t.$implicit;V("value",e.id),M(),Ks(" ",e.name," (Stock: ",e.current_stock,") ")}}function S3(n,t){if(n&1&&(E(0,"option",26),D(1),_()),n&2){let e=t.$implicit;V("value",e.id),M(),Q(e.name)}}function I3(n,t){if(n&1&&(E(0,"tr")(1,"td"),D(2),me(3,"date"),_(),E(4,"td"),D(5),_(),E(6,"td")(7,"span",27),D(8),_(),ge(9,"br"),E(10,"small",28),D(11),_()(),E(12,"td")(13,"span",29),D(14),_()(),E(15,"td"),D(16),me(17,"currency"),_(),E(18,"td",27),D(19),me(20,"currency"),_()()),n&2){let e=t.$implicit;M(2),Q(Ve(3,7,e.created_at,"dd/MM/yyyy HH:mm")),M(3),Q((e.suppliers==null?null:e.suppliers.name)||"-"),M(3),Q((e.products==null?null:e.products.name)||"Produit inconnu"),M(3),Q(e.products==null?null:e.products.sku),M(3),At("+",e.quantity,""),M(2),Q(Ve(17,10,e.supplier_price,"EUR")),M(3),Q(Ve(20,13,e.quantity*e.supplier_price,"EUR"))}}function M3(n,t){n&1&&(E(0,"tr")(1,"td",30),D(2,"Aucun historique disponible pour le moment."),_()())}function T3(n,t){if(n&1&&(E(0,"tfoot")(1,"tr")(2,"td",31),D(3,"Total des d\xE9penses :"),_(),E(4,"td",32),D(5),me(6,"currency"),_()()()),n&2){let e=oe();M(5),Q(Ve(6,1,e.totalExpenses,"EUR"))}}function A3(n,t){if(n&1){let e=zt();E(0,"div",33)(1,"button",34),ie("click",function(){at(e);let i=oe();return lt(i.changePage(i.currentPage-1))}),D(2,"Pr\xE9c\xE9dent"),_(),E(3,"span"),D(4),_(),E(5,"button",34),ie("click",function(){at(e);let i=oe();return lt(i.changePage(i.currentPage+1))}),D(6,"Suivant"),_()()}if(n&2){let e=oe();M(),V("disabled",e.currentPage===1),M(3),Ks("Page ",e.currentPage," sur ",e.totalPages,""),M(),V("disabled",e.currentPage===e.totalPages)}}var mp=class n{supabase=S(Zt);fb=S(Oi);toast=S(qi);products$=this.supabase.products$;fournisseurs$=this.supabase.fournisseurs$;purchases=[];filteredPurchases=[];filterSupplierId="";totalExpenses=0;currentPage=1;itemsPerPage=10;get totalPages(){return Math.ceil(this.filteredPurchases.length/this.itemsPerPage)}get paginatedPurchases(){let t=(this.currentPage-1)*this.itemsPerPage;return this.filteredPurchases.slice(t,t+this.itemsPerPage)}changePage(t){t>=1&&t<=this.totalPages&&(this.currentPage=t)}purchaseForm=this.fb.group({product_id:["",He.required],supplier_id:["",He.required],quantity:[1,[He.required,He.min(1)]],supplier_price:[0,[He.required,He.min(0)]]});ngOnInit(){this.supabase.loadProducts(),this.supabase.loadFournisseurs(),this.loadPurchases()}loadPurchases(){return v(this,null,function*(){try{this.purchases=(yield this.supabase.getPurchasesHistory())||[],this.applyFilter()}catch(t){console.error("Erreur chargement historique achats",t)}})}applyFilter(){this.filterSupplierId?this.filteredPurchases=this.purchases.filter(t=>t.supplier_id==this.filterSupplierId):this.filteredPurchases=this.purchases,this.currentPage=1,this.calculateTotal()}calculateTotal(){this.totalExpenses=this.filteredPurchases.reduce((t,e)=>t+e.quantity*Number(e.supplier_price),0)}onSubmitPurchase(){return v(this,null,function*(){if(this.purchaseForm.invalid)return;let{product_id:t,quantity:e,supplier_price:r,supplier_id:i}=this.purchaseForm.value;try{yield this.supabase.addPurchase(t,e,r,i),this.toast.success("Approvisionnement enregistr\xE9 avec succ\xE8s !"),this.purchaseForm.reset({quantity:1,supplier_price:0,product_id:"",supplier_id:""}),this.loadPurchases()}catch(o){this.toast.error("Erreur lors de l'enregistrement."),console.error(o)}})}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=Fe({type:n,selectors:[["app-achat-fournisseurs"]],decls:67,vars:16,consts:[[1,"container"],[1,"card","form-card"],[3,"ngSubmit","formGroup"],[1,"form-row"],[1,"form-group"],["for","supplier"],["id","supplier","formControlName","supplier_id",1,"form-control"],["value","","disabled",""],[3,"value",4,"ngFor","ngForOf"],["for","product"],["id","product","formControlName","product_id",1,"form-control"],["for","quantity"],["id","quantity","type","number","formControlName","quantity","min","1",1,"form-control"],["for","price"],["id","price","type","number","formControlName","supplier_price","min","0","step","0.01",1,"form-control"],["type","submit",1,"btn-submit",3,"disabled"],[1,"card","list-card"],[1,"d-flex","justify-content-between","align-items-center","mb-3"],[1,"d-flex","align-items-center"],[1,"me-2"],[1,"form-control","w-auto",3,"ngModelChange","change","ngModel"],["value",""],[1,"stock-table"],[4,"ngFor","ngForOf"],[4,"ngIf"],["class","d-flex justify-content-between align-items-center mt-3",4,"ngIf"],[3,"value"],[1,"fw-bold"],[1,"text-muted"],[1,"badge","bg-success","rounded-pill"],["colspan","6",1,"text-center"],["colspan","5",2,"text-align","right","font-weight","bold","padding","10px"],[2,"font-weight","bold","padding","10px"],[1,"d-flex","justify-content-between","align-items-center","mt-3"],[1,"btn","btn-sm","btn-outline-secondary",3,"click","disabled"]],template:function(e,r){e&1&&(E(0,"div",0)(1,"h2"),D(2,"Approvisionnement"),_(),E(3,"div",1)(4,"h3"),D(5,"Nouvelle Entr\xE9e de Stock"),_(),E(6,"form",2),ie("ngSubmit",function(){return r.onSubmitPurchase()}),E(7,"div",3)(8,"div",4)(9,"label",5),D(10,"Fournisseur"),_(),E(11,"select",6)(12,"option",7),D(13,"S\xE9lectionner un fournisseur"),_(),ue(14,D3,2,2,"option",8),me(15,"async"),_()(),E(16,"div",4)(17,"label",9),D(18,"Produit"),_(),E(19,"select",10)(20,"option",7),D(21,"S\xE9lectionner un produit"),_(),ue(22,x3,2,3,"option",8),me(23,"async"),_()()(),E(24,"div",3)(25,"div",4)(26,"label",11),D(27,"Quantit\xE9"),_(),ge(28,"input",12),_(),E(29,"div",4)(30,"label",13),D(31,"Prix Achat (\u20AC)"),_(),ge(32,"input",14),_()(),E(33,"button",15),D(34,"Enregistrer l'entr\xE9e"),_()()(),E(35,"div",16)(36,"div",17)(37,"h3"),D(38,"Historique des Approvisionnements"),_(),E(39,"div",18)(40,"label",19),D(41,"Filtrer :"),_(),E(42,"select",20),Zs("ngModelChange",function(o){return kl(r.filterSupplierId,o)||(r.filterSupplierId=o),o}),ie("change",function(){return r.applyFilter()}),E(43,"option",21),D(44,"Tous les fournisseurs"),_(),ue(45,S3,2,2,"option",8),me(46,"async"),_()()(),E(47,"table",22)(48,"thead")(49,"tr")(50,"th"),D(51,"Date"),_(),E(52,"th"),D(53,"Fournisseur"),_(),E(54,"th"),D(55,"Produit"),_(),E(56,"th"),D(57,"Quantit\xE9"),_(),E(58,"th"),D(59,"Prix Unitaire"),_(),E(60,"th"),D(61,"Total"),_()()(),E(62,"tbody"),ue(63,I3,21,16,"tr",23)(64,M3,3,0,"tr",24),_(),ue(65,T3,7,4,"tfoot",24),_(),ue(66,A3,7,4,"div",25),_()()),e&2&&(M(6),V("formGroup",r.purchaseForm),M(8),V("ngForOf",sr(15,10,r.fournisseurs$)),M(8),V("ngForOf",sr(23,12,r.products$)),M(11),V("disabled",r.purchaseForm.invalid),M(9),Ys("ngModel",r.filterSupplierId),M(3),V("ngForOf",sr(46,14,r.fournisseurs$)),M(18),V("ngForOf",r.paginatedPurchases),M(),V("ngIf",r.filteredPurchases.length===0),M(),V("ngIf",r.filteredPurchases.length>0),M(),V("ngIf",r.totalPages>1))},dependencies:[xt,Dt,Bn,Mo,Hr,Ul,Ri,Ti,ma,va,fr,Uo,Ai,Ii,Mi,Ec,qr,Gr,Df,wc],styles:[".container[_ngcontent-%COMP%]{padding:2rem;max-width:800px;margin:0 auto}.card[_ngcontent-%COMP%]{background:#fff;border-radius:8px;padding:2rem;box-shadow:0 2px 10px #0000001a}h2[_ngcontent-%COMP%]{color:#2c3e50;margin-bottom:1.5rem;text-align:center}.form-group[_ngcontent-%COMP%]{margin-bottom:1.5rem}label[_ngcontent-%COMP%]{display:block;margin-bottom:.5rem;font-weight:500;color:#34495e}.form-control[_ngcontent-%COMP%]{width:100%;padding:.75rem;border:1px solid #bdc3c7;border-radius:4px;font-size:1rem;box-sizing:border-box}.summary[_ngcontent-%COMP%]{margin:2rem 0;padding:1rem;background-color:#f8f9fa;border-radius:4px;text-align:right}.total-price[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:700;color:#2c3e50}.total-price[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#27ae60;font-size:1.5rem;margin-left:.5rem}.btn-submit[_ngcontent-%COMP%]{width:100%;padding:1rem;background-color:#3498db;color:#fff;border:none;border-radius:4px;font-size:1.1rem;cursor:pointer;transition:background .3s}.btn-submit[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#2980b9}.btn-submit[_ngcontent-%COMP%]:disabled{background-color:#bdc3c7;cursor:not-allowed}"]})};function O3(n,t){if(n&1&&(E(0,"option",13),D(1),me(2,"currency"),_()),n&2){let e=t.$implicit;V("value",e.id),M(),gy(" ",e.name," (Stock: ",e.current_stock,") - ",Ve(2,4,e.price||0,"EUR")," ")}}var vp=class n{constructor(t,e){this.supabaseService=t;this.fb=e;this.venteForm=this.fb.group({product_id:["",He.required],quantity:[1,[He.required,He.min(1)]]})}venteForm;products=[];totalPrice=0;ngOnInit(){this.supabaseService.products$.subscribe(t=>{this.products=t}),this.supabaseService.loadProducts(),this.venteForm.valueChanges.subscribe(()=>this.calculateTotal())}calculateTotal(){let{product_id:t,quantity:e}=this.venteForm.value,i=this.products.find(o=>o.id===t)?.price||0;this.totalPrice=i*(e||0)}onSubmit(){return v(this,null,function*(){if(this.venteForm.valid){let{product_id:t,quantity:e}=this.venteForm.value,i=this.products.find(o=>o.id===t)?.price||0;try{yield this.supabaseService.createVente({product_id:t,quantity:e,price_unit:i,total_price:this.totalPrice}),this.venteForm.reset({quantity:1}),this.totalPrice=0,alert("Vente enregistr\xE9e avec succ\xE8s !")}catch(o){console.error("Erreur vente:",o),alert("Erreur lors de l'enregistrement de la vente.")}}})}static \u0275fac=function(e){return new(e||n)(L(Zt),L(Oi))};static \u0275cmp=Fe({type:n,selectors:[["app-ventes"]],decls:24,vars:7,consts:[[1,"container"],[1,"card","form-card"],[3,"ngSubmit","formGroup"],[1,"form-group"],["for","product"],["id","product","formControlName","product_id",1,"form-control"],["value","","disabled",""],[3,"value",4,"ngFor","ngForOf"],["for","quantity"],["type","number","id","quantity","formControlName","quantity","min","1",1,"form-control"],[1,"summary"],[1,"total-price"],["type","submit",1,"btn-submit",3,"disabled"],[3,"value"]],template:function(e,r){e&1&&(E(0,"div",0)(1,"h2"),D(2,"Enregistrer une Vente"),_(),E(3,"div",1)(4,"form",2),ie("ngSubmit",function(){return r.onSubmit()}),E(5,"div",3)(6,"label",4),D(7,"Produit"),_(),E(8,"select",5)(9,"option",6),D(10,"S\xE9lectionner un produit"),_(),ue(11,O3,3,7,"option",7),_()(),E(12,"div",3)(13,"label",8),D(14,"Quantit\xE9"),_(),ge(15,"input",9),_(),E(16,"div",10)(17,"div",11),D(18," Total \xE0 payer : "),E(19,"span"),D(20),me(21,"currency"),_()()(),E(22,"button",12),D(23," Valider la vente "),_()()()()),e&2&&(M(4),V("formGroup",r.venteForm),M(7),V("ngForOf",r.products),M(9),Q(Ve(21,4,r.totalPrice,"EUR")),M(2),V("disabled",!r.venteForm.valid))},dependencies:[xt,Dt,Hr,Ri,Ti,ma,va,fr,Uo,Ai,Ii,Mi,Ec,qr,Gr],styles:[".container[_ngcontent-%COMP%]{padding:2rem;max-width:800px;margin:0 auto}.card[_ngcontent-%COMP%]{background:#fff;border-radius:8px;padding:2rem;box-shadow:0 2px 10px #0000001a}h2[_ngcontent-%COMP%]{color:#2c3e50;margin-bottom:1.5rem;text-align:center}.form-group[_ngcontent-%COMP%]{margin-bottom:1.5rem}label[_ngcontent-%COMP%]{display:block;margin-bottom:.5rem;font-weight:500;color:#34495e}.form-control[_ngcontent-%COMP%]{width:100%;padding:.75rem;border:1px solid #bdc3c7;border-radius:4px;font-size:1rem;box-sizing:border-box}.summary[_ngcontent-%COMP%]{margin:2rem 0;padding:1rem;background-color:#f8f9fa;border-radius:4px;text-align:right}.total-price[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:700;color:#2c3e50}.total-price[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#27ae60;font-size:1.5rem;margin-left:.5rem}.btn-submit[_ngcontent-%COMP%]{width:100%;padding:1rem;background-color:#3498db;color:#fff;border:none;border-radius:4px;font-size:1.1rem;cursor:pointer;transition:background .3s}.btn-submit[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#2980b9}.btn-submit[_ngcontent-%COMP%]:disabled{background-color:#bdc3c7;cursor:not-allowed}"]})};function Hc(n){return n+.5|0}var Gi=(n,t,e)=>Math.max(Math.min(n,e),t);function Uc(n){return Gi(Hc(n*2.55),0,255)}function Ki(n){return Gi(Hc(n*255),0,255)}function Jr(n){return Gi(Hc(n/2.55)/100,0,1)}function rO(n){return Gi(Hc(n*100),0,100)}var wn={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Xb=[..."0123456789ABCDEF"],R3=n=>Xb[n&15],k3=n=>Xb[(n&240)>>4]+Xb[n&15],yp=n=>(n&240)>>4===(n&15),P3=n=>yp(n.r)&&yp(n.g)&&yp(n.b)&&yp(n.a);function N3(n){var t=n.length,e;return n[0]==="#"&&(t===4||t===5?e={r:255&wn[n[1]]*17,g:255&wn[n[2]]*17,b:255&wn[n[3]]*17,a:t===5?wn[n[4]]*17:255}:(t===7||t===9)&&(e={r:wn[n[1]]<<4|wn[n[2]],g:wn[n[3]]<<4|wn[n[4]],b:wn[n[5]]<<4|wn[n[6]],a:t===9?wn[n[7]]<<4|wn[n[8]]:255})),e}var F3=(n,t)=>n<255?t(n):"";function L3(n){var t=P3(n)?R3:k3;return n?"#"+t(n.r)+t(n.g)+t(n.b)+F3(n.a,t):void 0}var j3=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function aO(n,t,e){let r=t*Math.min(e,1-e),i=(o,s=(o+n/30)%12)=>e-r*Math.max(Math.min(s-3,9-s,1),-1);return[i(0),i(8),i(4)]}function V3(n,t,e){let r=(i,o=(i+n/60)%6)=>e-e*t*Math.max(Math.min(o,4-o,1),0);return[r(5),r(3),r(1)]}function B3(n,t,e){let r=aO(n,1,.5),i;for(t+e>1&&(i=1/(t+e),t*=i,e*=i),i=0;i<3;i++)r[i]*=1-t-e,r[i]+=t;return r}function U3(n,t,e,r,i){return n===i?(t-e)/r+(t<e?6:0):t===i?(e-n)/r+2:(n-t)/r+4}function Qb(n){let e=n.r/255,r=n.g/255,i=n.b/255,o=Math.max(e,r,i),s=Math.min(e,r,i),a=(o+s)/2,l,c,u;return o!==s&&(u=o-s,c=a>.5?u/(2-o-s):u/(o+s),l=U3(e,r,i,u,o),l=l*60+.5),[l|0,c||0,a]}function e0(n,t,e,r){return(Array.isArray(t)?n(t[0],t[1],t[2]):n(t,e,r)).map(Ki)}function t0(n,t,e){return e0(aO,n,t,e)}function $3(n,t,e){return e0(B3,n,t,e)}function H3(n,t,e){return e0(V3,n,t,e)}function lO(n){return(n%360+360)%360}function z3(n){let t=j3.exec(n),e=255,r;if(!t)return;t[5]!==r&&(e=t[6]?Uc(+t[5]):Ki(+t[5]));let i=lO(+t[2]),o=+t[3]/100,s=+t[4]/100;return t[1]==="hwb"?r=$3(i,o,s):t[1]==="hsv"?r=H3(i,o,s):r=t0(i,o,s),{r:r[0],g:r[1],b:r[2],a:e}}function W3(n,t){var e=Qb(n);e[0]=lO(e[0]+t),e=t0(e),n.r=e[0],n.g=e[1],n.b=e[2]}function q3(n){if(!n)return;let t=Qb(n),e=t[0],r=rO(t[1]),i=rO(t[2]);return n.a<255?`hsla(${e}, ${r}%, ${i}%, ${Jr(n.a)})`:`hsl(${e}, ${r}%, ${i}%)`}var iO={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},oO={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function G3(){let n={},t=Object.keys(oO),e=Object.keys(iO),r,i,o,s,a;for(r=0;r<t.length;r++){for(s=a=t[r],i=0;i<e.length;i++)o=e[i],a=a.replace(o,iO[o]);o=parseInt(oO[s],16),n[a]=[o>>16&255,o>>8&255,o&255]}return n}var _p;function K3(n){_p||(_p=G3(),_p.transparent=[0,0,0,0]);let t=_p[n.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}var Y3=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function Z3(n){let t=Y3.exec(n),e=255,r,i,o;if(t){if(t[7]!==r){let s=+t[7];e=t[8]?Uc(s):Gi(s*255,0,255)}return r=+t[1],i=+t[3],o=+t[5],r=255&(t[2]?Uc(r):Gi(r,0,255)),i=255&(t[4]?Uc(i):Gi(i,0,255)),o=255&(t[6]?Uc(o):Gi(o,0,255)),{r,g:i,b:o,a:e}}}function J3(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${Jr(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}var Jb=n=>n<=.0031308?n*12.92:Math.pow(n,1/2.4)*1.055-.055,Ha=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function X3(n,t,e){let r=Ha(Jr(n.r)),i=Ha(Jr(n.g)),o=Ha(Jr(n.b));return{r:Ki(Jb(r+e*(Ha(Jr(t.r))-r))),g:Ki(Jb(i+e*(Ha(Jr(t.g))-i))),b:Ki(Jb(o+e*(Ha(Jr(t.b))-o))),a:n.a+e*(t.a-n.a)}}function bp(n,t,e){if(n){let r=Qb(n);r[t]=Math.max(0,Math.min(r[t]+r[t]*e,t===0?360:1)),r=t0(r),n.r=r[0],n.g=r[1],n.b=r[2]}}function cO(n,t){return n&&Object.assign(t||{},n)}function sO(n){var t={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(t={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(t.a=Ki(n[3]))):(t=cO(n,{r:0,g:0,b:0,a:1}),t.a=Ki(t.a)),t}function Q3(n){return n.charAt(0)==="r"?Z3(n):z3(n)}var $c=class n{constructor(t){if(t instanceof n)return t;let e=typeof t,r;e==="object"?r=sO(t):e==="string"&&(r=N3(t)||K3(t)||Q3(t)),this._rgb=r,this._valid=!!r}get valid(){return this._valid}get rgb(){var t=cO(this._rgb);return t&&(t.a=Jr(t.a)),t}set rgb(t){this._rgb=sO(t)}rgbString(){return this._valid?J3(this._rgb):void 0}hexString(){return this._valid?L3(this._rgb):void 0}hslString(){return this._valid?q3(this._rgb):void 0}mix(t,e){if(t){let r=this.rgb,i=t.rgb,o,s=e===o?.5:e,a=2*s-1,l=r.a-i.a,c=((a*l===-1?a:(a+l)/(1+a*l))+1)/2;o=1-c,r.r=255&c*r.r+o*i.r+.5,r.g=255&c*r.g+o*i.g+.5,r.b=255&c*r.b+o*i.b+.5,r.a=s*r.a+(1-s)*i.a,this.rgb=r}return this}interpolate(t,e){return t&&(this._rgb=X3(this._rgb,t._rgb,e)),this}clone(){return new n(this.rgb)}alpha(t){return this._rgb.a=Ki(t),this}clearer(t){let e=this._rgb;return e.a*=1-t,this}greyscale(){let t=this._rgb,e=Hc(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=e,this}opaquer(t){let e=this._rgb;return e.a*=1+t,this}negate(){let t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return bp(this._rgb,2,t),this}darken(t){return bp(this._rgb,2,-t),this}saturate(t){return bp(this._rgb,1,t),this}desaturate(t){return bp(this._rgb,1,-t),this}rotate(t){return W3(this._rgb,t),this}};function br(){}var bO=(()=>{let n=0;return()=>n++})();function re(n){return n==null}function Me(n){if(Array.isArray&&Array.isArray(n))return!0;let t=Object.prototype.toString.call(n);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function se(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}function Ue(n){return(typeof n=="number"||n instanceof Number)&&isFinite(+n)}function Jt(n,t){return Ue(n)?n:t}function G(n,t){return typeof n>"u"?t:n}var wO=(n,t)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100:+n/t,o0=(n,t)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*t:+n;function xe(n,t,e){if(n&&typeof n.call=="function")return n.apply(e,t)}function _e(n,t,e,r){let i,o,s;if(Me(n))if(o=n.length,r)for(i=o-1;i>=0;i--)t.call(e,n[i],i);else for(i=0;i<o;i++)t.call(e,n[i],i);else if(se(n))for(s=Object.keys(n),o=s.length,i=0;i<o;i++)t.call(e,n[s[i]],s[i])}function qc(n,t){let e,r,i,o;if(!n||!t||n.length!==t.length)return!1;for(e=0,r=n.length;e<r;++e)if(i=n[e],o=t[e],i.datasetIndex!==o.datasetIndex||i.index!==o.index)return!1;return!0}function Dp(n){if(Me(n))return n.map(Dp);if(se(n)){let t=Object.create(null),e=Object.keys(n),r=e.length,i=0;for(;i<r;++i)t[e[i]]=Dp(n[e[i]]);return t}return n}function EO(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function e8(n,t,e,r){if(!EO(n))return;let i=t[n],o=e[n];se(i)&&se(o)?Wa(i,o,r):t[n]=Dp(o)}function Wa(n,t,e){let r=Me(t)?t:[t],i=r.length;if(!se(n))return n;e=e||{};let o=e.merger||e8,s;for(let a=0;a<i;++a){if(s=r[a],!se(s))continue;let l=Object.keys(s);for(let c=0,u=l.length;c<u;++c)o(l[c],n,s,e)}return n}function Ga(n,t){return Wa(n,t,{merger:t8})}function t8(n,t,e){if(!EO(n))return;let r=t[n],i=e[n];se(r)&&se(i)?Ga(r,i):Object.prototype.hasOwnProperty.call(t,n)||(t[n]=Dp(i))}var uO={"":n=>n,x:n=>n.x,y:n=>n.y};function n8(n){let t=n.split("."),e=[],r="";for(let i of t)r+=i,r.endsWith("\\")?r=r.slice(0,-1)+".":(e.push(r),r="");return e}function r8(n){let t=n8(n);return e=>{for(let r of t){if(r==="")break;e=e&&e[r]}return e}}function ei(n,t){return(uO[t]||(uO[t]=r8(t)))(n)}function Mp(n){return n.charAt(0).toUpperCase()+n.slice(1)}var Ka=n=>typeof n<"u",Xr=n=>typeof n=="function",s0=(n,t)=>{if(n.size!==t.size)return!1;for(let e of n)if(!t.has(e))return!1;return!0};function CO(n){return n.type==="mouseup"||n.type==="click"||n.type==="contextmenu"}var pe=Math.PI,Te=2*pe,i8=Te+pe,xp=Number.POSITIVE_INFINITY,o8=pe/180,ze=pe/2,ns=pe/4,dO=pe*2/3,Qr=Math.log10,zn=Math.sign;function Ya(n,t,e){return Math.abs(n-t)<e}function a0(n){let t=Math.round(n);n=Ya(n,t,n/1e3)?t:n;let e=Math.pow(10,Math.floor(Qr(n))),r=n/e;return(r<=1?1:r<=2?2:r<=5?5:10)*e}function DO(n){let t=[],e=Math.sqrt(n),r;for(r=1;r<e;r++)n%r===0&&(t.push(r),t.push(n/r));return e===(e|0)&&t.push(e),t.sort((i,o)=>i-o).pop(),t}function s8(n){return typeof n=="symbol"||typeof n=="object"&&n!==null&&!(Symbol.toPrimitive in n||"toString"in n||"valueOf"in n)}function os(n){return!s8(n)&&!isNaN(parseFloat(n))&&isFinite(n)}function xO(n,t){let e=Math.round(n);return e-t<=n&&e+t>=n}function l0(n,t,e){let r,i,o;for(r=0,i=n.length;r<i;r++)o=n[r][e],isNaN(o)||(t.min=Math.min(t.min,o),t.max=Math.max(t.max,o))}function En(n){return n*(pe/180)}function Tp(n){return n*(180/pe)}function c0(n){if(!Ue(n))return;let t=1,e=0;for(;Math.round(n*t)/t!==n;)t*=10,e++;return e}function u0(n,t){let e=t.x-n.x,r=t.y-n.y,i=Math.sqrt(e*e+r*r),o=Math.atan2(r,e);return o<-.5*pe&&(o+=Te),{angle:o,distance:i}}function Sp(n,t){return Math.sqrt(Math.pow(t.x-n.x,2)+Math.pow(t.y-n.y,2))}function a8(n,t){return(n-t+i8)%Te-pe}function yt(n){return(n%Te+Te)%Te}function Za(n,t,e,r){let i=yt(n),o=yt(t),s=yt(e),a=yt(o-i),l=yt(s-i),c=yt(i-o),u=yt(i-s);return i===o||i===s||r&&o===s||a>l&&c<u}function dt(n,t,e){return Math.max(t,Math.min(e,n))}function SO(n){return dt(n,-32768,32767)}function wr(n,t,e,r=1e-6){return n>=Math.min(t,e)-r&&n<=Math.max(t,e)+r}function Ap(n,t,e){e=e||(s=>n[s]<t);let r=n.length-1,i=0,o;for(;r-i>1;)o=i+r>>1,e(o)?i=o:r=o;return{lo:i,hi:r}}var yr=(n,t,e,r)=>Ap(n,e,r?i=>{let o=n[i][t];return o<e||o===e&&n[i+1][t]===e}:i=>n[i][t]<e),IO=(n,t,e)=>Ap(n,e,r=>n[r][t]>=e);function MO(n,t,e){let r=0,i=n.length;for(;r<i&&n[r]<t;)r++;for(;i>r&&n[i-1]>e;)i--;return r>0||i<n.length?n.slice(r,i):n}var TO=["push","pop","shift","splice","unshift"];function AO(n,t){if(n._chartjs){n._chartjs.listeners.push(t);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),TO.forEach(e=>{let r="_onData"+Mp(e),i=n[e];Object.defineProperty(n,e,{configurable:!0,enumerable:!1,value(...o){let s=i.apply(this,o);return n._chartjs.listeners.forEach(a=>{typeof a[r]=="function"&&a[r](...o)}),s}})})}function d0(n,t){let e=n._chartjs;if(!e)return;let r=e.listeners,i=r.indexOf(t);i!==-1&&r.splice(i,1),!(r.length>0)&&(TO.forEach(o=>{delete n[o]}),delete n._chartjs)}function h0(n){let t=new Set(n);return t.size===n.length?n:Array.from(t)}var f0=function(){return typeof window>"u"?function(n){return n()}:window.requestAnimationFrame}();function p0(n,t){let e=[],r=!1;return function(...i){e=i,r||(r=!0,f0.call(window,()=>{r=!1,n.apply(t,e)}))}}function OO(n,t){let e;return function(...r){return t?(clearTimeout(e),e=setTimeout(n,t,r)):n.apply(this,r),t}}var Op=n=>n==="start"?"left":n==="end"?"right":"center",_t=(n,t,e)=>n==="start"?t:n==="end"?e:(t+e)/2,RO=(n,t,e,r)=>n===(r?"left":"right")?e:n==="center"?(t+e)/2:t;function g0(n,t,e){let r=t.length,i=0,o=r;if(n._sorted){let{iScale:s,vScale:a,_parsed:l}=n,c=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null,u=s.axis,{min:d,max:f,minDefined:h,maxDefined:p}=s.getUserBounds();if(h){if(i=Math.min(yr(l,u,d).lo,e?r:yr(t,u,s.getPixelForValue(d)).lo),c){let g=l.slice(0,i+1).reverse().findIndex(m=>!re(m[a.axis]));i-=Math.max(0,g)}i=dt(i,0,r-1)}if(p){let g=Math.max(yr(l,s.axis,f,!0).hi+1,e?0:yr(t,u,s.getPixelForValue(f),!0).hi+1);if(c){let m=l.slice(g-1).findIndex(y=>!re(y[a.axis]));g+=Math.max(0,m)}o=dt(g,i,r)-i}else o=r-i}return{start:i,count:o}}function m0(n){let{xScale:t,yScale:e,_scaleRanges:r}=n,i={xmin:t.min,xmax:t.max,ymin:e.min,ymax:e.max};if(!r)return n._scaleRanges=i,!0;let o=r.xmin!==t.min||r.xmax!==t.max||r.ymin!==e.min||r.ymax!==e.max;return Object.assign(r,i),o}var wp=n=>n===0||n===1,hO=(n,t,e)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-t)*Te/e)),fO=(n,t,e)=>Math.pow(2,-10*n)*Math.sin((n-t)*Te/e)+1,za={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*ze)+1,easeOutSine:n=>Math.sin(n*ze),easeInOutSine:n=>-.5*(Math.cos(pe*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>wp(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>wp(n)?n:hO(n,.075,.3),easeOutElastic:n=>wp(n)?n:fO(n,.075,.3),easeInOutElastic(n){return wp(n)?n:n<.5?.5*hO(n*2,.1125,.45):.5+.5*fO(n*2-1,.1125,.45)},easeInBack(n){return n*n*((1.70158+1)*n-1.70158)},easeOutBack(n){return(n-=1)*n*((1.70158+1)*n+1.70158)+1},easeInOutBack(n){let t=1.70158;return(n/=.5)<1?.5*(n*n*(((t*=1.525)+1)*n-t)):.5*((n-=2)*n*(((t*=1.525)+1)*n+t)+2)},easeInBounce:n=>1-za.easeOutBounce(1-n),easeOutBounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:n=>n<.5?za.easeInBounce(n*2)*.5:za.easeOutBounce(n*2-1)*.5+.5};function v0(n){if(n&&typeof n=="object"){let t=n.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function y0(n){return v0(n)?n:new $c(n)}function n0(n){return v0(n)?n:new $c(n).saturate(.5).darken(.1).hexString()}var l8=["x","y","borderWidth","radius","tension"],c8=["color","borderColor","backgroundColor"];function u8(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),n.set("animations",{colors:{type:"color",properties:c8},numbers:{type:"number",properties:l8}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function d8(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}var pO=new Map;function h8(n,t){t=t||{};let e=n+JSON.stringify(t),r=pO.get(e);return r||(r=new Intl.NumberFormat(n,t),pO.set(e,r)),r}function Ja(n,t,e){return h8(t,e).format(n)}var kO={values(n){return Me(n)?n:""+n},numeric(n,t,e){if(n===0)return"0";let r=this.chart.options.locale,i,o=n;if(e.length>1){let c=Math.max(Math.abs(e[0].value),Math.abs(e[e.length-1].value));(c<1e-4||c>1e15)&&(i="scientific"),o=f8(n,e)}let s=Qr(Math.abs(o)),a=isNaN(s)?1:Math.max(Math.min(-1*Math.floor(s),20),0),l={notation:i,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),Ja(n,r,l)},logarithmic(n,t,e){if(n===0)return"0";let r=e[t].significand||n/Math.pow(10,Math.floor(Qr(n)));return[1,2,3,5,10,15].includes(r)||t>.8*e.length?kO.numeric.call(this,n,t,e):""}};function f8(n,t){let e=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(e)>=1&&n!==Math.floor(n)&&(e=n-Math.floor(n)),e}var Gc={formatters:kO};function p8(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,e)=>e.lineWidth,tickColor:(t,e)=>e.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Gc.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}var Ji=Object.create(null),Rp=Object.create(null);function zc(n,t){if(!t)return n;let e=t.split(".");for(let r=0,i=e.length;r<i;++r){let o=e[r];n=n[o]||(n[o]=Object.create(null))}return n}function r0(n,t,e){return typeof t=="string"?Wa(zc(n,t),e):Wa(zc(n,""),t)}var i0=class{constructor(t,e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=r=>r.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(r,i)=>n0(i.backgroundColor),this.hoverBorderColor=(r,i)=>n0(i.borderColor),this.hoverColor=(r,i)=>n0(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(e)}set(t,e){return r0(this,t,e)}get(t){return zc(this,t)}describe(t,e){return r0(Rp,t,e)}override(t,e){return r0(Ji,t,e)}route(t,e,r,i){let o=zc(this,t),s=zc(this,r),a="_"+e;Object.defineProperties(o,{[a]:{value:o[e],writable:!0},[e]:{enumerable:!0,get(){let l=this[a],c=s[i];return se(l)?Object.assign({},c,l):G(l,c)},set(l){this[a]=l}}})}apply(t){t.forEach(e=>e(this))}},ke=new i0({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[u8,d8,p8]);function g8(n){return!n||re(n.size)||re(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function Wc(n,t,e,r,i){let o=t[i];return o||(o=t[i]=n.measureText(i).width,e.push(i)),o>r&&(r=o),r}function PO(n,t,e,r){r=r||{};let i=r.data=r.data||{},o=r.garbageCollect=r.garbageCollect||[];r.font!==t&&(i=r.data={},o=r.garbageCollect=[],r.font=t),n.save(),n.font=t;let s=0,a=e.length,l,c,u,d,f;for(l=0;l<a;l++)if(d=e[l],d!=null&&!Me(d))s=Wc(n,i,o,s,d);else if(Me(d))for(c=0,u=d.length;c<u;c++)f=d[c],f!=null&&!Me(f)&&(s=Wc(n,i,o,s,f));n.restore();let h=o.length/2;if(h>e.length){for(l=0;l<h;l++)delete i[o[l]];o.splice(0,h)}return s}function Xi(n,t,e){let r=n.currentDevicePixelRatio,i=e!==0?Math.max(e/2,.5):0;return Math.round((t-i)*r)/r+i}function _0(n,t){!t&&!n||(t=t||n.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,n.width,n.height),t.restore())}function kp(n,t,e,r){b0(n,t,e,r,null)}function b0(n,t,e,r,i){let o,s,a,l,c,u,d,f,h=t.pointStyle,p=t.rotation,g=t.radius,m=(p||0)*o8;if(h&&typeof h=="object"&&(o=h.toString(),o==="[object HTMLImageElement]"||o==="[object HTMLCanvasElement]")){n.save(),n.translate(e,r),n.rotate(m),n.drawImage(h,-h.width/2,-h.height/2,h.width,h.height),n.restore();return}if(!(isNaN(g)||g<=0)){switch(n.beginPath(),h){default:i?n.ellipse(e,r,i/2,g,0,0,Te):n.arc(e,r,g,0,Te),n.closePath();break;case"triangle":u=i?i/2:g,n.moveTo(e+Math.sin(m)*u,r-Math.cos(m)*g),m+=dO,n.lineTo(e+Math.sin(m)*u,r-Math.cos(m)*g),m+=dO,n.lineTo(e+Math.sin(m)*u,r-Math.cos(m)*g),n.closePath();break;case"rectRounded":c=g*.516,l=g-c,s=Math.cos(m+ns)*l,d=Math.cos(m+ns)*(i?i/2-c:l),a=Math.sin(m+ns)*l,f=Math.sin(m+ns)*(i?i/2-c:l),n.arc(e-d,r-a,c,m-pe,m-ze),n.arc(e+f,r-s,c,m-ze,m),n.arc(e+d,r+a,c,m,m+ze),n.arc(e-f,r+s,c,m+ze,m+pe),n.closePath();break;case"rect":if(!p){l=Math.SQRT1_2*g,u=i?i/2:l,n.rect(e-u,r-l,2*u,2*l);break}m+=ns;case"rectRot":d=Math.cos(m)*(i?i/2:g),s=Math.cos(m)*g,a=Math.sin(m)*g,f=Math.sin(m)*(i?i/2:g),n.moveTo(e-d,r-a),n.lineTo(e+f,r-s),n.lineTo(e+d,r+a),n.lineTo(e-f,r+s),n.closePath();break;case"crossRot":m+=ns;case"cross":d=Math.cos(m)*(i?i/2:g),s=Math.cos(m)*g,a=Math.sin(m)*g,f=Math.sin(m)*(i?i/2:g),n.moveTo(e-d,r-a),n.lineTo(e+d,r+a),n.moveTo(e+f,r-s),n.lineTo(e-f,r+s);break;case"star":d=Math.cos(m)*(i?i/2:g),s=Math.cos(m)*g,a=Math.sin(m)*g,f=Math.sin(m)*(i?i/2:g),n.moveTo(e-d,r-a),n.lineTo(e+d,r+a),n.moveTo(e+f,r-s),n.lineTo(e-f,r+s),m+=ns,d=Math.cos(m)*(i?i/2:g),s=Math.cos(m)*g,a=Math.sin(m)*g,f=Math.sin(m)*(i?i/2:g),n.moveTo(e-d,r-a),n.lineTo(e+d,r+a),n.moveTo(e+f,r-s),n.lineTo(e-f,r+s);break;case"line":s=i?i/2:Math.cos(m)*g,a=Math.sin(m)*g,n.moveTo(e-s,r-a),n.lineTo(e+s,r+a);break;case"dash":n.moveTo(e,r),n.lineTo(e+Math.cos(m)*(i?i/2:g),r+Math.sin(m)*g);break;case!1:n.closePath();break}n.fill(),t.borderWidth>0&&n.stroke()}}function _r(n,t,e){return e=e||.5,!t||n&&n.x>t.left-e&&n.x<t.right+e&&n.y>t.top-e&&n.y<t.bottom+e}function Kc(n,t){n.save(),n.beginPath(),n.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),n.clip()}function Yc(n){n.restore()}function NO(n,t,e,r,i){if(!t)return n.lineTo(e.x,e.y);if(i==="middle"){let o=(t.x+e.x)/2;n.lineTo(o,t.y),n.lineTo(o,e.y)}else i==="after"!=!!r?n.lineTo(t.x,e.y):n.lineTo(e.x,t.y);n.lineTo(e.x,e.y)}function FO(n,t,e,r){if(!t)return n.lineTo(e.x,e.y);n.bezierCurveTo(r?t.cp1x:t.cp2x,r?t.cp1y:t.cp2y,r?e.cp2x:e.cp1x,r?e.cp2y:e.cp1y,e.x,e.y)}function m8(n,t){t.translation&&n.translate(t.translation[0],t.translation[1]),re(t.rotation)||n.rotate(t.rotation),t.color&&(n.fillStyle=t.color),t.textAlign&&(n.textAlign=t.textAlign),t.textBaseline&&(n.textBaseline=t.textBaseline)}function v8(n,t,e,r,i){if(i.strikethrough||i.underline){let o=n.measureText(r),s=t-o.actualBoundingBoxLeft,a=t+o.actualBoundingBoxRight,l=e-o.actualBoundingBoxAscent,c=e+o.actualBoundingBoxDescent,u=i.strikethrough?(l+c)/2:c;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=i.decorationWidth||2,n.moveTo(s,u),n.lineTo(a,u),n.stroke()}}function y8(n,t){let e=n.fillStyle;n.fillStyle=t.color,n.fillRect(t.left,t.top,t.width,t.height),n.fillStyle=e}function Qi(n,t,e,r,i,o={}){let s=Me(t)?t:[t],a=o.strokeWidth>0&&o.strokeColor!=="",l,c;for(n.save(),n.font=i.string,m8(n,o),l=0;l<s.length;++l)c=s[l],o.backdrop&&y8(n,o.backdrop),a&&(o.strokeColor&&(n.strokeStyle=o.strokeColor),re(o.strokeWidth)||(n.lineWidth=o.strokeWidth),n.strokeText(c,e,r,o.maxWidth)),n.fillText(c,e,r,o.maxWidth),v8(n,e,r,c,o),r+=Number(i.lineHeight);n.restore()}function Xa(n,t){let{x:e,y:r,w:i,h:o,radius:s}=t;n.arc(e+s.topLeft,r+s.topLeft,s.topLeft,1.5*pe,pe,!0),n.lineTo(e,r+o-s.bottomLeft),n.arc(e+s.bottomLeft,r+o-s.bottomLeft,s.bottomLeft,pe,ze,!0),n.lineTo(e+i-s.bottomRight,r+o),n.arc(e+i-s.bottomRight,r+o-s.bottomRight,s.bottomRight,ze,0,!0),n.lineTo(e+i,r+s.topRight),n.arc(e+i-s.topRight,r+s.topRight,s.topRight,0,-ze,!0),n.lineTo(e+s.topLeft,r)}var _8=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,b8=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function w8(n,t){let e=(""+n).match(_8);if(!e||e[1]==="normal")return t*1.2;switch(n=+e[2],e[3]){case"px":return n;case"%":n/=100;break}return t*n}var E8=n=>+n||0;function Pp(n,t){let e={},r=se(t),i=r?Object.keys(t):t,o=se(n)?r?s=>G(n[s],n[t[s]]):s=>n[s]:()=>n;for(let s of i)e[s]=E8(o(s));return e}function w0(n){return Pp(n,{top:"y",right:"x",bottom:"y",left:"x"})}function eo(n){return Pp(n,["topLeft","topRight","bottomLeft","bottomRight"])}function bt(n){let t=w0(n);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function nt(n,t){n=n||{},t=t||ke.font;let e=G(n.size,t.size);typeof e=="string"&&(e=parseInt(e,10));let r=G(n.style,t.style);r&&!(""+r).match(b8)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);let i={family:G(n.family,t.family),lineHeight:w8(G(n.lineHeight,t.lineHeight),e),size:e,style:r,weight:G(n.weight,t.weight),string:""};return i.string=g8(i),i}function Qa(n,t,e,r){let i=!0,o,s,a;for(o=0,s=n.length;o<s;++o)if(a=n[o],a!==void 0&&(t!==void 0&&typeof a=="function"&&(a=a(t),i=!1),e!==void 0&&Me(a)&&(a=a[e%a.length],i=!1),a!==void 0))return r&&!i&&(r.cacheable=!1),a}function LO(n,t,e){let{min:r,max:i}=n,o=o0(t,(i-r)/2),s=(a,l)=>e&&a===0?0:a+l;return{min:s(r,-Math.abs(o)),max:s(i,o)}}function ti(n,t){return Object.assign(Object.create(n),t)}function Np(n,t=[""],e,r,i=()=>n[0]){let o=e||n;typeof r>"u"&&(r=BO("_fallback",n));let s={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:o,_fallback:r,_getTarget:i,override:a=>Np([a,...n],t,o,r)};return new Proxy(s,{deleteProperty(a,l){return delete a[l],delete a._keys,delete n[0][l],!0},get(a,l){return jO(a,l,()=>A8(l,t,n,a))},getOwnPropertyDescriptor(a,l){return Reflect.getOwnPropertyDescriptor(a._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(a,l){return mO(a).includes(l)},ownKeys(a){return mO(a)},set(a,l,c){let u=a._storage||(a._storage=i());return a[l]=u[l]=c,delete a._keys,!0}})}function is(n,t,e,r){let i={_cacheable:!1,_proxy:n,_context:t,_subProxy:e,_stack:new Set,_descriptors:E0(n,r),setContext:o=>is(n,o,e,r),override:o=>is(n.override(o),t,e,r)};return new Proxy(i,{deleteProperty(o,s){return delete o[s],delete n[s],!0},get(o,s,a){return jO(o,s,()=>D8(o,s,a))},getOwnPropertyDescriptor(o,s){return o._descriptors.allKeys?Reflect.has(n,s)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,s)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(o,s){return Reflect.has(n,s)},ownKeys(){return Reflect.ownKeys(n)},set(o,s,a){return n[s]=a,delete o[s],!0}})}function E0(n,t={scriptable:!0,indexable:!0}){let{_scriptable:e=t.scriptable,_indexable:r=t.indexable,_allKeys:i=t.allKeys}=n;return{allKeys:i,scriptable:e,indexable:r,isScriptable:Xr(e)?e:()=>e,isIndexable:Xr(r)?r:()=>r}}var C8=(n,t)=>n?n+Mp(t):t,C0=(n,t)=>se(t)&&n!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function jO(n,t,e){if(Object.prototype.hasOwnProperty.call(n,t)||t==="constructor")return n[t];let r=e();return n[t]=r,r}function D8(n,t,e){let{_proxy:r,_context:i,_subProxy:o,_descriptors:s}=n,a=r[t];return Xr(a)&&s.isScriptable(t)&&(a=x8(t,a,n,e)),Me(a)&&a.length&&(a=S8(t,a,n,s.isIndexable)),C0(t,a)&&(a=is(a,i,o&&o[t],s)),a}function x8(n,t,e,r){let{_proxy:i,_context:o,_subProxy:s,_stack:a}=e;if(a.has(n))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+n);a.add(n);let l=t(o,s||r);return a.delete(n),C0(n,l)&&(l=D0(i._scopes,i,n,l)),l}function S8(n,t,e,r){let{_proxy:i,_context:o,_subProxy:s,_descriptors:a}=e;if(typeof o.index<"u"&&r(n))return t[o.index%t.length];if(se(t[0])){let l=t,c=i._scopes.filter(u=>u!==l);t=[];for(let u of l){let d=D0(c,i,n,u);t.push(is(d,o,s&&s[n],a))}}return t}function VO(n,t,e){return Xr(n)?n(t,e):n}var I8=(n,t)=>n===!0?t:typeof n=="string"?ei(t,n):void 0;function M8(n,t,e,r,i){for(let o of t){let s=I8(e,o);if(s){n.add(s);let a=VO(s._fallback,e,i);if(typeof a<"u"&&a!==e&&a!==r)return a}else if(s===!1&&typeof r<"u"&&e!==r)return null}return!1}function D0(n,t,e,r){let i=t._rootScopes,o=VO(t._fallback,e,r),s=[...n,...i],a=new Set;a.add(r);let l=gO(a,s,e,o||e,r);return l===null||typeof o<"u"&&o!==e&&(l=gO(a,s,o,l,r),l===null)?!1:Np(Array.from(a),[""],i,o,()=>T8(t,e,r))}function gO(n,t,e,r,i){for(;e;)e=M8(n,t,e,r,i);return e}function T8(n,t,e){let r=n._getTarget();t in r||(r[t]={});let i=r[t];return Me(i)&&se(e)?e:i||{}}function A8(n,t,e,r){let i;for(let o of t)if(i=BO(C8(o,n),e),typeof i<"u")return C0(n,i)?D0(e,r,n,i):i}function BO(n,t){for(let e of t){if(!e)continue;let r=e[n];if(typeof r<"u")return r}}function mO(n){let t=n._keys;return t||(t=n._keys=O8(n._scopes)),t}function O8(n){let t=new Set;for(let e of n)for(let r of Object.keys(e).filter(i=>!i.startsWith("_")))t.add(r);return Array.from(t)}function x0(n,t,e,r){let{iScale:i}=n,{key:o="r"}=this._parsing,s=new Array(r),a,l,c,u;for(a=0,l=r;a<l;++a)c=a+e,u=t[c],s[a]={r:i.parse(ei(u,o),c)};return s}var R8=Number.EPSILON||1e-14,qa=(n,t)=>t<n.length&&!n[t].skip&&n[t],UO=n=>n==="x"?"y":"x";function k8(n,t,e,r){let i=n.skip?t:n,o=t,s=e.skip?t:e,a=Sp(o,i),l=Sp(s,o),c=a/(a+l),u=l/(a+l);c=isNaN(c)?0:c,u=isNaN(u)?0:u;let d=r*c,f=r*u;return{previous:{x:o.x-d*(s.x-i.x),y:o.y-d*(s.y-i.y)},next:{x:o.x+f*(s.x-i.x),y:o.y+f*(s.y-i.y)}}}function P8(n,t,e){let r=n.length,i,o,s,a,l,c=qa(n,0);for(let u=0;u<r-1;++u)if(l=c,c=qa(n,u+1),!(!l||!c)){if(Ya(t[u],0,R8)){e[u]=e[u+1]=0;continue}i=e[u]/t[u],o=e[u+1]/t[u],a=Math.pow(i,2)+Math.pow(o,2),!(a<=9)&&(s=3/Math.sqrt(a),e[u]=i*s*t[u],e[u+1]=o*s*t[u])}}function N8(n,t,e="x"){let r=UO(e),i=n.length,o,s,a,l=qa(n,0);for(let c=0;c<i;++c){if(s=a,a=l,l=qa(n,c+1),!a)continue;let u=a[e],d=a[r];s&&(o=(u-s[e])/3,a[`cp1${e}`]=u-o,a[`cp1${r}`]=d-o*t[c]),l&&(o=(l[e]-u)/3,a[`cp2${e}`]=u+o,a[`cp2${r}`]=d+o*t[c])}}function F8(n,t="x"){let e=UO(t),r=n.length,i=Array(r).fill(0),o=Array(r),s,a,l,c=qa(n,0);for(s=0;s<r;++s)if(a=l,l=c,c=qa(n,s+1),!!l){if(c){let u=c[t]-l[t];i[s]=u!==0?(c[e]-l[e])/u:0}o[s]=a?c?zn(i[s-1])!==zn(i[s])?0:(i[s-1]+i[s])/2:i[s-1]:i[s]}P8(n,i,o),N8(n,o,t)}function Ep(n,t,e){return Math.max(Math.min(n,e),t)}function L8(n,t){let e,r,i,o,s,a=_r(n[0],t);for(e=0,r=n.length;e<r;++e)s=o,o=a,a=e<r-1&&_r(n[e+1],t),o&&(i=n[e],s&&(i.cp1x=Ep(i.cp1x,t.left,t.right),i.cp1y=Ep(i.cp1y,t.top,t.bottom)),a&&(i.cp2x=Ep(i.cp2x,t.left,t.right),i.cp2y=Ep(i.cp2y,t.top,t.bottom)))}function $O(n,t,e,r,i){let o,s,a,l;if(t.spanGaps&&(n=n.filter(c=>!c.skip)),t.cubicInterpolationMode==="monotone")F8(n,i);else{let c=r?n[n.length-1]:n[0];for(o=0,s=n.length;o<s;++o)a=n[o],l=k8(c,a,n[Math.min(o+1,s-(r?0:1))%s],t.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,c=a}t.capBezierPoints&&L8(n,e)}function Fp(){return typeof window<"u"&&typeof document<"u"}function Lp(n){let t=n.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function Ip(n,t,e){let r;return typeof n=="string"?(r=parseInt(n,10),n.indexOf("%")!==-1&&(r=r/100*t.parentNode[e])):r=n,r}var jp=n=>n.ownerDocument.defaultView.getComputedStyle(n,null);function j8(n,t){return jp(n).getPropertyValue(t)}var V8=["top","right","bottom","left"];function rs(n,t,e){let r={};e=e?"-"+e:"";for(let i=0;i<4;i++){let o=V8[i];r[o]=parseFloat(n[t+"-"+o+e])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}var B8=(n,t,e)=>(n>0||t>0)&&(!e||!e.shadowRoot);function U8(n,t){let e=n.touches,r=e&&e.length?e[0]:n,{offsetX:i,offsetY:o}=r,s=!1,a,l;if(B8(i,o,n.target))a=i,l=o;else{let c=t.getBoundingClientRect();a=r.clientX-c.left,l=r.clientY-c.top,s=!0}return{x:a,y:l,box:s}}function to(n,t){if("native"in n)return n;let{canvas:e,currentDevicePixelRatio:r}=t,i=jp(e),o=i.boxSizing==="border-box",s=rs(i,"padding"),a=rs(i,"border","width"),{x:l,y:c,box:u}=U8(n,e),d=s.left+(u&&a.left),f=s.top+(u&&a.top),{width:h,height:p}=t;return o&&(h-=s.width+a.width,p-=s.height+a.height),{x:Math.round((l-d)/h*e.width/r),y:Math.round((c-f)/p*e.height/r)}}function $8(n,t,e){let r,i;if(t===void 0||e===void 0){let o=n&&Lp(n);if(!o)t=n.clientWidth,e=n.clientHeight;else{let s=o.getBoundingClientRect(),a=jp(o),l=rs(a,"border","width"),c=rs(a,"padding");t=s.width-c.width-l.width,e=s.height-c.height-l.height,r=Ip(a.maxWidth,o,"clientWidth"),i=Ip(a.maxHeight,o,"clientHeight")}}return{width:t,height:e,maxWidth:r||xp,maxHeight:i||xp}}var Zi=n=>Math.round(n*10)/10;function HO(n,t,e,r){let i=jp(n),o=rs(i,"margin"),s=Ip(i.maxWidth,n,"clientWidth")||xp,a=Ip(i.maxHeight,n,"clientHeight")||xp,l=$8(n,t,e),{width:c,height:u}=l;if(i.boxSizing==="content-box"){let f=rs(i,"border","width"),h=rs(i,"padding");c-=h.width+f.width,u-=h.height+f.height}return c=Math.max(0,c-o.width),u=Math.max(0,r?c/r:u-o.height),c=Zi(Math.min(c,s,l.maxWidth)),u=Zi(Math.min(u,a,l.maxHeight)),c&&!u&&(u=Zi(c/2)),(t!==void 0||e!==void 0)&&r&&l.height&&u>l.height&&(u=l.height,c=Zi(Math.floor(u*r))),{width:c,height:u}}function S0(n,t,e){let r=t||1,i=Zi(n.height*r),o=Zi(n.width*r);n.height=Zi(n.height),n.width=Zi(n.width);let s=n.canvas;return s.style&&(e||!s.style.height&&!s.style.width)&&(s.style.height=`${n.height}px`,s.style.width=`${n.width}px`),n.currentDevicePixelRatio!==r||s.height!==i||s.width!==o?(n.currentDevicePixelRatio=r,s.height=i,s.width=o,n.ctx.setTransform(r,0,0,r,0,0),!0):!1}var zO=function(){let n=!1;try{let t={get passive(){return n=!0,!1}};Fp()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return n}();function I0(n,t){let e=j8(n,t),r=e&&e.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function Yi(n,t,e,r){return{x:n.x+e*(t.x-n.x),y:n.y+e*(t.y-n.y)}}function WO(n,t,e,r){return{x:n.x+e*(t.x-n.x),y:r==="middle"?e<.5?n.y:t.y:r==="after"?e<1?n.y:t.y:e>0?t.y:n.y}}function qO(n,t,e,r){let i={x:n.cp2x,y:n.cp2y},o={x:t.cp1x,y:t.cp1y},s=Yi(n,i,e),a=Yi(i,o,e),l=Yi(o,t,e),c=Yi(s,a,e),u=Yi(a,l,e);return Yi(c,u,e)}var H8=function(n,t){return{x(e){return n+n+t-e},setWidth(e){t=e},textAlign(e){return e==="center"?e:e==="right"?"left":"right"},xPlus(e,r){return e-r},leftForLtr(e,r){return e-r}}},z8=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,t){return n+t},leftForLtr(n,t){return n}}};function ss(n,t,e){return n?H8(t,e):z8()}function M0(n,t){let e,r;(t==="ltr"||t==="rtl")&&(e=n.canvas.style,r=[e.getPropertyValue("direction"),e.getPropertyPriority("direction")],e.setProperty("direction",t,"important"),n.prevTextDirection=r)}function T0(n,t){t!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",t[0],t[1]))}function GO(n){return n==="angle"?{between:Za,compare:a8,normalize:yt}:{between:wr,compare:(t,e)=>t-e,normalize:t=>t}}function vO({start:n,end:t,count:e,loop:r,style:i}){return{start:n%e,end:t%e,loop:r&&(t-n+1)%e===0,style:i}}function W8(n,t,e){let{property:r,start:i,end:o}=e,{between:s,normalize:a}=GO(r),l=t.length,{start:c,end:u,loop:d}=n,f,h;if(d){for(c+=l,u+=l,f=0,h=l;f<h&&s(a(t[c%l][r]),i,o);++f)c--,u--;c%=l,u%=l}return u<c&&(u+=l),{start:c,end:u,loop:d,style:n.style}}function A0(n,t,e){if(!e)return[n];let{property:r,start:i,end:o}=e,s=t.length,{compare:a,between:l,normalize:c}=GO(r),{start:u,end:d,loop:f,style:h}=W8(n,t,e),p=[],g=!1,m=null,y,b,w,C=()=>l(i,w,y)&&a(i,w)!==0,x=()=>a(o,y)===0||l(o,w,y),I=()=>g||C(),A=()=>!g||x();for(let T=u,N=u;T<=d;++T)b=t[T%s],!b.skip&&(y=c(b[r]),y!==w&&(g=l(y,i,o),m===null&&I()&&(m=a(y,i)===0?T:N),m!==null&&A()&&(p.push(vO({start:m,end:T,loop:f,count:s,style:h})),m=null),N=T,w=y));return m!==null&&p.push(vO({start:m,end:d,loop:f,count:s,style:h})),p}function O0(n,t){let e=[],r=n.segments;for(let i=0;i<r.length;i++){let o=A0(r[i],n.points,t);o.length&&e.push(...o)}return e}function q8(n,t,e,r){let i=0,o=t-1;if(e&&!r)for(;i<t&&!n[i].skip;)i++;for(;i<t&&n[i].skip;)i++;for(i%=t,e&&(o+=i);o>i&&n[o%t].skip;)o--;return o%=t,{start:i,end:o}}function G8(n,t,e,r){let i=n.length,o=[],s=t,a=n[t],l;for(l=t+1;l<=e;++l){let c=n[l%i];c.skip||c.stop?a.skip||(r=!1,o.push({start:t%i,end:(l-1)%i,loop:r}),t=s=c.stop?l:null):(s=l,a.skip&&(t=l)),a=c}return s!==null&&o.push({start:t%i,end:s%i,loop:r}),o}function KO(n,t){let e=n.points,r=n.options.spanGaps,i=e.length;if(!i)return[];let o=!!n._loop,{start:s,end:a}=q8(e,i,o,r);if(r===!0)return yO(n,[{start:s,end:a,loop:o}],e,t);let l=a<s?a+i:a,c=!!n._fullLoop&&s===0&&a===i-1;return yO(n,G8(e,s,l,c),e,t)}function yO(n,t,e,r){return!r||!r.setContext||!e?t:K8(n,t,e,r)}function K8(n,t,e,r){let i=n._chart.getContext(),o=_O(n.options),{_datasetIndex:s,options:{spanGaps:a}}=n,l=e.length,c=[],u=o,d=t[0].start,f=d;function h(p,g,m,y){let b=a?-1:1;if(p!==g){for(p+=l;e[p%l].skip;)p-=b;for(;e[g%l].skip;)g+=b;p%l!==g%l&&(c.push({start:p%l,end:g%l,loop:m,style:y}),u=y,d=g%l)}}for(let p of t){d=a?d:p.start;let g=e[d%l],m;for(f=d+1;f<=p.end;f++){let y=e[f%l];m=_O(r.setContext(ti(i,{type:"segment",p0:g,p1:y,p0DataIndex:(f-1)%l,p1DataIndex:f%l,datasetIndex:s}))),Y8(m,u)&&h(d,f-1,p.loop,u),g=y,u=m}d<f-1&&h(d,f-1,p.loop,u)}return c}function _O(n){return{backgroundColor:n.backgroundColor,borderCapStyle:n.borderCapStyle,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderJoinStyle:n.borderJoinStyle,borderWidth:n.borderWidth,borderColor:n.borderColor}}function Y8(n,t){if(!t)return!1;let e=[],r=function(i,o){return v0(o)?(e.includes(o)||e.push(o),e.indexOf(o)):o};return JSON.stringify(n,r)!==JSON.stringify(t,r)}function Cp(n,t,e){return n.options.clip?n[e]:t[e]}function Z8(n,t){let{xScale:e,yScale:r}=n;return e&&r?{left:Cp(e,t,"left"),right:Cp(e,t,"right"),top:Cp(r,t,"top"),bottom:Cp(r,t,"bottom")}:t}function R0(n,t){let e=t._clip;if(e.disabled)return!1;let r=Z8(t,n.chartArea);return{left:e.left===!1?0:r.left-(e.left===!0?0:e.left),right:e.right===!1?n.width:r.right+(e.right===!0?0:e.right),top:e.top===!1?0:r.top-(e.top===!0?0:e.top),bottom:e.bottom===!1?n.height:r.bottom+(e.bottom===!0?0:e.bottom)}}var z0=class{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,r,i){let o=e.listeners[i],s=e.duration;o.forEach(a=>a({chart:t,initial:e.initial,numSteps:s,currentStep:Math.min(r-e.start,s)}))}_refresh(){this._request||(this._running=!0,this._request=f0.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let e=0;this._charts.forEach((r,i)=>{if(!r.running||!r.items.length)return;let o=r.items,s=o.length-1,a=!1,l;for(;s>=0;--s)l=o[s],l._active?(l._total>r.duration&&(r.duration=l._total),l.tick(t),a=!0):(o[s]=o[o.length-1],o.pop());a&&(i.draw(),this._notify(i,r,t,"progress")),o.length||(r.running=!1,this._notify(i,r,t,"complete"),r.initial=!1),e+=o.length}),this._lastDate=t,e===0&&(this._running=!1)}_getAnims(t){let e=this._charts,r=e.get(t);return r||(r={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,r)),r}listen(t,e,r){this._getAnims(t).listeners[e].push(r)}add(t,e){!e||!e.length||this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){let e=this._charts.get(t);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce((r,i)=>Math.max(r,i._duration),0),this._refresh())}running(t){if(!this._running)return!1;let e=this._charts.get(t);return!(!e||!e.running||!e.items.length)}stop(t){let e=this._charts.get(t);if(!e||!e.items.length)return;let r=e.items,i=r.length-1;for(;i>=0;--i)r[i].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}},ni=new z0,YO="transparent",J8={boolean(n,t,e){return e>.5?t:n},color(n,t,e){let r=y0(n||YO),i=r.valid&&y0(t||YO);return i&&i.valid?i.mix(r,e).hexString():t},number(n,t,e){return n+(t-n)*e}},W0=class{constructor(t,e,r,i){let o=e[r];i=Qa([t.to,i,o,t.from]);let s=Qa([t.from,o,i]);this._active=!0,this._fn=t.fn||J8[t.type||typeof s],this._easing=za[t.easing]||za.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=r,this._from=s,this._to=i,this._promises=void 0}active(){return this._active}update(t,e,r){if(this._active){this._notify(!1);let i=this._target[this._prop],o=r-this._start,s=this._duration-o;this._start=r,this._duration=Math.floor(Math.max(s,t.duration)),this._total+=o,this._loop=!!t.loop,this._to=Qa([t.to,e,i,t.from]),this._from=Qa([t.from,i,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){let e=t-this._start,r=this._duration,i=this._prop,o=this._from,s=this._loop,a=this._to,l;if(this._active=o!==a&&(s||e<r),!this._active){this._target[i]=a,this._notify(!0);return}if(e<0){this._target[i]=o;return}l=e/r%2,l=s&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[i]=this._fn(o,a,l)}wait(){let t=this._promises||(this._promises=[]);return new Promise((e,r)=>{t.push({res:e,rej:r})})}_notify(t){let e=t?"res":"rej",r=this._promises||[];for(let i=0;i<r.length;i++)r[i][e]()}},Gp=class{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!se(t))return;let e=Object.keys(ke.animation),r=this._properties;Object.getOwnPropertyNames(t).forEach(i=>{let o=t[i];if(!se(o))return;let s={};for(let a of e)s[a]=o[a];(Me(o.properties)&&o.properties||[i]).forEach(a=>{(a===i||!r.has(a))&&r.set(a,s)})})}_animateOptions(t,e){let r=e.options,i=Q8(t,r);if(!i)return[];let o=this._createAnimations(i,r);return r.$shared&&X8(t.options.$animations,r).then(()=>{t.options=r},()=>{}),o}_createAnimations(t,e){let r=this._properties,i=[],o=t.$animations||(t.$animations={}),s=Object.keys(e),a=Date.now(),l;for(l=s.length-1;l>=0;--l){let c=s[l];if(c.charAt(0)==="$")continue;if(c==="options"){i.push(...this._animateOptions(t,e));continue}let u=e[c],d=o[c],f=r.get(c);if(d)if(f&&d.active()){d.update(f,u,a);continue}else d.cancel();if(!f||!f.duration){t[c]=u;continue}o[c]=d=new W0(f,t,c,u),i.push(d)}return i}update(t,e){if(this._properties.size===0){Object.assign(t,e);return}let r=this._createAnimations(t,e);if(r.length)return ni.add(this._chart,r),!0}};function X8(n,t){let e=[],r=Object.keys(t);for(let i=0;i<r.length;i++){let o=n[r[i]];o&&o.active()&&e.push(o.wait())}return Promise.all(e)}function Q8(n,t){if(!t)return;let e=n.options;if(!e){n.options=t;return}return e.$shared&&(n.options=e=Object.assign({},e,{$shared:!1,$animations:{}})),e}function ZO(n,t){let e=n&&n.options||{},r=e.reverse,i=e.min===void 0?t:0,o=e.max===void 0?t:0;return{start:r?o:i,end:r?i:o}}function e5(n,t,e){if(e===!1)return!1;let r=ZO(n,e),i=ZO(t,e);return{top:i.end,right:r.end,bottom:i.start,left:r.start}}function t5(n){let t,e,r,i;return se(n)?(t=n.top,e=n.right,r=n.bottom,i=n.left):t=e=r=i=n,{top:t,right:e,bottom:r,left:i,disabled:n===!1}}function YR(n,t){let e=[],r=n._getSortedDatasetMetas(t),i,o;for(i=0,o=r.length;i<o;++i)e.push(r[i].index);return e}function JO(n,t,e,r={}){let i=n.keys,o=r.mode==="single",s,a,l,c;if(t===null)return;let u=!1;for(s=0,a=i.length;s<a;++s){if(l=+i[s],l===e){if(u=!0,r.all)continue;break}c=n.values[l],Ue(c)&&(o||t===0||zn(t)===zn(c))&&(t+=c)}return!u&&!r.all?0:t}function n5(n,t){let{iScale:e,vScale:r}=t,i=e.axis==="x"?"x":"y",o=r.axis==="x"?"x":"y",s=Object.keys(n),a=new Array(s.length),l,c,u;for(l=0,c=s.length;l<c;++l)u=s[l],a[l]={[i]:u,[o]:n[u]};return a}function k0(n,t){let e=n&&n.options.stacked;return e||e===void 0&&t.stack!==void 0}function r5(n,t,e){return`${n.id}.${t.id}.${e.stack||e.type}`}function i5(n){let{min:t,max:e,minDefined:r,maxDefined:i}=n.getUserBounds();return{min:r?t:Number.NEGATIVE_INFINITY,max:i?e:Number.POSITIVE_INFINITY}}function o5(n,t,e){let r=n[t]||(n[t]={});return r[e]||(r[e]={})}function XO(n,t,e,r){for(let i of t.getMatchingVisibleMetas(r).reverse()){let o=n[i.index];if(e&&o>0||!e&&o<0)return i.index}return null}function QO(n,t){let{chart:e,_cachedMeta:r}=n,i=e._stacks||(e._stacks={}),{iScale:o,vScale:s,index:a}=r,l=o.axis,c=s.axis,u=r5(o,s,r),d=t.length,f;for(let h=0;h<d;++h){let p=t[h],{[l]:g,[c]:m}=p,y=p._stacks||(p._stacks={});f=y[c]=o5(i,u,g),f[a]=m,f._top=XO(f,s,!0,r.type),f._bottom=XO(f,s,!1,r.type);let b=f._visualValues||(f._visualValues={});b[a]=m}}function P0(n,t){let e=n.scales;return Object.keys(e).filter(r=>e[r].axis===t).shift()}function s5(n,t){return ti(n,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function a5(n,t,e){return ti(n,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:e,index:t,mode:"default",type:"data"})}function Zc(n,t){let e=n.controller.index,r=n.vScale&&n.vScale.axis;if(r){t=t||n._parsed;for(let i of t){let o=i._stacks;if(!o||o[r]===void 0||o[r][e]===void 0)return;delete o[r][e],o[r]._visualValues!==void 0&&o[r]._visualValues[e]!==void 0&&delete o[r]._visualValues[e]}}}var N0=n=>n==="reset"||n==="none",eR=(n,t)=>t?n:Object.assign({},n),l5=(n,t,e)=>n&&!t.hidden&&t._stacked&&{keys:YR(e,!0),values:null},ro=(()=>{class n{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(e,r){this.chart=e,this._ctx=e.ctx,this.index=r,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){let e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=k0(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Zc(this._cachedMeta),this.index=e}linkScales(){let e=this.chart,r=this._cachedMeta,i=this.getDataset(),o=(f,h,p,g)=>f==="x"?h:f==="r"?g:p,s=r.xAxisID=G(i.xAxisID,P0(e,"x")),a=r.yAxisID=G(i.yAxisID,P0(e,"y")),l=r.rAxisID=G(i.rAxisID,P0(e,"r")),c=r.indexAxis,u=r.iAxisID=o(c,s,a,l),d=r.vAxisID=o(c,a,s,l);r.xScale=this.getScaleForId(s),r.yScale=this.getScaleForId(a),r.rScale=this.getScaleForId(l),r.iScale=this.getScaleForId(u),r.vScale=this.getScaleForId(d)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){let r=this._cachedMeta;return e===r.iScale?r.vScale:r.iScale}reset(){this._update("reset")}_destroy(){let e=this._cachedMeta;this._data&&d0(this._data,this),e._stacked&&Zc(e)}_dataCheck(){let e=this.getDataset(),r=e.data||(e.data=[]),i=this._data;if(se(r)){let o=this._cachedMeta;this._data=n5(r,o)}else if(i!==r){if(i){d0(i,this);let o=this._cachedMeta;Zc(o),o._parsed=[]}r&&Object.isExtensible(r)&&AO(r,this),this._syncList=[],this._data=r}}addElements(){let e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){let r=this._cachedMeta,i=this.getDataset(),o=!1;this._dataCheck();let s=r._stacked;r._stacked=k0(r.vScale,r),r.stack!==i.stack&&(o=!0,Zc(r),r.stack=i.stack),this._resyncElements(e),(o||s!==r._stacked)&&(QO(this,r._parsed),r._stacked=k0(r.vScale,r))}configure(){let e=this.chart.config,r=e.datasetScopeKeys(this._type),i=e.getOptionScopes(this.getDataset(),r,!0);this.options=e.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,r){let{_cachedMeta:i,_data:o}=this,{iScale:s,_stacked:a}=i,l=s.axis,c=e===0&&r===o.length?!0:i._sorted,u=e>0&&i._parsed[e-1],d,f,h;if(this._parsing===!1)i._parsed=o,i._sorted=!0,h=o;else{Me(o[e])?h=this.parseArrayData(i,o,e,r):se(o[e])?h=this.parseObjectData(i,o,e,r):h=this.parsePrimitiveData(i,o,e,r);let p=()=>f[l]===null||u&&f[l]<u[l];for(d=0;d<r;++d)i._parsed[d+e]=f=h[d],c&&(p()&&(c=!1),u=f);i._sorted=c}a&&QO(this,h)}parsePrimitiveData(e,r,i,o){let{iScale:s,vScale:a}=e,l=s.axis,c=a.axis,u=s.getLabels(),d=s===a,f=new Array(o),h,p,g;for(h=0,p=o;h<p;++h)g=h+i,f[h]={[l]:d||s.parse(u[g],g),[c]:a.parse(r[g],g)};return f}parseArrayData(e,r,i,o){let{xScale:s,yScale:a}=e,l=new Array(o),c,u,d,f;for(c=0,u=o;c<u;++c)d=c+i,f=r[d],l[c]={x:s.parse(f[0],d),y:a.parse(f[1],d)};return l}parseObjectData(e,r,i,o){let{xScale:s,yScale:a}=e,{xAxisKey:l="x",yAxisKey:c="y"}=this._parsing,u=new Array(o),d,f,h,p;for(d=0,f=o;d<f;++d)h=d+i,p=r[h],u[d]={x:s.parse(ei(p,l),h),y:a.parse(ei(p,c),h)};return u}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,r,i){let o=this.chart,s=this._cachedMeta,a=r[e.axis],l={keys:YR(o,!0),values:r._stacks[e.axis]._visualValues};return JO(l,a,s.index,{mode:i})}updateRangeFromParsed(e,r,i,o){let s=i[r.axis],a=s===null?NaN:s,l=o&&i._stacks[r.axis];o&&l&&(o.values=l,a=JO(o,s,this._cachedMeta.index)),e.min=Math.min(e.min,a),e.max=Math.max(e.max,a)}getMinMax(e,r){let i=this._cachedMeta,o=i._parsed,s=i._sorted&&e===i.iScale,a=o.length,l=this._getOtherScale(e),c=l5(r,i,this.chart),u={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:d,max:f}=i5(l),h,p;function g(){p=o[h];let m=p[l.axis];return!Ue(p[e.axis])||d>m||f<m}for(h=0;h<a&&!(!g()&&(this.updateRangeFromParsed(u,e,p,c),s));++h);if(s){for(h=a-1;h>=0;--h)if(!g()){this.updateRangeFromParsed(u,e,p,c);break}}return u}getAllParsedValues(e){let r=this._cachedMeta._parsed,i=[],o,s,a;for(o=0,s=r.length;o<s;++o)a=r[o][e.axis],Ue(a)&&i.push(a);return i}getMaxOverflow(){return!1}getLabelAndValue(e){let r=this._cachedMeta,i=r.iScale,o=r.vScale,s=this.getParsed(e);return{label:i?""+i.getLabelForValue(s[i.axis]):"",value:o?""+o.getLabelForValue(s[o.axis]):""}}_update(e){let r=this._cachedMeta;this.update(e||"default"),r._clip=t5(G(this.options.clip,e5(r.xScale,r.yScale,this.getMaxOverflow())))}update(e){}draw(){let e=this._ctx,r=this.chart,i=this._cachedMeta,o=i.data||[],s=r.chartArea,a=[],l=this._drawStart||0,c=this._drawCount||o.length-l,u=this.options.drawActiveElementsOnTop,d;for(i.dataset&&i.dataset.draw(e,s,l,c),d=l;d<l+c;++d){let f=o[d];f.hidden||(f.active&&u?a.push(f):f.draw(e,s))}for(d=0;d<a.length;++d)a[d].draw(e,s)}getStyle(e,r){let i=r?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(e||0,i)}getContext(e,r,i){let o=this.getDataset(),s;if(e>=0&&e<this._cachedMeta.data.length){let a=this._cachedMeta.data[e];s=a.$context||(a.$context=a5(this.getContext(),e,a)),s.parsed=this.getParsed(e),s.raw=o.data[e],s.index=s.dataIndex=e}else s=this.$context||(this.$context=s5(this.chart.getContext(),this.index)),s.dataset=o,s.index=s.datasetIndex=this.index;return s.active=!!r,s.mode=i,s}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,r){return this._resolveElementOptions(this.dataElementType.id,r,e)}_resolveElementOptions(e,r="default",i){let o=r==="active",s=this._cachedDataOpts,a=e+"-"+r,l=s[a],c=this.enableOptionSharing&&Ka(i);if(l)return eR(l,c);let u=this.chart.config,d=u.datasetElementScopeKeys(this._type,e),f=o?[`${e}Hover`,"hover",e,""]:[e,""],h=u.getOptionScopes(this.getDataset(),d),p=Object.keys(ke.elements[e]),g=()=>this.getContext(i,o,r),m=u.resolveNamedOptions(h,p,g,f);return m.$shared&&(m.$shared=c,s[a]=Object.freeze(eR(m,c))),m}_resolveAnimations(e,r,i){let o=this.chart,s=this._cachedDataOpts,a=`animation-${r}`,l=s[a];if(l)return l;let c;if(o.options.animation!==!1){let d=this.chart.config,f=d.datasetAnimationScopeKeys(this._type,r),h=d.getOptionScopes(this.getDataset(),f);c=d.createResolver(h,this.getContext(e,i,r))}let u=new Gp(o,c&&c.animations);return c&&c._cacheable&&(s[a]=Object.freeze(u)),u}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,r){return!r||N0(e)||this.chart._animationsDisabled}_getSharedOptions(e,r){let i=this.resolveDataElementOptions(e,r),o=this._sharedOptions,s=this.getSharedOptions(i),a=this.includeOptions(r,s)||s!==o;return this.updateSharedOptions(s,r,i),{sharedOptions:s,includeOptions:a}}updateElement(e,r,i,o){N0(o)?Object.assign(e,i):this._resolveAnimations(r,o).update(e,i)}updateSharedOptions(e,r,i){e&&!N0(r)&&this._resolveAnimations(void 0,r).update(e,i)}_setStyle(e,r,i,o){e.active=o;let s=this.getStyle(r,o);this._resolveAnimations(r,i,o).update(e,{options:!o&&this.getSharedOptions(s)||s})}removeHoverStyle(e,r,i){this._setStyle(e,i,"active",!1)}setHoverStyle(e,r,i){this._setStyle(e,i,"active",!0)}_removeDatasetHoverStyle(){let e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){let e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){let r=this._data,i=this._cachedMeta.data;for(let[l,c,u]of this._syncList)this[l](c,u);this._syncList=[];let o=i.length,s=r.length,a=Math.min(s,o);a&&this.parse(0,a),s>o?this._insertElements(o,s-o,e):s<o&&this._removeElements(s,o-s)}_insertElements(e,r,i=!0){let o=this._cachedMeta,s=o.data,a=e+r,l,c=u=>{for(u.length+=r,l=u.length-1;l>=a;l--)u[l]=u[l-r]};for(c(s),l=e;l<a;++l)s[l]=new this.dataElementType;this._parsing&&c(o._parsed),this.parse(e,r),i&&this.updateElements(s,e,r,"reset")}updateElements(e,r,i,o){}_removeElements(e,r){let i=this._cachedMeta;if(this._parsing){let o=i._parsed.splice(e,r);i._stacked&&Zc(i,o)}i.data.splice(e,r)}_sync(e){if(this._parsing)this._syncList.push(e);else{let[r,i,o]=e;this[r](i,o)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){let e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,r){r&&this._sync(["_removeElements",e,r]);let i=arguments.length-2;i&&this._sync(["_insertElements",e,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}return n})();function c5(n,t){if(!n._cache.$bar){let e=n.getMatchingVisibleMetas(t),r=[];for(let i=0,o=e.length;i<o;i++)r=r.concat(e[i].controller.getAllParsedValues(n));n._cache.$bar=h0(r.sort((i,o)=>i-o))}return n._cache.$bar}function u5(n){let t=n.iScale,e=c5(t,n.type),r=t._length,i,o,s,a,l=()=>{s===32767||s===-32768||(Ka(a)&&(r=Math.min(r,Math.abs(s-a)||r)),a=s)};for(i=0,o=e.length;i<o;++i)s=t.getPixelForValue(e[i]),l();for(a=void 0,i=0,o=t.ticks.length;i<o;++i)s=t.getPixelForTick(i),l();return r}function d5(n,t,e,r){let i=e.barThickness,o,s;return re(i)?(o=t.min*e.categoryPercentage,s=e.barPercentage):(o=i*r,s=1),{chunk:o/r,ratio:s,start:t.pixels[n]-o/2}}function h5(n,t,e,r){let i=t.pixels,o=i[n],s=n>0?i[n-1]:null,a=n<i.length-1?i[n+1]:null,l=e.categoryPercentage;s===null&&(s=o-(a===null?t.end-t.start:a-o)),a===null&&(a=o+o-s);let c=o-(o-Math.min(s,a))/2*l;return{chunk:Math.abs(a-s)/2*l/r,ratio:e.barPercentage,start:c}}function f5(n,t,e,r){let i=e.parse(n[0],r),o=e.parse(n[1],r),s=Math.min(i,o),a=Math.max(i,o),l=s,c=a;Math.abs(s)>Math.abs(a)&&(l=a,c=s),t[e.axis]=c,t._custom={barStart:l,barEnd:c,start:i,end:o,min:s,max:a}}function ZR(n,t,e,r){return Me(n)?f5(n,t,e,r):t[e.axis]=e.parse(n,r),t}function tR(n,t,e,r){let i=n.iScale,o=n.vScale,s=i.getLabels(),a=i===o,l=[],c,u,d,f;for(c=e,u=e+r;c<u;++c)f=t[c],d={},d[i.axis]=a||i.parse(s[c],c),l.push(ZR(f,d,o,c));return l}function F0(n){return n&&n.barStart!==void 0&&n.barEnd!==void 0}function p5(n,t,e){return n!==0?zn(n):(t.isHorizontal()?1:-1)*(t.min>=e?1:-1)}function g5(n){let t,e,r,i,o;return n.horizontal?(t=n.base>n.x,e="left",r="right"):(t=n.base<n.y,e="bottom",r="top"),t?(i="end",o="start"):(i="start",o="end"),{start:e,end:r,reverse:t,top:i,bottom:o}}function m5(n,t,e,r){let i=t.borderSkipped,o={};if(!i){n.borderSkipped=o;return}if(i===!0){n.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}let{start:s,end:a,reverse:l,top:c,bottom:u}=g5(n);i==="middle"&&e&&(n.enableBorderRadius=!0,(e._top||0)===r?i=c:(e._bottom||0)===r?i=u:(o[nR(u,s,a,l)]=!0,i=c)),o[nR(i,s,a,l)]=!0,n.borderSkipped=o}function nR(n,t,e,r){return r?(n=v5(n,t,e),n=rR(n,e,t)):n=rR(n,t,e),n}function v5(n,t,e){return n===t?e:n===e?t:n}function rR(n,t,e){return n==="start"?t:n==="end"?e:n}function y5(n,{inflateAmount:t},e){n.inflateAmount=t==="auto"?e===1?.33:0:t}var _5=(()=>{class n extends ro{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(e,r,i,o){return tR(e,r,i,o)}parseArrayData(e,r,i,o){return tR(e,r,i,o)}parseObjectData(e,r,i,o){let{iScale:s,vScale:a}=e,{xAxisKey:l="x",yAxisKey:c="y"}=this._parsing,u=s.axis==="x"?l:c,d=a.axis==="x"?l:c,f=[],h,p,g,m;for(h=i,p=i+o;h<p;++h)m=r[h],g={},g[s.axis]=s.parse(ei(m,u),h),f.push(ZR(ei(m,d),g,a,h));return f}updateRangeFromParsed(e,r,i,o){super.updateRangeFromParsed(e,r,i,o);let s=i._custom;s&&r===this._cachedMeta.vScale&&(e.min=Math.min(e.min,s.min),e.max=Math.max(e.max,s.max))}getMaxOverflow(){return 0}getLabelAndValue(e){let r=this._cachedMeta,{iScale:i,vScale:o}=r,s=this.getParsed(e),a=s._custom,l=F0(a)?"["+a.start+", "+a.end+"]":""+o.getLabelForValue(s[o.axis]);return{label:""+i.getLabelForValue(s[i.axis]),value:l}}initialize(){this.enableOptionSharing=!0,super.initialize();let e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){let r=this._cachedMeta;this.updateElements(r.data,0,r.data.length,e)}updateElements(e,r,i,o){let s=o==="reset",{index:a,_cachedMeta:{vScale:l}}=this,c=l.getBasePixel(),u=l.isHorizontal(),d=this._getRuler(),{sharedOptions:f,includeOptions:h}=this._getSharedOptions(r,o);for(let p=r;p<r+i;p++){let g=this.getParsed(p),m=s||re(g[l.axis])?{base:c,head:c}:this._calculateBarValuePixels(p),y=this._calculateBarIndexPixels(p,d),b=(g._stacks||{})[l.axis],w={horizontal:u,base:m.base,enableBorderRadius:!b||F0(g._custom)||a===b._top||a===b._bottom,x:u?m.head:y.center,y:u?y.center:m.head,height:u?y.size:Math.abs(m.size),width:u?Math.abs(m.size):y.size};h&&(w.options=f||this.resolveDataElementOptions(p,e[p].active?"active":o));let C=w.options||e[p].options;m5(w,C,b,a),y5(w,C,d.ratio),this.updateElement(e[p],p,w,o)}}_getStacks(e,r){let{iScale:i}=this._cachedMeta,o=i.getMatchingVisibleMetas(this._type).filter(d=>d.controller.options.grouped),s=i.options.stacked,a=[],l=this._cachedMeta.controller.getParsed(r),c=l&&l[i.axis],u=d=>{let f=d._parsed.find(p=>p[i.axis]===c),h=f&&f[d.vScale.axis];if(re(h)||isNaN(h))return!0};for(let d of o)if(!(r!==void 0&&u(d))&&((s===!1||a.indexOf(d.stack)===-1||s===void 0&&d.stack===void 0)&&a.push(d.stack),d.index===e))break;return a.length||a.push(void 0),a}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){let e=this.chart.scales,r=this.chart.options.indexAxis;return Object.keys(e).filter(i=>e[i].axis===r).shift()}_getAxis(){let e={},r=this.getFirstScaleIdForIndexAxis();for(let i of this.chart.data.datasets)e[G(this.chart.options.indexAxis==="x"?i.xAxisID:i.yAxisID,r)]=!0;return Object.keys(e)}_getStackIndex(e,r,i){let o=this._getStacks(e,i),s=r!==void 0?o.indexOf(r):-1;return s===-1?o.length-1:s}_getRuler(){let e=this.options,r=this._cachedMeta,i=r.iScale,o=[],s,a;for(s=0,a=r.data.length;s<a;++s)o.push(i.getPixelForValue(this.getParsed(s)[i.axis],s));let l=e.barThickness;return{min:l||u5(r),pixels:o,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:e.grouped,ratio:l?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){let{_cachedMeta:{vScale:r,_stacked:i,index:o},options:{base:s,minBarLength:a}}=this,l=s||0,c=this.getParsed(e),u=c._custom,d=F0(u),f=c[r.axis],h=0,p=i?this.applyStack(r,c,i):f,g,m;p!==f&&(h=p-f,p=f),d&&(f=u.barStart,p=u.barEnd-u.barStart,f!==0&&zn(f)!==zn(u.barEnd)&&(h=0),h+=f);let y=!re(s)&&!d?s:h,b=r.getPixelForValue(y);if(this.chart.getDataVisibility(e)?g=r.getPixelForValue(h+p):g=b,m=g-b,Math.abs(m)<a){m=p5(m,r,l)*a,f===l&&(b-=m/2);let w=r.getPixelForDecimal(0),C=r.getPixelForDecimal(1),x=Math.min(w,C),I=Math.max(w,C);b=Math.max(Math.min(b,I),x),g=b+m,i&&!d&&(c._stacks[r.axis]._visualValues[o]=r.getValueForPixel(g)-r.getValueForPixel(b))}if(b===r.getPixelForValue(l)){let w=zn(m)*r.getLineWidthForValue(l)/2;b+=w,m-=w}return{size:m,base:b,head:g,center:g+m/2}}_calculateBarIndexPixels(e,r){let i=r.scale,o=this.options,s=o.skipNull,a=G(o.maxBarThickness,1/0),l,c,u=this._getAxisCount();if(r.grouped){let d=s?this._getStackCount(e):r.stackCount,f=o.barThickness==="flex"?h5(e,r,o,d*u):d5(e,r,o,d*u),h=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,p=this._getAxis().indexOf(G(h,this.getFirstScaleIdForIndexAxis())),g=this._getStackIndex(this.index,this._cachedMeta.stack,s?e:void 0)+p;l=f.start+f.chunk*g+f.chunk/2,c=Math.min(a,f.chunk*f.ratio)}else l=i.getPixelForValue(this.getParsed(e)[i.axis],e),c=Math.min(a,r.min*r.ratio);return{base:l-c/2,head:l+c/2,center:l,size:c}}draw(){let e=this._cachedMeta,r=e.vScale,i=e.data,o=i.length,s=0;for(;s<o;++s)this.getParsed(s)[r.axis]!==null&&!i[s].hidden&&i[s].draw(this._ctx)}}return n})(),b5=(()=>{class n extends ro{static id="bubble";static defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};static overrides={scales:{x:{type:"linear"},y:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,r,i,o){let s=super.parsePrimitiveData(e,r,i,o);for(let a=0;a<s.length;a++)s[a]._custom=this.resolveDataElementOptions(a+i).radius;return s}parseArrayData(e,r,i,o){let s=super.parseArrayData(e,r,i,o);for(let a=0;a<s.length;a++){let l=r[i+a];s[a]._custom=G(l[2],this.resolveDataElementOptions(a+i).radius)}return s}parseObjectData(e,r,i,o){let s=super.parseObjectData(e,r,i,o);for(let a=0;a<s.length;a++){let l=r[i+a];s[a]._custom=G(l&&l.r&&+l.r,this.resolveDataElementOptions(a+i).radius)}return s}getMaxOverflow(){let e=this._cachedMeta.data,r=0;for(let i=e.length-1;i>=0;--i)r=Math.max(r,e[i].size(this.resolveDataElementOptions(i))/2);return r>0&&r}getLabelAndValue(e){let r=this._cachedMeta,i=this.chart.data.labels||[],{xScale:o,yScale:s}=r,a=this.getParsed(e),l=o.getLabelForValue(a.x),c=s.getLabelForValue(a.y),u=a._custom;return{label:i[e]||"",value:"("+l+", "+c+(u?", "+u:"")+")"}}update(e){let r=this._cachedMeta.data;this.updateElements(r,0,r.length,e)}updateElements(e,r,i,o){let s=o==="reset",{iScale:a,vScale:l}=this._cachedMeta,{sharedOptions:c,includeOptions:u}=this._getSharedOptions(r,o),d=a.axis,f=l.axis;for(let h=r;h<r+i;h++){let p=e[h],g=!s&&this.getParsed(h),m={},y=m[d]=s?a.getPixelForDecimal(.5):a.getPixelForValue(g[d]),b=m[f]=s?l.getBasePixel():l.getPixelForValue(g[f]);m.skip=isNaN(y)||isNaN(b),u&&(m.options=c||this.resolveDataElementOptions(h,p.active?"active":o),s&&(m.options.radius=0)),this.updateElement(p,h,m,o)}}resolveDataElementOptions(e,r){let i=this.getParsed(e),o=super.resolveDataElementOptions(e,r);o.$shared&&(o=Object.assign({},o,{$shared:!1}));let s=o.radius;return r!=="active"&&(o.radius=0),o.radius+=G(i&&i._custom,s),o}}return n})();function w5(n,t,e){let r=1,i=1,o=0,s=0;if(t<Te){let a=n,l=a+t,c=Math.cos(a),u=Math.sin(a),d=Math.cos(l),f=Math.sin(l),h=(w,C,x)=>Za(w,a,l,!0)?1:Math.max(C,C*e,x,x*e),p=(w,C,x)=>Za(w,a,l,!0)?-1:Math.min(C,C*e,x,x*e),g=h(0,c,d),m=h(ze,u,f),y=p(pe,c,d),b=p(pe+ze,u,f);r=(g-y)/2,i=(m-b)/2,o=-(g+y)/2,s=-(m+b)/2}return{ratioX:r,ratioY:i,offsetX:o,offsetY:s}}var dw=(()=>{class n extends ro{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){let r=e.data,{labels:{pointStyle:i,textAlign:o,color:s,useBorderRadius:a,borderRadius:l}}=e.legend.options;return r.labels.length&&r.datasets.length?r.labels.map((c,u)=>{let f=e.getDatasetMeta(0).controller.getStyle(u);return{text:c,fillStyle:f.backgroundColor,fontColor:s,hidden:!e.getDataVisibility(u),lineDash:f.borderDash,lineDashOffset:f.borderDashOffset,lineJoin:f.borderJoinStyle,lineWidth:f.borderWidth,strokeStyle:f.borderColor,textAlign:o,pointStyle:i,borderRadius:a&&(l||f.borderRadius),index:u}}):[]}},onClick(e,r,i){i.chart.toggleDataVisibility(r.index),i.chart.update()}}}};constructor(e,r){super(e,r),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,r){let i=this.getDataset().data,o=this._cachedMeta;if(this._parsing===!1)o._parsed=i;else{let s=c=>+i[c];if(se(i[e])){let{key:c="value"}=this._parsing;s=u=>+ei(i[u],c)}let a,l;for(a=e,l=e+r;a<l;++a)o._parsed[a]=s(a)}}_getRotation(){return En(this.options.rotation-90)}_getCircumference(){return En(this.options.circumference)}_getRotationExtents(){let e=Te,r=-Te;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)&&this.chart.getDatasetMeta(i).type===this._type){let o=this.chart.getDatasetMeta(i).controller,s=o._getRotation(),a=o._getCircumference();e=Math.min(e,s),r=Math.max(r,s+a)}return{rotation:e,circumference:r-e}}update(e){let r=this.chart,{chartArea:i}=r,o=this._cachedMeta,s=o.data,a=this.getMaxBorderWidth()+this.getMaxOffset(s)+this.options.spacing,l=Math.max((Math.min(i.width,i.height)-a)/2,0),c=Math.min(wO(this.options.cutout,l),1),u=this._getRingWeight(this.index),{circumference:d,rotation:f}=this._getRotationExtents(),{ratioX:h,ratioY:p,offsetX:g,offsetY:m}=w5(f,d,c),y=(i.width-a)/h,b=(i.height-a)/p,w=Math.max(Math.min(y,b)/2,0),C=o0(this.options.radius,w),x=Math.max(C*c,0),I=(C-x)/this._getVisibleDatasetWeightTotal();this.offsetX=g*C,this.offsetY=m*C,o.total=this.calculateTotal(),this.outerRadius=C-I*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-I*u,0),this.updateElements(s,0,s.length,e)}_circumference(e,r){let i=this.options,o=this._cachedMeta,s=this._getCircumference();return r&&i.animation.animateRotate||!this.chart.getDataVisibility(e)||o._parsed[e]===null||o.data[e].hidden?0:this.calculateCircumference(o._parsed[e]*s/Te)}updateElements(e,r,i,o){let s=o==="reset",a=this.chart,l=a.chartArea,u=a.options.animation,d=(l.left+l.right)/2,f=(l.top+l.bottom)/2,h=s&&u.animateScale,p=h?0:this.innerRadius,g=h?0:this.outerRadius,{sharedOptions:m,includeOptions:y}=this._getSharedOptions(r,o),b=this._getRotation(),w;for(w=0;w<r;++w)b+=this._circumference(w,s);for(w=r;w<r+i;++w){let C=this._circumference(w,s),x=e[w],I={x:d+this.offsetX,y:f+this.offsetY,startAngle:b,endAngle:b+C,circumference:C,outerRadius:g,innerRadius:p};y&&(I.options=m||this.resolveDataElementOptions(w,x.active?"active":o)),b+=C,this.updateElement(x,w,I,o)}}calculateTotal(){let e=this._cachedMeta,r=e.data,i=0,o;for(o=0;o<r.length;o++){let s=e._parsed[o];s!==null&&!isNaN(s)&&this.chart.getDataVisibility(o)&&!r[o].hidden&&(i+=Math.abs(s))}return i}calculateCircumference(e){let r=this._cachedMeta.total;return r>0&&!isNaN(e)?Te*(Math.abs(e)/r):0}getLabelAndValue(e){let r=this._cachedMeta,i=this.chart,o=i.data.labels||[],s=Ja(r._parsed[e],i.options.locale);return{label:o[e]||"",value:s}}getMaxBorderWidth(e){let r=0,i=this.chart,o,s,a,l,c;if(!e){for(o=0,s=i.data.datasets.length;o<s;++o)if(i.isDatasetVisible(o)){a=i.getDatasetMeta(o),e=a.data,l=a.controller;break}}if(!e)return 0;for(o=0,s=e.length;o<s;++o)c=l.resolveDataElementOptions(o),c.borderAlign!=="inner"&&(r=Math.max(r,c.borderWidth||0,c.hoverBorderWidth||0));return r}getMaxOffset(e){let r=0;for(let i=0,o=e.length;i<o;++i){let s=this.resolveDataElementOptions(i);r=Math.max(r,s.offset||0,s.hoverOffset||0)}return r}_getRingWeightOffset(e){let r=0;for(let i=0;i<e;++i)this.chart.isDatasetVisible(i)&&(r+=this._getRingWeight(i));return r}_getRingWeight(e){return Math.max(G(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}return n})(),E5=(()=>{class n extends ro{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){let r=this._cachedMeta,{dataset:i,data:o=[],_dataset:s}=r,a=this.chart._animationsDisabled,{start:l,count:c}=g0(r,o,a);this._drawStart=l,this._drawCount=c,m0(r)&&(l=0,c=o.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!s._decimated,i.points=o;let u=this.resolveDatasetElementOptions(e);this.options.showLine||(u.borderWidth=0),u.segment=this.options.segment,this.updateElement(i,void 0,{animated:!a,options:u},e),this.updateElements(o,l,c,e)}updateElements(e,r,i,o){let s=o==="reset",{iScale:a,vScale:l,_stacked:c,_dataset:u}=this._cachedMeta,{sharedOptions:d,includeOptions:f}=this._getSharedOptions(r,o),h=a.axis,p=l.axis,{spanGaps:g,segment:m}=this.options,y=os(g)?g:Number.POSITIVE_INFINITY,b=this.chart._animationsDisabled||s||o==="none",w=r+i,C=e.length,x=r>0&&this.getParsed(r-1);for(let I=0;I<C;++I){let A=e[I],T=b?A:{};if(I<r||I>=w){T.skip=!0;continue}let N=this.getParsed(I),W=re(N[p]),J=T[h]=a.getPixelForValue(N[h],I),ae=T[p]=s||W?l.getBasePixel():l.getPixelForValue(c?this.applyStack(l,N,c):N[p],I);T.skip=isNaN(J)||isNaN(ae)||W,T.stop=I>0&&Math.abs(N[h]-x[h])>y,m&&(T.parsed=N,T.raw=u.data[I]),f&&(T.options=d||this.resolveDataElementOptions(I,A.active?"active":o)),b||this.updateElement(A,I,T,o),x=N}}getMaxOverflow(){let e=this._cachedMeta,r=e.dataset,i=r.options&&r.options.borderWidth||0,o=e.data||[];if(!o.length)return i;let s=o[0].size(this.resolveDataElementOptions(0)),a=o[o.length-1].size(this.resolveDataElementOptions(o.length-1));return Math.max(i,s,a)/2}draw(){let e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}return n})(),JR=(()=>{class n extends ro{static id="polarArea";static defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){let r=e.data;if(r.labels.length&&r.datasets.length){let{labels:{pointStyle:i,color:o}}=e.legend.options;return r.labels.map((s,a)=>{let c=e.getDatasetMeta(0).controller.getStyle(a);return{text:s,fillStyle:c.backgroundColor,strokeStyle:c.borderColor,fontColor:o,lineWidth:c.borderWidth,pointStyle:i,hidden:!e.getDataVisibility(a),index:a}})}return[]}},onClick(e,r,i){i.chart.toggleDataVisibility(r.index),i.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};constructor(e,r){super(e,r),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){let r=this._cachedMeta,i=this.chart,o=i.data.labels||[],s=Ja(r._parsed[e].r,i.options.locale);return{label:o[e]||"",value:s}}parseObjectData(e,r,i,o){return x0.bind(this)(e,r,i,o)}update(e){let r=this._cachedMeta.data;this._updateRadius(),this.updateElements(r,0,r.length,e)}getMinMax(){let e=this._cachedMeta,r={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return e.data.forEach((i,o)=>{let s=this.getParsed(o).r;!isNaN(s)&&this.chart.getDataVisibility(o)&&(s<r.min&&(r.min=s),s>r.max&&(r.max=s))}),r}_updateRadius(){let e=this.chart,r=e.chartArea,i=e.options,o=Math.min(r.right-r.left,r.bottom-r.top),s=Math.max(o/2,0),a=Math.max(i.cutoutPercentage?s/100*i.cutoutPercentage:1,0),l=(s-a)/e.getVisibleDatasetCount();this.outerRadius=s-l*this.index,this.innerRadius=this.outerRadius-l}updateElements(e,r,i,o){let s=o==="reset",a=this.chart,c=a.options.animation,u=this._cachedMeta.rScale,d=u.xCenter,f=u.yCenter,h=u.getIndexAngle(0)-.5*pe,p=h,g,m=360/this.countVisibleElements();for(g=0;g<r;++g)p+=this._computeAngle(g,o,m);for(g=r;g<r+i;g++){let y=e[g],b=p,w=p+this._computeAngle(g,o,m),C=a.getDataVisibility(g)?u.getDistanceFromCenterForValue(this.getParsed(g).r):0;p=w,s&&(c.animateScale&&(C=0),c.animateRotate&&(b=w=h));let x={x:d,y:f,innerRadius:0,outerRadius:C,startAngle:b,endAngle:w,options:this.resolveDataElementOptions(g,y.active?"active":o)};this.updateElement(y,g,x,o)}}countVisibleElements(){let e=this._cachedMeta,r=0;return e.data.forEach((i,o)=>{!isNaN(this.getParsed(o).r)&&this.chart.getDataVisibility(o)&&r++}),r}_computeAngle(e,r,i){return this.chart.getDataVisibility(e)?En(this.resolveDataElementOptions(e,r).angle||i):0}}return n})(),C5=(()=>{class n extends dw{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}}return n})(),D5=(()=>{class n extends ro{static id="radar";static defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};static overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};getLabelAndValue(e){let r=this._cachedMeta.vScale,i=this.getParsed(e);return{label:r.getLabels()[e],value:""+r.getLabelForValue(i[r.axis])}}parseObjectData(e,r,i,o){return x0.bind(this)(e,r,i,o)}update(e){let r=this._cachedMeta,i=r.dataset,o=r.data||[],s=r.iScale.getLabels();if(i.points=o,e!=="resize"){let a=this.resolveDatasetElementOptions(e);this.options.showLine||(a.borderWidth=0);let l={_loop:!0,_fullLoop:s.length===o.length,options:a};this.updateElement(i,void 0,l,e)}this.updateElements(o,0,o.length,e)}updateElements(e,r,i,o){let s=this._cachedMeta.rScale,a=o==="reset";for(let l=r;l<r+i;l++){let c=e[l],u=this.resolveDataElementOptions(l,c.active?"active":o),d=s.getPointPositionForValue(l,this.getParsed(l).r),f=a?s.xCenter:d.x,h=a?s.yCenter:d.y,p={x:f,y:h,angle:d.angle,skip:isNaN(f)||isNaN(h),options:u};this.updateElement(c,l,p,o)}}}return n})(),x5=(()=>{class n extends ro{static id="scatter";static defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1};static overrides={interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}};getLabelAndValue(e){let r=this._cachedMeta,i=this.chart.data.labels||[],{xScale:o,yScale:s}=r,a=this.getParsed(e),l=o.getLabelForValue(a.x),c=s.getLabelForValue(a.y);return{label:i[e]||"",value:"("+l+", "+c+")"}}update(e){let r=this._cachedMeta,{data:i=[]}=r,o=this.chart._animationsDisabled,{start:s,count:a}=g0(r,i,o);if(this._drawStart=s,this._drawCount=a,m0(r)&&(s=0,a=i.length),this.options.showLine){this.datasetElementType||this.addElements();let{dataset:l,_dataset:c}=r;l._chart=this.chart,l._datasetIndex=this.index,l._decimated=!!c._decimated,l.points=i;let u=this.resolveDatasetElementOptions(e);u.segment=this.options.segment,this.updateElement(l,void 0,{animated:!o,options:u},e)}else this.datasetElementType&&(delete r.dataset,this.datasetElementType=!1);this.updateElements(i,s,a,e)}addElements(){let{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(e,r,i,o){let s=o==="reset",{iScale:a,vScale:l,_stacked:c,_dataset:u}=this._cachedMeta,d=this.resolveDataElementOptions(r,o),f=this.getSharedOptions(d),h=this.includeOptions(o,f),p=a.axis,g=l.axis,{spanGaps:m,segment:y}=this.options,b=os(m)?m:Number.POSITIVE_INFINITY,w=this.chart._animationsDisabled||s||o==="none",C=r>0&&this.getParsed(r-1);for(let x=r;x<r+i;++x){let I=e[x],A=this.getParsed(x),T=w?I:{},N=re(A[g]),W=T[p]=a.getPixelForValue(A[p],x),J=T[g]=s||N?l.getBasePixel():l.getPixelForValue(c?this.applyStack(l,A,c):A[g],x);T.skip=isNaN(W)||isNaN(J)||N,T.stop=x>0&&Math.abs(A[p]-C[p])>b,y&&(T.parsed=A,T.raw=u.data[x]),h&&(T.options=f||this.resolveDataElementOptions(x,I.active?"active":o)),w||this.updateElement(I,x,T,o),C=A}this.updateSharedOptions(f,o,d)}getMaxOverflow(){let e=this._cachedMeta,r=e.data||[];if(!this.options.showLine){let l=0;for(let c=r.length-1;c>=0;--c)l=Math.max(l,r[c].size(this.resolveDataElementOptions(c))/2);return l>0&&l}let i=e.dataset,o=i.options&&i.options.borderWidth||0;if(!r.length)return o;let s=r[0].size(this.resolveDataElementOptions(0)),a=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(o,s,a)/2}}return n})(),S5=Object.freeze({__proto__:null,BarController:_5,BubbleController:b5,DoughnutController:dw,LineController:E5,PieController:C5,PolarAreaController:JR,RadarController:D5,ScatterController:x5});function as(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}var q0=class n{static override(t){Object.assign(n.prototype,t)}options;constructor(t){this.options=t||{}}init(){}formats(){return as()}parse(){return as()}format(){return as()}add(){return as()}diff(){return as()}startOf(){return as()}endOf(){return as()}},I5={_date:q0};function M5(n,t,e,r){let{controller:i,data:o,_sorted:s}=n,a=i._cachedMeta.iScale,l=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null;if(a&&t===a.axis&&t!=="r"&&s&&o.length){let c=a._reversePixels?IO:yr;if(r){if(i._sharedOptions){let u=o[0],d=typeof u.getRange=="function"&&u.getRange(t);if(d){let f=c(o,t,e-d),h=c(o,t,e+d);return{lo:f.lo,hi:h.hi}}}}else{let u=c(o,t,e);if(l){let{vScale:d}=i._cachedMeta,{_parsed:f}=n,h=f.slice(0,u.lo+1).reverse().findIndex(g=>!re(g[d.axis]));u.lo-=Math.max(0,h);let p=f.slice(u.hi).findIndex(g=>!re(g[d.axis]));u.hi+=Math.max(0,p)}return u}}return{lo:0,hi:o.length-1}}function su(n,t,e,r,i){let o=n.getSortedVisibleDatasetMetas(),s=e[t];for(let a=0,l=o.length;a<l;++a){let{index:c,data:u}=o[a],{lo:d,hi:f}=M5(o[a],t,s,i);for(let h=d;h<=f;++h){let p=u[h];p.skip||r(p,c,h)}}}function T5(n){let t=n.indexOf("x")!==-1,e=n.indexOf("y")!==-1;return function(r,i){let o=t?Math.abs(r.x-i.x):0,s=e?Math.abs(r.y-i.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(s,2))}}function L0(n,t,e,r,i){let o=[];return!i&&!n.isPointInArea(t)||su(n,e,t,function(a,l,c){!i&&!_r(a,n.chartArea,0)||a.inRange(t.x,t.y,r)&&o.push({element:a,datasetIndex:l,index:c})},!0),o}function A5(n,t,e,r){let i=[];function o(s,a,l){let{startAngle:c,endAngle:u}=s.getProps(["startAngle","endAngle"],r),{angle:d}=u0(s,{x:t.x,y:t.y});Za(d,c,u)&&i.push({element:s,datasetIndex:a,index:l})}return su(n,e,t,o),i}function O5(n,t,e,r,i,o){let s=[],a=T5(e),l=Number.POSITIVE_INFINITY;function c(u,d,f){let h=u.inRange(t.x,t.y,i);if(r&&!h)return;let p=u.getCenterPoint(i);if(!(!!o||n.isPointInArea(p))&&!h)return;let m=a(t,p);m<l?(s=[{element:u,datasetIndex:d,index:f}],l=m):m===l&&s.push({element:u,datasetIndex:d,index:f})}return su(n,e,t,c),s}function j0(n,t,e,r,i,o){return!o&&!n.isPointInArea(t)?[]:e==="r"&&!r?A5(n,t,e,i):O5(n,t,e,r,i,o)}function iR(n,t,e,r,i){let o=[],s=e==="x"?"inXRange":"inYRange",a=!1;return su(n,e,t,(l,c,u)=>{l[s]&&l[s](t[e],i)&&(o.push({element:l,datasetIndex:c,index:u}),a=a||l.inRange(t.x,t.y,i))}),r&&!a?[]:o}var R5={evaluateInteractionItems:su,modes:{index(n,t,e,r){let i=to(t,n),o=e.axis||"x",s=e.includeInvisible||!1,a=e.intersect?L0(n,i,o,r,s):j0(n,i,o,!1,r,s),l=[];return a.length?(n.getSortedVisibleDatasetMetas().forEach(c=>{let u=a[0].index,d=c.data[u];d&&!d.skip&&l.push({element:d,datasetIndex:c.index,index:u})}),l):[]},dataset(n,t,e,r){let i=to(t,n),o=e.axis||"xy",s=e.includeInvisible||!1,a=e.intersect?L0(n,i,o,r,s):j0(n,i,o,!1,r,s);if(a.length>0){let l=a[0].datasetIndex,c=n.getDatasetMeta(l).data;a=[];for(let u=0;u<c.length;++u)a.push({element:c[u],datasetIndex:l,index:u})}return a},point(n,t,e,r){let i=to(t,n),o=e.axis||"xy",s=e.includeInvisible||!1;return L0(n,i,o,r,s)},nearest(n,t,e,r){let i=to(t,n),o=e.axis||"xy",s=e.includeInvisible||!1;return j0(n,i,o,e.intersect,r,s)},x(n,t,e,r){let i=to(t,n);return iR(n,i,"x",e.intersect,r)},y(n,t,e,r){let i=to(t,n);return iR(n,i,"y",e.intersect,r)}}},XR=["left","top","right","bottom"];function Jc(n,t){return n.filter(e=>e.pos===t)}function oR(n,t){return n.filter(e=>XR.indexOf(e.pos)===-1&&e.box.axis===t)}function Xc(n,t){return n.sort((e,r)=>{let i=t?r:e,o=t?e:r;return i.weight===o.weight?i.index-o.index:i.weight-o.weight})}function k5(n){let t=[],e,r,i,o,s,a;for(e=0,r=(n||[]).length;e<r;++e)i=n[e],{position:o,options:{stack:s,stackWeight:a=1}}=i,t.push({index:e,box:i,pos:o,horizontal:i.isHorizontal(),weight:i.weight,stack:s&&o+s,stackWeight:a});return t}function P5(n){let t={};for(let e of n){let{stack:r,pos:i,stackWeight:o}=e;if(!r||!XR.includes(i))continue;let s=t[r]||(t[r]={count:0,placed:0,weight:0,size:0});s.count++,s.weight+=o}return t}function N5(n,t){let e=P5(n),{vBoxMaxWidth:r,hBoxMaxHeight:i}=t,o,s,a;for(o=0,s=n.length;o<s;++o){a=n[o];let{fullSize:l}=a.box,c=e[a.stack],u=c&&a.stackWeight/c.weight;a.horizontal?(a.width=u?u*r:l&&t.availableWidth,a.height=i):(a.width=r,a.height=u?u*i:l&&t.availableHeight)}return e}function F5(n){let t=k5(n),e=Xc(t.filter(c=>c.box.fullSize),!0),r=Xc(Jc(t,"left"),!0),i=Xc(Jc(t,"right")),o=Xc(Jc(t,"top"),!0),s=Xc(Jc(t,"bottom")),a=oR(t,"x"),l=oR(t,"y");return{fullSize:e,leftAndTop:r.concat(o),rightAndBottom:i.concat(l).concat(s).concat(a),chartArea:Jc(t,"chartArea"),vertical:r.concat(i).concat(l),horizontal:o.concat(s).concat(a)}}function sR(n,t,e,r){return Math.max(n[e],t[e])+Math.max(n[r],t[r])}function QR(n,t){n.top=Math.max(n.top,t.top),n.left=Math.max(n.left,t.left),n.bottom=Math.max(n.bottom,t.bottom),n.right=Math.max(n.right,t.right)}function L5(n,t,e,r){let{pos:i,box:o}=e,s=n.maxPadding;if(!se(i)){e.size&&(n[i]-=e.size);let d=r[e.stack]||{size:0,count:1};d.size=Math.max(d.size,e.horizontal?o.height:o.width),e.size=d.size/d.count,n[i]+=e.size}o.getPadding&&QR(s,o.getPadding());let a=Math.max(0,t.outerWidth-sR(s,n,"left","right")),l=Math.max(0,t.outerHeight-sR(s,n,"top","bottom")),c=a!==n.w,u=l!==n.h;return n.w=a,n.h=l,e.horizontal?{same:c,other:u}:{same:u,other:c}}function j5(n){let t=n.maxPadding;function e(r){let i=Math.max(t[r]-n[r],0);return n[r]+=i,i}n.y+=e("top"),n.x+=e("left"),e("right"),e("bottom")}function V5(n,t){let e=t.maxPadding;function r(i){let o={left:0,top:0,right:0,bottom:0};return i.forEach(s=>{o[s]=Math.max(t[s],e[s])}),o}return r(n?["left","right"]:["top","bottom"])}function tu(n,t,e,r){let i=[],o,s,a,l,c,u;for(o=0,s=n.length,c=0;o<s;++o){a=n[o],l=a.box,l.update(a.width||t.w,a.height||t.h,V5(a.horizontal,t));let{same:d,other:f}=L5(t,e,a,r);c|=d&&i.length,u=u||f,l.fullSize||i.push(a)}return c&&tu(i,t,e,r)||u}function Vp(n,t,e,r,i){n.top=e,n.left=t,n.right=t+r,n.bottom=e+i,n.width=r,n.height=i}function aR(n,t,e,r){let i=e.padding,{x:o,y:s}=t;for(let a of n){let l=a.box,c=r[a.stack]||{count:1,placed:0,weight:1},u=a.stackWeight/c.weight||1;if(a.horizontal){let d=t.w*u,f=c.size||l.height;Ka(c.start)&&(s=c.start),l.fullSize?Vp(l,i.left,s,e.outerWidth-i.right-i.left,f):Vp(l,t.left+c.placed,s,d,f),c.start=s,c.placed+=d,s=l.bottom}else{let d=t.h*u,f=c.size||l.width;Ka(c.start)&&(o=c.start),l.fullSize?Vp(l,o,i.top,f,e.outerHeight-i.bottom-i.top):Vp(l,o,t.top+c.placed,f,d),c.start=o,c.placed+=d,o=l.right}}t.x=o,t.y=s}var It={addBox(n,t){n.boxes||(n.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},n.boxes.push(t)},removeBox(n,t){let e=n.boxes?n.boxes.indexOf(t):-1;e!==-1&&n.boxes.splice(e,1)},configure(n,t,e){t.fullSize=e.fullSize,t.position=e.position,t.weight=e.weight},update(n,t,e,r){if(!n)return;let i=bt(n.options.layout.padding),o=Math.max(t-i.width,0),s=Math.max(e-i.height,0),a=F5(n.boxes),l=a.vertical,c=a.horizontal;_e(n.boxes,g=>{typeof g.beforeLayout=="function"&&g.beforeLayout()});let u=l.reduce((g,m)=>m.box.options&&m.box.options.display===!1?g:g+1,0)||1,d=Object.freeze({outerWidth:t,outerHeight:e,padding:i,availableWidth:o,availableHeight:s,vBoxMaxWidth:o/2/u,hBoxMaxHeight:s/2}),f=Object.assign({},i);QR(f,bt(r));let h=Object.assign({maxPadding:f,w:o,h:s,x:i.left,y:i.top},i),p=N5(l.concat(c),d);tu(a.fullSize,h,d,p),tu(l,h,d,p),tu(c,h,d,p)&&tu(l,h,d,p),j5(h),aR(a.leftAndTop,h,d,p),h.x+=h.w,h.y+=h.h,aR(a.rightAndBottom,h,d,p),n.chartArea={left:h.left,top:h.top,right:h.left+h.w,bottom:h.top+h.h,height:h.h,width:h.w},_e(a.chartArea,g=>{let m=g.box;Object.assign(m,n.chartArea),m.update(h.w,h.h,{left:0,top:0,right:0,bottom:0})})}},Kp=class{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,r){}removeEventListener(t,e,r){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,r,i){return e=Math.max(0,e||t.width),r=r||t.height,{width:e,height:Math.max(0,i?Math.floor(e/i):r)}}isAttached(t){return!0}updateConfig(t){}},G0=class extends Kp{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}},Wp="$chartjs",B5={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},lR=n=>n===null||n==="";function U5(n,t){let e=n.style,r=n.getAttribute("height"),i=n.getAttribute("width");if(n[Wp]={initial:{height:r,width:i,style:{display:e.display,height:e.height,width:e.width}}},e.display=e.display||"block",e.boxSizing=e.boxSizing||"border-box",lR(i)){let o=I0(n,"width");o!==void 0&&(n.width=o)}if(lR(r))if(n.style.height==="")n.height=n.width/(t||2);else{let o=I0(n,"height");o!==void 0&&(n.height=o)}return n}var ek=zO?{passive:!0}:!1;function $5(n,t,e){n&&n.addEventListener(t,e,ek)}function H5(n,t,e){n&&n.canvas&&n.canvas.removeEventListener(t,e,ek)}function z5(n,t){let e=B5[n.type]||n.type,{x:r,y:i}=to(n,t);return{type:e,chart:t,native:n,x:r!==void 0?r:null,y:i!==void 0?i:null}}function Yp(n,t){for(let e of n)if(e===t||e.contains(t))return!0}function W5(n,t,e){let r=n.canvas,i=new MutationObserver(o=>{let s=!1;for(let a of o)s=s||Yp(a.addedNodes,r),s=s&&!Yp(a.removedNodes,r);s&&e()});return i.observe(document,{childList:!0,subtree:!0}),i}function q5(n,t,e){let r=n.canvas,i=new MutationObserver(o=>{let s=!1;for(let a of o)s=s||Yp(a.removedNodes,r),s=s&&!Yp(a.addedNodes,r);s&&e()});return i.observe(document,{childList:!0,subtree:!0}),i}var ru=new Map,cR=0;function tk(){let n=window.devicePixelRatio;n!==cR&&(cR=n,ru.forEach((t,e)=>{e.currentDevicePixelRatio!==n&&t()}))}function G5(n,t){ru.size||window.addEventListener("resize",tk),ru.set(n,t)}function K5(n){ru.delete(n),ru.size||window.removeEventListener("resize",tk)}function Y5(n,t,e){let r=n.canvas,i=r&&Lp(r);if(!i)return;let o=p0((a,l)=>{let c=i.clientWidth;e(a,l),c<i.clientWidth&&e()},window),s=new ResizeObserver(a=>{let l=a[0],c=l.contentRect.width,u=l.contentRect.height;c===0&&u===0||o(c,u)});return s.observe(i),G5(n,o),s}function V0(n,t,e){e&&e.disconnect(),t==="resize"&&K5(n)}function Z5(n,t,e){let r=n.canvas,i=p0(o=>{n.ctx!==null&&e(z5(o,n))},n);return $5(r,t,i),i}var K0=class extends Kp{acquireContext(t,e){let r=t&&t.getContext&&t.getContext("2d");return r&&r.canvas===t?(U5(t,e),r):null}releaseContext(t){let e=t.canvas;if(!e[Wp])return!1;let r=e[Wp].initial;["height","width"].forEach(o=>{let s=r[o];re(s)?e.removeAttribute(o):e.setAttribute(o,s)});let i=r.style||{};return Object.keys(i).forEach(o=>{e.style[o]=i[o]}),e.width=e.width,delete e[Wp],!0}addEventListener(t,e,r){this.removeEventListener(t,e);let i=t.$proxies||(t.$proxies={}),s={attach:W5,detach:q5,resize:Y5}[e]||Z5;i[e]=s(t,e,r)}removeEventListener(t,e){let r=t.$proxies||(t.$proxies={}),i=r[e];if(!i)return;({attach:V0,detach:V0,resize:V0}[e]||H5)(t,e,i),r[e]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,r,i){return HO(t,e,r,i)}isAttached(t){let e=t&&Lp(t);return!!(e&&e.isConnected)}};function J5(n){return!Fp()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?G0:K0}var Wn=class{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(t){let{x:e,y:r}=this.getProps(["x","y"],t);return{x:e,y:r}}hasValue(){return os(this.x)&&os(this.y)}getProps(t,e){let r=this.$animations;if(!e||!r)return this;let i={};return t.forEach(o=>{i[o]=r[o]&&r[o].active()?r[o]._to:this[o]}),i}};function X5(n,t){let e=n.options.ticks,r=Q5(n),i=Math.min(e.maxTicksLimit||r,r),o=e.major.enabled?tW(t):[],s=o.length,a=o[0],l=o[s-1],c=[];if(s>i)return nW(t,c,o,s/i),c;let u=eW(o,t,i);if(s>0){let d,f,h=s>1?Math.round((l-a)/(s-1)):null;for(Bp(t,c,u,re(h)?0:a-h,a),d=0,f=s-1;d<f;d++)Bp(t,c,u,o[d],o[d+1]);return Bp(t,c,u,l,re(h)?t.length:l+h),c}return Bp(t,c,u),c}function Q5(n){let t=n.options.offset,e=n._tickSize(),r=n._length/e+(t?0:1),i=n._maxLength/e;return Math.floor(Math.min(r,i))}function eW(n,t,e){let r=rW(n),i=t.length/e;if(!r)return Math.max(i,1);let o=DO(r);for(let s=0,a=o.length-1;s<a;s++){let l=o[s];if(l>i)return l}return Math.max(i,1)}function tW(n){let t=[],e,r;for(e=0,r=n.length;e<r;e++)n[e].major&&t.push(e);return t}function nW(n,t,e,r){let i=0,o=e[0],s;for(r=Math.ceil(r),s=0;s<n.length;s++)s===o&&(t.push(n[s]),i++,o=e[i*r])}function Bp(n,t,e,r,i){let o=G(r,0),s=Math.min(G(i,n.length),n.length),a=0,l,c,u;for(e=Math.ceil(e),i&&(l=i-r,e=l/Math.floor(l/e)),u=o;u<0;)a++,u=Math.round(o+a*e);for(c=Math.max(o,0);c<s;c++)c===u&&(t.push(n[c]),a++,u=Math.round(o+a*e))}function rW(n){let t=n.length,e,r;if(t<2)return!1;for(r=n[0],e=1;e<t;++e)if(n[e]-n[e-1]!==r)return!1;return r}var iW=n=>n==="left"?"right":n==="right"?"left":n,uR=(n,t,e)=>t==="top"||t==="left"?n[t]+e:n[t]-e,dR=(n,t)=>Math.min(t||n,n);function hR(n,t){let e=[],r=n.length/t,i=n.length,o=0;for(;o<i;o+=r)e.push(n[Math.floor(o)]);return e}function oW(n,t,e){let r=n.ticks.length,i=Math.min(t,r-1),o=n._startPixel,s=n._endPixel,a=1e-6,l=n.getPixelForTick(i),c;if(!(e&&(r===1?c=Math.max(l-o,s-l):t===0?c=(n.getPixelForTick(1)-l)/2:c=(l-n.getPixelForTick(i-1))/2,l+=i<t?c:-c,l<o-a||l>s+a)))return l}function sW(n,t){_e(n,e=>{let r=e.gc,i=r.length/2,o;if(i>t){for(o=0;o<i;++o)delete e.data[r[o]];r.splice(0,i)}})}function Qc(n){return n.drawTicks?n.tickLength:0}function fR(n,t){if(!n.display)return 0;let e=nt(n.font,t),r=bt(n.padding);return(Me(n.text)?n.text.length:1)*e.lineHeight+r.height}function aW(n,t){return ti(n,{scale:t,type:"scale"})}function lW(n,t,e){return ti(n,{tick:e,index:t,type:"tick"})}function cW(n,t,e){let r=Op(n);return(e&&t!=="right"||!e&&t==="right")&&(r=iW(r)),r}function uW(n,t,e,r){let{top:i,left:o,bottom:s,right:a,chart:l}=n,{chartArea:c,scales:u}=l,d=0,f,h,p,g=s-i,m=a-o;if(n.isHorizontal()){if(h=_t(r,o,a),se(e)){let y=Object.keys(e)[0],b=e[y];p=u[y].getPixelForValue(b)+g-t}else e==="center"?p=(c.bottom+c.top)/2+g-t:p=uR(n,e,t);f=a-o}else{if(se(e)){let y=Object.keys(e)[0],b=e[y];h=u[y].getPixelForValue(b)-m+t}else e==="center"?h=(c.left+c.right)/2-m+t:h=uR(n,e,t);p=_t(r,s,i),d=e==="left"?-ze:ze}return{titleX:h,titleY:p,maxWidth:f,rotation:d}}var cs=class n extends Wn{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:r,_suggestedMax:i}=this;return t=Jt(t,Number.POSITIVE_INFINITY),e=Jt(e,Number.NEGATIVE_INFINITY),r=Jt(r,Number.POSITIVE_INFINITY),i=Jt(i,Number.NEGATIVE_INFINITY),{min:Jt(t,r),max:Jt(e,i),minDefined:Ue(t),maxDefined:Ue(e)}}getMinMax(t){let{min:e,max:r,minDefined:i,maxDefined:o}=this.getUserBounds(),s;if(i&&o)return{min:e,max:r};let a=this.getMatchingVisibleMetas();for(let l=0,c=a.length;l<c;++l)s=a[l].controller.getMinMax(this,t),i||(e=Math.min(e,s.min)),o||(r=Math.max(r,s.max));return e=o&&e>r?r:e,r=i&&e>r?e:r,{min:Jt(e,Jt(r,e)),max:Jt(r,Jt(e,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){let t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){xe(this.options.beforeUpdate,[this])}update(t,e,r){let{beginAtZero:i,grace:o,ticks:s}=this.options,a=s.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=r=Object.assign({left:0,right:0,top:0,bottom:0},r),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+r.left+r.right:this.height+r.top+r.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=LO(this,o,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();let l=a<this.ticks.length;this._convertTicksToLabels(l?hR(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),s.display&&(s.autoSkip||s.source==="auto")&&(this.ticks=X5(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,e,r;this.isHorizontal()?(e=this.left,r=this.right):(e=this.top,r=this.bottom,t=!t),this._startPixel=e,this._endPixel=r,this._reversePixels=t,this._length=r-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){xe(this.options.afterUpdate,[this])}beforeSetDimensions(){xe(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){xe(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),xe(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){xe(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){let e=this.options.ticks,r,i,o;for(r=0,i=t.length;r<i;r++)o=t[r],o.label=xe(e.callback,[o.value,r,t],this)}afterTickToLabelConversion(){xe(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){xe(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){let t=this.options,e=t.ticks,r=dR(this.ticks.length,t.ticks.maxTicksLimit),i=e.minRotation||0,o=e.maxRotation,s=i,a,l,c;if(!this._isVisible()||!e.display||i>=o||r<=1||!this.isHorizontal()){this.labelRotation=i;return}let u=this._getLabelSizes(),d=u.widest.width,f=u.highest.height,h=dt(this.chart.width-d,0,this.maxWidth);a=t.offset?this.maxWidth/r:h/(r-1),d+6>a&&(a=h/(r-(t.offset?.5:1)),l=this.maxHeight-Qc(t.grid)-e.padding-fR(t.title,this.chart.options.font),c=Math.sqrt(d*d+f*f),s=Tp(Math.min(Math.asin(dt((u.highest.height+6)/a,-1,1)),Math.asin(dt(l/c,-1,1))-Math.asin(dt(f/c,-1,1)))),s=Math.max(i,Math.min(o,s))),this.labelRotation=s}afterCalculateLabelRotation(){xe(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){xe(this.options.beforeFit,[this])}fit(){let t={width:0,height:0},{chart:e,options:{ticks:r,title:i,grid:o}}=this,s=this._isVisible(),a=this.isHorizontal();if(s){let l=fR(i,e.options.font);if(a?(t.width=this.maxWidth,t.height=Qc(o)+l):(t.height=this.maxHeight,t.width=Qc(o)+l),r.display&&this.ticks.length){let{first:c,last:u,widest:d,highest:f}=this._getLabelSizes(),h=r.padding*2,p=En(this.labelRotation),g=Math.cos(p),m=Math.sin(p);if(a){let y=r.mirror?0:m*d.width+g*f.height;t.height=Math.min(this.maxHeight,t.height+y+h)}else{let y=r.mirror?0:g*d.width+m*f.height;t.width=Math.min(this.maxWidth,t.width+y+h)}this._calculatePadding(c,u,m,g)}}this._handleMargins(),a?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,e,r,i){let{ticks:{align:o,padding:s},position:a}=this.options,l=this.labelRotation!==0,c=a!=="top"&&this.axis==="x";if(this.isHorizontal()){let u=this.getPixelForTick(0)-this.left,d=this.right-this.getPixelForTick(this.ticks.length-1),f=0,h=0;l?c?(f=i*t.width,h=r*e.height):(f=r*t.height,h=i*e.width):o==="start"?h=e.width:o==="end"?f=t.width:o!=="inner"&&(f=t.width/2,h=e.width/2),this.paddingLeft=Math.max((f-u+s)*this.width/(this.width-u),0),this.paddingRight=Math.max((h-d+s)*this.width/(this.width-d),0)}else{let u=e.height/2,d=t.height/2;o==="start"?(u=0,d=t.height):o==="end"&&(u=e.height,d=0),this.paddingTop=u+s,this.paddingBottom=d+s}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){xe(this.options.afterFit,[this])}isHorizontal(){let{axis:t,position:e}=this.options;return e==="top"||e==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let e,r;for(e=0,r=t.length;e<r;e++)re(t[e].label)&&(t.splice(e,1),r--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){let e=this.options.ticks.sampleSize,r=this.ticks;e<r.length&&(r=hR(r,e)),this._labelSizes=t=this._computeLabelSizes(r,r.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,e,r){let{ctx:i,_longestTextCache:o}=this,s=[],a=[],l=Math.floor(e/dR(e,r)),c=0,u=0,d,f,h,p,g,m,y,b,w,C,x;for(d=0;d<e;d+=l){if(p=t[d].label,g=this._resolveTickFontOptions(d),i.font=m=g.string,y=o[m]=o[m]||{data:{},gc:[]},b=g.lineHeight,w=C=0,!re(p)&&!Me(p))w=Wc(i,y.data,y.gc,w,p),C=b;else if(Me(p))for(f=0,h=p.length;f<h;++f)x=p[f],!re(x)&&!Me(x)&&(w=Wc(i,y.data,y.gc,w,x),C+=b);s.push(w),a.push(C),c=Math.max(w,c),u=Math.max(C,u)}sW(o,e);let I=s.indexOf(c),A=a.indexOf(u),T=N=>({width:s[N]||0,height:a[N]||0});return{first:T(0),last:T(e-1),widest:T(I),highest:T(A),widths:s,heights:a}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){let e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);let e=this._startPixel+t*this._length;return SO(this._alignToPixels?Xi(this.chart,e,0):e)}getDecimalForPixel(t){let e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){let{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){let e=this.ticks||[];if(t>=0&&t<e.length){let r=e[t];return r.$context||(r.$context=lW(this.getContext(),t,r))}return this.$context||(this.$context=aW(this.chart.getContext(),this))}_tickSize(){let t=this.options.ticks,e=En(this.labelRotation),r=Math.abs(Math.cos(e)),i=Math.abs(Math.sin(e)),o=this._getLabelSizes(),s=t.autoSkipPadding||0,a=o?o.widest.width+s:0,l=o?o.highest.height+s:0;return this.isHorizontal()?l*r>a*i?a/r:l/i:l*i<a*r?l/r:a/i}_isVisible(){let t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){let e=this.axis,r=this.chart,i=this.options,{grid:o,position:s,border:a}=i,l=o.offset,c=this.isHorizontal(),d=this.ticks.length+(l?1:0),f=Qc(o),h=[],p=a.setContext(this.getContext()),g=p.display?p.width:0,m=g/2,y=function(Pe){return Xi(r,Pe,g)},b,w,C,x,I,A,T,N,W,J,ae,mt;if(s==="top")b=y(this.bottom),A=this.bottom-f,N=b-m,J=y(t.top)+m,mt=t.bottom;else if(s==="bottom")b=y(this.top),J=t.top,mt=y(t.bottom)-m,A=b+m,N=this.top+f;else if(s==="left")b=y(this.right),I=this.right-f,T=b-m,W=y(t.left)+m,ae=t.right;else if(s==="right")b=y(this.left),W=t.left,ae=y(t.right)-m,I=b+m,T=this.left+f;else if(e==="x"){if(s==="center")b=y((t.top+t.bottom)/2+.5);else if(se(s)){let Pe=Object.keys(s)[0],We=s[Pe];b=y(this.chart.scales[Pe].getPixelForValue(We))}J=t.top,mt=t.bottom,A=b+m,N=A+f}else if(e==="y"){if(s==="center")b=y((t.left+t.right)/2);else if(se(s)){let Pe=Object.keys(s)[0],We=s[Pe];b=y(this.chart.scales[Pe].getPixelForValue(We))}I=b-m,T=I-f,W=t.left,ae=t.right}let en=G(i.ticks.maxTicksLimit,d),we=Math.max(1,Math.ceil(d/en));for(w=0;w<d;w+=we){let Pe=this.getContext(w),We=o.setContext(Pe),Cn=a.setContext(Pe),wt=We.lineWidth,us=We.color,lu=Cn.dash||[],ds=Cn.dashOffset,rl=We.tickWidth,io=We.tickColor,il=We.tickBorderDash||[],oo=We.tickBorderDashOffset;C=oW(this,w,l),C!==void 0&&(x=Xi(r,C,wt),c?I=T=W=ae=x:A=N=J=mt=x,h.push({tx1:I,ty1:A,tx2:T,ty2:N,x1:W,y1:J,x2:ae,y2:mt,width:wt,color:us,borderDash:lu,borderDashOffset:ds,tickWidth:rl,tickColor:io,tickBorderDash:il,tickBorderDashOffset:oo}))}return this._ticksLength=d,this._borderValue=b,h}_computeLabelItems(t){let e=this.axis,r=this.options,{position:i,ticks:o}=r,s=this.isHorizontal(),a=this.ticks,{align:l,crossAlign:c,padding:u,mirror:d}=o,f=Qc(r.grid),h=f+u,p=d?-u:h,g=-En(this.labelRotation),m=[],y,b,w,C,x,I,A,T,N,W,J,ae,mt="middle";if(i==="top")I=this.bottom-p,A=this._getXAxisLabelAlignment();else if(i==="bottom")I=this.top+p,A=this._getXAxisLabelAlignment();else if(i==="left"){let we=this._getYAxisLabelAlignment(f);A=we.textAlign,x=we.x}else if(i==="right"){let we=this._getYAxisLabelAlignment(f);A=we.textAlign,x=we.x}else if(e==="x"){if(i==="center")I=(t.top+t.bottom)/2+h;else if(se(i)){let we=Object.keys(i)[0],Pe=i[we];I=this.chart.scales[we].getPixelForValue(Pe)+h}A=this._getXAxisLabelAlignment()}else if(e==="y"){if(i==="center")x=(t.left+t.right)/2-h;else if(se(i)){let we=Object.keys(i)[0],Pe=i[we];x=this.chart.scales[we].getPixelForValue(Pe)}A=this._getYAxisLabelAlignment(f).textAlign}e==="y"&&(l==="start"?mt="top":l==="end"&&(mt="bottom"));let en=this._getLabelSizes();for(y=0,b=a.length;y<b;++y){w=a[y],C=w.label;let we=o.setContext(this.getContext(y));T=this.getPixelForTick(y)+o.labelOffset,N=this._resolveTickFontOptions(y),W=N.lineHeight,J=Me(C)?C.length:1;let Pe=J/2,We=we.color,Cn=we.textStrokeColor,wt=we.textStrokeWidth,us=A;s?(x=T,A==="inner"&&(y===b-1?us=this.options.reverse?"left":"right":y===0?us=this.options.reverse?"right":"left":us="center"),i==="top"?c==="near"||g!==0?ae=-J*W+W/2:c==="center"?ae=-en.highest.height/2-Pe*W+W:ae=-en.highest.height+W/2:c==="near"||g!==0?ae=W/2:c==="center"?ae=en.highest.height/2-Pe*W:ae=en.highest.height-J*W,d&&(ae*=-1),g!==0&&!we.showLabelBackdrop&&(x+=W/2*Math.sin(g))):(I=T,ae=(1-J)*W/2);let lu;if(we.showLabelBackdrop){let ds=bt(we.backdropPadding),rl=en.heights[y],io=en.widths[y],il=ae-ds.top,oo=0-ds.left;switch(mt){case"middle":il-=rl/2;break;case"bottom":il-=rl;break}switch(A){case"center":oo-=io/2;break;case"right":oo-=io;break;case"inner":y===b-1?oo-=io:y>0&&(oo-=io/2);break}lu={left:oo,top:il,width:io+ds.width,height:rl+ds.height,color:we.backdropColor}}m.push({label:C,font:N,textOffset:ae,options:{rotation:g,color:We,strokeColor:Cn,strokeWidth:wt,textAlign:us,textBaseline:mt,translation:[x,I],backdrop:lu}})}return m}_getXAxisLabelAlignment(){let{position:t,ticks:e}=this.options;if(-En(this.labelRotation))return t==="top"?"left":"right";let i="center";return e.align==="start"?i="left":e.align==="end"?i="right":e.align==="inner"&&(i="inner"),i}_getYAxisLabelAlignment(t){let{position:e,ticks:{crossAlign:r,mirror:i,padding:o}}=this.options,s=this._getLabelSizes(),a=t+o,l=s.widest.width,c,u;return e==="left"?i?(u=this.right+o,r==="near"?c="left":r==="center"?(c="center",u+=l/2):(c="right",u+=l)):(u=this.right-a,r==="near"?c="right":r==="center"?(c="center",u-=l/2):(c="left",u=this.left)):e==="right"?i?(u=this.left+o,r==="near"?c="right":r==="center"?(c="center",u-=l/2):(c="left",u-=l)):(u=this.left+a,r==="near"?c="left":r==="center"?(c="center",u+=l/2):(c="right",u=this.right)):c="right",{textAlign:c,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;let t=this.chart,e=this.options.position;if(e==="left"||e==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(e==="top"||e==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){let{ctx:t,options:{backgroundColor:e},left:r,top:i,width:o,height:s}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(r,i,o,s),t.restore())}getLineWidthForValue(t){let e=this.options.grid;if(!this._isVisible()||!e.display)return 0;let i=this.ticks.findIndex(o=>o.value===t);return i>=0?e.setContext(this.getContext(i)).lineWidth:0}drawGrid(t){let e=this.options.grid,r=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t)),o,s,a=(l,c,u)=>{!u.width||!u.color||(r.save(),r.lineWidth=u.width,r.strokeStyle=u.color,r.setLineDash(u.borderDash||[]),r.lineDashOffset=u.borderDashOffset,r.beginPath(),r.moveTo(l.x,l.y),r.lineTo(c.x,c.y),r.stroke(),r.restore())};if(e.display)for(o=0,s=i.length;o<s;++o){let l=i[o];e.drawOnChartArea&&a({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),e.drawTicks&&a({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){let{chart:t,ctx:e,options:{border:r,grid:i}}=this,o=r.setContext(this.getContext()),s=r.display?o.width:0;if(!s)return;let a=i.setContext(this.getContext(0)).lineWidth,l=this._borderValue,c,u,d,f;this.isHorizontal()?(c=Xi(t,this.left,s)-s/2,u=Xi(t,this.right,a)+a/2,d=f=l):(d=Xi(t,this.top,s)-s/2,f=Xi(t,this.bottom,a)+a/2,c=u=l),e.save(),e.lineWidth=o.width,e.strokeStyle=o.color,e.beginPath(),e.moveTo(c,d),e.lineTo(u,f),e.stroke(),e.restore()}drawLabels(t){if(!this.options.ticks.display)return;let r=this.ctx,i=this._computeLabelArea();i&&Kc(r,i);let o=this.getLabelItems(t);for(let s of o){let a=s.options,l=s.font,c=s.label,u=s.textOffset;Qi(r,c,0,u,l,a)}i&&Yc(r)}drawTitle(){let{ctx:t,options:{position:e,title:r,reverse:i}}=this;if(!r.display)return;let o=nt(r.font),s=bt(r.padding),a=r.align,l=o.lineHeight/2;e==="bottom"||e==="center"||se(e)?(l+=s.bottom,Me(r.text)&&(l+=o.lineHeight*(r.text.length-1))):l+=s.top;let{titleX:c,titleY:u,maxWidth:d,rotation:f}=uW(this,l,e,a);Qi(t,r.text,0,0,o,{color:r.color,maxWidth:d,rotation:f,textAlign:cW(a,e,i),textBaseline:"middle",translation:[c,u]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){let t=this.options,e=t.ticks&&t.ticks.z||0,r=G(t.grid&&t.grid.z,-1),i=G(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==n.prototype.draw?[{z:e,draw:o=>{this.draw(o)}}]:[{z:r,draw:o=>{this.drawBackground(),this.drawGrid(o),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:e,draw:o=>{this.drawLabels(o)}}]}getMatchingVisibleMetas(t){let e=this.chart.getSortedVisibleDatasetMetas(),r=this.axis+"AxisID",i=[],o,s;for(o=0,s=e.length;o<s;++o){let a=e[o];a[r]===this.id&&(!t||a.type===t)&&i.push(a)}return i}_resolveTickFontOptions(t){let e=this.options.ticks.setContext(this.getContext(t));return nt(e.font)}_maxDigits(){let t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}},tl=class{constructor(t,e,r){this.type=t,this.scope=e,this.override=r,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){let e=Object.getPrototypeOf(t),r;fW(e)&&(r=this.register(e));let i=this.items,o=t.id,s=this.scope+"."+o;if(!o)throw new Error("class does not have id: "+t);return o in i||(i[o]=t,dW(t,s,r),this.override&&ke.override(t.id,t.overrides)),s}get(t){return this.items[t]}unregister(t){let e=this.items,r=t.id,i=this.scope;r in e&&delete e[r],i&&r in ke[i]&&(delete ke[i][r],this.override&&delete Ji[r])}};function dW(n,t,e){let r=Wa(Object.create(null),[e?ke.get(e):{},ke.get(t),n.defaults]);ke.set(t,r),n.defaultRoutes&&hW(t,n.defaultRoutes),n.descriptors&&ke.describe(t,n.descriptors)}function hW(n,t){Object.keys(t).forEach(e=>{let r=e.split("."),i=r.pop(),o=[n].concat(r).join("."),s=t[e].split("."),a=s.pop(),l=s.join(".");ke.route(o,i,l,a)})}function fW(n){return"id"in n&&"defaults"in n}var Y0=class{constructor(){this.controllers=new tl(ro,"datasets",!0),this.elements=new tl(Wn,"elements"),this.plugins=new tl(Object,"plugins"),this.scales=new tl(cs,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,e,r){[...e].forEach(i=>{let o=r||this._getRegistryForType(i);r||o.isForType(i)||o===this.plugins&&i.id?this._exec(t,o,i):_e(i,s=>{let a=r||this._getRegistryForType(s);this._exec(t,a,s)})})}_exec(t,e,r){let i=Mp(t);xe(r["before"+i],[],r),e[t](r),xe(r["after"+i],[],r)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){let r=this._typedRegistries[e];if(r.isForType(t))return r}return this.plugins}_get(t,e,r){let i=e.get(t);if(i===void 0)throw new Error('"'+t+'" is not a registered '+r+".");return i}},Cr=new Y0,Z0=class{constructor(){this._init=void 0}notify(t,e,r,i){if(e==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install")),this._init===void 0)return;let o=i?this._descriptors(t).filter(i):this._descriptors(t),s=this._notify(o,t,e,r);return e==="afterDestroy"&&(this._notify(o,t,"stop"),this._notify(this._init,t,"uninstall"),this._init=void 0),s}_notify(t,e,r,i){i=i||{};for(let o of t){let s=o.plugin,a=s[r],l=[e,i,o.options];if(xe(a,l,s)===!1&&i.cancelable)return!1}return!0}invalidate(){re(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;let e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){let r=t&&t.config,i=G(r.options&&r.options.plugins,{}),o=pW(r);return i===!1&&!e?[]:mW(t,o,i,e)}_notifyStateChanges(t){let e=this._oldCache||[],r=this._cache,i=(o,s)=>o.filter(a=>!s.some(l=>a.plugin.id===l.plugin.id));this._notify(i(e,r),t,"stop"),this._notify(i(r,e),t,"start")}};function pW(n){let t={},e=[],r=Object.keys(Cr.plugins.items);for(let o=0;o<r.length;o++)e.push(Cr.getPlugin(r[o]));let i=n.plugins||[];for(let o=0;o<i.length;o++){let s=i[o];e.indexOf(s)===-1&&(e.push(s),t[s.id]=!0)}return{plugins:e,localIds:t}}function gW(n,t){return!t&&n===!1?null:n===!0?{}:n}function mW(n,{plugins:t,localIds:e},r,i){let o=[],s=n.getContext();for(let a of t){let l=a.id,c=gW(r[l],i);c!==null&&o.push({plugin:a,options:vW(n.config,{plugin:a,local:e[l]},c,s)})}return o}function vW(n,{plugin:t,local:e},r,i){let o=n.pluginScopeKeys(t),s=n.getOptionScopes(r,o);return e&&t.defaults&&s.push(t.defaults),n.createResolver(s,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function J0(n,t){let e=ke.datasets[n]||{};return((t.datasets||{})[n]||{}).indexAxis||t.indexAxis||e.indexAxis||"x"}function yW(n,t){let e=n;return n==="_index_"?e=t:n==="_value_"&&(e=t==="x"?"y":"x"),e}function _W(n,t){return n===t?"_index_":"_value_"}function pR(n){if(n==="x"||n==="y"||n==="r")return n}function bW(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function X0(n,...t){if(pR(n))return n;for(let e of t){let r=e.axis||bW(e.position)||n.length>1&&pR(n[0].toLowerCase());if(r)return r}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function gR(n,t,e){if(e[t+"AxisID"]===n)return{axis:t}}function wW(n,t){if(t.data&&t.data.datasets){let e=t.data.datasets.filter(r=>r.xAxisID===n||r.yAxisID===n);if(e.length)return gR(n,"x",e[0])||gR(n,"y",e[0])}return{}}function EW(n,t){let e=Ji[n.type]||{scales:{}},r=t.scales||{},i=J0(n.type,t),o=Object.create(null);return Object.keys(r).forEach(s=>{let a=r[s];if(!se(a))return console.error(`Invalid scale configuration for scale: ${s}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${s}`);let l=X0(s,a,wW(s,n),ke.scales[a.type]),c=_W(l,i),u=e.scales||{};o[s]=Ga(Object.create(null),[{axis:l},a,u[l],u[c]])}),n.data.datasets.forEach(s=>{let a=s.type||n.type,l=s.indexAxis||J0(a,t),u=(Ji[a]||{}).scales||{};Object.keys(u).forEach(d=>{let f=yW(d,l),h=s[f+"AxisID"]||f;o[h]=o[h]||Object.create(null),Ga(o[h],[{axis:f},r[h],u[d]])})}),Object.keys(o).forEach(s=>{let a=o[s];Ga(a,[ke.scales[a.type],ke.scale])}),o}function nk(n){let t=n.options||(n.options={});t.plugins=G(t.plugins,{}),t.scales=EW(n,t)}function rk(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function CW(n){return n=n||{},n.data=rk(n.data),nk(n),n}var mR=new Map,ik=new Set;function Up(n,t){let e=mR.get(n);return e||(e=t(),mR.set(n,e),ik.add(e)),e}var eu=(n,t,e)=>{let r=ei(t,e);r!==void 0&&n.add(r)},Q0=class{constructor(t){this._config=CW(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=rk(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){let t=this._config;this.clearCache(),nk(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return Up(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,e){return Up(`${t}.transition.${e}`,()=>[[`datasets.${t}.transitions.${e}`,`transitions.${e}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,e){return Up(`${t}-${e}`,()=>[[`datasets.${t}.elements.${e}`,`datasets.${t}`,`elements.${e}`,""]])}pluginScopeKeys(t){let e=t.id,r=this.type;return Up(`${r}-plugin-${e}`,()=>[[`plugins.${e}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,e){let r=this._scopeCache,i=r.get(t);return(!i||e)&&(i=new Map,r.set(t,i)),i}getOptionScopes(t,e,r){let{options:i,type:o}=this,s=this._cachedScopes(t,r),a=s.get(e);if(a)return a;let l=new Set;e.forEach(u=>{t&&(l.add(t),u.forEach(d=>eu(l,t,d))),u.forEach(d=>eu(l,i,d)),u.forEach(d=>eu(l,Ji[o]||{},d)),u.forEach(d=>eu(l,ke,d)),u.forEach(d=>eu(l,Rp,d))});let c=Array.from(l);return c.length===0&&c.push(Object.create(null)),ik.has(e)&&s.set(e,c),c}chartOptionScopes(){let{options:t,type:e}=this;return[t,Ji[e]||{},ke.datasets[e]||{},{type:e},ke,Rp]}resolveNamedOptions(t,e,r,i=[""]){let o={$shared:!0},{resolver:s,subPrefixes:a}=vR(this._resolverCache,t,i),l=s;if(xW(s,e)){o.$shared=!1,r=Xr(r)?r():r;let c=this.createResolver(t,r,a);l=is(s,r,c)}for(let c of e)o[c]=l[c];return o}createResolver(t,e,r=[""],i){let{resolver:o}=vR(this._resolverCache,t,r);return se(e)?is(o,e,void 0,i):o}};function vR(n,t,e){let r=n.get(t);r||(r=new Map,n.set(t,r));let i=e.join(),o=r.get(i);return o||(o={resolver:Np(t,e),subPrefixes:e.filter(a=>!a.toLowerCase().includes("hover"))},r.set(i,o)),o}var DW=n=>se(n)&&Object.getOwnPropertyNames(n).some(t=>Xr(n[t]));function xW(n,t){let{isScriptable:e,isIndexable:r}=E0(n);for(let i of t){let o=e(i),s=r(i),a=(s||o)&&n[i];if(o&&(Xr(a)||DW(a))||s&&Me(a))return!0}return!1}var SW="4.5.1",IW=["top","bottom","left","right","chartArea"];function yR(n,t){return n==="top"||n==="bottom"||IW.indexOf(n)===-1&&t==="x"}function _R(n,t){return function(e,r){return e[n]===r[n]?e[t]-r[t]:e[n]-r[n]}}function bR(n){let t=n.chart,e=t.options.animation;t.notifyPlugins("afterRender"),xe(e&&e.onComplete,[n],t)}function MW(n){let t=n.chart,e=t.options.animation;xe(e&&e.onProgress,[n],t)}function ok(n){return Fp()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}var qp={},wR=n=>{let t=ok(n);return Object.values(qp).filter(e=>e.canvas===t).pop()};function TW(n,t,e){let r=Object.keys(n);for(let i of r){let o=+i;if(o>=t){let s=n[i];delete n[i],(e>0||o>t)&&(n[o+e]=s)}}}function AW(n,t,e,r){return!e||n.type==="mouseout"?null:r?t:n}var au=(()=>{class n{static defaults=ke;static instances=qp;static overrides=Ji;static registry=Cr;static version=SW;static getChart=wR;static register(...e){Cr.add(...e),ER()}static unregister(...e){Cr.remove(...e),ER()}constructor(e,r){let i=this.config=new Q0(r),o=ok(e),s=wR(o);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");let a=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||J5(o)),this.platform.updateConfig(i);let l=this.platform.acquireContext(o,a.aspectRatio),c=l&&l.canvas,u=c&&c.height,d=c&&c.width;if(this.id=bO(),this.ctx=l,this.canvas=c,this.width=d,this.height=u,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new Z0,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=OO(f=>this.update(f),a.resizeDelay||0),this._dataChanges=[],qp[this.id]=this,!l||!c){console.error("Failed to create chart: can't acquire context from the given item");return}ni.listen(this,"complete",bR),ni.listen(this,"progress",MW),this._initialize(),this.attached&&this.update()}get aspectRatio(){let{options:{aspectRatio:e,maintainAspectRatio:r},width:i,height:o,_aspectRatio:s}=this;return re(e)?r&&s?s:o?i/o:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return Cr}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():S0(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return _0(this.canvas,this.ctx),this}stop(){return ni.stop(this),this}resize(e,r){ni.running(this)?this._resizeBeforeDraw={width:e,height:r}:this._resize(e,r)}_resize(e,r){let i=this.options,o=this.canvas,s=i.maintainAspectRatio&&this.aspectRatio,a=this.platform.getMaximumSize(o,e,r,s),l=i.devicePixelRatio||this.platform.getDevicePixelRatio(),c=this.width?"resize":"attach";this.width=a.width,this.height=a.height,this._aspectRatio=this.aspectRatio,S0(this,l,!0)&&(this.notifyPlugins("resize",{size:a}),xe(i.onResize,[this,a],this),this.attached&&this._doResize(c)&&this.render())}ensureScalesHaveIDs(){let r=this.options.scales||{};_e(r,(i,o)=>{i.id=o})}buildOrUpdateScales(){let e=this.options,r=e.scales,i=this.scales,o=Object.keys(i).reduce((a,l)=>(a[l]=!1,a),{}),s=[];r&&(s=s.concat(Object.keys(r).map(a=>{let l=r[a],c=X0(a,l),u=c==="r",d=c==="x";return{options:l,dposition:u?"chartArea":d?"bottom":"left",dtype:u?"radialLinear":d?"category":"linear"}}))),_e(s,a=>{let l=a.options,c=l.id,u=X0(c,l),d=G(l.type,a.dtype);(l.position===void 0||yR(l.position,u)!==yR(a.dposition))&&(l.position=a.dposition),o[c]=!0;let f=null;if(c in i&&i[c].type===d)f=i[c];else{let h=Cr.getScale(d);f=new h({id:c,type:d,ctx:this.ctx,chart:this}),i[f.id]=f}f.init(l,e)}),_e(o,(a,l)=>{a||delete i[l]}),_e(i,a=>{It.configure(this,a,a.options),It.addBox(this,a)})}_updateMetasets(){let e=this._metasets,r=this.data.datasets.length,i=e.length;if(e.sort((o,s)=>o.index-s.index),i>r){for(let o=r;o<i;++o)this._destroyDatasetMeta(o);e.splice(r,i-r)}this._sortedMetasets=e.slice(0).sort(_R("order","index"))}_removeUnreferencedMetasets(){let{_metasets:e,data:{datasets:r}}=this;e.length>r.length&&delete this._stacks,e.forEach((i,o)=>{r.filter(s=>s===i._dataset).length===0&&this._destroyDatasetMeta(o)})}buildOrUpdateControllers(){let e=[],r=this.data.datasets,i,o;for(this._removeUnreferencedMetasets(),i=0,o=r.length;i<o;i++){let s=r[i],a=this.getDatasetMeta(i),l=s.type||this.config.type;if(a.type&&a.type!==l&&(this._destroyDatasetMeta(i),a=this.getDatasetMeta(i)),a.type=l,a.indexAxis=s.indexAxis||J0(l,this.options),a.order=s.order||0,a.index=i,a.label=""+s.label,a.visible=this.isDatasetVisible(i),a.controller)a.controller.updateIndex(i),a.controller.linkScales();else{let c=Cr.getController(l),{datasetElementType:u,dataElementType:d}=ke.datasets[l];Object.assign(c,{dataElementType:Cr.getElement(d),datasetElementType:u&&Cr.getElement(u)}),a.controller=new c(this,i),e.push(a.controller)}}return this._updateMetasets(),e}_resetElements(){_e(this.data.datasets,(e,r)=>{this.getDatasetMeta(r).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){let r=this.config;r.update();let i=this._options=r.createResolver(r.chartOptionScopes(),this.getContext()),o=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;let s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let a=0;for(let u=0,d=this.data.datasets.length;u<d;u++){let{controller:f}=this.getDatasetMeta(u),h=!o&&s.indexOf(f)===-1;f.buildOrUpdateElements(h),a=Math.max(+f.getMaxOverflow(),a)}a=this._minPadding=i.layout.autoPadding?a:0,this._updateLayout(a),o||_e(s,u=>{u.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(_R("z","_idx"));let{_active:l,_lastEvent:c}=this;c?this._eventHandler(c,!0):l.length&&this._updateHoverStyles(l,l,!0),this.render()}_updateScales(){_e(this.scales,e=>{It.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){let e=this.options,r=new Set(Object.keys(this._listeners)),i=new Set(e.events);(!s0(r,i)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){let{_hiddenIndices:e}=this,r=this._getUniformDataChanges()||[];for(let{method:i,start:o,count:s}of r){let a=i==="_removeElements"?-s:s;TW(e,o,a)}}_getUniformDataChanges(){let e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];let r=this.data.datasets.length,i=s=>new Set(e.filter(a=>a[0]===s).map((a,l)=>l+","+a.splice(1).join(","))),o=i(0);for(let s=1;s<r;s++)if(!s0(o,i(s)))return;return Array.from(o).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;It.update(this,this.width,this.height,e);let r=this.chartArea,i=r.width<=0||r.height<=0;this._layers=[],_e(this.boxes,o=>{i&&o.position==="chartArea"||(o.configure&&o.configure(),this._layers.push(...o._layers()))},this),this._layers.forEach((o,s)=>{o._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let r=0,i=this.data.datasets.length;r<i;++r)this.getDatasetMeta(r).controller.configure();for(let r=0,i=this.data.datasets.length;r<i;++r)this._updateDataset(r,Xr(e)?e({datasetIndex:r}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,r){let i=this.getDatasetMeta(e),o={meta:i,index:e,mode:r,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",o)!==!1&&(i.controller._update(r),o.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",o))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(ni.has(this)?this.attached&&!ni.running(this)&&ni.start(this):(this.draw(),bR({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){let{width:i,height:o}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,o)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;let r=this._layers;for(e=0;e<r.length&&r[e].z<=0;++e)r[e].draw(this.chartArea);for(this._drawDatasets();e<r.length;++e)r[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){let r=this._sortedMetasets,i=[],o,s;for(o=0,s=r.length;o<s;++o){let a=r[o];(!e||a.visible)&&i.push(a)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;let e=this.getSortedVisibleDatasetMetas();for(let r=e.length-1;r>=0;--r)this._drawDataset(e[r]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){let r=this.ctx,i={meta:e,index:e.index,cancelable:!0},o=R0(this,e);this.notifyPlugins("beforeDatasetDraw",i)!==!1&&(o&&Kc(r,o),e.controller.draw(),o&&Yc(r),i.cancelable=!1,this.notifyPlugins("afterDatasetDraw",i))}isPointInArea(e){return _r(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,r,i,o){let s=R5.modes[r];return typeof s=="function"?s(this,e,i,o):[]}getDatasetMeta(e){let r=this.data.datasets[e],i=this._metasets,o=i.filter(s=>s&&s._dataset===r).pop();return o||(o={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:r&&r.order||0,index:e,_dataset:r,_parsed:[],_sorted:!1},i.push(o)),o}getContext(){return this.$context||(this.$context=ti(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){let r=this.data.datasets[e];if(!r)return!1;let i=this.getDatasetMeta(e);return typeof i.hidden=="boolean"?!i.hidden:!r.hidden}setDatasetVisibility(e,r){let i=this.getDatasetMeta(e);i.hidden=!r}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,r,i){let o=i?"show":"hide",s=this.getDatasetMeta(e),a=s.controller._resolveAnimations(void 0,o);Ka(r)?(s.data[r].hidden=!i,this.update()):(this.setDatasetVisibility(e,i),a.update(s,{visible:i}),this.update(l=>l.datasetIndex===e?o:void 0))}hide(e,r){this._updateVisibility(e,r,!1)}show(e,r){this._updateVisibility(e,r,!0)}_destroyDatasetMeta(e){let r=this._metasets[e];r&&r.controller&&r.controller._destroy(),delete this._metasets[e]}_stop(){let e,r;for(this.stop(),ni.remove(this),e=0,r=this.data.datasets.length;e<r;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");let{canvas:e,ctx:r}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),_0(e,r),this.platform.releaseContext(r),this.canvas=null,this.ctx=null),delete qp[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){let e=this._listeners,r=this.platform,i=(s,a)=>{r.addEventListener(this,s,a),e[s]=a},o=(s,a,l)=>{s.offsetX=a,s.offsetY=l,this._eventHandler(s)};_e(this.options.events,s=>i(s,o))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});let e=this._responsiveListeners,r=this.platform,i=(c,u)=>{r.addEventListener(this,c,u),e[c]=u},o=(c,u)=>{e[c]&&(r.removeEventListener(this,c,u),delete e[c])},s=(c,u)=>{this.canvas&&this.resize(c,u)},a,l=()=>{o("attach",l),this.attached=!0,this.resize(),i("resize",s),i("detach",a)};a=()=>{this.attached=!1,o("resize",s),this._stop(),this._resize(0,0),i("attach",l)},r.isAttached(this.canvas)?l():a()}unbindEvents(){_e(this._listeners,(e,r)=>{this.platform.removeEventListener(this,r,e)}),this._listeners={},_e(this._responsiveListeners,(e,r)=>{this.platform.removeEventListener(this,r,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,r,i){let o=i?"set":"remove",s,a,l,c;for(r==="dataset"&&(s=this.getDatasetMeta(e[0].datasetIndex),s.controller["_"+o+"DatasetHoverStyle"]()),l=0,c=e.length;l<c;++l){a=e[l];let u=a&&this.getDatasetMeta(a.datasetIndex).controller;u&&u[o+"HoverStyle"](a.element,a.datasetIndex,a.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){let r=this._active||[],i=e.map(({datasetIndex:s,index:a})=>{let l=this.getDatasetMeta(s);if(!l)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:l.data[a],index:a}});!qc(i,r)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,r))}notifyPlugins(e,r,i){return this._plugins.notify(this,e,r,i)}isPluginEnabled(e){return this._plugins._cache.filter(r=>r.plugin.id===e).length===1}_updateHoverStyles(e,r,i){let o=this.options.hover,s=(c,u)=>c.filter(d=>!u.some(f=>d.datasetIndex===f.datasetIndex&&d.index===f.index)),a=s(r,e),l=i?e:s(e,r);a.length&&this.updateHoverStyle(a,o.mode,!1),l.length&&o.mode&&this.updateHoverStyle(l,o.mode,!0)}_eventHandler(e,r){let i={event:e,replay:r,cancelable:!0,inChartArea:this.isPointInArea(e)},o=a=>(a.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",i,o)===!1)return;let s=this._handleEvent(e,r,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,o),(s||i.changed)&&this.render(),this}_handleEvent(e,r,i){let{_active:o=[],options:s}=this,a=r,l=this._getActiveElements(e,o,i,a),c=CO(e),u=AW(e,this._lastEvent,i,c);i&&(this._lastEvent=null,xe(s.onHover,[e,l,this],this),c&&xe(s.onClick,[e,l,this],this));let d=!qc(l,o);return(d||r)&&(this._active=l,this._updateHoverStyles(l,o,r)),this._lastEvent=u,d}_getActiveElements(e,r,i,o){if(e.type==="mouseout")return[];if(!i)return r;let s=this.options.hover;return this.getElementsAtEventForMode(e,s.mode,s,o)}}return n})();function ER(){return _e(au.instances,n=>n._plugins.invalidate())}function OW(n,t,e){let{startAngle:r,x:i,y:o,outerRadius:s,innerRadius:a,options:l}=t,{borderWidth:c,borderJoinStyle:u}=l,d=Math.min(c/s,yt(r-e));if(n.beginPath(),n.arc(i,o,s-c/2,r+d/2,e-d/2),a>0){let f=Math.min(c/a,yt(r-e));n.arc(i,o,a+c/2,e-f/2,r+f/2,!0)}else{let f=Math.min(c/2,s*yt(r-e));if(u==="round")n.arc(i,o,f,e-pe/2,r+pe/2,!0);else if(u==="bevel"){let h=2*f*f,p=-h*Math.cos(e+pe/2)+i,g=-h*Math.sin(e+pe/2)+o,m=h*Math.cos(r+pe/2)+i,y=h*Math.sin(r+pe/2)+o;n.lineTo(p,g),n.lineTo(m,y)}}n.closePath(),n.moveTo(0,0),n.rect(0,0,n.canvas.width,n.canvas.height),n.clip("evenodd")}function RW(n,t,e){let{startAngle:r,pixelMargin:i,x:o,y:s,outerRadius:a,innerRadius:l}=t,c=i/a;n.beginPath(),n.arc(o,s,a,r-c,e+c),l>i?(c=i/l,n.arc(o,s,l,e+c,r-c,!0)):n.arc(o,s,i,e+ze,r-ze),n.closePath(),n.clip()}function kW(n){return Pp(n,["outerStart","outerEnd","innerStart","innerEnd"])}function PW(n,t,e,r){let i=kW(n.options.borderRadius),o=(e-t)/2,s=Math.min(o,r*t/2),a=l=>{let c=(e-Math.min(o,l))*r/2;return dt(l,0,Math.min(o,c))};return{outerStart:a(i.outerStart),outerEnd:a(i.outerEnd),innerStart:dt(i.innerStart,0,s),innerEnd:dt(i.innerEnd,0,s)}}function el(n,t,e,r){return{x:e+n*Math.cos(t),y:r+n*Math.sin(t)}}function Zp(n,t,e,r,i,o){let{x:s,y:a,startAngle:l,pixelMargin:c,innerRadius:u}=t,d=Math.max(t.outerRadius+r+e-c,0),f=u>0?u+r+e+c:0,h=0,p=i-l;if(r){let we=u>0?u-r:0,Pe=d>0?d-r:0,We=(we+Pe)/2,Cn=We!==0?p*We/(We+r):p;h=(p-Cn)/2}let g=Math.max(.001,p*d-e/pe)/d,m=(p-g)/2,y=l+m+h,b=i-m-h,{outerStart:w,outerEnd:C,innerStart:x,innerEnd:I}=PW(t,f,d,b-y),A=d-w,T=d-C,N=y+w/A,W=b-C/T,J=f+x,ae=f+I,mt=y+x/J,en=b-I/ae;if(n.beginPath(),o){let we=(N+W)/2;if(n.arc(s,a,d,N,we),n.arc(s,a,d,we,W),C>0){let wt=el(T,W,s,a);n.arc(wt.x,wt.y,C,W,b+ze)}let Pe=el(ae,b,s,a);if(n.lineTo(Pe.x,Pe.y),I>0){let wt=el(ae,en,s,a);n.arc(wt.x,wt.y,I,b+ze,en+Math.PI)}let We=(b-I/f+(y+x/f))/2;if(n.arc(s,a,f,b-I/f,We,!0),n.arc(s,a,f,We,y+x/f,!0),x>0){let wt=el(J,mt,s,a);n.arc(wt.x,wt.y,x,mt+Math.PI,y-ze)}let Cn=el(A,y,s,a);if(n.lineTo(Cn.x,Cn.y),w>0){let wt=el(A,N,s,a);n.arc(wt.x,wt.y,w,y-ze,N)}}else{n.moveTo(s,a);let we=Math.cos(N)*d+s,Pe=Math.sin(N)*d+a;n.lineTo(we,Pe);let We=Math.cos(W)*d+s,Cn=Math.sin(W)*d+a;n.lineTo(We,Cn)}n.closePath()}function NW(n,t,e,r,i){let{fullCircles:o,startAngle:s,circumference:a}=t,l=t.endAngle;if(o){Zp(n,t,e,r,l,i);for(let c=0;c<o;++c)n.fill();isNaN(a)||(l=s+(a%Te||Te))}return Zp(n,t,e,r,l,i),n.fill(),l}function FW(n,t,e,r,i){let{fullCircles:o,startAngle:s,circumference:a,options:l}=t,{borderWidth:c,borderJoinStyle:u,borderDash:d,borderDashOffset:f,borderRadius:h}=l,p=l.borderAlign==="inner";if(!c)return;n.setLineDash(d||[]),n.lineDashOffset=f,p?(n.lineWidth=c*2,n.lineJoin=u||"round"):(n.lineWidth=c,n.lineJoin=u||"bevel");let g=t.endAngle;if(o){Zp(n,t,e,r,g,i);for(let m=0;m<o;++m)n.stroke();isNaN(a)||(g=s+(a%Te||Te))}p&&RW(n,t,g),l.selfJoin&&g-s>=pe&&h===0&&u!=="miter"&&OW(n,t,g),o||(Zp(n,t,e,r,g,i),n.stroke())}var ew=class extends Wn{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:t=>t!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(t){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,e,r){let i=this.getProps(["x","y"],r),{angle:o,distance:s}=u0(i,{x:t,y:e}),{startAngle:a,endAngle:l,innerRadius:c,outerRadius:u,circumference:d}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],r),f=(this.options.spacing+this.options.borderWidth)/2,h=G(d,l-a),p=Za(o,a,l)&&a!==l,g=h>=Te||p,m=wr(s,c+f,u+f);return g&&m}getCenterPoint(t){let{x:e,y:r,startAngle:i,endAngle:o,innerRadius:s,outerRadius:a}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],t),{offset:l,spacing:c}=this.options,u=(i+o)/2,d=(s+a+c+l)/2;return{x:e+Math.cos(u)*d,y:r+Math.sin(u)*d}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){let{options:e,circumference:r}=this,i=(e.offset||0)/4,o=(e.spacing||0)/2,s=e.circular;if(this.pixelMargin=e.borderAlign==="inner"?.33:0,this.fullCircles=r>Te?Math.floor(r/Te):0,r===0||this.innerRadius<0||this.outerRadius<0)return;t.save();let a=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(a)*i,Math.sin(a)*i);let l=1-Math.sin(Math.min(pe,r||0)),c=i*l;t.fillStyle=e.backgroundColor,t.strokeStyle=e.borderColor,NW(t,this,c,o,s),FW(t,this,c,o,s),t.restore()}};function sk(n,t,e=t){n.lineCap=G(e.borderCapStyle,t.borderCapStyle),n.setLineDash(G(e.borderDash,t.borderDash)),n.lineDashOffset=G(e.borderDashOffset,t.borderDashOffset),n.lineJoin=G(e.borderJoinStyle,t.borderJoinStyle),n.lineWidth=G(e.borderWidth,t.borderWidth),n.strokeStyle=G(e.borderColor,t.borderColor)}function LW(n,t,e){n.lineTo(e.x,e.y)}function jW(n){return n.stepped?NO:n.tension||n.cubicInterpolationMode==="monotone"?FO:LW}function ak(n,t,e={}){let r=n.length,{start:i=0,end:o=r-1}=e,{start:s,end:a}=t,l=Math.max(i,s),c=Math.min(o,a),u=i<s&&o<s||i>a&&o>a;return{count:r,start:l,loop:t.loop,ilen:c<l&&!u?r+c-l:c-l}}function VW(n,t,e,r){let{points:i,options:o}=t,{count:s,start:a,loop:l,ilen:c}=ak(i,e,r),u=jW(o),{move:d=!0,reverse:f}=r||{},h,p,g;for(h=0;h<=c;++h)p=i[(a+(f?c-h:h))%s],!p.skip&&(d?(n.moveTo(p.x,p.y),d=!1):u(n,g,p,f,o.stepped),g=p);return l&&(p=i[(a+(f?c:0))%s],u(n,g,p,f,o.stepped)),!!l}function BW(n,t,e,r){let i=t.points,{count:o,start:s,ilen:a}=ak(i,e,r),{move:l=!0,reverse:c}=r||{},u=0,d=0,f,h,p,g,m,y,b=C=>(s+(c?a-C:C))%o,w=()=>{g!==m&&(n.lineTo(u,m),n.lineTo(u,g),n.lineTo(u,y))};for(l&&(h=i[b(0)],n.moveTo(h.x,h.y)),f=0;f<=a;++f){if(h=i[b(f)],h.skip)continue;let C=h.x,x=h.y,I=C|0;I===p?(x<g?g=x:x>m&&(m=x),u=(d*u+C)/++d):(w(),n.lineTo(C,x),p=I,d=0,g=m=x),y=x}w()}function tw(n){let t=n.options,e=t.borderDash&&t.borderDash.length;return!n._decimated&&!n._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!e?BW:VW}function UW(n){return n.stepped?WO:n.tension||n.cubicInterpolationMode==="monotone"?qO:Yi}function $W(n,t,e,r){let i=t._path;i||(i=t._path=new Path2D,t.path(i,e,r)&&i.closePath()),sk(n,t.options),n.stroke(i)}function HW(n,t,e,r){let{segments:i,options:o}=t,s=tw(t);for(let a of i)sk(n,o,a.style),n.beginPath(),s(n,t,a,{start:e,end:e+r-1})&&n.closePath(),n.stroke()}var zW=typeof Path2D=="function";function WW(n,t,e,r){zW&&!t.options.segment?$W(n,t,e,r):HW(n,t,e,r)}var Qp=(()=>{class n extends Wn{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"};constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,r){let i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){let o=i.spanGaps?this._loop:this._fullLoop;$O(this._points,i,e,o,r),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=KO(this,this.options.segment))}first(){let e=this.segments,r=this.points;return e.length&&r[e[0].start]}last(){let e=this.segments,r=this.points,i=e.length;return i&&r[e[i-1].end]}interpolate(e,r){let i=this.options,o=e[r],s=this.points,a=O0(this,{property:r,start:o,end:o});if(!a.length)return;let l=[],c=UW(i),u,d;for(u=0,d=a.length;u<d;++u){let{start:f,end:h}=a[u],p=s[f],g=s[h];if(p===g){l.push(p);continue}let m=Math.abs((o-p[r])/(g[r]-p[r])),y=c(p,g,m,i.stepped);y[r]=e[r],l.push(y)}return l.length===1?l[0]:l}pathSegment(e,r,i){return tw(this)(e,this,r,i)}path(e,r,i){let o=this.segments,s=tw(this),a=this._loop;r=r||0,i=i||this.points.length-r;for(let l of o)a&=s(e,this,l,{start:r,end:r+i-1});return!!a}draw(e,r,i,o){let s=this.options||{};(this.points||[]).length&&s.borderWidth&&(e.save(),WW(e,this,i,o),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}return n})();function CR(n,t,e,r){let i=n.options,{[e]:o}=n.getProps([e],r);return Math.abs(t-o)<i.radius+i.hitRadius}var qW=(()=>{class n extends Wn{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,r,i){let o=this.options,{x:s,y:a}=this.getProps(["x","y"],i);return Math.pow(e-s,2)+Math.pow(r-a,2)<Math.pow(o.hitRadius+o.radius,2)}inXRange(e,r){return CR(this,e,"x",r)}inYRange(e,r){return CR(this,e,"y",r)}getCenterPoint(e){let{x:r,y:i}=this.getProps(["x","y"],e);return{x:r,y:i}}size(e){e=e||this.options||{};let r=e.radius||0;r=Math.max(r,r&&e.hoverRadius||0);let i=r&&e.borderWidth||0;return(r+i)*2}draw(e,r){let i=this.options;this.skip||i.radius<.1||!_r(this,r,this.size(i)/2)||(e.strokeStyle=i.borderColor,e.lineWidth=i.borderWidth,e.fillStyle=i.backgroundColor,kp(e,i,this.x,this.y))}getRange(){let e=this.options||{};return e.radius+e.hitRadius}}return n})();function lk(n,t){let{x:e,y:r,base:i,width:o,height:s}=n.getProps(["x","y","base","width","height"],t),a,l,c,u,d;return n.horizontal?(d=s/2,a=Math.min(e,i),l=Math.max(e,i),c=r-d,u=r+d):(d=o/2,a=e-d,l=e+d,c=Math.min(r,i),u=Math.max(r,i)),{left:a,top:c,right:l,bottom:u}}function no(n,t,e,r){return n?0:dt(t,e,r)}function GW(n,t,e){let r=n.options.borderWidth,i=n.borderSkipped,o=w0(r);return{t:no(i.top,o.top,0,e),r:no(i.right,o.right,0,t),b:no(i.bottom,o.bottom,0,e),l:no(i.left,o.left,0,t)}}function KW(n,t,e){let{enableBorderRadius:r}=n.getProps(["enableBorderRadius"]),i=n.options.borderRadius,o=eo(i),s=Math.min(t,e),a=n.borderSkipped,l=r||se(i);return{topLeft:no(!l||a.top||a.left,o.topLeft,0,s),topRight:no(!l||a.top||a.right,o.topRight,0,s),bottomLeft:no(!l||a.bottom||a.left,o.bottomLeft,0,s),bottomRight:no(!l||a.bottom||a.right,o.bottomRight,0,s)}}function YW(n){let t=lk(n),e=t.right-t.left,r=t.bottom-t.top,i=GW(n,e/2,r/2),o=KW(n,e/2,r/2);return{outer:{x:t.left,y:t.top,w:e,h:r,radius:o},inner:{x:t.left+i.l,y:t.top+i.t,w:e-i.l-i.r,h:r-i.t-i.b,radius:{topLeft:Math.max(0,o.topLeft-Math.max(i.t,i.l)),topRight:Math.max(0,o.topRight-Math.max(i.t,i.r)),bottomLeft:Math.max(0,o.bottomLeft-Math.max(i.b,i.l)),bottomRight:Math.max(0,o.bottomRight-Math.max(i.b,i.r))}}}}function B0(n,t,e,r){let i=t===null,o=e===null,a=n&&!(i&&o)&&lk(n,r);return a&&(i||wr(t,a.left,a.right))&&(o||wr(e,a.top,a.bottom))}function ZW(n){return n.topLeft||n.topRight||n.bottomLeft||n.bottomRight}function JW(n,t){n.rect(t.x,t.y,t.w,t.h)}function U0(n,t,e={}){let r=n.x!==e.x?-t:0,i=n.y!==e.y?-t:0,o=(n.x+n.w!==e.x+e.w?t:0)-r,s=(n.y+n.h!==e.y+e.h?t:0)-i;return{x:n.x+r,y:n.y+i,w:n.w+o,h:n.h+s,radius:n.radius}}var nw=class extends Wn{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){let{inflateAmount:e,options:{borderColor:r,backgroundColor:i}}=this,{inner:o,outer:s}=YW(this),a=ZW(s.radius)?Xa:JW;t.save(),(s.w!==o.w||s.h!==o.h)&&(t.beginPath(),a(t,U0(s,e,o)),t.clip(),a(t,U0(o,-e,s)),t.fillStyle=r,t.fill("evenodd")),t.beginPath(),a(t,U0(o,e)),t.fillStyle=i,t.fill(),t.restore()}inRange(t,e,r){return B0(this,t,e,r)}inXRange(t,e){return B0(this,t,null,e)}inYRange(t,e){return B0(this,null,t,e)}getCenterPoint(t){let{x:e,y:r,base:i,horizontal:o}=this.getProps(["x","y","base","horizontal"],t);return{x:o?(e+i)/2:e,y:o?r:(r+i)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}},XW=Object.freeze({__proto__:null,ArcElement:ew,BarElement:nw,LineElement:Qp,PointElement:qW}),rw=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],DR=rw.map(n=>n.replace("rgb(","rgba(").replace(")",", 0.5)"));function ck(n){return rw[n%rw.length]}function uk(n){return DR[n%DR.length]}function QW(n,t){return n.borderColor=ck(t),n.backgroundColor=uk(t),++t}function e4(n,t){return n.backgroundColor=n.data.map(()=>ck(t++)),t}function t4(n,t){return n.backgroundColor=n.data.map(()=>uk(t++)),t}function n4(n){let t=0;return(e,r)=>{let i=n.getDatasetMeta(r).controller;i instanceof dw?t=e4(e,t):i instanceof JR?t=t4(e,t):i&&(t=QW(e,t))}}function xR(n){let t;for(t in n)if(n[t].borderColor||n[t].backgroundColor)return!0;return!1}function r4(n){return n&&(n.borderColor||n.backgroundColor)}function i4(){return ke.borderColor!=="rgba(0,0,0,0.1)"||ke.backgroundColor!=="rgba(0,0,0,0.1)"}var o4={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(n,t,e){if(!e.enabled)return;let{data:{datasets:r},options:i}=n.config,{elements:o}=i,s=xR(r)||r4(i)||o&&xR(o)||i4();if(!e.forceOverride&&s)return;let a=n4(n);r.forEach(a)}};function s4(n,t,e,r,i){let o=i.samples||r;if(o>=e)return n.slice(t,t+e);let s=[],a=(e-2)/(o-2),l=0,c=t+e-1,u=t,d,f,h,p,g;for(s[l++]=n[u],d=0;d<o-2;d++){let m=0,y=0,b,w=Math.floor((d+1)*a)+1+t,C=Math.min(Math.floor((d+2)*a)+1,e)+t,x=C-w;for(b=w;b<C;b++)m+=n[b].x,y+=n[b].y;m/=x,y/=x;let I=Math.floor(d*a)+1+t,A=Math.min(Math.floor((d+1)*a)+1,e)+t,{x:T,y:N}=n[u];for(h=p=-1,b=I;b<A;b++)p=.5*Math.abs((T-m)*(n[b].y-N)-(T-n[b].x)*(y-N)),p>h&&(h=p,f=n[b],g=b);s[l++]=f,u=g}return s[l++]=n[c],s}function a4(n,t,e,r){let i=0,o=0,s,a,l,c,u,d,f,h,p,g,m=[],y=t+e-1,b=n[t].x,C=n[y].x-b;for(s=t;s<t+e;++s){a=n[s],l=(a.x-b)/C*r,c=a.y;let x=l|0;if(x===u)c<p?(p=c,d=s):c>g&&(g=c,f=s),i=(o*i+a.x)/++o;else{let I=s-1;if(!re(d)&&!re(f)){let A=Math.min(d,f),T=Math.max(d,f);A!==h&&A!==I&&m.push(ee(O({},n[A]),{x:i})),T!==h&&T!==I&&m.push(ee(O({},n[T]),{x:i}))}s>0&&I!==h&&m.push(n[I]),m.push(a),u=x,o=0,p=g=c,d=f=h=s}}return m}function dk(n){if(n._decimated){let t=n._data;delete n._decimated,delete n._data,Object.defineProperty(n,"data",{configurable:!0,enumerable:!0,writable:!0,value:t})}}function SR(n){n.data.datasets.forEach(t=>{dk(t)})}function l4(n,t){let e=t.length,r=0,i,{iScale:o}=n,{min:s,max:a,minDefined:l,maxDefined:c}=o.getUserBounds();return l&&(r=dt(yr(t,o.axis,s).lo,0,e-1)),c?i=dt(yr(t,o.axis,a).hi+1,r,e)-r:i=e-r,{start:r,count:i}}var c4={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(n,t,e)=>{if(!e.enabled){SR(n);return}let r=n.width;n.data.datasets.forEach((i,o)=>{let{_data:s,indexAxis:a}=i,l=n.getDatasetMeta(o),c=s||i.data;if(Qa([a,n.options.indexAxis])==="y"||!l.controller.supportsDecimation)return;let u=n.scales[l.xAxisID];if(u.type!=="linear"&&u.type!=="time"||n.options.parsing)return;let{start:d,count:f}=l4(l,c),h=e.threshold||4*r;if(f<=h){dk(i);return}re(s)&&(i._data=c,delete i.data,Object.defineProperty(i,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(g){this._data=g}}));let p;switch(e.algorithm){case"lttb":p=s4(c,d,f,r,e);break;case"min-max":p=a4(c,d,f,r);break;default:throw new Error(`Unsupported decimation algorithm '${e.algorithm}'`)}i._decimated=p})},destroy(n){SR(n)}};function u4(n,t,e){let r=n.segments,i=n.points,o=t.points,s=[];for(let a of r){let{start:l,end:c}=a;c=eg(l,c,i);let u=iw(e,i[l],i[c],a.loop);if(!t.segments){s.push({source:a,target:u,start:i[l],end:i[c]});continue}let d=O0(t,u);for(let f of d){let h=iw(e,o[f.start],o[f.end],f.loop),p=A0(a,i,h);for(let g of p)s.push({source:g,target:f,start:{[e]:IR(u,h,"start",Math.max)},end:{[e]:IR(u,h,"end",Math.min)}})}}return s}function iw(n,t,e,r){if(r)return;let i=t[n],o=e[n];return n==="angle"&&(i=yt(i),o=yt(o)),{property:n,start:i,end:o}}function d4(n,t){let{x:e=null,y:r=null}=n||{},i=t.points,o=[];return t.segments.forEach(({start:s,end:a})=>{a=eg(s,a,i);let l=i[s],c=i[a];r!==null?(o.push({x:l.x,y:r}),o.push({x:c.x,y:r})):e!==null&&(o.push({x:e,y:l.y}),o.push({x:e,y:c.y}))}),o}function eg(n,t,e){for(;t>n;t--){let r=e[t];if(!isNaN(r.x)&&!isNaN(r.y))break}return t}function IR(n,t,e,r){return n&&t?r(n[e],t[e]):n?n[e]:t?t[e]:0}function hk(n,t){let e=[],r=!1;return Me(n)?(r=!0,e=n):e=d4(n,t),e.length?new Qp({points:e,options:{tension:0},_loop:r,_fullLoop:r}):null}function MR(n){return n&&n.fill!==!1}function h4(n,t,e){let i=n[t].fill,o=[t],s;if(!e)return i;for(;i!==!1&&o.indexOf(i)===-1;){if(!Ue(i))return i;if(s=n[i],!s)return!1;if(s.visible)return i;o.push(i),i=s.fill}return!1}function f4(n,t,e){let r=v4(n);if(se(r))return isNaN(r.value)?!1:r;let i=parseFloat(r);return Ue(i)&&Math.floor(i)===i?p4(r[0],t,i,e):["origin","start","end","stack","shape"].indexOf(r)>=0&&r}function p4(n,t,e,r){return(n==="-"||n==="+")&&(e=t+e),e===t||e<0||e>=r?!1:e}function g4(n,t){let e=null;return n==="start"?e=t.bottom:n==="end"?e=t.top:se(n)?e=t.getPixelForValue(n.value):t.getBasePixel&&(e=t.getBasePixel()),e}function m4(n,t,e){let r;return n==="start"?r=e:n==="end"?r=t.options.reverse?t.min:t.max:se(n)?r=n.value:r=t.getBaseValue(),r}function v4(n){let t=n.options,e=t.fill,r=G(e&&e.target,e);return r===void 0&&(r=!!t.backgroundColor),r===!1||r===null?!1:r===!0?"origin":r}function y4(n){let{scale:t,index:e,line:r}=n,i=[],o=r.segments,s=r.points,a=_4(t,e);a.push(hk({x:null,y:t.bottom},r));for(let l=0;l<o.length;l++){let c=o[l];for(let u=c.start;u<=c.end;u++)b4(i,s[u],a)}return new Qp({points:i,options:{}})}function _4(n,t){let e=[],r=n.getMatchingVisibleMetas("line");for(let i=0;i<r.length;i++){let o=r[i];if(o.index===t)break;o.hidden||e.unshift(o.dataset)}return e}function b4(n,t,e){let r=[];for(let i=0;i<e.length;i++){let o=e[i],{first:s,last:a,point:l}=w4(o,t,"x");if(!(!l||s&&a)){if(s)r.unshift(l);else if(n.push(l),!a)break}}n.push(...r)}function w4(n,t,e){let r=n.interpolate(t,e);if(!r)return{};let i=r[e],o=n.segments,s=n.points,a=!1,l=!1;for(let c=0;c<o.length;c++){let u=o[c],d=s[u.start][e],f=s[u.end][e];if(wr(i,d,f)){a=i===d,l=i===f;break}}return{first:a,last:l,point:r}}var Jp=class{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,e,r){let{x:i,y:o,radius:s}=this;return e=e||{start:0,end:Te},t.arc(i,o,s,e.end,e.start,!0),!r.bounds}interpolate(t){let{x:e,y:r,radius:i}=this,o=t.angle;return{x:e+Math.cos(o)*i,y:r+Math.sin(o)*i,angle:o}}};function E4(n){let{chart:t,fill:e,line:r}=n;if(Ue(e))return C4(t,e);if(e==="stack")return y4(n);if(e==="shape")return!0;let i=D4(n);return i instanceof Jp?i:hk(i,r)}function C4(n,t){let e=n.getDatasetMeta(t);return e&&n.isDatasetVisible(t)?e.dataset:null}function D4(n){return(n.scale||{}).getPointPositionForValue?S4(n):x4(n)}function x4(n){let{scale:t={},fill:e}=n,r=g4(e,t);if(Ue(r)){let i=t.isHorizontal();return{x:i?r:null,y:i?null:r}}return null}function S4(n){let{scale:t,fill:e}=n,r=t.options,i=t.getLabels().length,o=r.reverse?t.max:t.min,s=m4(e,t,o),a=[];if(r.grid.circular){let l=t.getPointPositionForValue(0,o);return new Jp({x:l.x,y:l.y,radius:t.getDistanceFromCenterForValue(s)})}for(let l=0;l<i;++l)a.push(t.getPointPositionForValue(l,s));return a}function $0(n,t,e){let r=E4(t),{chart:i,index:o,line:s,scale:a,axis:l}=t,c=s.options,u=c.fill,d=c.backgroundColor,{above:f=d,below:h=d}=u||{},p=i.getDatasetMeta(o),g=R0(i,p);r&&s.points.length&&(Kc(n,e),I4(n,{line:s,target:r,above:f,below:h,area:e,scale:a,axis:l,clip:g}),Yc(n))}function I4(n,t){let{line:e,target:r,above:i,below:o,area:s,scale:a,clip:l}=t,c=e._loop?"angle":t.axis;n.save();let u=o;o!==i&&(c==="x"?(TR(n,r,s.top),H0(n,{line:e,target:r,color:i,scale:a,property:c,clip:l}),n.restore(),n.save(),TR(n,r,s.bottom)):c==="y"&&(AR(n,r,s.left),H0(n,{line:e,target:r,color:o,scale:a,property:c,clip:l}),n.restore(),n.save(),AR(n,r,s.right),u=i)),H0(n,{line:e,target:r,color:u,scale:a,property:c,clip:l}),n.restore()}function TR(n,t,e){let{segments:r,points:i}=t,o=!0,s=!1;n.beginPath();for(let a of r){let{start:l,end:c}=a,u=i[l],d=i[eg(l,c,i)];o?(n.moveTo(u.x,u.y),o=!1):(n.lineTo(u.x,e),n.lineTo(u.x,u.y)),s=!!t.pathSegment(n,a,{move:s}),s?n.closePath():n.lineTo(d.x,e)}n.lineTo(t.first().x,e),n.closePath(),n.clip()}function AR(n,t,e){let{segments:r,points:i}=t,o=!0,s=!1;n.beginPath();for(let a of r){let{start:l,end:c}=a,u=i[l],d=i[eg(l,c,i)];o?(n.moveTo(u.x,u.y),o=!1):(n.lineTo(e,u.y),n.lineTo(u.x,u.y)),s=!!t.pathSegment(n,a,{move:s}),s?n.closePath():n.lineTo(e,d.y)}n.lineTo(e,t.first().y),n.closePath(),n.clip()}function H0(n,t){let{line:e,target:r,property:i,color:o,scale:s,clip:a}=t,l=u4(e,r,i);for(let{source:c,target:u,start:d,end:f}of l){let{style:{backgroundColor:h=o}={}}=c,p=r!==!0;n.save(),n.fillStyle=h,M4(n,s,a,p&&iw(i,d,f)),n.beginPath();let g=!!e.pathSegment(n,c),m;if(p){g?n.closePath():OR(n,r,f,i);let y=!!r.pathSegment(n,u,{move:g,reverse:!0});m=g&&y,m||OR(n,r,d,i)}n.closePath(),n.fill(m?"evenodd":"nonzero"),n.restore()}}function M4(n,t,e,r){let i=t.chart.chartArea,{property:o,start:s,end:a}=r||{};if(o==="x"||o==="y"){let l,c,u,d;o==="x"?(l=s,c=i.top,u=a,d=i.bottom):(l=i.left,c=s,u=i.right,d=a),n.beginPath(),e&&(l=Math.max(l,e.left),u=Math.min(u,e.right),c=Math.max(c,e.top),d=Math.min(d,e.bottom)),n.rect(l,c,u-l,d-c),n.clip()}}function OR(n,t,e,r){let i=t.interpolate(e,r);i&&n.lineTo(i.x,i.y)}var T4={id:"filler",afterDatasetsUpdate(n,t,e){let r=(n.data.datasets||[]).length,i=[],o,s,a,l;for(s=0;s<r;++s)o=n.getDatasetMeta(s),a=o.dataset,l=null,a&&a.options&&a instanceof Qp&&(l={visible:n.isDatasetVisible(s),index:s,fill:f4(a,s,r),chart:n,axis:o.controller.options.indexAxis,scale:o.vScale,line:a}),o.$filler=l,i.push(l);for(s=0;s<r;++s)l=i[s],!(!l||l.fill===!1)&&(l.fill=h4(i,s,e.propagate))},beforeDraw(n,t,e){let r=e.drawTime==="beforeDraw",i=n.getSortedVisibleDatasetMetas(),o=n.chartArea;for(let s=i.length-1;s>=0;--s){let a=i[s].$filler;a&&(a.line.updateControlPoints(o,a.axis),r&&a.fill&&$0(n.ctx,a,o))}},beforeDatasetsDraw(n,t,e){if(e.drawTime!=="beforeDatasetsDraw")return;let r=n.getSortedVisibleDatasetMetas();for(let i=r.length-1;i>=0;--i){let o=r[i].$filler;MR(o)&&$0(n.ctx,o,n.chartArea)}},beforeDatasetDraw(n,t,e){let r=t.meta.$filler;!MR(r)||e.drawTime!=="beforeDatasetDraw"||$0(n.ctx,r,n.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}},RR=(n,t)=>{let{boxHeight:e=t,boxWidth:r=t}=n;return n.usePointStyle&&(e=Math.min(e,t),r=n.pointStyleWidth||Math.min(r,t)),{boxWidth:r,boxHeight:e,itemHeight:Math.max(t,e)}},A4=(n,t)=>n!==null&&t!==null&&n.datasetIndex===t.datasetIndex&&n.index===t.index,Xp=class extends Wn{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e,r){this.maxWidth=t,this.maxHeight=e,this._margins=r,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){let t=this.options.labels||{},e=xe(t.generateLabels,[this.chart],this)||[];t.filter&&(e=e.filter(r=>t.filter(r,this.chart.data))),t.sort&&(e=e.sort((r,i)=>t.sort(r,i,this.chart.data))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){let{options:t,ctx:e}=this;if(!t.display){this.width=this.height=0;return}let r=t.labels,i=nt(r.font),o=i.size,s=this._computeTitleHeight(),{boxWidth:a,itemHeight:l}=RR(r,o),c,u;e.font=i.string,this.isHorizontal()?(c=this.maxWidth,u=this._fitRows(s,o,a,l)+10):(u=this.maxHeight,c=this._fitCols(s,i,a,l)+10),this.width=Math.min(c,t.maxWidth||this.maxWidth),this.height=Math.min(u,t.maxHeight||this.maxHeight)}_fitRows(t,e,r,i){let{ctx:o,maxWidth:s,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.lineWidths=[0],u=i+a,d=t;o.textAlign="left",o.textBaseline="middle";let f=-1,h=-u;return this.legendItems.forEach((p,g)=>{let m=r+e/2+o.measureText(p.text).width;(g===0||c[c.length-1]+m+2*a>s)&&(d+=u,c[c.length-(g>0?0:1)]=0,h+=u,f++),l[g]={left:0,top:h,row:f,width:m,height:i},c[c.length-1]+=m+a}),d}_fitCols(t,e,r,i){let{ctx:o,maxHeight:s,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.columnSizes=[],u=s-t,d=a,f=0,h=0,p=0,g=0;return this.legendItems.forEach((m,y)=>{let{itemWidth:b,itemHeight:w}=O4(r,e,o,m,i);y>0&&h+w+2*a>u&&(d+=f+a,c.push({width:f,height:h}),p+=f+a,g++,f=h=0),l[y]={left:p,top:h,col:g,width:b,height:w},f=Math.max(f,b),h+=w+a}),d+=f,c.push({width:f,height:h}),d}adjustHitBoxes(){if(!this.options.display)return;let t=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:r,labels:{padding:i},rtl:o}}=this,s=ss(o,this.left,this.width);if(this.isHorizontal()){let a=0,l=_t(r,this.left+i,this.right-this.lineWidths[a]);for(let c of e)a!==c.row&&(a=c.row,l=_t(r,this.left+i,this.right-this.lineWidths[a])),c.top+=this.top+t+i,c.left=s.leftForLtr(s.x(l),c.width),l+=c.width+i}else{let a=0,l=_t(r,this.top+t+i,this.bottom-this.columnSizes[a].height);for(let c of e)c.col!==a&&(a=c.col,l=_t(r,this.top+t+i,this.bottom-this.columnSizes[a].height)),c.top=l,c.left+=this.left+i,c.left=s.leftForLtr(s.x(c.left),c.width),l+=c.height+i}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){let t=this.ctx;Kc(t,this),this._draw(),Yc(t)}}_draw(){let{options:t,columnSizes:e,lineWidths:r,ctx:i}=this,{align:o,labels:s}=t,a=ke.color,l=ss(t.rtl,this.left,this.width),c=nt(s.font),{padding:u}=s,d=c.size,f=d/2,h;this.drawTitle(),i.textAlign=l.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=c.string;let{boxWidth:p,boxHeight:g,itemHeight:m}=RR(s,d),y=function(I,A,T){if(isNaN(p)||p<=0||isNaN(g)||g<0)return;i.save();let N=G(T.lineWidth,1);if(i.fillStyle=G(T.fillStyle,a),i.lineCap=G(T.lineCap,"butt"),i.lineDashOffset=G(T.lineDashOffset,0),i.lineJoin=G(T.lineJoin,"miter"),i.lineWidth=N,i.strokeStyle=G(T.strokeStyle,a),i.setLineDash(G(T.lineDash,[])),s.usePointStyle){let W={radius:g*Math.SQRT2/2,pointStyle:T.pointStyle,rotation:T.rotation,borderWidth:N},J=l.xPlus(I,p/2),ae=A+f;b0(i,W,J,ae,s.pointStyleWidth&&p)}else{let W=A+Math.max((d-g)/2,0),J=l.leftForLtr(I,p),ae=eo(T.borderRadius);i.beginPath(),Object.values(ae).some(mt=>mt!==0)?Xa(i,{x:J,y:W,w:p,h:g,radius:ae}):i.rect(J,W,p,g),i.fill(),N!==0&&i.stroke()}i.restore()},b=function(I,A,T){Qi(i,T.text,I,A+m/2,c,{strikethrough:T.hidden,textAlign:l.textAlign(T.textAlign)})},w=this.isHorizontal(),C=this._computeTitleHeight();w?h={x:_t(o,this.left+u,this.right-r[0]),y:this.top+u+C,line:0}:h={x:this.left+u,y:_t(o,this.top+C+u,this.bottom-e[0].height),line:0},M0(this.ctx,t.textDirection);let x=m+u;this.legendItems.forEach((I,A)=>{i.strokeStyle=I.fontColor,i.fillStyle=I.fontColor;let T=i.measureText(I.text).width,N=l.textAlign(I.textAlign||(I.textAlign=s.textAlign)),W=p+f+T,J=h.x,ae=h.y;l.setWidth(this.width),w?A>0&&J+W+u>this.right&&(ae=h.y+=x,h.line++,J=h.x=_t(o,this.left+u,this.right-r[h.line])):A>0&&ae+x>this.bottom&&(J=h.x=J+e[h.line].width+u,h.line++,ae=h.y=_t(o,this.top+C+u,this.bottom-e[h.line].height));let mt=l.x(J);if(y(mt,ae,I),J=RO(N,J+p+f,w?J+W:this.right,t.rtl),b(l.x(J),ae,I),w)h.x+=W+u;else if(typeof I.text!="string"){let en=c.lineHeight;h.y+=fk(I,en)+u}else h.y+=x}),T0(this.ctx,t.textDirection)}drawTitle(){let t=this.options,e=t.title,r=nt(e.font),i=bt(e.padding);if(!e.display)return;let o=ss(t.rtl,this.left,this.width),s=this.ctx,a=e.position,l=r.size/2,c=i.top+l,u,d=this.left,f=this.width;if(this.isHorizontal())f=Math.max(...this.lineWidths),u=this.top+c,d=_t(t.align,d,this.right-f);else{let p=this.columnSizes.reduce((g,m)=>Math.max(g,m.height),0);u=c+_t(t.align,this.top,this.bottom-p-t.labels.padding-this._computeTitleHeight())}let h=_t(a,d,d+f);s.textAlign=o.textAlign(Op(a)),s.textBaseline="middle",s.strokeStyle=e.color,s.fillStyle=e.color,s.font=r.string,Qi(s,e.text,h,u,r)}_computeTitleHeight(){let t=this.options.title,e=nt(t.font),r=bt(t.padding);return t.display?e.lineHeight+r.height:0}_getLegendItemAt(t,e){let r,i,o;if(wr(t,this.left,this.right)&&wr(e,this.top,this.bottom)){for(o=this.legendHitBoxes,r=0;r<o.length;++r)if(i=o[r],wr(t,i.left,i.left+i.width)&&wr(e,i.top,i.top+i.height))return this.legendItems[r]}return null}handleEvent(t){let e=this.options;if(!P4(t.type,e))return;let r=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){let i=this._hoveredItem,o=A4(i,r);i&&!o&&xe(e.onLeave,[t,i,this],this),this._hoveredItem=r,r&&!o&&xe(e.onHover,[t,r,this],this)}else r&&xe(e.onClick,[t,r,this],this)}};function O4(n,t,e,r,i){let o=R4(r,n,t,e),s=k4(i,r,t.lineHeight);return{itemWidth:o,itemHeight:s}}function R4(n,t,e,r){let i=n.text;return i&&typeof i!="string"&&(i=i.reduce((o,s)=>o.length>s.length?o:s)),t+e.size/2+r.measureText(i).width}function k4(n,t,e){let r=n;return typeof t.text!="string"&&(r=fk(t,e)),r}function fk(n,t){let e=n.text?n.text.length:0;return t*e}function P4(n,t){return!!((n==="mousemove"||n==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(n==="click"||n==="mouseup"))}var N4={id:"legend",_element:Xp,start(n,t,e){let r=n.legend=new Xp({ctx:n.ctx,options:e,chart:n});It.configure(n,r,e),It.addBox(n,r)},stop(n){It.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,t,e){let r=n.legend;It.configure(n,r,e),r.options=e},afterUpdate(n){let t=n.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(n,t){t.replay||n.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,t,e){let r=t.datasetIndex,i=e.chart;i.isDatasetVisible(r)?(i.hide(r),t.hidden=!0):(i.show(r),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){let t=n.data.datasets,{labels:{usePointStyle:e,pointStyle:r,textAlign:i,color:o,useBorderRadius:s,borderRadius:a}}=n.legend.options;return n._getSortedDatasetMetas().map(l=>{let c=l.controller.getStyle(e?0:void 0),u=bt(c.borderWidth);return{text:t[l.index].label,fillStyle:c.backgroundColor,fontColor:o,hidden:!l.visible,lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:(u.width+u.height)/4,strokeStyle:c.borderColor,pointStyle:r||c.pointStyle,rotation:c.rotation,textAlign:i||c.textAlign,borderRadius:s&&(a||c.borderRadius),datasetIndex:l.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}},iu=class extends Wn{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e){let r=this.options;if(this.left=0,this.top=0,!r.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=e;let i=Me(r.text)?r.text.length:1;this._padding=bt(r.padding);let o=i*nt(r.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=o:this.width=o}isHorizontal(){let t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){let{top:e,left:r,bottom:i,right:o,options:s}=this,a=s.align,l=0,c,u,d;return this.isHorizontal()?(u=_t(a,r,o),d=e+t,c=o-r):(s.position==="left"?(u=r+t,d=_t(a,i,e),l=pe*-.5):(u=o-t,d=_t(a,e,i),l=pe*.5),c=i-e),{titleX:u,titleY:d,maxWidth:c,rotation:l}}draw(){let t=this.ctx,e=this.options;if(!e.display)return;let r=nt(e.font),o=r.lineHeight/2+this._padding.top,{titleX:s,titleY:a,maxWidth:l,rotation:c}=this._drawArgs(o);Qi(t,e.text,0,0,r,{color:e.color,maxWidth:l,rotation:c,textAlign:Op(e.align),textBaseline:"middle",translation:[s,a]})}};function F4(n,t){let e=new iu({ctx:n.ctx,options:t,chart:n});It.configure(n,e,t),It.addBox(n,e),n.titleBlock=e}var L4={id:"title",_element:iu,start(n,t,e){F4(n,e)},stop(n){let t=n.titleBlock;It.removeBox(n,t),delete n.titleBlock},beforeUpdate(n,t,e){let r=n.titleBlock;It.configure(n,r,e),r.options=e},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}},$p=new WeakMap,j4={id:"subtitle",start(n,t,e){let r=new iu({ctx:n.ctx,options:e,chart:n});It.configure(n,r,e),It.addBox(n,r),$p.set(n,r)},stop(n){It.removeBox(n,$p.get(n)),$p.delete(n)},beforeUpdate(n,t,e){let r=$p.get(n);It.configure(n,r,e),r.options=e},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}},nu={average(n){if(!n.length)return!1;let t,e,r=new Set,i=0,o=0;for(t=0,e=n.length;t<e;++t){let a=n[t].element;if(a&&a.hasValue()){let l=a.tooltipPosition();r.add(l.x),i+=l.y,++o}}return o===0||r.size===0?!1:{x:[...r].reduce((a,l)=>a+l)/r.size,y:i/o}},nearest(n,t){if(!n.length)return!1;let e=t.x,r=t.y,i=Number.POSITIVE_INFINITY,o,s,a;for(o=0,s=n.length;o<s;++o){let l=n[o].element;if(l&&l.hasValue()){let c=l.getCenterPoint(),u=Sp(t,c);u<i&&(i=u,a=l)}}if(a){let l=a.tooltipPosition();e=l.x,r=l.y}return{x:e,y:r}}};function Er(n,t){return t&&(Me(t)?Array.prototype.push.apply(n,t):n.push(t)),n}function ri(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function V4(n,t){let{element:e,datasetIndex:r,index:i}=t,o=n.getDatasetMeta(r).controller,{label:s,value:a}=o.getLabelAndValue(i);return{chart:n,label:s,parsed:o.getParsed(i),raw:n.data.datasets[r].data[i],formattedValue:a,dataset:o.getDataset(),dataIndex:i,datasetIndex:r,element:e}}function kR(n,t){let e=n.chart.ctx,{body:r,footer:i,title:o}=n,{boxWidth:s,boxHeight:a}=t,l=nt(t.bodyFont),c=nt(t.titleFont),u=nt(t.footerFont),d=o.length,f=i.length,h=r.length,p=bt(t.padding),g=p.height,m=0,y=r.reduce((C,x)=>C+x.before.length+x.lines.length+x.after.length,0);if(y+=n.beforeBody.length+n.afterBody.length,d&&(g+=d*c.lineHeight+(d-1)*t.titleSpacing+t.titleMarginBottom),y){let C=t.displayColors?Math.max(a,l.lineHeight):l.lineHeight;g+=h*C+(y-h)*l.lineHeight+(y-1)*t.bodySpacing}f&&(g+=t.footerMarginTop+f*u.lineHeight+(f-1)*t.footerSpacing);let b=0,w=function(C){m=Math.max(m,e.measureText(C).width+b)};return e.save(),e.font=c.string,_e(n.title,w),e.font=l.string,_e(n.beforeBody.concat(n.afterBody),w),b=t.displayColors?s+2+t.boxPadding:0,_e(r,C=>{_e(C.before,w),_e(C.lines,w),_e(C.after,w)}),b=0,e.font=u.string,_e(n.footer,w),e.restore(),m+=p.width,{width:m,height:g}}function B4(n,t){let{y:e,height:r}=t;return e<r/2?"top":e>n.height-r/2?"bottom":"center"}function U4(n,t,e,r){let{x:i,width:o}=r,s=e.caretSize+e.caretPadding;if(n==="left"&&i+o+s>t.width||n==="right"&&i-o-s<0)return!0}function $4(n,t,e,r){let{x:i,width:o}=e,{width:s,chartArea:{left:a,right:l}}=n,c="center";return r==="center"?c=i<=(a+l)/2?"left":"right":i<=o/2?c="left":i>=s-o/2&&(c="right"),U4(c,n,t,e)&&(c="center"),c}function PR(n,t,e){let r=e.yAlign||t.yAlign||B4(n,e);return{xAlign:e.xAlign||t.xAlign||$4(n,t,e,r),yAlign:r}}function H4(n,t){let{x:e,width:r}=n;return t==="right"?e-=r:t==="center"&&(e-=r/2),e}function z4(n,t,e){let{y:r,height:i}=n;return t==="top"?r+=e:t==="bottom"?r-=i+e:r-=i/2,r}function NR(n,t,e,r){let{caretSize:i,caretPadding:o,cornerRadius:s}=n,{xAlign:a,yAlign:l}=e,c=i+o,{topLeft:u,topRight:d,bottomLeft:f,bottomRight:h}=eo(s),p=H4(t,a),g=z4(t,l,c);return l==="center"?a==="left"?p+=c:a==="right"&&(p-=c):a==="left"?p-=Math.max(u,f)+i:a==="right"&&(p+=Math.max(d,h)+i),{x:dt(p,0,r.width-t.width),y:dt(g,0,r.height-t.height)}}function Hp(n,t,e){let r=bt(e.padding);return t==="center"?n.x+n.width/2:t==="right"?n.x+n.width-r.right:n.x+r.left}function FR(n){return Er([],ri(n))}function W4(n,t,e){return ti(n,{tooltip:t,tooltipItems:e,type:"tooltip"})}function LR(n,t){let e=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return e?n.override(e):n}var pk={beforeTitle:br,title(n){if(n.length>0){let t=n[0],e=t.chart.data.labels,r=e?e.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(r>0&&t.dataIndex<r)return e[t.dataIndex]}return""},afterTitle:br,beforeBody:br,beforeLabel:br,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let t=n.dataset.label||"";t&&(t+=": ");let e=n.formattedValue;return re(e)||(t+=e),t},labelColor(n){let e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){let e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:br,afterBody:br,beforeFooter:br,footer:br,afterFooter:br};function Xt(n,t,e,r){let i=n[t].call(e,r);return typeof i>"u"?pk[t].call(e,r):i}var jR=(()=>{class n extends Wn{static positioners=nu;constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){let e=this._cachedAnimations;if(e)return e;let r=this.chart,i=this.options.setContext(this.getContext()),o=i.enabled&&r.options.animation&&i.animations,s=new Gp(this.chart,o);return o._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=W4(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,r){let{callbacks:i}=r,o=Xt(i,"beforeTitle",this,e),s=Xt(i,"title",this,e),a=Xt(i,"afterTitle",this,e),l=[];return l=Er(l,ri(o)),l=Er(l,ri(s)),l=Er(l,ri(a)),l}getBeforeBody(e,r){return FR(Xt(r.callbacks,"beforeBody",this,e))}getBody(e,r){let{callbacks:i}=r,o=[];return _e(e,s=>{let a={before:[],lines:[],after:[]},l=LR(i,s);Er(a.before,ri(Xt(l,"beforeLabel",this,s))),Er(a.lines,Xt(l,"label",this,s)),Er(a.after,ri(Xt(l,"afterLabel",this,s))),o.push(a)}),o}getAfterBody(e,r){return FR(Xt(r.callbacks,"afterBody",this,e))}getFooter(e,r){let{callbacks:i}=r,o=Xt(i,"beforeFooter",this,e),s=Xt(i,"footer",this,e),a=Xt(i,"afterFooter",this,e),l=[];return l=Er(l,ri(o)),l=Er(l,ri(s)),l=Er(l,ri(a)),l}_createItems(e){let r=this._active,i=this.chart.data,o=[],s=[],a=[],l=[],c,u;for(c=0,u=r.length;c<u;++c)l.push(V4(this.chart,r[c]));return e.filter&&(l=l.filter((d,f,h)=>e.filter(d,f,h,i))),e.itemSort&&(l=l.sort((d,f)=>e.itemSort(d,f,i))),_e(l,d=>{let f=LR(e.callbacks,d);o.push(Xt(f,"labelColor",this,d)),s.push(Xt(f,"labelPointStyle",this,d)),a.push(Xt(f,"labelTextColor",this,d))}),this.labelColors=o,this.labelPointStyles=s,this.labelTextColors=a,this.dataPoints=l,l}update(e,r){let i=this.options.setContext(this.getContext()),o=this._active,s,a=[];if(!o.length)this.opacity!==0&&(s={opacity:0});else{let l=nu[i.position].call(this,o,this._eventPosition);a=this._createItems(i),this.title=this.getTitle(a,i),this.beforeBody=this.getBeforeBody(a,i),this.body=this.getBody(a,i),this.afterBody=this.getAfterBody(a,i),this.footer=this.getFooter(a,i);let c=this._size=kR(this,i),u=Object.assign({},l,c),d=PR(this.chart,i,u),f=NR(i,u,d,this.chart);this.xAlign=d.xAlign,this.yAlign=d.yAlign,s={opacity:1,x:f.x,y:f.y,width:c.width,height:c.height,caretX:l.x,caretY:l.y}}this._tooltipItems=a,this.$context=void 0,s&&this._resolveAnimations().update(this,s),e&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:r})}drawCaret(e,r,i,o){let s=this.getCaretPosition(e,i,o);r.lineTo(s.x1,s.y1),r.lineTo(s.x2,s.y2),r.lineTo(s.x3,s.y3)}getCaretPosition(e,r,i){let{xAlign:o,yAlign:s}=this,{caretSize:a,cornerRadius:l}=i,{topLeft:c,topRight:u,bottomLeft:d,bottomRight:f}=eo(l),{x:h,y:p}=e,{width:g,height:m}=r,y,b,w,C,x,I;return s==="center"?(x=p+m/2,o==="left"?(y=h,b=y-a,C=x+a,I=x-a):(y=h+g,b=y+a,C=x-a,I=x+a),w=y):(o==="left"?b=h+Math.max(c,d)+a:o==="right"?b=h+g-Math.max(u,f)-a:b=this.caretX,s==="top"?(C=p,x=C-a,y=b-a,w=b+a):(C=p+m,x=C+a,y=b+a,w=b-a),I=C),{x1:y,x2:b,x3:w,y1:C,y2:x,y3:I}}drawTitle(e,r,i){let o=this.title,s=o.length,a,l,c;if(s){let u=ss(i.rtl,this.x,this.width);for(e.x=Hp(this,i.titleAlign,i),r.textAlign=u.textAlign(i.titleAlign),r.textBaseline="middle",a=nt(i.titleFont),l=i.titleSpacing,r.fillStyle=i.titleColor,r.font=a.string,c=0;c<s;++c)r.fillText(o[c],u.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+l,c+1===s&&(e.y+=i.titleMarginBottom-l)}}_drawColorBox(e,r,i,o,s){let a=this.labelColors[i],l=this.labelPointStyles[i],{boxHeight:c,boxWidth:u}=s,d=nt(s.bodyFont),f=Hp(this,"left",s),h=o.x(f),p=c<d.lineHeight?(d.lineHeight-c)/2:0,g=r.y+p;if(s.usePointStyle){let m={radius:Math.min(u,c)/2,pointStyle:l.pointStyle,rotation:l.rotation,borderWidth:1},y=o.leftForLtr(h,u)+u/2,b=g+c/2;e.strokeStyle=s.multiKeyBackground,e.fillStyle=s.multiKeyBackground,kp(e,m,y,b),e.strokeStyle=a.borderColor,e.fillStyle=a.backgroundColor,kp(e,m,y,b)}else{e.lineWidth=se(a.borderWidth)?Math.max(...Object.values(a.borderWidth)):a.borderWidth||1,e.strokeStyle=a.borderColor,e.setLineDash(a.borderDash||[]),e.lineDashOffset=a.borderDashOffset||0;let m=o.leftForLtr(h,u),y=o.leftForLtr(o.xPlus(h,1),u-2),b=eo(a.borderRadius);Object.values(b).some(w=>w!==0)?(e.beginPath(),e.fillStyle=s.multiKeyBackground,Xa(e,{x:m,y:g,w:u,h:c,radius:b}),e.fill(),e.stroke(),e.fillStyle=a.backgroundColor,e.beginPath(),Xa(e,{x:y,y:g+1,w:u-2,h:c-2,radius:b}),e.fill()):(e.fillStyle=s.multiKeyBackground,e.fillRect(m,g,u,c),e.strokeRect(m,g,u,c),e.fillStyle=a.backgroundColor,e.fillRect(y,g+1,u-2,c-2))}e.fillStyle=this.labelTextColors[i]}drawBody(e,r,i){let{body:o}=this,{bodySpacing:s,bodyAlign:a,displayColors:l,boxHeight:c,boxWidth:u,boxPadding:d}=i,f=nt(i.bodyFont),h=f.lineHeight,p=0,g=ss(i.rtl,this.x,this.width),m=function(N){r.fillText(N,g.x(e.x+p),e.y+h/2),e.y+=h+s},y=g.textAlign(a),b,w,C,x,I,A,T;for(r.textAlign=a,r.textBaseline="middle",r.font=f.string,e.x=Hp(this,y,i),r.fillStyle=i.bodyColor,_e(this.beforeBody,m),p=l&&y!=="right"?a==="center"?u/2+d:u+2+d:0,x=0,A=o.length;x<A;++x){for(b=o[x],w=this.labelTextColors[x],r.fillStyle=w,_e(b.before,m),C=b.lines,l&&C.length&&(this._drawColorBox(r,e,x,g,i),h=Math.max(f.lineHeight,c)),I=0,T=C.length;I<T;++I)m(C[I]),h=f.lineHeight;_e(b.after,m)}p=0,h=f.lineHeight,_e(this.afterBody,m),e.y-=s}drawFooter(e,r,i){let o=this.footer,s=o.length,a,l;if(s){let c=ss(i.rtl,this.x,this.width);for(e.x=Hp(this,i.footerAlign,i),e.y+=i.footerMarginTop,r.textAlign=c.textAlign(i.footerAlign),r.textBaseline="middle",a=nt(i.footerFont),r.fillStyle=i.footerColor,r.font=a.string,l=0;l<s;++l)r.fillText(o[l],c.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+i.footerSpacing}}drawBackground(e,r,i,o){let{xAlign:s,yAlign:a}=this,{x:l,y:c}=e,{width:u,height:d}=i,{topLeft:f,topRight:h,bottomLeft:p,bottomRight:g}=eo(o.cornerRadius);r.fillStyle=o.backgroundColor,r.strokeStyle=o.borderColor,r.lineWidth=o.borderWidth,r.beginPath(),r.moveTo(l+f,c),a==="top"&&this.drawCaret(e,r,i,o),r.lineTo(l+u-h,c),r.quadraticCurveTo(l+u,c,l+u,c+h),a==="center"&&s==="right"&&this.drawCaret(e,r,i,o),r.lineTo(l+u,c+d-g),r.quadraticCurveTo(l+u,c+d,l+u-g,c+d),a==="bottom"&&this.drawCaret(e,r,i,o),r.lineTo(l+p,c+d),r.quadraticCurveTo(l,c+d,l,c+d-p),a==="center"&&s==="left"&&this.drawCaret(e,r,i,o),r.lineTo(l,c+f),r.quadraticCurveTo(l,c,l+f,c),r.closePath(),r.fill(),o.borderWidth>0&&r.stroke()}_updateAnimationTarget(e){let r=this.chart,i=this.$animations,o=i&&i.x,s=i&&i.y;if(o||s){let a=nu[e.position].call(this,this._active,this._eventPosition);if(!a)return;let l=this._size=kR(this,e),c=Object.assign({},a,this._size),u=PR(r,e,c),d=NR(e,c,u,r);(o._to!==d.x||s._to!==d.y)&&(this.xAlign=u.xAlign,this.yAlign=u.yAlign,this.width=l.width,this.height=l.height,this.caretX=a.x,this.caretY=a.y,this._resolveAnimations().update(this,d))}}_willRender(){return!!this.opacity}draw(e){let r=this.options.setContext(this.getContext()),i=this.opacity;if(!i)return;this._updateAnimationTarget(r);let o={width:this.width,height:this.height},s={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;let a=bt(r.padding),l=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;r.enabled&&l&&(e.save(),e.globalAlpha=i,this.drawBackground(s,e,o,r),M0(e,r.textDirection),s.y+=a.top,this.drawTitle(s,e,r),this.drawBody(s,e,r),this.drawFooter(s,e,r),T0(e,r.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,r){let i=this._active,o=e.map(({datasetIndex:l,index:c})=>{let u=this.chart.getDatasetMeta(l);if(!u)throw new Error("Cannot find a dataset at index "+l);return{datasetIndex:l,element:u.data[c],index:c}}),s=!qc(i,o),a=this._positionChanged(o,r);(s||a)&&(this._active=o,this._eventPosition=r,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,r,i=!0){if(r&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;let o=this.options,s=this._active||[],a=this._getActiveElements(e,s,r,i),l=this._positionChanged(a,e),c=r||!qc(a,s)||l;return c&&(this._active=a,(o.enabled||o.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,r))),c}_getActiveElements(e,r,i,o){let s=this.options;if(e.type==="mouseout")return[];if(!o)return r.filter(l=>this.chart.data.datasets[l.datasetIndex]&&this.chart.getDatasetMeta(l.datasetIndex).controller.getParsed(l.index)!==void 0);let a=this.chart.getElementsAtEventForMode(e,s.mode,s,i);return s.reverse&&a.reverse(),a}_positionChanged(e,r){let{caretX:i,caretY:o,options:s}=this,a=nu[s.position].call(this,e,r);return a!==!1&&(i!==a.x||o!==a.y)}}return n})(),q4={id:"tooltip",_element:jR,positioners:nu,afterInit(n,t,e){e&&(n.tooltip=new jR({chart:n,options:e}))},beforeUpdate(n,t,e){n.tooltip&&n.tooltip.initialize(e)},reset(n,t,e){n.tooltip&&n.tooltip.initialize(e)},afterDraw(n){let t=n.tooltip;if(t&&t._willRender()){let e={tooltip:t};if(n.notifyPlugins("beforeTooltipDraw",ee(O({},e),{cancelable:!0}))===!1)return;t.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",e)}},afterEvent(n,t){if(n.tooltip){let e=t.replay;n.tooltip.handleEvent(t.event,e,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,t)=>t.bodyFont.size,boxWidth:(n,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:pk},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},G4=Object.freeze({__proto__:null,Colors:o4,Decimation:c4,Filler:T4,Legend:N4,SubTitle:j4,Title:L4,Tooltip:q4}),K4=(n,t,e,r)=>(typeof t=="string"?(e=n.push(t)-1,r.unshift({index:e,label:t})):isNaN(t)&&(e=null),e);function Y4(n,t,e,r){let i=n.indexOf(t);if(i===-1)return K4(n,t,e,r);let o=n.lastIndexOf(t);return i!==o?e:i}var Z4=(n,t)=>n===null?null:dt(Math.round(n),0,t);function VR(n){let t=this.getLabels();return n>=0&&n<t.length?t[n]:n}var J4=(()=>{class n extends cs{static id="category";static defaults={ticks:{callback:VR}};constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){let r=this._addedLabels;if(r.length){let i=this.getLabels();for(let{index:o,label:s}of r)i[o]===s&&i.splice(o,1);this._addedLabels=[]}super.init(e)}parse(e,r){if(re(e))return null;let i=this.getLabels();return r=isFinite(r)&&i[r]===e?r:Y4(i,e,G(r,e),this._addedLabels),Z4(r,i.length-1)}determineDataLimits(){let{minDefined:e,maxDefined:r}=this.getUserBounds(),{min:i,max:o}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(i=0),r||(o=this.getLabels().length-1)),this.min=i,this.max=o}buildTicks(){let e=this.min,r=this.max,i=this.options.offset,o=[],s=this.getLabels();s=e===0&&r===s.length-1?s:s.slice(e,r+1),this._valueRange=Math.max(s.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let a=e;a<=r;a++)o.push({value:a});return o}getLabelForValue(e){return VR.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){let r=this.ticks;return e<0||e>r.length-1?null:this.getPixelForValue(r[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}return n})();function X4(n,t){let e=[],{bounds:i,step:o,min:s,max:a,precision:l,count:c,maxTicks:u,maxDigits:d,includeBounds:f}=n,h=o||1,p=u-1,{min:g,max:m}=t,y=!re(s),b=!re(a),w=!re(c),C=(m-g)/(d+1),x=a0((m-g)/p/h)*h,I,A,T,N;if(x<1e-14&&!y&&!b)return[{value:g},{value:m}];N=Math.ceil(m/x)-Math.floor(g/x),N>p&&(x=a0(N*x/p/h)*h),re(l)||(I=Math.pow(10,l),x=Math.ceil(x*I)/I),i==="ticks"?(A=Math.floor(g/x)*x,T=Math.ceil(m/x)*x):(A=g,T=m),y&&b&&o&&xO((a-s)/o,x/1e3)?(N=Math.round(Math.min((a-s)/x,u)),x=(a-s)/N,A=s,T=a):w?(A=y?s:A,T=b?a:T,N=c-1,x=(T-A)/N):(N=(T-A)/x,Ya(N,Math.round(N),x/1e3)?N=Math.round(N):N=Math.ceil(N));let W=Math.max(c0(x),c0(A));I=Math.pow(10,re(l)?W:l),A=Math.round(A*I)/I,T=Math.round(T*I)/I;let J=0;for(y&&(f&&A!==s?(e.push({value:s}),A<s&&J++,Ya(Math.round((A+J*x)*I)/I,s,BR(s,C,n))&&J++):A<s&&J++);J<N;++J){let ae=Math.round((A+J*x)*I)/I;if(b&&ae>a)break;e.push({value:ae})}return b&&f&&T!==a?e.length&&Ya(e[e.length-1].value,a,BR(a,C,n))?e[e.length-1].value=a:e.push({value:a}):(!b||T===a)&&e.push({value:T}),e}function BR(n,t,{horizontal:e,minRotation:r}){let i=En(r),o=(e?Math.sin(i):Math.cos(i))||.001,s=.75*t*(""+n).length;return Math.min(t/o,s)}var nl=class extends cs{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return re(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){let{beginAtZero:t}=this.options,{minDefined:e,maxDefined:r}=this.getUserBounds(),{min:i,max:o}=this,s=l=>i=e?i:l,a=l=>o=r?o:l;if(t){let l=zn(i),c=zn(o);l<0&&c<0?a(0):l>0&&c>0&&s(0)}if(i===o){let l=o===0?1:Math.abs(o*.05);a(o+l),t||s(i-l)}this.min=i,this.max=o}getTickLimit(){let t=this.options.ticks,{maxTicksLimit:e,stepSize:r}=t,i;return r?(i=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,i>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${r} would result generating up to ${i} ticks. Limiting to 1000.`),i=1e3)):(i=this.computeTickLimit(),e=e||11),e&&(i=Math.min(e,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){let t=this.options,e=t.ticks,r=this.getTickLimit();r=Math.max(2,r);let i={maxTicks:r,bounds:t.bounds,min:t.min,max:t.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:e.includeBounds!==!1},o=this._range||this,s=X4(i,o);return t.bounds==="ticks"&&l0(s,this,"value"),t.reverse?(s.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),s}configure(){let t=this.ticks,e=this.min,r=this.max;if(super.configure(),this.options.offset&&t.length){let i=(r-e)/Math.max(t.length-1,1)/2;e-=i,r+=i}this._startValue=e,this._endValue=r,this._valueRange=r-e}getLabelForValue(t){return Ja(t,this.chart.options.locale,this.options.ticks.format)}},ow=class extends nl{static id="linear";static defaults={ticks:{callback:Gc.formatters.numeric}};determineDataLimits(){let{min:t,max:e}=this.getMinMax(!0);this.min=Ue(t)?t:0,this.max=Ue(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){let t=this.isHorizontal(),e=t?this.width:this.height,r=En(this.options.ticks.minRotation),i=(t?Math.sin(r):Math.cos(r))||.001,o=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,o.lineHeight/i))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}},ou=n=>Math.floor(Qr(n)),ls=(n,t)=>Math.pow(10,ou(n)+t);function UR(n){return n/Math.pow(10,ou(n))===1}function $R(n,t,e){let r=Math.pow(10,e),i=Math.floor(n/r);return Math.ceil(t/r)-i}function Q4(n,t){let e=t-n,r=ou(e);for(;$R(n,t,r)>10;)r++;for(;$R(n,t,r)<10;)r--;return Math.min(r,ou(n))}function eq(n,{min:t,max:e}){t=Jt(n.min,t);let r=[],i=ou(t),o=Q4(t,e),s=o<0?Math.pow(10,Math.abs(o)):1,a=Math.pow(10,o),l=i>o?Math.pow(10,i):0,c=Math.round((t-l)*s)/s,u=Math.floor((t-l)/a/10)*a*10,d=Math.floor((c-u)/Math.pow(10,o)),f=Jt(n.min,Math.round((l+u+d*Math.pow(10,o))*s)/s);for(;f<e;)r.push({value:f,major:UR(f),significand:d}),d>=10?d=d<15?15:20:d++,d>=20&&(o++,d=2,s=o>=0?1:s),f=Math.round((l+u+d*Math.pow(10,o))*s)/s;let h=Jt(n.max,f);return r.push({value:h,major:UR(h),significand:d}),r}var sw=class extends cs{static id="logarithmic";static defaults={ticks:{callback:Gc.formatters.logarithmic,major:{enabled:!0}}};constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,e){let r=nl.prototype.parse.apply(this,[t,e]);if(r===0){this._zero=!0;return}return Ue(r)&&r>0?r:null}determineDataLimits(){let{min:t,max:e}=this.getMinMax(!0);this.min=Ue(t)?Math.max(0,t):null,this.max=Ue(e)?Math.max(0,e):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!Ue(this._userMin)&&(this.min=t===ls(this.min,0)?ls(this.min,-1):ls(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){let{minDefined:t,maxDefined:e}=this.getUserBounds(),r=this.min,i=this.max,o=a=>r=t?r:a,s=a=>i=e?i:a;r===i&&(r<=0?(o(1),s(10)):(o(ls(r,-1)),s(ls(i,1)))),r<=0&&o(ls(i,-1)),i<=0&&s(ls(r,1)),this.min=r,this.max=i}buildTicks(){let t=this.options,e={min:this._userMin,max:this._userMax},r=eq(e,this);return t.bounds==="ticks"&&l0(r,this,"value"),t.reverse?(r.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),r}getLabelForValue(t){return t===void 0?"0":Ja(t,this.chart.options.locale,this.options.ticks.format)}configure(){let t=this.min;super.configure(),this._startValue=Qr(t),this._valueRange=Qr(this.max)-Qr(t)}getPixelForValue(t){return(t===void 0||t===0)&&(t=this.min),t===null||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:(Qr(t)-this._startValue)/this._valueRange)}getValueForPixel(t){let e=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+e*this._valueRange)}};function aw(n){let t=n.ticks;if(t.display&&n.display){let e=bt(t.backdropPadding);return G(t.font&&t.font.size,ke.font.size)+e.height}return 0}function tq(n,t,e){return e=Me(e)?e:[e],{w:PO(n,t.string,e),h:e.length*t.lineHeight}}function HR(n,t,e,r,i){return n===r||n===i?{start:t-e/2,end:t+e/2}:n<r||n>i?{start:t-e,end:t}:{start:t,end:t+e}}function nq(n){let t={l:n.left+n._padding.left,r:n.right-n._padding.right,t:n.top+n._padding.top,b:n.bottom-n._padding.bottom},e=Object.assign({},t),r=[],i=[],o=n._pointLabels.length,s=n.options.pointLabels,a=s.centerPointLabels?pe/o:0;for(let l=0;l<o;l++){let c=s.setContext(n.getPointLabelContext(l));i[l]=c.padding;let u=n.getPointPosition(l,n.drawingArea+i[l],a),d=nt(c.font),f=tq(n.ctx,d,n._pointLabels[l]);r[l]=f;let h=yt(n.getIndexAngle(l)+a),p=Math.round(Tp(h)),g=HR(p,u.x,f.w,0,180),m=HR(p,u.y,f.h,90,270);rq(e,t,h,g,m)}n.setCenterPoint(t.l-e.l,e.r-t.r,t.t-e.t,e.b-t.b),n._pointLabelItems=sq(n,r,i)}function rq(n,t,e,r,i){let o=Math.abs(Math.sin(e)),s=Math.abs(Math.cos(e)),a=0,l=0;r.start<t.l?(a=(t.l-r.start)/o,n.l=Math.min(n.l,t.l-a)):r.end>t.r&&(a=(r.end-t.r)/o,n.r=Math.max(n.r,t.r+a)),i.start<t.t?(l=(t.t-i.start)/s,n.t=Math.min(n.t,t.t-l)):i.end>t.b&&(l=(i.end-t.b)/s,n.b=Math.max(n.b,t.b+l))}function iq(n,t,e){let r=n.drawingArea,{extra:i,additionalAngle:o,padding:s,size:a}=e,l=n.getPointPosition(t,r+i+s,o),c=Math.round(Tp(yt(l.angle+ze))),u=cq(l.y,a.h,c),d=aq(c),f=lq(l.x,a.w,d);return{visible:!0,x:l.x,y:u,textAlign:d,left:f,top:u,right:f+a.w,bottom:u+a.h}}function oq(n,t){if(!t)return!0;let{left:e,top:r,right:i,bottom:o}=n;return!(_r({x:e,y:r},t)||_r({x:e,y:o},t)||_r({x:i,y:r},t)||_r({x:i,y:o},t))}function sq(n,t,e){let r=[],i=n._pointLabels.length,o=n.options,{centerPointLabels:s,display:a}=o.pointLabels,l={extra:aw(o)/2,additionalAngle:s?pe/i:0},c;for(let u=0;u<i;u++){l.padding=e[u],l.size=t[u];let d=iq(n,u,l);r.push(d),a==="auto"&&(d.visible=oq(d,c),d.visible&&(c=d))}return r}function aq(n){return n===0||n===180?"center":n<180?"left":"right"}function lq(n,t,e){return e==="right"?n-=t:e==="center"&&(n-=t/2),n}function cq(n,t,e){return e===90||e===270?n-=t/2:(e>270||e<90)&&(n-=t),n}function uq(n,t,e){let{left:r,top:i,right:o,bottom:s}=e,{backdropColor:a}=t;if(!re(a)){let l=eo(t.borderRadius),c=bt(t.backdropPadding);n.fillStyle=a;let u=r-c.left,d=i-c.top,f=o-r+c.width,h=s-i+c.height;Object.values(l).some(p=>p!==0)?(n.beginPath(),Xa(n,{x:u,y:d,w:f,h,radius:l}),n.fill()):n.fillRect(u,d,f,h)}}function dq(n,t){let{ctx:e,options:{pointLabels:r}}=n;for(let i=t-1;i>=0;i--){let o=n._pointLabelItems[i];if(!o.visible)continue;let s=r.setContext(n.getPointLabelContext(i));uq(e,s,o);let a=nt(s.font),{x:l,y:c,textAlign:u}=o;Qi(e,n._pointLabels[i],l,c+a.lineHeight/2,a,{color:s.color,textAlign:u,textBaseline:"middle"})}}function gk(n,t,e,r){let{ctx:i}=n;if(e)i.arc(n.xCenter,n.yCenter,t,0,Te);else{let o=n.getPointPosition(0,t);i.moveTo(o.x,o.y);for(let s=1;s<r;s++)o=n.getPointPosition(s,t),i.lineTo(o.x,o.y)}}function hq(n,t,e,r,i){let o=n.ctx,s=t.circular,{color:a,lineWidth:l}=t;!s&&!r||!a||!l||e<0||(o.save(),o.strokeStyle=a,o.lineWidth=l,o.setLineDash(i.dash||[]),o.lineDashOffset=i.dashOffset,o.beginPath(),gk(n,e,s,r),o.closePath(),o.stroke(),o.restore())}function fq(n,t,e){return ti(n,{label:e,index:t,type:"pointLabel"})}var lw=class extends nl{static id="radialLinear";static defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Gc.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(t){return t},padding:5,centerPointLabels:!1}};static defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};static descriptors={angleLines:{_fallback:"grid"}};constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){let t=this._padding=bt(aw(this.options)/2),e=this.width=this.maxWidth-t.width,r=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+e/2+t.left),this.yCenter=Math.floor(this.top+r/2+t.top),this.drawingArea=Math.floor(Math.min(e,r)/2)}determineDataLimits(){let{min:t,max:e}=this.getMinMax(!1);this.min=Ue(t)&&!isNaN(t)?t:0,this.max=Ue(e)&&!isNaN(e)?e:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/aw(this.options))}generateTickLabels(t){nl.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map((e,r)=>{let i=xe(this.options.pointLabels.callback,[e,r],this);return i||i===0?i:""}).filter((e,r)=>this.chart.getDataVisibility(r))}fit(){let t=this.options;t.display&&t.pointLabels.display?nq(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,e,r,i){this.xCenter+=Math.floor((t-e)/2),this.yCenter+=Math.floor((r-i)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,e,r,i))}getIndexAngle(t){let e=Te/(this._pointLabels.length||1),r=this.options.startAngle||0;return yt(t*e+En(r))}getDistanceFromCenterForValue(t){if(re(t))return NaN;let e=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*e:(t-this.min)*e}getValueForDistanceFromCenter(t){if(re(t))return NaN;let e=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-e:this.min+e}getPointLabelContext(t){let e=this._pointLabels||[];if(t>=0&&t<e.length){let r=e[t];return fq(this.getContext(),t,r)}}getPointPosition(t,e,r=0){let i=this.getIndexAngle(t)-ze+r;return{x:Math.cos(i)*e+this.xCenter,y:Math.sin(i)*e+this.yCenter,angle:i}}getPointPositionForValue(t,e){return this.getPointPosition(t,this.getDistanceFromCenterForValue(e))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){let{left:e,top:r,right:i,bottom:o}=this._pointLabelItems[t];return{left:e,top:r,right:i,bottom:o}}drawBackground(){let{backgroundColor:t,grid:{circular:e}}=this.options;if(t){let r=this.ctx;r.save(),r.beginPath(),gk(this,this.getDistanceFromCenterForValue(this._endValue),e,this._pointLabels.length),r.closePath(),r.fillStyle=t,r.fill(),r.restore()}}drawGrid(){let t=this.ctx,e=this.options,{angleLines:r,grid:i,border:o}=e,s=this._pointLabels.length,a,l,c;if(e.pointLabels.display&&dq(this,s),i.display&&this.ticks.forEach((u,d)=>{if(d!==0||d===0&&this.min<0){l=this.getDistanceFromCenterForValue(u.value);let f=this.getContext(d),h=i.setContext(f),p=o.setContext(f);hq(this,h,l,s,p)}}),r.display){for(t.save(),a=s-1;a>=0;a--){let u=r.setContext(this.getPointLabelContext(a)),{color:d,lineWidth:f}=u;!f||!d||(t.lineWidth=f,t.strokeStyle=d,t.setLineDash(u.borderDash),t.lineDashOffset=u.borderDashOffset,l=this.getDistanceFromCenterForValue(e.reverse?this.min:this.max),c=this.getPointPosition(a,l),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(c.x,c.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){let t=this.ctx,e=this.options,r=e.ticks;if(!r.display)return;let i=this.getIndexAngle(0),o,s;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(i),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach((a,l)=>{if(l===0&&this.min>=0&&!e.reverse)return;let c=r.setContext(this.getContext(l)),u=nt(c.font);if(o=this.getDistanceFromCenterForValue(this.ticks[l].value),c.showLabelBackdrop){t.font=u.string,s=t.measureText(a.label).width,t.fillStyle=c.backdropColor;let d=bt(c.backdropPadding);t.fillRect(-s/2-d.left,-o-u.size/2-d.top,s+d.width,u.size+d.height)}Qi(t,a.label,0,-o,u,{color:c.color,strokeColor:c.textStrokeColor,strokeWidth:c.textStrokeWidth})}),t.restore()}drawTitle(){}},tg={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Qt=Object.keys(tg);function zR(n,t){return n-t}function WR(n,t){if(re(t))return null;let e=n._adapter,{parser:r,round:i,isoWeekday:o}=n._parseOpts,s=t;return typeof r=="function"&&(s=r(s)),Ue(s)||(s=typeof r=="string"?e.parse(s,r):e.parse(s)),s===null?null:(i&&(s=i==="week"&&(os(o)||o===!0)?e.startOf(s,"isoWeek",o):e.startOf(s,i)),+s)}function qR(n,t,e,r){let i=Qt.length;for(let o=Qt.indexOf(n);o<i-1;++o){let s=tg[Qt[o]],a=s.steps?s.steps:Number.MAX_SAFE_INTEGER;if(s.common&&Math.ceil((e-t)/(a*s.size))<=r)return Qt[o]}return Qt[i-1]}function pq(n,t,e,r,i){for(let o=Qt.length-1;o>=Qt.indexOf(e);o--){let s=Qt[o];if(tg[s].common&&n._adapter.diff(i,r,s)>=t-1)return s}return Qt[e?Qt.indexOf(e):0]}function gq(n){for(let t=Qt.indexOf(n)+1,e=Qt.length;t<e;++t)if(tg[Qt[t]].common)return Qt[t]}function GR(n,t,e){if(!e)n[t]=!0;else if(e.length){let{lo:r,hi:i}=Ap(e,t),o=e[r]>=t?e[r]:e[i];n[o]=!0}}function mq(n,t,e,r){let i=n._adapter,o=+i.startOf(t[0].value,r),s=t[t.length-1].value,a,l;for(a=o;a<=s;a=+i.add(a,1,r))l=e[a],l>=0&&(t[l].major=!0);return t}function KR(n,t,e){let r=[],i={},o=t.length,s,a;for(s=0;s<o;++s)a=t[s],i[a]=s,r.push({value:a,major:!1});return o===0||!e?r:mq(n,r,i,e)}var cw=(()=>{class n extends cs{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,r={}){let i=e.time||(e.time={}),o=this._adapter=new I5._date(e.adapters.date);o.init(r),Ga(i.displayFormats,o.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(e),this._normalized=r.normalized}parse(e,r){return e===void 0?null:WR(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){let e=this.options,r=this._adapter,i=e.time.unit||"day",{min:o,max:s,minDefined:a,maxDefined:l}=this.getUserBounds();function c(u){!a&&!isNaN(u.min)&&(o=Math.min(o,u.min)),!l&&!isNaN(u.max)&&(s=Math.max(s,u.max))}(!a||!l)&&(c(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&c(this.getMinMax(!1))),o=Ue(o)&&!isNaN(o)?o:+r.startOf(Date.now(),i),s=Ue(s)&&!isNaN(s)?s:+r.endOf(Date.now(),i)+1,this.min=Math.min(o,s-1),this.max=Math.max(o+1,s)}_getLabelBounds(){let e=this.getLabelTimestamps(),r=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return e.length&&(r=e[0],i=e[e.length-1]),{min:r,max:i}}buildTicks(){let e=this.options,r=e.time,i=e.ticks,o=i.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&o.length&&(this.min=this._userMin||o[0],this.max=this._userMax||o[o.length-1]);let s=this.min,a=this.max,l=MO(o,s,a);return this._unit=r.unit||(i.autoSkip?qR(r.minUnit,this.min,this.max,this._getLabelCapacity(s)):pq(this,l.length,r.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:gq(this._unit),this.initOffsets(o),e.reverse&&l.reverse(),KR(this,l,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let r=0,i=0,o,s;this.options.offset&&e.length&&(o=this.getDecimalForValue(e[0]),e.length===1?r=1-o:r=(this.getDecimalForValue(e[1])-o)/2,s=this.getDecimalForValue(e[e.length-1]),e.length===1?i=s:i=(s-this.getDecimalForValue(e[e.length-2]))/2);let a=e.length<3?.5:.25;r=dt(r,0,a),i=dt(i,0,a),this._offsets={start:r,end:i,factor:1/(r+1+i)}}_generate(){let e=this._adapter,r=this.min,i=this.max,o=this.options,s=o.time,a=s.unit||qR(s.minUnit,r,i,this._getLabelCapacity(r)),l=G(o.ticks.stepSize,1),c=a==="week"?s.isoWeekday:!1,u=os(c)||c===!0,d={},f=r,h,p;if(u&&(f=+e.startOf(f,"isoWeek",c)),f=+e.startOf(f,u?"day":a),e.diff(i,r,a)>1e5*l)throw new Error(r+" and "+i+" are too far apart with stepSize of "+l+" "+a);let g=o.ticks.source==="data"&&this.getDataTimestamps();for(h=f,p=0;h<i;h=+e.add(h,l,a),p++)GR(d,h,g);return(h===i||o.bounds==="ticks"||p===1)&&GR(d,h,g),Object.keys(d).sort(zR).map(m=>+m)}getLabelForValue(e){let r=this._adapter,i=this.options.time;return i.tooltipFormat?r.format(e,i.tooltipFormat):r.format(e,i.displayFormats.datetime)}format(e,r){let o=this.options.time.displayFormats,s=this._unit,a=r||o[s];return this._adapter.format(e,a)}_tickFormatFunction(e,r,i,o){let s=this.options,a=s.ticks.callback;if(a)return xe(a,[e,r,i],this);let l=s.time.displayFormats,c=this._unit,u=this._majorUnit,d=c&&l[c],f=u&&l[u],h=i[r],p=u&&f&&h&&h.major;return this._adapter.format(e,o||(p?f:d))}generateTickLabels(e){let r,i,o;for(r=0,i=e.length;r<i;++r)o=e[r],o.label=this._tickFormatFunction(o.value,r,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){let r=this._offsets,i=this.getDecimalForValue(e);return this.getPixelForDecimal((r.start+i)*r.factor)}getValueForPixel(e){let r=this._offsets,i=this.getDecimalForPixel(e)/r.factor-r.end;return this.min+i*(this.max-this.min)}_getLabelSize(e){let r=this.options.ticks,i=this.ctx.measureText(e).width,o=En(this.isHorizontal()?r.maxRotation:r.minRotation),s=Math.cos(o),a=Math.sin(o),l=this._resolveTickFontOptions(0).size;return{w:i*s+l*a,h:i*a+l*s}}_getLabelCapacity(e){let r=this.options.time,i=r.displayFormats,o=i[r.unit]||i.millisecond,s=this._tickFormatFunction(e,0,KR(this,[e],this._majorUnit),o),a=this._getLabelSize(s),l=Math.floor(this.isHorizontal()?this.width/a.w:this.height/a.h)-1;return l>0?l:1}getDataTimestamps(){let e=this._cache.data||[],r,i;if(e.length)return e;let o=this.getMatchingVisibleMetas();if(this._normalized&&o.length)return this._cache.data=o[0].controller.getAllParsedValues(this);for(r=0,i=o.length;r<i;++r)e=e.concat(o[r].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){let e=this._cache.labels||[],r,i;if(e.length)return e;let o=this.getLabels();for(r=0,i=o.length;r<i;++r)e.push(WR(this,o[r]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return h0(e.sort(zR))}}return n})();function zp(n,t,e){let r=0,i=n.length-1,o,s,a,l;e?(t>=n[r].pos&&t<=n[i].pos&&({lo:r,hi:i}=yr(n,"pos",t)),{pos:o,time:a}=n[r],{pos:s,time:l}=n[i]):(t>=n[r].time&&t<=n[i].time&&({lo:r,hi:i}=yr(n,"time",t)),{time:o,pos:a}=n[r],{time:s,pos:l}=n[i]);let c=s-o;return c?a+(l-a)*(t-o)/c:a}var uw=class extends cw{static id="timeseries";static defaults=cw.defaults;constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){let t=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(t);this._minPos=zp(e,this.min),this._tableRange=zp(e,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){let{min:e,max:r}=this,i=[],o=[],s,a,l,c,u;for(s=0,a=t.length;s<a;++s)c=t[s],c>=e&&c<=r&&i.push(c);if(i.length<2)return[{time:e,pos:0},{time:r,pos:1}];for(s=0,a=i.length;s<a;++s)u=i[s+1],l=i[s-1],c=i[s],Math.round((u+l)/2)!==c&&o.push({time:c,pos:s/(a-1)});return o}_generate(){let t=this.min,e=this.max,r=super.getDataTimestamps();return(!r.includes(t)||!r.length)&&r.splice(0,0,t),(!r.includes(e)||r.length===1)&&r.push(e),r.sort((i,o)=>i-o)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;let e=this.getDataTimestamps(),r=this.getLabelTimestamps();return e.length&&r.length?t=this.normalize(e.concat(r)):t=e.length?e:r,t=this._cache.all=t,t}getDecimalForValue(t){return(zp(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){let e=this._offsets,r=this.getDecimalForPixel(t)/e.factor-e.end;return zp(this._table,r*this._tableRange+this._minPos,!0)}},vq=Object.freeze({__proto__:null,CategoryScale:J4,LinearScale:ow,LogarithmicScale:sw,RadialLinearScale:lw,TimeScale:cw,TimeSeriesScale:uw}),mk=[S5,XW,G4,vq];au.register(...mk);function yq(n,t){n&1&&(E(0,"div"),D(1,"Chargement des donn\xE9es..."),_())}function _q(n,t){if(n&1&&(E(0,"tr")(1,"td"),D(2),_(),E(3,"td"),D(4),_(),E(5,"td"),D(6),_(),E(7,"td")(8,"strong"),D(9),me(10,"currency"),_()()()),n&2){let e=t.$implicit;M(2),Q(e.sku),M(2),Q(e.name),M(2),Q(e.quantity),M(3),Q(Ve(10,4,e.total,"EUR"))}}function bq(n,t){n&1&&(E(0,"tr")(1,"td",12),D(2,"Aucune vente enregistr\xE9e pour le moment."),_()())}function wq(n,t){if(n&1&&(E(0,"table",10)(1,"thead")(2,"tr")(3,"th"),D(4,"SKU"),_(),E(5,"th"),D(6,"Produit"),_(),E(7,"th"),D(8,"Quantit\xE9 Vendue"),_(),E(9,"th"),D(10,"CA G\xE9n\xE9r\xE9"),_()()(),E(11,"tbody"),ue(12,_q,11,7,"tr",11)(13,bq,3,0,"tr",8),_()()),n&2){let e=oe();M(12),V("ngForOf",e.salesByProduct),M(),V("ngIf",e.salesByProduct.length===0)}}var ng=class n{constructor(t){this.supabaseService=t}totalCA=0;salesByProduct=[];loading=!0;chart;ngOnInit(){this.loadData()}loadData(){return v(this,null,function*(){try{let t=yield this.supabaseService.getVentesHistory();this.calculateMetrics(t||[]),this.renderChart(t||[])}catch(t){console.error("Erreur chargement CA",t)}finally{this.loading=!1}})}calculateMetrics(t){this.totalCA=t.reduce((r,i)=>r+Number(i.total_price),0);let e=new Map;t.forEach(r=>{let i=Array.isArray(r.products)?r.products[0]:r.products,o=r.product_id,s=i?.name||"Produit inconnu/supprim\xE9",a=i?.sku||"???";e.has(o)||e.set(o,{name:s,sku:a,quantity:0,total:0});let l=e.get(o);l.quantity+=r.quantity,l.total+=Number(r.total_price)}),this.salesByProduct=Array.from(e.values()).sort((r,i)=>i.total-r.total)}renderChart(t){this.chart&&this.chart.destroy();let e=[...t].sort((i,o)=>new Date(i.created_at).getTime()-new Date(o.created_at).getTime()),r=new Map;e.forEach(i=>{let o=new Date(i.created_at).toLocaleDateString("fr-FR");r.set(o,(r.get(o)||0)+Number(i.total_price))}),this.chart=new au("caChart",{type:"line",data:{labels:Array.from(r.keys()),datasets:[{label:"Chiffre d'Affaires (\u20AC)",data:Array.from(r.values()),borderColor:"#3498db",backgroundColor:"rgba(52, 152, 219, 0.2)",fill:!0,tension:.4}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top"}}}})}static \u0275fac=function(e){return new(e||n)(L(Zt))};static \u0275cmp=Fe({type:n,selectors:[["app-ca"]],decls:20,vars:6,consts:[[1,"container"],[1,"dashboard-cards"],[1,"card","metric-card"],[1,"value"],[1,"card","chart-card"],[1,"chart-container"],["id","caChart"],[1,"card","list-card"],[4,"ngIf"],["class","table",4,"ngIf"],[1,"table"],[4,"ngFor","ngForOf"],["colspan","4",1,"text-center"]],template:function(e,r){e&1&&(E(0,"div",0)(1,"h2"),D(2,"Analyse du Chiffre d'Affaires"),_(),E(3,"div",1)(4,"div",2)(5,"h3"),D(6,"Chiffre d'Affaires Total"),_(),E(7,"div",3),D(8),me(9,"currency"),_()()(),E(10,"div",4)(11,"h3"),D(12,"\xC9volution du CA"),_(),E(13,"div",5),ge(14,"canvas",6),_()(),E(15,"div",7)(16,"h3"),D(17,"Performance par Produit"),_(),ue(18,yq,2,0,"div",8)(19,wq,14,2,"table",9),_()()),e&2&&(M(8),Q(Ve(9,3,r.totalCA,"EUR")),M(10),V("ngIf",r.loading),M(),V("ngIf",!r.loading))},dependencies:[xt,Dt,Bn,Hr],styles:[".container[_ngcontent-%COMP%]{padding:2rem;max-width:1000px;margin:0 auto}.dashboard-cards[_ngcontent-%COMP%]{display:flex;gap:2rem;margin-bottom:2rem}.card[_ngcontent-%COMP%]{background:#fff;border-radius:8px;padding:1.5rem;box-shadow:0 2px 4px #0000001a}.metric-card[_ngcontent-%COMP%]{flex:1;text-align:center;background:linear-gradient(135deg,#3498db,#2980b9);color:#fff}.metric-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:1.1rem;opacity:.9}.metric-card[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:700;margin-top:.5rem}h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%]{color:#2c3e50;margin-bottom:1.5rem}.table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:1rem;text-align:left;border-bottom:1px solid #ecf0f1}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#f8f9fa;font-weight:600}.chart-card[_ngcontent-%COMP%]{margin-bottom:2rem}.chart-container[_ngcontent-%COMP%]{position:relative;height:300px}"]})};var rg=class n{static \u0275fac=function(e){return new(e||n)};static \u0275cmp=Fe({type:n,selectors:[["app-page-not-found"]],decls:2,vars:0,template:function(e,r){e&1&&(E(0,"p"),D(1,"page-not-found works!"),_())},encapsulation:2})};var vk=[{path:"",redirectTo:"stock",pathMatch:"full"},{path:"stock",component:hp},{path:"fournisseurs",component:fp},{path:"approvisionnement",component:mp},{path:"prospects",component:pp},{path:"commissions",component:gp},{path:"ventes",component:vp},{path:"ca",component:ng},{path:"**",component:rg}];var yk={providers:[SS({eventCoalescing:!0}),y_(vk),PI(kI()),Hy()]};function Eq(n,t){if(n&1&&(E(0,"li",5)(1,"a",6),D(2),_()()),n&2){let e=t.$implicit;M(),V("routerLink",e.path),M(),At(" ",e.label," ")}}var ig=class n{navItems=[{label:"Fournisseurs",path:"/fournisseurs"},{label:"Approvisionnement",path:"/approvisionnement"},{label:"Gestion de stock",path:"/stock"},{label:"Prospects",path:"/prospects"},{label:"Commissions",path:"/commissions"},{label:"Ventes",path:"/ventes"},{label:"CA",path:"/ca"}];static \u0275fac=function(e){return new(e||n)};static \u0275cmp=Fe({type:n,selectors:[["app-navbar"]],decls:6,vars:1,consts:[[1,"navbar"],[1,"navbar-brand"],["routerLink","/"],[1,"navbar-nav"],["class","nav-item",4,"ngFor","ngForOf"],[1,"nav-item"],["routerLinkActive","active",1,"nav-link",3,"routerLink"]],template:function(e,r){e&1&&(E(0,"nav",0)(1,"div",1)(2,"a",2),D(3,"Moineztout Dashboard"),_()(),E(4,"ul",3),ue(5,Eq,3,2,"li",4),_()()),e&2&&(M(5),V("ngForOf",r.navItems))},dependencies:[xt,Dt,xi,pc],styles:[".navbar[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:1rem 2rem;background-color:#2c3e50;color:#fff;box-shadow:0 2px 4px #0000001a}.navbar-brand[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#fff;text-decoration:none}.navbar-nav[_ngcontent-%COMP%]{display:flex;list-style:none;margin:0;padding:0;gap:1.5rem}.nav-link[_ngcontent-%COMP%]{color:#bdc3c7;text-decoration:none;font-size:1rem;transition:color .3s ease;padding:.5rem;border-radius:4px}.nav-link[_ngcontent-%COMP%]:hover, .nav-link.active[_ngcontent-%COMP%]{color:#fff;background-color:#ffffff1a}"]})};function Cq(n,t){if(n&1){let e=zt();E(0,"div",9),ie("click",function(){at(e);let i=oe();return lt(i.closeMenu())}),_()}}function Dq(n,t){if(n&1){let e=zt();E(0,"li")(1,"a",10),ie("click",function(){at(e);let i=oe();return lt(i.closeMenu())}),D(2),_()()}if(n&2){let e=t.$implicit;M(),V("routerLink",e.route),M(),At(" ",e.label," ")}}var og=class n{constructor(t,e){this.supabase=t;this.router=e}isOpen=!1;menuItems=[{label:"Tableau de bord",route:"/"},{label:"Stock",route:"/stock"},{label:"Fournisseurs",route:"/fournisseurs"},{label:"Ventes",route:"/ventes"},{label:"Achats",route:"/achats"}];toggleMenu(){this.isOpen=!this.isOpen}closeMenu(){this.isOpen=!1}logout(){return v(this,null,function*(){try{yield this.supabase.signOut(),this.closeMenu(),this.router.navigate(["/login"])}catch(t){console.error("Erreur lors de la d\xE9connexion",t)}})}static \u0275fac=function(e){return new(e||n)(L(Zt),L(un))};static \u0275cmp=Fe({type:n,selectors:[["app-mobile-menu"]],decls:15,vars:4,consts:[["aria-label","Ouvrir le menu",1,"menu-toggle",3,"click"],["class","mobile-overlay",3,"click",4,"ngIf"],[1,"mobile-nav"],[1,"nav-header"],[1,"close-btn",3,"click"],[1,"nav-links"],[4,"ngFor","ngForOf"],[1,"separator"],[1,"logout-btn",3,"click"],[1,"mobile-overlay",3,"click"],["routerLinkActive","active",3,"click","routerLink"]],template:function(e,r){e&1&&(E(0,"button",0),ie("click",function(){return r.toggleMenu()}),D(1,` \u2630
`),_(),ue(2,Cq,1,0,"div",1),E(3,"nav",2)(4,"div",3)(5,"h3"),D(6,"Menu"),_(),E(7,"button",4),ie("click",function(){return r.closeMenu()}),D(8,"\xD7"),_()(),E(9,"ul",5),ue(10,Dq,3,2,"li",6),ge(11,"li",7),E(12,"li")(13,"button",8),ie("click",function(){return r.logout()}),D(14,"Se d\xE9connecter"),_()()()()),e&2&&(M(2),V("ngIf",r.isOpen),M(),or("open",r.isOpen),M(7),V("ngForOf",r.menuItems))},dependencies:[xt,Dt,Bn,b_,xi,pc],styles:[".menu-toggle[_ngcontent-%COMP%]{position:fixed;top:1rem;right:1rem;z-index:1000;background:#2c3e50;color:#fff;border:none;padding:.5rem .8rem;border-radius:4px;font-size:1.5rem;cursor:pointer;box-shadow:0 2px 5px #0003}@media (min-width: 768px){.menu-toggle[_ngcontent-%COMP%]{display:none}}.mobile-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#00000080;z-index:1001;backdrop-filter:blur(2px)}.mobile-nav[_ngcontent-%COMP%]{position:fixed;top:0;right:-280px;width:280px;height:100%;background:#fff;z-index:1002;transition:right .3s ease-in-out;box-shadow:-2px 0 10px #0000001a;display:flex;flex-direction:column}.mobile-nav.open[_ngcontent-%COMP%]{right:0}.mobile-nav[_ngcontent-%COMP%]   .nav-header[_ngcontent-%COMP%]{padding:1.5rem;display:flex;justify-content:space-between;align-items:center;background-color:#f8f9fa;border-bottom:1px solid #eee}.mobile-nav[_ngcontent-%COMP%]   .nav-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;color:#2c3e50}.mobile-nav[_ngcontent-%COMP%]   .nav-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{background:none;border:none;font-size:2rem;line-height:1;cursor:pointer;color:#666}.mobile-nav[_ngcontent-%COMP%]   .nav-links[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0;overflow-y:auto}.mobile-nav[_ngcontent-%COMP%]   .nav-links[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .mobile-nav[_ngcontent-%COMP%]   .nav-links[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:block;width:100%;padding:1rem 1.5rem;text-decoration:none;color:#333;text-align:left;background:none;border:none;font-size:1rem;cursor:pointer;border-bottom:1px solid #f5f5f5}.mobile-nav[_ngcontent-%COMP%]   .nav-links[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, .mobile-nav[_ngcontent-%COMP%]   .nav-links[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:#f9f9f9}.mobile-nav[_ngcontent-%COMP%]   .nav-links[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%], .mobile-nav[_ngcontent-%COMP%]   .nav-links[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{color:#3498db;font-weight:700;background:#e8f4fc}.mobile-nav[_ngcontent-%COMP%]   .nav-links[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .logout-btn[_ngcontent-%COMP%]{color:#e74c3c}.mobile-nav[_ngcontent-%COMP%]   .nav-links[_ngcontent-%COMP%]   .separator[_ngcontent-%COMP%]{height:1rem;border:none}"]})};var sg=class n{title="moineztout-dashboard";static \u0275fac=function(e){return new(e||n)};static \u0275cmp=Fe({type:n,selectors:[["app-root"]],decls:3,vars:0,template:function(e,r){e&1&&ge(0,"app-navbar")(1,"app-mobile-menu")(2,"router-outlet")},dependencies:[uc,ig,og],styles:["@media (max-width: 767px){app-navbar[_ngcontent-%COMP%]{display:none}}"]})};Vy(sg,yk).catch(n=>console.error(n));
