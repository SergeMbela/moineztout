<div class="container">
  <h2>Gestion des Fournisseurs</h2>

  <!-- Formulaire d'ajout -->
  <div class="card form-card">
    <h3>Nouveau Fournisseur</h3>
    <form [formGroup]="fournisseurForm" (ngSubmit)="onSubmit()">
      <div class="form-row">
        <div class="form-group">
          <label for="name">Nom *</label>
          <input type="text" id="name" formControlName="name" class="form-control" placeholder="Nom de l'entreprise">
        </div>
        <div class="form-group">
          <label for="tva">TVA</label>
          <input type="text" id="tva" formControlName="tva" class="form-control" placeholder="123 456 789 00012">
        </div>
      </div>

      <div class="form-row">
        <div class="form-group">
          <label for="contact_email">Email</label>
          <input type="email" id="contact_email" formControlName="contact_email" class="form-control" placeholder="contact@fournisseur.com">
        </div>
        <div class="form-group">
          <label for="phone_number">Téléphone</label>
          <input type="text" id="phone_number" formControlName="phone_number" class="form-control" placeholder="01 23 45 67 89">
        </div>
      </div>

      <div class="form-row">
        <div class="form-group">
          <label for="adresse">Adresse</label>
          <input type="text" id="adresse" formControlName="adresse" class="form-control" placeholder="Rue...">
        </div>
        <div class="form-group">
          <label for="ville">Ville</label>
          <input type="text" id="ville" formControlName="ville" class="form-control" placeholder="Paris">
        </div>
        <div class="form-group">
          <label for="code_postal">Code Postal</label>
          <input type="text" id="code_postal" formControlName="code_postal" class="form-control" placeholder="75000">
        </div>
      </div>

      <button type="submit" [disabled]="!fournisseurForm.valid" class="btn-submit">Ajouter le fournisseur</button>
    </form>
  </div>

  <!-- Liste des fournisseurs -->
  <div class="card list-card">
    <h3>Liste des Fournisseurs</h3>
    <table class="stock-table">
      <thead>
        <tr>
          <th>Nom</th>
          <th>Contact</th>
          <th>Ville</th>
          <th>TVA</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let f of fournisseurs$ | async">
          <td><strong>{{ f.name }}</strong></td>
          <td>
            <div *ngIf="f.contact_email">{{ f.contact_email }}</div>
            <div *ngIf="f.phone_number" class="text-sm">{{ f.phone_number }}</div>
          </td>
          <td>{{ f.ville }} <span *ngIf="f.code_postal">({{ f.code_postal }})</span></td>
          <td>{{ f.tva }}</td>
          <td>
            <button (click)="onDelete(f.id)" class="btn-delete">Supprimer</button>
          </td>
        </tr>
        <tr *ngIf="(fournisseurs$ | async)?.length === 0">
          <td colspan="5" class="text-center">Aucun fournisseur enregistré.</td>
        </tr>
      </tbody>
    </table>
  </div>
</div>