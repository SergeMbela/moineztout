var Dk=Object.create;var dl=Object.defineProperty,xk=Object.defineProperties,Sk=Object.getOwnPropertyDescriptor,Ik=Object.getOwnPropertyDescriptors,Mk=Object.getOwnPropertyNames,pu=Object.getOwnPropertySymbols,Tk=Object.getPrototypeOf,ug=Object.prototype.hasOwnProperty,vw=Object.prototype.propertyIsEnumerable;var mw=(n,t,e)=>t in n?dl(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e,O=(n,t)=>{for(var e in t||={})ug.call(t,e)&&mw(n,e,t[e]);if(pu)for(var e of pu(t))vw.call(t,e)&&mw(n,e,t[e]);return n},te=(n,t)=>xk(n,Ik(t));var yw=(n,t)=>{var e={};for(var r in n)ug.call(n,r)&&t.indexOf(r)<0&&(e[r]=n[r]);if(n!=null&&pu)for(var r of pu(n))t.indexOf(r)<0&&vw.call(n,r)&&(e[r]=n[r]);return e};var U=(n,t)=>()=>(n&&(t=n(n=0)),t);var Ft=(n,t)=>()=>(t||n((t={exports:{}}).exports,t),t.exports),hl=(n,t)=>{for(var e in t)dl(n,e,{get:t[e],enumerable:!0})},_w=(n,t,e,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of Mk(t))!ug.call(n,i)&&i!==e&&dl(n,i,{get:()=>t[i],enumerable:!(r=Sk(t,i))||r.enumerable});return n};var Ak=(n,t,e)=>(e=n!=null?Dk(Tk(n)):{},_w(t||!n||!n.__esModule?dl(e,"default",{value:n,enumerable:!0}):e,n)),on=n=>_w(dl({},"__esModule",{value:!0}),n);var y=(n,t,e)=>new Promise((r,i)=>{var o=l=>{try{a(e.next(l))}catch(c){i(c)}},s=l=>{try{a(e.throw(l))}catch(c){i(c)}},a=l=>l.done?r(l.value):Promise.resolve(l.value).then(o,s);a((e=e.apply(n,t)).next())});var yo={};hl(yo,{__addDisposableResource:()=>tE,__assign:()=>Mu,__asyncDelegator:()=>Kw,__asyncGenerator:()=>Ou,__asyncValues:()=>Ru,__await:()=>er,__awaiter:()=>k,__classPrivateFieldGet:()=>Xw,__classPrivateFieldIn:()=>eE,__classPrivateFieldSet:()=>Qw,__createBinding:()=>Au,__decorate:()=>Fw,__disposeResources:()=>nE,__esDecorate:()=>jw,__exportStar:()=>zw,__extends:()=>Nw,__generator:()=>Hw,__importDefault:()=>Jw,__importStar:()=>Zw,__makeTemplateObject:()=>Yw,__metadata:()=>$w,__param:()=>Lw,__propKey:()=>Bw,__read:()=>Bg,__rest:()=>Br,__rewriteRelativeImportExtension:()=>rE,__runInitializers:()=>Vw,__setFunctionName:()=>Uw,__spread:()=>qw,__spreadArray:()=>Gw,__spreadArrays:()=>Ww,__values:()=>Tu,default:()=>Wk});function Nw(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");jg(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}function Br(n,t){var e={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&t.indexOf(r)<0&&(e[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(e[r[i]]=n[r[i]]);return e}function Fw(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o}function Lw(n,t){return function(e,r){t(e,r,n)}}function jw(n,t,e,r,i,o){function s(_){if(_!==void 0&&typeof _!="function")throw new TypeError("Function expected");return _}for(var a=r.kind,l=a==="getter"?"get":a==="setter"?"set":"value",c=!t&&n?r.static?n:n.prototype:null,u=t||(c?Object.getOwnPropertyDescriptor(c,r.name):{}),d,f=!1,h=e.length-1;h>=0;h--){var p={};for(var g in r)p[g]=g==="access"?{}:r[g];for(var g in r.access)p.access[g]=r.access[g];p.addInitializer=function(_){if(f)throw new TypeError("Cannot add initializers after decoration has completed");o.push(s(_||null))};var m=(0,e[h])(a==="accessor"?{get:u.get,set:u.set}:u[l],p);if(a==="accessor"){if(m===void 0)continue;if(m===null||typeof m!="object")throw new TypeError("Object expected");(d=s(m.get))&&(u.get=d),(d=s(m.set))&&(u.set=d),(d=s(m.init))&&i.unshift(d)}else(d=s(m))&&(a==="field"?i.unshift(d):u[l]=d)}c&&Object.defineProperty(c,r.name,u),f=!0}function Vw(n,t,e){for(var r=arguments.length>2,i=0;i<t.length;i++)e=r?t[i].call(n,e):t[i].call(n);return r?e:void 0}function Bw(n){return typeof n=="symbol"?n:"".concat(n)}function Uw(n,t,e){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(n,"name",{configurable:!0,value:e?"".concat(e," ",t):t})}function $w(n,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,t)}function k(n,t,e,r){function i(o){return o instanceof e?o:new e(function(s){s(o)})}return new(e||(e=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(n,t||[])).next())})}function Hw(n,t){var e={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return s.next=a(0),s.throw=a(1),s.return=a(2),typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(c){return function(u){return l([c,u])}}function l(c){if(r)throw new TypeError("Generator is already executing.");for(;s&&(s=0,c[0]&&(e=0)),e;)try{if(r=1,i&&(o=c[0]&2?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[c[0]&2,o.value]),c[0]){case 0:case 1:o=c;break;case 4:return e.label++,{value:c[1],done:!1};case 5:e.label++,i=c[1],c=[0];continue;case 7:c=e.ops.pop(),e.trys.pop();continue;default:if(o=e.trys,!(o=o.length>0&&o[o.length-1])&&(c[0]===6||c[0]===2)){e=0;continue}if(c[0]===3&&(!o||c[1]>o[0]&&c[1]<o[3])){e.label=c[1];break}if(c[0]===6&&e.label<o[1]){e.label=o[1],o=c;break}if(o&&e.label<o[2]){e.label=o[2],e.ops.push(c);break}o[2]&&e.ops.pop(),e.trys.pop();continue}c=t.call(n,e)}catch(u){c=[6,u],i=0}finally{r=o=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function zw(n,t){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(t,e)&&Au(t,n,e)}function Tu(n){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Bg(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],s;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(s)throw s.error}}return o}function qw(){for(var n=[],t=0;t<arguments.length;t++)n=n.concat(Bg(arguments[t]));return n}function Ww(){for(var n=0,t=0,e=arguments.length;t<e;t++)n+=arguments[t].length;for(var r=Array(n),i=0,t=0;t<e;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}function Gw(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return n.concat(o||Array.prototype.slice.call(t))}function er(n){return this instanceof er?(this.v=n,this):new er(n)}function Ou(n,t,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=e.apply(n,t||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(h){return function(p){return Promise.resolve(p).then(h,d)}}function a(h,p){r[h]&&(i[h]=function(g){return new Promise(function(m,_){o.push([h,g,m,_])>1||l(h,g)})},p&&(i[h]=p(i[h])))}function l(h,p){try{c(r[h](p))}catch(g){f(o[0][3],g)}}function c(h){h.value instanceof er?Promise.resolve(h.value.v).then(u,d):f(o[0][2],h)}function u(h){l("next",h)}function d(h){l("throw",h)}function f(h,p){h(p),o.shift(),o.length&&l(o[0][0],o[0][1])}}function Kw(n){var t,e;return t={},r("next"),r("throw",function(i){throw i}),r("return"),t[Symbol.iterator]=function(){return this},t;function r(i,o){t[i]=n[i]?function(s){return(e=!e)?{value:er(n[i](s)),done:!1}:o?o(s):s}:o}}function Ru(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=n[Symbol.asyncIterator],e;return t?t.call(n):(n=typeof Tu=="function"?Tu(n):n[Symbol.iterator](),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(o){e[o]=n[o]&&function(s){return new Promise(function(a,l){s=n[o](s),i(a,l,s.done,s.value)})}}function i(o,s,a,l){Promise.resolve(l).then(function(c){o({value:c,done:a})},s)}}function Yw(n,t){return Object.defineProperty?Object.defineProperty(n,"raw",{value:t}):n.raw=t,n}function Zw(n){if(n&&n.__esModule)return n;var t={};if(n!=null)for(var e=Vg(n),r=0;r<e.length;r++)e[r]!=="default"&&Au(t,n,e[r]);return zk(t,n),t}function Jw(n){return n&&n.__esModule?n:{default:n}}function Xw(n,t,e,r){if(e==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?n!==t||!r:!t.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e==="m"?r:e==="a"?r.call(n):r?r.value:t.get(n)}function Qw(n,t,e,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?n!==t||!i:!t.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(n,e):i?i.value=e:t.set(n,e),e}function eE(n,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof n=="function"?t===n:n.has(t)}function tE(n,t,e){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var r,i;if(e){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=t[Symbol.asyncDispose]}if(r===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=t[Symbol.dispose],e&&(i=r)}if(typeof r!="function")throw new TypeError("Object not disposable.");i&&(r=function(){try{i.call(this)}catch(o){return Promise.reject(o)}}),n.stack.push({value:t,dispose:r,async:e})}else e&&n.stack.push({async:!0});return t}function nE(n){function t(o){n.error=n.hasError?new qk(o,n.error,"An error was suppressed during disposal."):o,n.hasError=!0}var e,r=0;function i(){for(;e=n.stack.pop();)try{if(!e.async&&r===1)return r=0,n.stack.push(e),Promise.resolve().then(i);if(e.dispose){var o=e.dispose.call(e.value);if(e.async)return r|=2,Promise.resolve(o).then(i,function(s){return t(s),i()})}else r|=1}catch(s){t(s)}if(r===1)return n.hasError?Promise.reject(n.error):Promise.resolve();if(n.hasError)throw n.error}return i()}function rE(n,t){return typeof n=="string"&&/^\.\.?\//.test(n)?n.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(e,r,i,o,s){return r?t?".jsx":".js":i&&(!o||!s)?e:i+o+"."+s.toLowerCase()+"js"}):n}var jg,Mu,Au,zk,Vg,qk,Wk,Be=U(()=>{"use strict";jg=function(n,t){return jg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},jg(n,t)};Mu=function(){return Mu=Object.assign||function(t){for(var e,r=1,i=arguments.length;r<i;r++){e=arguments[r];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},Mu.apply(this,arguments)};Au=Object.create?function(n,t,e,r){r===void 0&&(r=e);var i=Object.getOwnPropertyDescriptor(t,e);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[e]}}),Object.defineProperty(n,r,i)}:function(n,t,e,r){r===void 0&&(r=e),n[r]=t[e]};zk=Object.create?function(n,t){Object.defineProperty(n,"default",{enumerable:!0,value:t})}:function(n,t){n.default=t},Vg=function(n){return Vg=Object.getOwnPropertyNames||function(t){var e=[];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[e.length]=r);return e},Vg(n)};qk=typeof SuppressedError=="function"?SuppressedError:function(n,t,e){var r=new Error(e);return r.name="SuppressedError",r.error=n,r.suppressed=t,r};Wk={__extends:Nw,__assign:Mu,__rest:Br,__decorate:Fw,__param:Lw,__esDecorate:jw,__runInitializers:Vw,__propKey:Bw,__setFunctionName:Uw,__metadata:$w,__awaiter:k,__generator:Hw,__createBinding:Au,__exportStar:zw,__values:Tu,__read:Bg,__spread:qw,__spreadArrays:Ww,__spreadArray:Gw,__await:er,__asyncGenerator:Ou,__asyncDelegator:Kw,__asyncValues:Ru,__makeTemplateObject:Yw,__importStar:Zw,__importDefault:Jw,__classPrivateFieldGet:Xw,__classPrivateFieldSet:Qw,__classPrivateFieldIn:eE,__addDisposableResource:tE,__disposeResources:nE,__rewriteRelativeImportExtension:rE}});var vT,yT=U(()=>{"use strict";vT=n=>n?(...t)=>n(...t):(...t)=>fetch(...t)});var Xo,Da,Qo,es,Mc,j_=U(()=>{"use strict";Xo=class extends Error{constructor(t,e="FunctionsError",r){super(t),this.name=e,this.context=r}},Da=class extends Xo{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}},Qo=class extends Xo{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}},es=class extends Xo{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}},Mc=function(n){return n.Any="any",n.ApNortheast1="ap-northeast-1",n.ApNortheast2="ap-northeast-2",n.ApSouth1="ap-south-1",n.ApSoutheast1="ap-southeast-1",n.ApSoutheast2="ap-southeast-2",n.CaCentral1="ca-central-1",n.EuCentral1="eu-central-1",n.EuWest1="eu-west-1",n.EuWest2="eu-west-2",n.EuWest3="eu-west-3",n.SaEast1="sa-east-1",n.UsEast1="us-east-1",n.UsWest1="us-west-1",n.UsWest2="us-west-2",n}(Mc||{})});var Mf,_T=U(()=>{"use strict";Be();yT();j_();Mf=class{constructor(t,{headers:e={},customFetch:r,region:i=Mc.Any}={}){this.url=t,this.headers=e,this.region=i,this.fetch=vT(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return k(this,arguments,void 0,function*(e,r={}){var i;let o,s;try{let{headers:a,method:l,body:c,signal:u,timeout:d}=r,f={},{region:h}=r;h||(h=this.region);let p=new URL(`${this.url}/${e}`);h&&h!=="any"&&(f["x-region"]=h,p.searchParams.set("forceFunctionRegion",h));let g;c&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)?typeof Blob<"u"&&c instanceof Blob||c instanceof ArrayBuffer?(f["Content-Type"]="application/octet-stream",g=c):typeof c=="string"?(f["Content-Type"]="text/plain",g=c):typeof FormData<"u"&&c instanceof FormData?g=c:(f["Content-Type"]="application/json",g=JSON.stringify(c)):g=c;let m=u;d&&(s=new AbortController,o=setTimeout(()=>s.abort(),d),u?(m=s.signal,u.addEventListener("abort",()=>s.abort())):m=s.signal);let _=yield this.fetch(p.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},f),this.headers),a),body:g,signal:m}).catch(S=>{throw new Da(S)}),E=_.headers.get("x-relay-error");if(E&&E==="true")throw new Qo(_);if(!_.ok)throw new es(_);let C=((i=_.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),D;return C==="application/json"?D=yield _.json():C==="application/octet-stream"||C==="application/pdf"?D=yield _.blob():C==="text/event-stream"?D=_:C==="multipart/form-data"?D=yield _.formData():D=yield _.text(),{data:D,error:null,response:_}}catch(a){return{data:null,error:a,response:a instanceof es||a instanceof Qo?a.context:void 0}}finally{o&&clearTimeout(o)}})}}});var V_={};hl(V_,{FunctionRegion:()=>Mc,FunctionsClient:()=>Mf,FunctionsError:()=>Xo,FunctionsFetchError:()=>Da,FunctionsHttpError:()=>es,FunctionsRelayError:()=>Qo});var B_=U(()=>{"use strict";_T();j_()});var H_=Ft($_=>{"use strict";Object.defineProperty($_,"__esModule",{value:!0});var U_=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};$_.default=U_});var W_=Ft(q_=>{"use strict";Object.defineProperty(q_,"__esModule",{value:!0});var VH=(Be(),on(yo)),BH=VH.__importDefault(H_()),z_=class{constructor(t){var e,r;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(e=t.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=t.signal,this.isMaybeSingle=(r=t.isMaybeSingle)!==null&&r!==void 0?r:!1,t.fetch?this.fetch=t.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,e){return this.headers=new Headers(this.headers),this.headers.set(t,e),this}then(t,e){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");let r=this.fetch,i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(o=>y(this,null,function*(){var s,a,l,c;let u=null,d=null,f=null,h=o.status,p=o.statusText;if(o.ok){if(this.method!=="HEAD"){let E=yield o.text();E===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((s=this.headers.get("Accept"))===null||s===void 0)&&s.includes("application/vnd.pgrst.plan+text"))?d=E:d=JSON.parse(E))}let m=(a=this.headers.get("Prefer"))===null||a===void 0?void 0:a.match(/count=(exact|planned|estimated)/),_=(l=o.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");m&&_&&_.length>1&&(f=parseInt(_[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,f=null,h=406,p="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{let m=yield o.text();try{u=JSON.parse(m),Array.isArray(u)&&o.status===404&&(d=[],u=null,h=200,p="OK")}catch{o.status===404&&m===""?(h=204,p="No Content"):u={message:m}}if(u&&this.isMaybeSingle&&(!((c=u?.details)===null||c===void 0)&&c.includes("0 rows"))&&(u=null,h=200,p="OK"),u&&this.shouldThrowOnError)throw new BH.default(u)}return{error:u,data:d,count:f,status:h,statusText:p}}));return this.shouldThrowOnError||(i=i.catch(o=>{var s,a,l,c,u,d;let f="",h=o?.cause;if(h){let p=(s=h?.message)!==null&&s!==void 0?s:"",g=(a=h?.code)!==null&&a!==void 0?a:"";f=`${(l=o?.name)!==null&&l!==void 0?l:"FetchError"}: ${o?.message}`,f+=`

Caused by: ${(c=h?.name)!==null&&c!==void 0?c:"Error"}: ${p}`,g&&(f+=` (${g})`),h?.stack&&(f+=`
${h.stack}`)}else f=(u=o?.stack)!==null&&u!==void 0?u:"";return{error:{message:`${(d=o?.name)!==null&&d!==void 0?d:"FetchError"}: ${o?.message}`,details:f,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),i.then(t,e)}returns(){return this}overrideTypes(){return this}};q_.default=z_});var Y_=Ft(K_=>{"use strict";Object.defineProperty(K_,"__esModule",{value:!0});var UH=(Be(),on(yo)),$H=UH.__importDefault(W_()),G_=class extends $H.default{select(t){let e=!1,r=(t??"*").split("").map(i=>/\s/.test(i)&&!e?"":(i==='"'&&(e=!e),i)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:e=!0,nullsFirst:r,foreignTable:i,referencedTable:o=i}={}){let s=o?`${o}.order`:"order",a=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${a?`${a},`:""}${t}.${e?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:e,referencedTable:r=e}={}){let i=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${t}`),this}range(t,e,{foreignTable:r,referencedTable:i=r}={}){let o=typeof i>"u"?"offset":`${i}.offset`,s=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(o,`${t}`),this.url.searchParams.set(s,`${e-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:e=!1,settings:r=!1,buffers:i=!1,wal:o=!1,format:s="text"}={}){var a;let l=[t?"analyze":null,e?"verbose":null,r?"settings":null,i?"buffers":null,o?"wal":null].filter(Boolean).join("|"),c=(a=this.headers.get("Accept"))!==null&&a!==void 0?a:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${s}; for="${c}"; options=${l};`),s==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};K_.default=G_});var Tf=Ft(J_=>{"use strict";Object.defineProperty(J_,"__esModule",{value:!0});var HH=(Be(),on(yo)),zH=HH.__importDefault(Y_()),qH=new RegExp("[,()]"),Z_=class extends zH.default{eq(t,e){return this.url.searchParams.append(t,`eq.${e}`),this}neq(t,e){return this.url.searchParams.append(t,`neq.${e}`),this}gt(t,e){return this.url.searchParams.append(t,`gt.${e}`),this}gte(t,e){return this.url.searchParams.append(t,`gte.${e}`),this}lt(t,e){return this.url.searchParams.append(t,`lt.${e}`),this}lte(t,e){return this.url.searchParams.append(t,`lte.${e}`),this}like(t,e){return this.url.searchParams.append(t,`like.${e}`),this}likeAllOf(t,e){return this.url.searchParams.append(t,`like(all).{${e.join(",")}}`),this}likeAnyOf(t,e){return this.url.searchParams.append(t,`like(any).{${e.join(",")}}`),this}ilike(t,e){return this.url.searchParams.append(t,`ilike.${e}`),this}ilikeAllOf(t,e){return this.url.searchParams.append(t,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(t,e){return this.url.searchParams.append(t,`ilike(any).{${e.join(",")}}`),this}regexMatch(t,e){return this.url.searchParams.append(t,`match.${e}`),this}regexIMatch(t,e){return this.url.searchParams.append(t,`imatch.${e}`),this}is(t,e){return this.url.searchParams.append(t,`is.${e}`),this}isDistinct(t,e){return this.url.searchParams.append(t,`isdistinct.${e}`),this}in(t,e){let r=Array.from(new Set(e)).map(i=>typeof i=="string"&&qH.test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}contains(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cs.{${e.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(e)}`),this}containedBy(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cd.{${e.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(e)}`),this}rangeGt(t,e){return this.url.searchParams.append(t,`sr.${e}`),this}rangeGte(t,e){return this.url.searchParams.append(t,`nxl.${e}`),this}rangeLt(t,e){return this.url.searchParams.append(t,`sl.${e}`),this}rangeLte(t,e){return this.url.searchParams.append(t,`nxr.${e}`),this}rangeAdjacent(t,e){return this.url.searchParams.append(t,`adj.${e}`),this}overlaps(t,e){return typeof e=="string"?this.url.searchParams.append(t,`ov.${e}`):this.url.searchParams.append(t,`ov.{${e.join(",")}}`),this}textSearch(t,e,{config:r,type:i}={}){let o="";i==="plain"?o="pl":i==="phrase"?o="ph":i==="websearch"&&(o="w");let s=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${o}fts${s}.${e}`),this}match(t){return Object.entries(t).forEach(([e,r])=>{this.url.searchParams.append(e,`eq.${r}`)}),this}not(t,e,r){return this.url.searchParams.append(t,`not.${e}.${r}`),this}or(t,{foreignTable:e,referencedTable:r=e}={}){let i=r?`${r}.or`:"or";return this.url.searchParams.append(i,`(${t})`),this}filter(t,e,r){return this.url.searchParams.append(t,`${e}.${r}`),this}};J_.default=Z_});var e0=Ft(Q_=>{"use strict";Object.defineProperty(Q_,"__esModule",{value:!0});var WH=(Be(),on(yo)),Tc=WH.__importDefault(Tf()),X_=class{constructor(t,{headers:e={},schema:r,fetch:i}){this.url=t,this.headers=new Headers(e),this.schema=r,this.fetch=i}select(t,e){let{head:r=!1,count:i}=e??{},o=r?"HEAD":"GET",s=!1,a=(t??"*").split("").map(l=>/\s/.test(l)&&!s?"":(l==='"'&&(s=!s),l)).join("");return this.url.searchParams.set("select",a),i&&this.headers.append("Prefer",`count=${i}`),new Tc.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(t,{count:e,defaultToNull:r=!0}={}){var i;let o="POST";if(e&&this.headers.append("Prefer",`count=${e}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(t)){let s=t.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(s.length>0){let a=[...new Set(s)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new Tc.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}upsert(t,{onConflict:e,ignoreDuplicates:r=!1,count:i,defaultToNull:o=!0}={}){var s;let a="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),e!==void 0&&this.url.searchParams.set("on_conflict",e),i&&this.headers.append("Prefer",`count=${i}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(t)){let l=t.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(l.length>0){let c=[...new Set(l)].map(u=>`"${u}"`);this.url.searchParams.set("columns",c.join(","))}}return new Tc.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}update(t,{count:e}={}){var r;let i="PATCH";return e&&this.headers.append("Prefer",`count=${e}`),new Tc.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:t}={}){var e;let r="DELETE";return t&&this.headers.append("Prefer",`count=${t}`),new Tc.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch})}};Q_.default=X_});var wT=Ft(n0=>{"use strict";Object.defineProperty(n0,"__esModule",{value:!0});var bT=(Be(),on(yo)),GH=bT.__importDefault(e0()),KH=bT.__importDefault(Tf()),t0=class n{constructor(t,{headers:e={},schema:r,fetch:i}={}){this.url=t,this.headers=new Headers(e),this.schemaName=r,this.fetch=i}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");let e=new URL(`${this.url}/${t}`);return new GH.default(e,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new n(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,e={},{head:r=!1,get:i=!1,count:o}={}){var s;let a,l=new URL(`${this.url}/rpc/${t}`),c;r||i?(a=r?"HEAD":"GET",Object.entries(e).filter(([d,f])=>f!==void 0).map(([d,f])=>[d,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([d,f])=>{l.searchParams.append(d,f)})):(a="POST",c=e);let u=new Headers(this.headers);return o&&u.set("Prefer",`count=${o}`),new KH.default({method:a,url:l,headers:u,schema:this.schemaName,body:c,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}};n0.default=t0});var r0=Ft(Nt=>{"use strict";Object.defineProperty(Nt,"__esModule",{value:!0});Nt.PostgrestError=Nt.PostgrestBuilder=Nt.PostgrestTransformBuilder=Nt.PostgrestFilterBuilder=Nt.PostgrestQueryBuilder=Nt.PostgrestClient=void 0;var xa=(Be(),on(yo)),ET=xa.__importDefault(wT());Nt.PostgrestClient=ET.default;var CT=xa.__importDefault(e0());Nt.PostgrestQueryBuilder=CT.default;var DT=xa.__importDefault(Tf());Nt.PostgrestFilterBuilder=DT.default;var xT=xa.__importDefault(Y_());Nt.PostgrestTransformBuilder=xT.default;var ST=xa.__importDefault(W_());Nt.PostgrestBuilder=ST.default;var IT=xa.__importDefault(H_());Nt.PostgrestError=IT.default;Nt.default={PostgrestClient:ET.default,PostgrestQueryBuilder:CT.default,PostgrestFilterBuilder:DT.default,PostgrestTransformBuilder:xT.default,PostgrestBuilder:ST.default,PostgrestError:IT.default}});var i0,Af,o0=U(()=>{"use strict";i0=class{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){let e=process.versions;if(e&&e.node){let r=e.node,i=parseInt(r.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){let t=this.detectEnvironment();if(t.constructor)return t.constructor;let e=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(e+=`

Suggested solution: ${t.workaround}`),new Error(e)}static createWebSocket(t,e){let r=this.getWebSocketConstructor();return new r(t,e)}static isWebSocketSupported(){try{let t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}},Af=i0});var MT,TT=U(()=>{"use strict";MT="2.87.1"});var AT,s0,OT,a0,Ac,RT,kT,ts,ot,xn,l0,ns,Of=U(()=>{"use strict";TT();AT=`realtime-js/${MT}`,s0="1.0.0",OT="2.0.0",a0=s0,Ac=1e4,RT=1e3,kT=100,ts=function(n){return n[n.connecting=0]="connecting",n[n.open=1]="open",n[n.closing=2]="closing",n[n.closed=3]="closed",n}(ts||{}),ot=function(n){return n.closed="closed",n.errored="errored",n.joined="joined",n.joining="joining",n.leaving="leaving",n}(ot||{}),xn=function(n){return n.close="phx_close",n.error="phx_error",n.join="phx_join",n.reply="phx_reply",n.leave="phx_leave",n.access_token="access_token",n}(xn||{}),l0=function(n){return n.websocket="websocket",n}(l0||{}),ns=function(n){return n.Connecting="connecting",n.Open="open",n.Closing="closing",n.Closed="closed",n}(ns||{})});var Rf,PT=U(()=>{"use strict";Rf=class{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,e){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return e(this._binaryEncodeUserBroadcastPush(t));let r=[t.join_ref,t.ref,t.topic,t.event,t.payload];return e(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(t){var e;return this._isArrayBuffer((e=t.payload)===null||e===void 0?void 0:e.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var e,r;let i=(r=(e=t.payload)===null||e===void 0?void 0:e.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,i)}_encodeJsonUserBroadcastPush(t){var e,r;let i=(r=(e=t.payload)===null||e===void 0?void 0:e.payload)!==null&&r!==void 0?r:{},s=new TextEncoder().encode(JSON.stringify(i)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,s)}_encodeUserBroadcastPush(t,e,r){var i,o;let s=t.topic,a=(i=t.ref)!==null&&i!==void 0?i:"",l=(o=t.join_ref)!==null&&o!==void 0?o:"",c=t.payload.event,u=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},d=Object.keys(u).length===0?"":JSON.stringify(u);if(l.length>255)throw new Error(`joinRef length ${l.length} exceeds maximum of 255`);if(a.length>255)throw new Error(`ref length ${a.length} exceeds maximum of 255`);if(s.length>255)throw new Error(`topic length ${s.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`userEvent length ${c.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`metadata length ${d.length} exceeds maximum of 255`);let f=this.USER_BROADCAST_PUSH_META_LENGTH+l.length+a.length+s.length+c.length+d.length,h=new ArrayBuffer(this.HEADER_LENGTH+f),p=new DataView(h),g=0;p.setUint8(g++,this.KINDS.userBroadcastPush),p.setUint8(g++,l.length),p.setUint8(g++,a.length),p.setUint8(g++,s.length),p.setUint8(g++,c.length),p.setUint8(g++,d.length),p.setUint8(g++,e),Array.from(l,_=>p.setUint8(g++,_.charCodeAt(0))),Array.from(a,_=>p.setUint8(g++,_.charCodeAt(0))),Array.from(s,_=>p.setUint8(g++,_.charCodeAt(0))),Array.from(c,_=>p.setUint8(g++,_.charCodeAt(0))),Array.from(d,_=>p.setUint8(g++,_.charCodeAt(0)));var m=new Uint8Array(h.byteLength+r.byteLength);return m.set(new Uint8Array(h),0),m.set(new Uint8Array(r),h.byteLength),m.buffer}decode(t,e){if(this._isArrayBuffer(t)){let r=this._binaryDecode(t);return e(r)}if(typeof t=="string"){let r=JSON.parse(t),[i,o,s,a,l]=r;return e({join_ref:i,ref:o,topic:s,event:a,payload:l})}return e({})}_binaryDecode(t){let e=new DataView(t),r=e.getUint8(0),i=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,e,i)}}_decodeUserBroadcast(t,e,r){let i=e.getUint8(1),o=e.getUint8(2),s=e.getUint8(3),a=e.getUint8(4),l=this.HEADER_LENGTH+4,c=r.decode(t.slice(l,l+i));l=l+i;let u=r.decode(t.slice(l,l+o));l=l+o;let d=r.decode(t.slice(l,l+s));l=l+s;let f=t.slice(l,t.byteLength),h=a===this.JSON_ENCODING?JSON.parse(r.decode(f)):f,p={type:this.BROADCAST_EVENT,event:u,payload:h};return s>0&&(p.meta=JSON.parse(d)),{join_ref:null,ref:null,topic:c,event:this.BROADCAST_EVENT,payload:p}}_isArrayBuffer(t){var e;return t instanceof ArrayBuffer||((e=t?.constructor)===null||e===void 0?void 0:e.name)==="ArrayBuffer"}_pick(t,e){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([r])=>e.includes(r)))}}});var Sa,c0=U(()=>{"use strict";Sa=class{constructor(t,e){this.callback=t,this.timerCalc=e,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=e}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}});var Le,d0,YH,NT,u0,ZH,JH,XH,QH,e3,kf,Pf=U(()=>{"use strict";Le=function(n){return n.abstime="abstime",n.bool="bool",n.date="date",n.daterange="daterange",n.float4="float4",n.float8="float8",n.int2="int2",n.int4="int4",n.int4range="int4range",n.int8="int8",n.int8range="int8range",n.json="json",n.jsonb="jsonb",n.money="money",n.numeric="numeric",n.oid="oid",n.reltime="reltime",n.text="text",n.time="time",n.timestamp="timestamp",n.timestamptz="timestamptz",n.timetz="timetz",n.tsrange="tsrange",n.tstzrange="tstzrange",n}(Le||{}),d0=(n,t,e={})=>{var r;let i=(r=e.skipTypes)!==null&&r!==void 0?r:[];return t?Object.keys(t).reduce((o,s)=>(o[s]=YH(s,n,t,i),o),{}):{}},YH=(n,t,e,r)=>{let i=t.find(a=>a.name===n),o=i?.type,s=e[n];return o&&!r.includes(o)?NT(o,s):u0(s)},NT=(n,t)=>{if(n.charAt(0)==="_"){let e=n.slice(1,n.length);return QH(t,e)}switch(n){case Le.bool:return ZH(t);case Le.float4:case Le.float8:case Le.int2:case Le.int4:case Le.int8:case Le.numeric:case Le.oid:return JH(t);case Le.json:case Le.jsonb:return XH(t);case Le.timestamp:return e3(t);case Le.abstime:case Le.date:case Le.daterange:case Le.int4range:case Le.int8range:case Le.money:case Le.reltime:case Le.text:case Le.time:case Le.timestamptz:case Le.timetz:case Le.tsrange:case Le.tstzrange:return u0(t);default:return u0(t)}},u0=n=>n,ZH=n=>{switch(n){case"t":return!0;case"f":return!1;default:return n}},JH=n=>{if(typeof n=="string"){let t=parseFloat(n);if(!Number.isNaN(t))return t}return n},XH=n=>{if(typeof n=="string")try{return JSON.parse(n)}catch(t){return console.log(`JSON parse error: ${t}`),n}return n},QH=(n,t)=>{if(typeof n!="string")return n;let e=n.length-1,r=n[e];if(n[0]==="{"&&r==="}"){let o,s=n.slice(1,e);try{o=JSON.parse("["+s+"]")}catch{o=s?s.split(","):[]}return o.map(a=>NT(t,a))}return n},e3=n=>typeof n=="string"?n.replace(" ","T"):n,kf=n=>{let t=new URL(n);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href}});var Ia,FT=U(()=>{"use strict";Of();Ia=class{constructor(t,e,r={},i=Ac){this.channel=t,this.event=e,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,e){var r;return this._hasReceived(t)&&e((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:e}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);let t=e=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=e,this._matchReceive(e)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,e){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:e})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:e}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(e))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}});var h0,Ma,f0=U(()=>{"use strict";h0=function(n){return n.SYNC="sync",n.JOIN="join",n.LEAVE="leave",n}(h0||{}),Ma=class n{constructor(t,e){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};let r=e?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{let{onJoin:o,onLeave:s,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=n.syncState(this.state,i,o,s),this.pendingDiffs.forEach(l=>{this.state=n.syncDiff(this.state,l,o,s)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},i=>{let{onJoin:o,onLeave:s,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=n.syncDiff(this.state,i,o,s),a())}),this.onJoin((i,o,s)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:o,newPresences:s})}),this.onLeave((i,o,s)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:o,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,e,r,i){let o=this.cloneDeep(t),s=this.transformState(e),a={},l={};return this.map(o,(c,u)=>{s[c]||(l[c]=u)}),this.map(s,(c,u)=>{let d=o[c];if(d){let f=u.map(m=>m.presence_ref),h=d.map(m=>m.presence_ref),p=u.filter(m=>h.indexOf(m.presence_ref)<0),g=d.filter(m=>f.indexOf(m.presence_ref)<0);p.length>0&&(a[c]=p),g.length>0&&(l[c]=g)}else a[c]=u}),this.syncDiff(o,{joins:a,leaves:l},r,i)}static syncDiff(t,e,r,i){let{joins:o,leaves:s}={joins:this.transformState(e.joins),leaves:this.transformState(e.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(o,(a,l)=>{var c;let u=(c=t[a])!==null&&c!==void 0?c:[];if(t[a]=this.cloneDeep(l),u.length>0){let d=t[a].map(h=>h.presence_ref),f=u.filter(h=>d.indexOf(h.presence_ref)<0);t[a].unshift(...f)}r(a,u,l)}),this.map(s,(a,l)=>{let c=t[a];if(!c)return;let u=l.map(d=>d.presence_ref);c=c.filter(d=>u.indexOf(d.presence_ref)<0),t[a]=c,i(a,c,l),c.length===0&&delete t[a]}),t}static map(t,e){return Object.getOwnPropertyNames(t).map(r=>e(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((e,r)=>{let i=t[r];return"metas"in i?e[r]=i.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):e[r]=i,e},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}});var p0,Ta,Tr,LT,Aa,g0=U(()=>{"use strict";Of();FT();c0();f0();Pf();Pf();p0=function(n){return n.ALL="*",n.INSERT="INSERT",n.UPDATE="UPDATE",n.DELETE="DELETE",n}(p0||{}),Ta=function(n){return n.BROADCAST="broadcast",n.PRESENCE="presence",n.POSTGRES_CHANGES="postgres_changes",n.SYSTEM="system",n}(Ta||{}),Tr=function(n){return n.SUBSCRIBED="SUBSCRIBED",n.TIMED_OUT="TIMED_OUT",n.CLOSED="CLOSED",n.CHANNEL_ERROR="CHANNEL_ERROR",n}(Tr||{}),LT=ot,Aa=class n{constructor(t,e={config:{}},r){var i,o;if(this.topic=t,this.params=e,this.socket=r,this.bindings={},this.state=ot.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},e.config),this.timeout=this.socket.timeout,this.joinPush=new Ia(this,xn.join,this.params,this.timeout),this.rejoinTimer=new Sa(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ot.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ot.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=ot.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ot.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=ot.errored,this.rejoinTimer.scheduleTimeout())}),this._on(xn.reply,{},(s,a)=>{this._trigger(this._replyEventName(a),s)}),this.presence=new Ma(this),this.broadcastEndpointURL=kf(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((o=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||o===void 0)&&o.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,e=this.timeout){var r,i,o;if(this.socket.isConnected()||this.socket.connect(),this.state==ot.closed){let{config:{broadcast:s,presence:a,private:l}}=this.params,c=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(h=>h.filter))!==null&&i!==void 0?i:[],u=!!this.bindings[Ta.PRESENCE]&&this.bindings[Ta.PRESENCE].length>0||((o=this.params.config.presence)===null||o===void 0?void 0:o.enabled)===!0,d={},f={broadcast:s,presence:Object.assign(Object.assign({},a),{enabled:u}),postgres_changes:c,private:l};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this._onError(h=>t?.(Tr.CHANNEL_ERROR,h)),this._onClose(()=>t?.(Tr.CLOSED)),this.updateJoinPayload(Object.assign({config:f},d)),this.joinedOnce=!0,this._rejoin(e),this.joinPush.receive("ok",p=>y(this,[p],function*({postgres_changes:h}){var g;if(this.socket._isManualToken()||this.socket.setAuth(),h===void 0){t?.(Tr.SUBSCRIBED);return}else{let m=this.bindings.postgres_changes,_=(g=m?.length)!==null&&g!==void 0?g:0,E=[];for(let C=0;C<_;C++){let D=m[C],{filter:{event:S,schema:M,table:A,filter:T}}=D,F=h&&h[C];if(F&&F.event===S&&n.isFilterValueEqual(F.schema,M)&&n.isFilterValueEqual(F.table,A)&&n.isFilterValueEqual(F.filter,T))E.push(Object.assign(Object.assign({},D),{id:F.id}));else{this.unsubscribe(),this.state=ot.errored,t?.(Tr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=E,t&&t(Tr.SUBSCRIBED);return}})).receive("error",h=>{this.state=ot.errored,t?.(Tr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(h).join(", ")||"error")))}).receive("timeout",()=>{t?.(Tr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}track(r){return y(this,arguments,function*(t,e={}){return yield this.send({type:"presence",event:"track",payload:t},e.timeout||this.timeout)})}untrack(){return y(this,arguments,function*(t={}){return yield this.send({type:"presence",event:"untrack"},t)})}on(t,e,r){return this.state===ot.joined&&t===Ta.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>y(this,null,function*(){return yield this.subscribe()}))),this._on(t,e,r)}httpSend(i,o){return y(this,arguments,function*(t,e,r={}){var s;let a=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(e==null)return Promise.reject("Payload is required for httpSend()");let l={method:"POST",headers:{Authorization:a,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:e,private:this.private}]})},c=yield this._fetchWithTimeout(this.broadcastEndpointURL,l,(s=r.timeout)!==null&&s!==void 0?s:this.timeout);if(c.status===202)return{success:!0};let u=c.statusText;try{let d=yield c.json();u=d.error||d.message||u}catch{}return Promise.reject(new Error(u))})}send(r){return y(this,arguments,function*(t,e={}){var i,o;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");let{event:s,payload:a}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:a,private:this.private}]})};try{let u=yield this._fetchWithTimeout(this.broadcastEndpointURL,c,(i=e.timeout)!==null&&i!==void 0?i:this.timeout);return yield(o=u.body)===null||o===void 0?void 0:o.cancel(),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var a,l,c;let u=this._push(t.type,t,e.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(a=this.params)===null||a===void 0?void 0:a.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&s("ok"),u.receive("ok",()=>s("ok")),u.receive("error",()=>s("error")),u.receive("timeout",()=>s("timed out"))})})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=ot.leaving;let e=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(xn.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new Ia(this,xn.leave,{},t),r.receive("ok",()=>{e(),i("ok")}).receive("timeout",()=>{e(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r?.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=ot.closed,this.bindings={}}_fetchWithTimeout(t,e,r){return y(this,null,function*(){let i=new AbortController,o=setTimeout(()=>i.abort(),r),s=yield this.socket.fetch(t,Object.assign(Object.assign({},e),{signal:i.signal}));return clearTimeout(o),s})}_push(t,e,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Ia(this,t,e,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>kT){let e=this.pushBuffer.shift();e&&(e.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${e.event}`,e.payload))}}_onMessage(t,e,r){return e}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,e,r){var i,o;let s=t.toLocaleLowerCase(),{close:a,error:l,leave:c,join:u}=xn;if(r&&[a,l,c,u].indexOf(s)>=0&&r!==this._joinRef())return;let f=this._onMessage(s,e,r);if(e&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(h=>{var p,g,m;return((p=h.filter)===null||p===void 0?void 0:p.event)==="*"||((m=(g=h.filter)===null||g===void 0?void 0:g.event)===null||m===void 0?void 0:m.toLocaleLowerCase())===s}).map(h=>h.callback(f,r)):(o=this.bindings[s])===null||o===void 0||o.filter(h=>{var p,g,m,_,E,C;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in h){let D=h.id,S=(p=h.filter)===null||p===void 0?void 0:p.event;return D&&((g=e.ids)===null||g===void 0?void 0:g.includes(D))&&(S==="*"||S?.toLocaleLowerCase()===((m=e.data)===null||m===void 0?void 0:m.type.toLocaleLowerCase()))}else{let D=(E=(_=h?.filter)===null||_===void 0?void 0:_.event)===null||E===void 0?void 0:E.toLocaleLowerCase();return D==="*"||D===((C=e?.event)===null||C===void 0?void 0:C.toLocaleLowerCase())}else return h.type.toLocaleLowerCase()===s}).map(h=>{if(typeof f=="object"&&"ids"in f){let p=f.data,{schema:g,table:m,commit_timestamp:_,type:E,errors:C}=p;f=Object.assign(Object.assign({},{schema:g,table:m,commit_timestamp:_,eventType:E,new:{},old:{},errors:C}),this._getPayloadRecords(p))}h.callback(f,r)})}_isClosed(){return this.state===ot.closed}_isJoined(){return this.state===ot.joined}_isJoining(){return this.state===ot.joining}_isLeaving(){return this.state===ot.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,e,r){let i=t.toLocaleLowerCase(),o={type:i,filter:e,callback:r};return this.bindings[i]?this.bindings[i].push(o):this.bindings[i]=[o],this}_off(t,e){let r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var o;return!(((o=i.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===r&&n.isEqual(i.filter,e))})),this}static isEqual(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(let r in t)if(t[r]!==e[r])return!1;return!0}static isFilterValueEqual(t,e){return(t??void 0)===(e??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(xn.close,{},t)}_onError(t){this._on(xn.error,{},e=>t(e))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ot.joining,this.joinPush.resend(t))}_getPayloadRecords(t){let e={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(e.new=d0(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(e.old=d0(t.columns,t.old_record)),e}}});var m0,Nf,n3,r3,i3,Ff,jT=U(()=>{"use strict";o0();Of();PT();c0();Pf();g0();m0=()=>{},Nf={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},n3=[1e3,2e3,5e3,1e4],r3=1e4,i3=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`,Ff=class{constructor(t,e){var r;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Ac,this.transport=null,this.heartbeatIntervalMs=Nf.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=m0,this.ref=0,this.reconnectTimer=null,this.vsn=a0,this.logger=m0,this.conn=null,this.sendBuffer=[],this.serializer=new Rf,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>i?(...o)=>i(...o):(...o)=>fetch(...o),!(!((r=e?.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=e.params.apikey,this.endPoint=`${t}/${l0.websocket}`,this.httpEndpoint=kf(t),this._initializeOptions(e),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(e?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Af.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");let e=t.message;throw e.includes("Node.js")?new Error(`${e}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${e}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,e){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){let r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,e??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}removeChannel(t){return y(this,null,function*(){let e=yield t.unsubscribe();return this.channels.length===0&&this.disconnect(),e})}removeAllChannels(){return y(this,null,function*(){let t=yield Promise.all(this.channels.map(e=>e.unsubscribe()));return this.channels=[],this.disconnect(),t})}log(t,e,r){this.logger(t,e,r)}connectionState(){switch(this.conn&&this.conn.readyState){case ts.connecting:return ns.Connecting;case ts.open:return ns.Open;case ts.closing:return ns.Closing;default:return ns.Closed}}isConnected(){return this.connectionState()===ns.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,e={config:{}}){let r=`realtime:${t}`,i=this.getChannels().find(o=>o.topic===r);if(i)return i;{let o=new Aa(`realtime:${t}`,e,this);return this.channels.push(o),o}}push(t){let{topic:e,event:r,payload:i,ref:o}=t,s=()=>{this.encode(t,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${e} ${r} (${o})`,i),this.isConnected()?s():this.sendBuffer.push(s)}setAuth(t=null){return y(this,null,function*(){this._authPromise=this._performAuth(t);try{yield this._authPromise}finally{this._authPromise=null}})}_isManualToken(){return this._manuallySetToken}sendHeartbeat(){return y(this,null,function*(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(e){this.log("error","error in heartbeat callback",e)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(e){this.log("error","error in heartbeat callback",e)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(RT,"heartbeat timeout"),setTimeout(()=>{var e;this.isConnected()||(e=this.reconnectTimer)===null||e===void 0||e.scheduleTimeout()},Nf.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(e){this.log("error","error in heartbeat callback",e)}this._setAuthSafely("heartbeat")})}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let e=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));e&&(this.log("transport",`leaving duplicate topic "${t}"`),e.unsubscribe())}_remove(t){this.channels=this.channels.filter(e=>e.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,e=>{if(e.topic==="phoenix"&&e.event==="phx_reply")try{this.heartbeatCallback(e.payload.status==="ok"?"ok":"error")}catch(c){this.log("error","error in heartbeat callback",c)}e.ref&&e.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);let{topic:r,event:i,payload:o,ref:s}=e,a=s?`(${s})`:"",l=o.status||"";this.log("receive",`${l} ${r} ${i} ${a}`.trim(),o),this.channels.filter(c=>c._isMember(r)).forEach(c=>c._trigger(i,o,s)),this._triggerStateCallbacks("message",e)})}_clearTimer(t){var e;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((e=this.reconnectTimer)===null||e===void 0||e.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){if(this.conn){if(this.conn.readyState===ts.open||this.conn.readyState===ts.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(e=>{this.log("error","error waiting for auth on connect",e),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");let t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=e=>{this.log("worker","worker error",e.message),this.workerRef.terminate()},this.workerRef.onmessage=e=>{e.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var e;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(e=this.reconnectTimer)===null||e===void 0||e.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(xn.error))}_appendParams(t,e){if(Object.keys(e).length===0)return t;let r=t.match(/\?/)?"&":"?",i=new URLSearchParams(e);return`${t}${r}${i}`}_workerObjectUrl(t){let e;if(t)e=t;else{let r=new Blob([i3],{type:"application/javascript"});e=URL.createObjectURL(r)}return e}_setConnectionState(t,e=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=e)}_performAuth(t=null){return y(this,null,function*(){let e,r=!1;if(t)e=t,r=!0;else if(this.accessToken)try{e=yield this.accessToken()}catch(i){this.log("error","Error fetching access token from callback",i),e=this.accessTokenValue}else e=this.accessTokenValue;r?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=e&&(this.accessTokenValue=e,this.channels.forEach(i=>{let o={access_token:e,version:AT};e&&i.updateJoinPayload(o),i.joinedOnce&&i._isJoined()&&i._push(xn.access_token,{access_token:e})}))})}_waitForAuthIfNeeded(){return y(this,null,function*(){this._authPromise&&(yield this._authPromise)})}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(e=>{this.log("error",`Error setting auth in ${t}`,e)})}_triggerStateCallbacks(t,e){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(e)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new Sa(()=>y(this,null,function*(){setTimeout(()=>y(this,null,function*(){yield this._waitForAuthIfNeeded(),this.isConnected()||this.connect()}),Nf.RECONNECT_DELAY)}),this.reconnectAfterMs)}_initializeOptions(t){var e,r,i,o,s,a,l,c,u,d,f,h;switch(this.transport=(e=t?.transport)!==null&&e!==void 0?e:null,this.timeout=(r=t?.timeout)!==null&&r!==void 0?r:Ac,this.heartbeatIntervalMs=(i=t?.heartbeatIntervalMs)!==null&&i!==void 0?i:Nf.HEARTBEAT_INTERVAL,this.worker=(o=t?.worker)!==null&&o!==void 0?o:!1,this.accessToken=(s=t?.accessToken)!==null&&s!==void 0?s:null,this.heartbeatCallback=(a=t?.heartbeatCallback)!==null&&a!==void 0?a:m0,this.vsn=(l=t?.vsn)!==null&&l!==void 0?l:a0,t?.params&&(this.params=t.params),t?.logger&&(this.logger=t.logger),(t?.logLevel||t?.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=t?.reconnectAfterMs)!==null&&c!==void 0?c:p=>n3[p-1]||r3,this.vsn){case s0:this.encode=(u=t?.encode)!==null&&u!==void 0?u:(p,g)=>g(JSON.stringify(p)),this.decode=(d=t?.decode)!==null&&d!==void 0?d:(p,g)=>g(JSON.parse(p));break;case OT:this.encode=(f=t?.encode)!==null&&f!==void 0?f:this.serializer.encode.bind(this.serializer),this.decode=(h=t?.decode)!==null&&h!==void 0?h:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t?.workerUrl}}}});var v0={};hl(v0,{REALTIME_CHANNEL_STATES:()=>LT,REALTIME_LISTEN_TYPES:()=>Ta,REALTIME_POSTGRES_CHANGES_LISTEN_EVENT:()=>p0,REALTIME_PRESENCE_LISTEN_EVENTS:()=>h0,REALTIME_SUBSCRIBE_STATES:()=>Tr,RealtimeChannel:()=>Aa,RealtimeClient:()=>Ff,RealtimePresence:()=>Ma,WebSocketFactory:()=>Af});var y0=U(()=>{"use strict";jT();g0();f0();o0()});function Ee(n){return typeof n=="object"&&n!==null&&"__isStorageError"in n}var li,Oc,Hi,zi=U(()=>{"use strict";li=class extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}};Oc=class extends li{constructor(t,e,r){super(t),this.name="StorageApiError",this.status=e,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Hi=class extends li{constructor(t,e){super(t),this.name="StorageUnknownError",this.originalError=e}}});var Oa,VT,Lf,BT,UT,Rc=U(()=>{"use strict";Oa=n=>n?(...t)=>n(...t):(...t)=>fetch(...t),VT=()=>Response,Lf=n=>{if(Array.isArray(n))return n.map(e=>Lf(e));if(typeof n=="function"||n!==Object(n))return n;let t={};return Object.entries(n).forEach(([e,r])=>{let i=e.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));t[i]=Lf(r)}),t},BT=n=>{if(typeof n!="object"||n===null)return!1;let t=Object.getPrototypeOf(n);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},UT=n=>!n||typeof n!="string"||n.length===0||n.length>100||n.trim()!==n||n.includes("/")||n.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(n)});function kc(n,t,e,r,i,o){return k(this,void 0,void 0,function*(){return new Promise((s,a)=>{n(e,s3(t,r,i,o)).then(l=>{if(!l.ok)throw l;return r?.noResolveJson?l:l.json()}).then(l=>s(l)).catch(l=>o3(l,a,r))})})}function qi(n,t,e,r){return k(this,void 0,void 0,function*(){return kc(n,"GET",t,e,r)})}function Qt(n,t,e,r,i){return k(this,void 0,void 0,function*(){return kc(n,"POST",t,r,i,e)})}function Pc(n,t,e,r,i){return k(this,void 0,void 0,function*(){return kc(n,"PUT",t,r,i,e)})}function $T(n,t,e,r){return k(this,void 0,void 0,function*(){return kc(n,"HEAD",t,Object.assign(Object.assign({},e),{noResolveJson:!0}),r)})}function Ra(n,t,e,r,i){return k(this,void 0,void 0,function*(){return kc(n,"DELETE",t,r,i,e)})}var _0,o3,s3,jf=U(()=>{"use strict";Be();zi();Rc();_0=n=>{var t;return n.msg||n.message||n.error_description||(typeof n.error=="string"?n.error:(t=n.error)===null||t===void 0?void 0:t.message)||JSON.stringify(n)},o3=(n,t,e)=>k(void 0,void 0,void 0,function*(){let r=yield VT();n instanceof r&&!e?.noResolveJson?n.json().then(i=>{let o=n.status||500,s=i?.statusCode||o+"";t(new Oc(_0(i),o,s))}).catch(i=>{t(new Hi(_0(i),i))}):t(new Hi(_0(n),n))}),s3=(n,t,e,r)=>{let i={method:n,headers:t?.headers||{}};return n==="GET"||!r?i:(BT(r)?(i.headers=Object.assign({"Content-Type":"application/json"},t?.headers),i.body=JSON.stringify(r)):i.body=r,t?.duplex&&(i.duplex=t.duplex),Object.assign(Object.assign({},i),e))}});var Vf,HT=U(()=>{"use strict";Be();zi();Vf=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e}then(t,e){return this.execute().then(t,e)}execute(){return k(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ee(t))return{data:null,error:t};throw t}})}}});var zT,b0,qT,WT=U(()=>{"use strict";Be();zi();HT();b0=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e,this[zT]="BlobDownloadBuilder",this.promise=null}asStream(){return new Vf(this.downloadFn,this.shouldThrowOnError)}then(t,e){return this.getPromise().then(t,e)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return k(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ee(t))return{data:null,error:t};throw t}})}};zT=Symbol.toStringTag;qT=b0});var a3,GT,Bf,KT=U(()=>{"use strict";Be();zi();jf();Rc();WT();a3={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},GT={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1},Bf=class{constructor(t,e={},r,i){this.shouldThrowOnError=!1,this.url=t,this.headers=e,this.bucketId=r,this.fetch=Oa(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,e,r,i){return k(this,void 0,void 0,function*(){try{let o,s=Object.assign(Object.assign({},GT),i),a=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(s.upsert)}),l=s.metadata;typeof Blob<"u"&&r instanceof Blob?(o=new FormData,o.append("cacheControl",s.cacheControl),l&&o.append("metadata",this.encodeMetadata(l)),o.append("",r)):typeof FormData<"u"&&r instanceof FormData?(o=r,o.has("cacheControl")||o.append("cacheControl",s.cacheControl),l&&!o.has("metadata")&&o.append("metadata",this.encodeMetadata(l))):(o=r,a["cache-control"]=`max-age=${s.cacheControl}`,a["content-type"]=s.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l))),(typeof ReadableStream<"u"&&o instanceof ReadableStream||o&&typeof o=="object"&&"pipe"in o&&typeof o.pipe=="function")&&!s.duplex&&(s.duplex="half")),i?.headers&&(a=Object.assign(Object.assign({},a),i.headers));let c=this._removeEmptyFolders(e),u=this._getFinalPath(c),d=yield(t=="PUT"?Pc:Qt)(this.fetch,`${this.url}/object/${u}`,o,Object.assign({headers:a},s?.duplex?{duplex:s.duplex}:{}));return{data:{path:c,id:d.Id,fullPath:d.Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Ee(o))return{data:null,error:o};throw o}})}upload(t,e,r){return k(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,e,r)})}uploadToSignedUrl(t,e,r,i){return k(this,void 0,void 0,function*(){let o=this._removeEmptyFolders(t),s=this._getFinalPath(o),a=new URL(this.url+`/object/upload/sign/${s}`);a.searchParams.set("token",e);try{let l,c=Object.assign({upsert:GT.upsert},i),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",c.cacheControl)):(l=r,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType);let d=yield Pc(this.fetch,a.toString(),l,{headers:u});return{data:{path:o,fullPath:d.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Ee(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(t,e){return k(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t),i=Object.assign({},this.headers);e?.upsert&&(i["x-upsert"]="true");let o=yield Qt(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),s=new URL(this.url+o.url),a=s.searchParams.get("token");if(!a)throw new li("No token returned by API");return{data:{signedUrl:s.toString(),path:t,token:a},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ee(r))return{data:null,error:r};throw r}})}update(t,e,r){return k(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,e,r)})}move(t,e,r){return k(this,void 0,void 0,function*(){try{return{data:yield Qt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:e,destinationBucket:r?.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ee(i))return{data:null,error:i};throw i}})}copy(t,e,r){return k(this,void 0,void 0,function*(){try{return{data:{path:(yield Qt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:e,destinationBucket:r?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ee(i))return{data:null,error:i};throw i}})}createSignedUrl(t,e,r){return k(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),o=yield Qt(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:e},r?.transform?{transform:r.transform}:{}),{headers:this.headers}),s=r?.download?`&download=${r.download===!0?"":r.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${s}`)},{data:o,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ee(i))return{data:null,error:i};throw i}})}createSignedUrls(t,e,r){return k(this,void 0,void 0,function*(){try{let i=yield Qt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:e,paths:t},{headers:this.headers}),o=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(s=>Object.assign(Object.assign({},s),{signedUrl:s.signedURL?encodeURI(`${this.url}${s.signedURL}${o}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ee(i))return{data:null,error:i};throw i}})}download(t,e){let i=typeof e?.transform<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString(e?.transform||{}),s=o?`?${o}`:"",a=this._getFinalPath(t),l=()=>qi(this.fetch,`${this.url}/${i}/${a}${s}`,{headers:this.headers,noResolveJson:!0});return new qT(l,this.shouldThrowOnError)}info(t){return k(this,void 0,void 0,function*(){let e=this._getFinalPath(t);try{let r=yield qi(this.fetch,`${this.url}/object/info/${e}`,{headers:this.headers});return{data:Lf(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ee(r))return{data:null,error:r};throw r}})}exists(t){return k(this,void 0,void 0,function*(){let e=this._getFinalPath(t);try{return yield $T(this.fetch,`${this.url}/object/${e}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ee(r)&&r instanceof Hi){let i=r.originalError;if([400,404].includes(i?.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,e){let r=this._getFinalPath(t),i=[],o=e?.download?`download=${e.download===!0?"":e.download}`:"";o!==""&&i.push(o);let a=typeof e?.transform<"u"?"render/image":"object",l=this.transformOptsToQueryString(e?.transform||{});l!==""&&i.push(l);let c=i.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${c}`)}}}remove(t){return k(this,void 0,void 0,function*(){try{return{data:yield Ra(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Ee(e))return{data:null,error:e};throw e}})}list(t,e,r){return k(this,void 0,void 0,function*(){try{let i=Object.assign(Object.assign(Object.assign({},a3),e),{prefix:t||""});return{data:yield Qt(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ee(i))return{data:null,error:i};throw i}})}listV2(t,e){return k(this,void 0,void 0,function*(){try{let r=Object.assign({},t);return{data:yield Qt(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},e),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ee(r))return{data:null,error:r};throw r}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){let e=[];return t.width&&e.push(`width=${t.width}`),t.height&&e.push(`height=${t.height}`),t.resize&&e.push(`resize=${t.resize}`),t.format&&e.push(`format=${t.format}`),t.quality&&e.push(`quality=${t.quality}`),e.join("&")}}});var Uf,w0=U(()=>{"use strict";Uf="2.87.1"});var $f,E0=U(()=>{"use strict";w0();$f={"X-Client-Info":`storage-js/${Uf}`}});var Hf,YT=U(()=>{"use strict";Be();E0();zi();jf();Rc();Hf=class{constructor(t,e={},r,i){this.shouldThrowOnError=!1;let o=new URL(t);i?.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase.")),this.url=o.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},$f),e),this.fetch=Oa(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(t){return k(this,void 0,void 0,function*(){try{let e=this.listBucketOptionsToQueryString(t);return{data:yield qi(this.fetch,`${this.url}/bucket${e}`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Ee(e))return{data:null,error:e};throw e}})}getBucket(t){return k(this,void 0,void 0,function*(){try{return{data:yield qi(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Ee(e))return{data:null,error:e};throw e}})}createBucket(t){return k(this,arguments,void 0,function*(e,r={public:!1}){try{return{data:yield Qt(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ee(i))return{data:null,error:i};throw i}})}updateBucket(t,e){return k(this,void 0,void 0,function*(){try{return{data:yield Pc(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ee(r))return{data:null,error:r};throw r}})}emptyBucket(t){return k(this,void 0,void 0,function*(){try{return{data:yield Qt(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Ee(e))return{data:null,error:e};throw e}})}deleteBucket(t){return k(this,void 0,void 0,function*(){try{return{data:yield Ra(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Ee(e))return{data:null,error:e};throw e}})}listBucketOptionsToQueryString(t){let e={};return t&&("limit"in t&&(e.limit=String(t.limit)),"offset"in t&&(e.offset=String(t.offset)),t.search&&(e.search=t.search),t.sortColumn&&(e.sortColumn=t.sortColumn),t.sortOrder&&(e.sortOrder=t.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}}});function l3(n,t,e){let r=new URL(t,n);if(e)for(let[i,o]of Object.entries(e))o!==void 0&&r.searchParams.set(i,o);return r.toString()}function c3(n){return y(this,null,function*(){return!n||n.type==="none"?{}:n.type==="bearer"?{Authorization:`Bearer ${n.token}`}:n.type==="header"?{[n.name]:n.value}:n.type==="custom"?yield n.getHeaders():{}})}function u3(n){let t=n.fetchImpl??globalThis.fetch;return{request(l){return y(this,arguments,function*({method:r,path:i,query:o,body:s,headers:a}){let c=l3(n.baseUrl,i,o),u=yield c3(n.auth),d=yield t(c,{method:r,headers:O(O(O({},s?{"Content-Type":"application/json"}:{}),u),a),body:s?JSON.stringify(s):void 0}),f=yield d.text(),h=(d.headers.get("content-type")||"").includes("application/json"),p=h&&f?JSON.parse(f):f;if(!d.ok){let g=h?p:void 0,m=g?.error;throw new Nc(m?.message??`Request failed with status ${d.status}`,{status:d.status,icebergType:m?.type,icebergCode:m?.code,details:g})}return{status:d.status,headers:d.headers,data:p}})}}}function zf(n){return n.join("")}function ka(n){return n.join("")}var Nc,d3,h3,ZT,JT=U(()=>{"use strict";Nc=class extends Error{constructor(n,t){super(n),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&t.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};d3=class{constructor(n,t=""){this.client=n,this.prefix=t}listNamespaces(n){return y(this,null,function*(){let t=n?{parent:zf(n.namespace)}:void 0;return(yield this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(r=>({namespace:r}))})}createNamespace(n,t){return y(this,null,function*(){let e={namespace:n.namespace,properties:t?.properties};return(yield this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:e})).data})}dropNamespace(n){return y(this,null,function*(){yield this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${zf(n.namespace)}`})})}loadNamespaceMetadata(n){return y(this,null,function*(){return{properties:(yield this.client.request({method:"GET",path:`${this.prefix}/namespaces/${zf(n.namespace)}`})).data.properties}})}namespaceExists(n){return y(this,null,function*(){try{return yield this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${zf(n.namespace)}`}),!0}catch(t){if(t instanceof Nc&&t.status===404)return!1;throw t}})}createNamespaceIfNotExists(n,t){return y(this,null,function*(){try{return yield this.createNamespace(n,t)}catch(e){if(e instanceof Nc&&e.status===409)return;throw e}})}};h3=class{constructor(n,t="",e){this.client=n,this.prefix=t,this.accessDelegation=e}listTables(n){return y(this,null,function*(){return(yield this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ka(n.namespace)}/tables`})).data.identifiers})}createTable(n,t){return y(this,null,function*(){let e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(yield this.client.request({method:"POST",path:`${this.prefix}/namespaces/${ka(n.namespace)}/tables`,body:t,headers:e})).data.metadata})}updateTable(n,t){return y(this,null,function*(){let e=yield this.client.request({method:"POST",path:`${this.prefix}/namespaces/${ka(n.namespace)}/tables/${n.name}`,body:t});return{"metadata-location":e.data["metadata-location"],metadata:e.data.metadata}})}dropTable(n,t){return y(this,null,function*(){yield this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${ka(n.namespace)}/tables/${n.name}`,query:{purgeRequested:String(t?.purge??!1)}})})}loadTable(n){return y(this,null,function*(){let t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(yield this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ka(n.namespace)}/tables/${n.name}`,headers:t})).data.metadata})}tableExists(n){return y(this,null,function*(){let t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return yield this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${ka(n.namespace)}/tables/${n.name}`,headers:t}),!0}catch(e){if(e instanceof Nc&&e.status===404)return!1;throw e}})}createTableIfNotExists(n,t){return y(this,null,function*(){try{return yield this.createTable(n,t)}catch(e){if(e instanceof Nc&&e.status===409)return yield this.loadTable({namespace:n.namespace,name:t.name});throw e}})}},ZT=class{constructor(n){let t="v1";n.catalogName&&(t+=`/${n.catalogName}`);let e=n.baseUrl.endsWith("/")?n.baseUrl:`${n.baseUrl}/`;this.client=u3({baseUrl:e,auth:n.auth,fetchImpl:n.fetch}),this.accessDelegation=n.accessDelegation?.join(","),this.namespaceOps=new d3(this.client,t),this.tableOps=new h3(this.client,t,this.accessDelegation)}listNamespaces(n){return y(this,null,function*(){return this.namespaceOps.listNamespaces(n)})}createNamespace(n,t){return y(this,null,function*(){return this.namespaceOps.createNamespace(n,t)})}dropNamespace(n){return y(this,null,function*(){yield this.namespaceOps.dropNamespace(n)})}loadNamespaceMetadata(n){return y(this,null,function*(){return this.namespaceOps.loadNamespaceMetadata(n)})}listTables(n){return y(this,null,function*(){return this.tableOps.listTables(n)})}createTable(n,t){return y(this,null,function*(){return this.tableOps.createTable(n,t)})}updateTable(n,t){return y(this,null,function*(){return this.tableOps.updateTable(n,t)})}dropTable(n,t){return y(this,null,function*(){yield this.tableOps.dropTable(n,t)})}loadTable(n){return y(this,null,function*(){return this.tableOps.loadTable(n)})}namespaceExists(n){return y(this,null,function*(){return this.namespaceOps.namespaceExists(n)})}tableExists(n){return y(this,null,function*(){return this.tableOps.tableExists(n)})}createNamespaceIfNotExists(n,t){return y(this,null,function*(){return this.namespaceOps.createNamespaceIfNotExists(n,t)})}createTableIfNotExists(n,t){return y(this,null,function*(){return this.tableOps.createTableIfNotExists(n,t)})}}});var Pa,C0=U(()=>{"use strict";Be();JT();E0();zi();jf();Rc();Pa=class{constructor(t,e={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},$f),e),this.fetch=Oa(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return k(this,void 0,void 0,function*(){try{return{data:yield Qt(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Ee(e))return{data:null,error:e};throw e}})}listBuckets(t){return k(this,void 0,void 0,function*(){try{let e=new URLSearchParams;t?.limit!==void 0&&e.set("limit",t.limit.toString()),t?.offset!==void 0&&e.set("offset",t.offset.toString()),t?.sortColumn&&e.set("sortColumn",t.sortColumn),t?.sortOrder&&e.set("sortOrder",t.sortOrder),t?.search&&e.set("search",t.search);let r=e.toString(),i=r?`${this.url}/bucket?${r}`:`${this.url}/bucket`;return{data:yield qi(this.fetch,i,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Ee(e))return{data:null,error:e};throw e}})}deleteBucket(t){return k(this,void 0,void 0,function*(){try{return{data:yield Ra(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Ee(e))return{data:null,error:e};throw e}})}from(t){if(!UT(t))throw new li("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");let e=new ZT({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:()=>k(this,void 0,void 0,function*(){return this.headers})},fetch:this.fetch}),r=this.shouldThrowOnError;return new Proxy(e,{get(o,s){let a=o[s];return typeof a!="function"?a:(...l)=>k(this,void 0,void 0,function*(){try{return{data:yield a.apply(o,l),error:null}}catch(c){if(r)throw c;return{data:null,error:c}}})}})}}});var Na,qf=U(()=>{"use strict";w0();Na={"X-Client-Info":`storage-js/${Uf}`,"Content-Type":"application/json"}});function vt(n){return typeof n=="object"&&n!==null&&"__isStorageVectorsError"in n}var Fa,Wi,La,D0,ja=U(()=>{"use strict";Fa=class extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};Wi=class extends Fa{constructor(t,e,r){super(t),this.name="StorageVectorsApiError",this.status=e,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},La=class extends Fa{constructor(t,e){super(t),this.name="StorageVectorsUnknownError",this.originalError=e}},D0=function(n){return n.InternalError="InternalError",n.S3VectorConflictException="S3VectorConflictException",n.S3VectorNotFoundException="S3VectorNotFoundException",n.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",n.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",n.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded",n}(D0||{})});var Gi,XT,Wf,QT,eA,Va=U(()=>{"use strict";Gi=n=>n?(...t)=>n(...t):(...t)=>fetch(...t),XT=()=>Response,Wf=n=>{if(typeof n!="object"||n===null)return!1;let t=Object.getPrototypeOf(n);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},QT=n=>Array.from(new Float32Array(n)),eA=(n,t)=>{if(t!==void 0&&n.float32.length!==t)throw new Error(`Vector dimension mismatch: expected ${t}, got ${n.float32.length}`)}});function g3(n,t,e,r,i,o){return k(this,void 0,void 0,function*(){return new Promise((s,a)=>{n(e,p3(t,r,i,o)).then(l=>{if(!l.ok)throw l;if(r?.noResolveJson)return l;let c=l.headers.get("content-type");return!c||!c.includes("application/json")?{}:l.json()}).then(l=>s(l)).catch(l=>f3(l,a,r))})})}function Tt(n,t,e,r,i){return k(this,void 0,void 0,function*(){return g3(n,"POST",t,r,i,e)})}var tA,f3,p3,Gf=U(()=>{"use strict";Be();ja();Va();tA=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),f3=(n,t,e)=>k(void 0,void 0,void 0,function*(){if(n&&typeof n=="object"&&"status"in n&&"ok"in n&&typeof n.status=="number"&&!e?.noResolveJson){let i=n.status||500,o=n;if(typeof o.json=="function")o.json().then(s=>{let a=s?.statusCode||s?.code||i+"";t(new Wi(tA(s),i,a))}).catch(()=>{let s=i+"",a=o.statusText||`HTTP ${i} error`;t(new Wi(a,i,s))});else{let s=i+"",a=o.statusText||`HTTP ${i} error`;t(new Wi(a,i,s))}}else t(new La(tA(n),n))}),p3=(n,t,e,r)=>{let i={method:n,headers:t?.headers||{}};return n==="GET"||!r?i:(Wf(r)?(i.headers=Object.assign({"Content-Type":"application/json"},t?.headers),i.body=JSON.stringify(r)):i.body=r,Object.assign(Object.assign({},i),e))}});var Ba,x0=U(()=>{"use strict";Be();qf();ja();Gf();Va();Ba=class{constructor(t,e={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Na),e),this.fetch=Gi(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return k(this,void 0,void 0,function*(){try{return{data:(yield Tt(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(vt(e))return{data:null,error:e};throw e}})}getIndex(t,e){return k(this,void 0,void 0,function*(){try{return{data:yield Tt(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(vt(r))return{data:null,error:r};throw r}})}listIndexes(t){return k(this,void 0,void 0,function*(){try{return{data:yield Tt(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(vt(e))return{data:null,error:e};throw e}})}deleteIndex(t,e){return k(this,void 0,void 0,function*(){try{return{data:(yield Tt(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(vt(r))return{data:null,error:r};throw r}})}}});var Ua,S0=U(()=>{"use strict";Be();qf();ja();Gf();Va();Ua=class{constructor(t,e={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Na),e),this.fetch=Gi(r)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return k(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Tt(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(vt(e))return{data:null,error:e};throw e}})}getVectors(t){return k(this,void 0,void 0,function*(){try{return{data:yield Tt(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(vt(e))return{data:null,error:e};throw e}})}listVectors(t){return k(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield Tt(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(vt(e))return{data:null,error:e};throw e}})}queryVectors(t){return k(this,void 0,void 0,function*(){try{return{data:yield Tt(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(vt(e))return{data:null,error:e};throw e}})}deleteVectors(t){return k(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Tt(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(vt(e))return{data:null,error:e};throw e}})}}});var $a,I0=U(()=>{"use strict";Be();qf();ja();Gf();Va();$a=class{constructor(t,e={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Na),e),this.fetch=Gi(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return k(this,void 0,void 0,function*(){try{return{data:(yield Tt(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(vt(e))return{data:null,error:e};throw e}})}getBucket(t){return k(this,void 0,void 0,function*(){try{return{data:yield Tt(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(vt(e))return{data:null,error:e};throw e}})}listBuckets(){return k(this,arguments,void 0,function*(t={}){try{return{data:yield Tt(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(vt(e))return{data:null,error:e};throw e}})}deleteBucket(t){return k(this,void 0,void 0,function*(){try{return{data:(yield Tt(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(vt(e))return{data:null,error:e};throw e}})}}});var Ha,Fc,Lc,nA=U(()=>{"use strict";Be();x0();S0();I0();Ha=class extends $a{constructor(t,e={}){super(t,e.headers||{},e.fetch)}from(t){return new Fc(this.url,this.headers,t,this.fetch)}createBucket(t){let e=Object.create(null,{createBucket:{get:()=>super.createBucket}});return k(this,void 0,void 0,function*(){return e.createBucket.call(this,t)})}getBucket(t){let e=Object.create(null,{getBucket:{get:()=>super.getBucket}});return k(this,void 0,void 0,function*(){return e.getBucket.call(this,t)})}listBuckets(){let t=Object.create(null,{listBuckets:{get:()=>super.listBuckets}});return k(this,arguments,void 0,function*(e={}){return t.listBuckets.call(this,e)})}deleteBucket(t){let e=Object.create(null,{deleteBucket:{get:()=>super.deleteBucket}});return k(this,void 0,void 0,function*(){return e.deleteBucket.call(this,t)})}},Fc=class extends Ba{constructor(t,e,r,i){super(t,e,i),this.vectorBucketName=r}createIndex(t){let e=Object.create(null,{createIndex:{get:()=>super.createIndex}});return k(this,void 0,void 0,function*(){return e.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){let t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return k(this,arguments,void 0,function*(e={}){return t.listIndexes.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){let e=Object.create(null,{getIndex:{get:()=>super.getIndex}});return k(this,void 0,void 0,function*(){return e.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){let e=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return k(this,void 0,void 0,function*(){return e.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new Lc(this.url,this.headers,this.vectorBucketName,t,this.fetch)}},Lc=class extends Ua{constructor(t,e,r,i,o){super(t,e,o),this.vectorBucketName=r,this.indexName=i}putVectors(t){let e=Object.create(null,{putVectors:{get:()=>super.putVectors}});return k(this,void 0,void 0,function*(){return e.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){let e=Object.create(null,{getVectors:{get:()=>super.getVectors}});return k(this,void 0,void 0,function*(){return e.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){let t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return k(this,arguments,void 0,function*(e={}){return t.listVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){let e=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return k(this,void 0,void 0,function*(){return e.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){let e=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return k(this,void 0,void 0,function*(){return e.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}});var M0=U(()=>{"use strict";nA();I0();x0();S0();ja();Va()});var Kf,rA=U(()=>{"use strict";KT();YT();C0();M0();Kf=class extends Hf{constructor(t,e={},r,i){super(t,e,r,i)}from(t){return new Bf(this.url,this.headers,t,this.fetch)}get vectors(){return new Ha(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Pa(this.url+"/iceberg",this.headers,this.fetch)}}});var iA=U(()=>{"use strict"});var oA={};hl(oA,{StorageAnalyticsClient:()=>Pa,StorageApiError:()=>Oc,StorageClient:()=>Kf,StorageError:()=>li,StorageUnknownError:()=>Hi,StorageVectorsApiError:()=>Wi,StorageVectorsClient:()=>Ha,StorageVectorsError:()=>Fa,StorageVectorsErrorCode:()=>D0,StorageVectorsUnknownError:()=>La,VectorBucketApi:()=>$a,VectorBucketScope:()=>Fc,VectorDataApi:()=>Ua,VectorIndexApi:()=>Ba,VectorIndexScope:()=>Lc,isPlainObject:()=>Wf,isStorageError:()=>Ee,isStorageVectorsError:()=>vt,normalizeToFloat32:()=>QT,resolveFetch:()=>Gi,resolveResponse:()=>XT,validateVectorDimension:()=>eA});var sA=U(()=>{"use strict";rA();C0();iA();zi();M0()});var aA=Ft(Yf=>{"use strict";Object.defineProperty(Yf,"__esModule",{value:!0});Yf.version=void 0;Yf.version="2.87.1"});var lA=Ft(pn=>{"use strict";Object.defineProperty(pn,"__esModule",{value:!0});pn.DEFAULT_REALTIME_OPTIONS=pn.DEFAULT_AUTH_OPTIONS=pn.DEFAULT_DB_OPTIONS=pn.DEFAULT_GLOBAL_OPTIONS=pn.DEFAULT_HEADERS=void 0;var m3=aA(),jc="";typeof Deno<"u"?jc="deno":typeof document<"u"?jc="web":typeof navigator<"u"&&navigator.product==="ReactNative"?jc="react-native":jc="node";pn.DEFAULT_HEADERS={"X-Client-Info":`supabase-js-${jc}/${m3.version}`};pn.DEFAULT_GLOBAL_OPTIONS={headers:pn.DEFAULT_HEADERS};pn.DEFAULT_DB_OPTIONS={schema:"public"};pn.DEFAULT_AUTH_OPTIONS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"};pn.DEFAULT_REALTIME_OPTIONS={}});var cA=Ft(Yn=>{"use strict";Object.defineProperty(Yn,"__esModule",{value:!0});Yn.fetchWithAuth=Yn.resolveHeadersConstructor=Yn.resolveFetch=void 0;var v3=n=>n?(...t)=>n(...t):(...t)=>fetch(...t);Yn.resolveFetch=v3;var y3=()=>Headers;Yn.resolveHeadersConstructor=y3;var _3=(n,t,e)=>{let r=(0,Yn.resolveFetch)(e),i=(0,Yn.resolveHeadersConstructor)();return(o,s)=>y(null,null,function*(){var a;let l=(a=yield t())!==null&&a!==void 0?a:n,c=new i(s?.headers);return c.has("apikey")||c.set("apikey",n),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),r(o,Object.assign(Object.assign({},s),{headers:c}))})};Yn.fetchWithAuth=_3});var dA=Ft(Ki=>{"use strict";Object.defineProperty(Ki,"__esModule",{value:!0});Ki.isBrowser=void 0;Ki.uuid=b3;Ki.ensureTrailingSlash=uA;Ki.applySettingDefaults=E3;Ki.validateSupabaseUrl=C3;function b3(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){var t=Math.random()*16|0,e=n=="x"?t:t&3|8;return e.toString(16)})}function uA(n){return n.endsWith("/")?n:n+"/"}var w3=()=>typeof window<"u";Ki.isBrowser=w3;function E3(n,t){var e,r;let{db:i,auth:o,realtime:s,global:a}=n,{db:l,auth:c,realtime:u,global:d}=t,f={db:Object.assign(Object.assign({},l),i),auth:Object.assign(Object.assign({},c),o),realtime:Object.assign(Object.assign({},u),s),storage:{},global:Object.assign(Object.assign(Object.assign({},d),a),{headers:Object.assign(Object.assign({},(e=d?.headers)!==null&&e!==void 0?e:{}),(r=a?.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>y(null,null,function*(){return""})};return n.accessToken?f.accessToken=n.accessToken:delete f.accessToken,f}function C3(n){let t=n?.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(uA(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}});var Zf,T0=U(()=>{"use strict";Zf="2.87.1"});var rs,Jf,Xf,hA,fA,pA,Vc,A0,gA,mA,Qf=U(()=>{"use strict";T0();rs=30*1e3,Jf=3,Xf=Jf*rs,hA="http://localhost:9999",fA="supabase.auth.token",pA={"X-Client-Info":`gotrue-js/${Zf}`},Vc="X-Supabase-Api-Version",A0={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},gA=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,mA=10*60*1e3});function V(n){return typeof n=="object"&&n!==null&&"__isAuthError"in n}function O0(n){return V(n)&&n.name==="AuthApiError"}function R0(n){return V(n)&&n.name==="AuthSessionMissingError"}function k0(n){return V(n)&&n.name==="AuthImplicitGrantRedirectError"}function Uc(n){return V(n)&&n.name==="AuthRetryableFetchError"}function D3(n){return V(n)&&n.name==="AuthWeakPasswordError"}var ci,Bc,gn,Zn,yt,Ar,Yi,Zi,za,is,qa,Ji,os=U(()=>{"use strict";ci=class extends Error{constructor(t,e,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=e,this.code=r}};Bc=class extends ci{constructor(t,e,r){super(t,e,r),this.name="AuthApiError",this.status=e,this.code=r}};gn=class extends ci{constructor(t,e){super(t),this.name="AuthUnknownError",this.originalError=e}},Zn=class extends ci{constructor(t,e,r,i){super(t,r,i),this.name=e,this.status=r}},yt=class extends Zn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};Ar=class extends Zn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},Yi=class extends Zn{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}},Zi=class extends Zn{constructor(t,e=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=e}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};za=class extends Zn{constructor(t,e=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=e}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},is=class extends Zn{constructor(t,e){super(t,"AuthRetryableFetchError",e,void 0)}};qa=class extends Zn{constructor(t,e,r){super(t,"AuthWeakPasswordError",e,"weak_password"),this.reasons=r}};Ji=class extends Zn{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}});function yA(n,t,e){if(n!==null)for(t.queue=t.queue<<8|n,t.queuedBits+=8;t.queuedBits>=6;){let r=t.queue>>t.queuedBits-6&63;e(ep[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){let r=t.queue>>t.queuedBits-6&63;e(ep[r]),t.queuedBits-=6}}function _A(n,t,e){let r=x3[n];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)e(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(n)}"`)}}function P0(n){let t=[],e=s=>{t.push(String.fromCodePoint(s))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},o=s=>{M3(s,r,e)};for(let s=0;s<n.length;s+=1)_A(n.charCodeAt(s),i,o);return t.join("")}function S3(n,t){if(n<=127){t(n);return}else if(n<=2047){t(192|n>>6),t(128|n&63);return}else if(n<=65535){t(224|n>>12),t(128|n>>6&63),t(128|n&63);return}else if(n<=1114111){t(240|n>>18),t(128|n>>12&63),t(128|n>>6&63),t(128|n&63);return}throw new Error(`Unrecognized Unicode codepoint: ${n.toString(16)}`)}function I3(n,t){for(let e=0;e<n.length;e+=1){let r=n.charCodeAt(e);if(r>55295&&r<=56319){let i=(r-55296)*1024&65535;r=(n.charCodeAt(e+1)-56320&65535|i)+65536,e+=1}S3(r,t)}}function M3(n,t,e){if(t.utf8seq===0){if(n<=127){e(n);return}for(let r=1;r<6;r+=1)if((n>>7-r&1)===0){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=n&31;else if(t.utf8seq===3)t.codepoint=n&15;else if(t.utf8seq===4)t.codepoint=n&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(n<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|n&63,t.utf8seq-=1,t.utf8seq===0&&e(t.codepoint)}}function Xi(n){let t=[],e={queue:0,queuedBits:0},r=i=>{t.push(i)};for(let i=0;i<n.length;i+=1)_A(n.charCodeAt(i),e,r);return new Uint8Array(t)}function bA(n){let t=[];return I3(n,e=>t.push(e)),new Uint8Array(t)}function ui(n){let t=[],e={queue:0,queuedBits:0},r=i=>{t.push(i)};return n.forEach(i=>yA(i,e,r)),yA(null,e,r),t.join("")}var ep,vA,x3,tp=U(()=>{"use strict";ep="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),vA=` 	
\r=`.split(""),x3=(()=>{let n=new Array(128);for(let t=0;t<n.length;t+=1)n[t]=-1;for(let t=0;t<vA.length;t+=1)n[vA[t].charCodeAt(0)]=-2;for(let t=0;t<ep.length;t+=1)n[ep[t].charCodeAt(0)]=t;return n})()});function wA(n){return Math.round(Date.now()/1e3)+n}function EA(){return Symbol("auth-callback")}function CA(n){let t={},e=new URL(n);if(e.hash&&e.hash[0]==="#")try{new URLSearchParams(e.hash.substring(1)).forEach((i,o)=>{t[o]=i})}catch{}return e.searchParams.forEach((r,i)=>{t[i]=r}),t}function ip(n){let t=n.split(".");if(t.length!==3)throw new Ji("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!gA.test(t[r]))throw new Ji("JWT not in base64url format");return{header:JSON.parse(P0(t[0])),payload:JSON.parse(P0(t[1])),signature:Xi(t[2]),raw:{header:t[0],payload:t[1]}}}function xA(n){return y(this,null,function*(){return yield new Promise(t=>{setTimeout(()=>t(null),n)})})}function SA(n,t){return new Promise((r,i)=>{y(null,null,function*(){for(let o=0;o<1/0;o++)try{let s=yield n(o);if(!t(o,null,s)){r(s);return}}catch(s){if(!t(o,s)){i(s);return}}})})}function T3(n){return("0"+n.toString(16)).substr(-2)}function A3(){let t=new Uint32Array(56);if(typeof crypto>"u"){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=e.length,i="";for(let o=0;o<56;o++)i+=e.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(t),Array.from(t,T3).join("")}function O3(n){return y(this,null,function*(){let e=new TextEncoder().encode(n),r=yield crypto.subtle.digest("SHA-256",e),i=new Uint8Array(r);return Array.from(i).map(o=>String.fromCharCode(o)).join("")})}function R3(n){return y(this,null,function*(){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),n;let e=yield O3(n);return btoa(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")})}function ls(n,t,e=!1){return y(this,null,function*(){let r=A3(),i=r;e&&(i+="/PASSWORD_RECOVERY"),yield as(n,`${t}-code-verifier`,i);let o=yield R3(r);return[o,r===o?"plain":"s256"]})}function IA(n){let t=n.headers.get(Vc);if(!t||!t.match(k3))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function MA(n){if(!n)throw new Error("Missing exp claim");let t=Math.floor(Date.now()/1e3);if(n<=t)throw new Error("JWT has expired")}function TA(n){switch(n){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}function cs(n){if(!P3.test(n))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function op(){let n={};return new Proxy(n,{get:(t,e)=>{if(e==="__isUserNotAvailableProxy")return!0;if(typeof e=="symbol"){let r=e.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${e}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,e)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${e}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,e)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${e}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function AA(n,t){return new Proxy(n,{get:(e,r,i)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){let o=r.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)"||o==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(e,r,i)}return!t.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(e,r,i)}})}function N0(n){return JSON.parse(JSON.stringify(n))}var ht,ss,np,rp,DA,as,Qi,_t,$c,k3,P3,Wa=U(()=>{"use strict";Qf();os();tp();ht=()=>typeof window<"u"&&typeof document<"u",ss={tested:!1,writable:!1},np=()=>{if(!ht())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ss.tested)return ss.writable;let n=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(n,n),globalThis.localStorage.removeItem(n),ss.tested=!0,ss.writable=!0}catch{ss.tested=!0,ss.writable=!1}return ss.writable};rp=n=>n?(...t)=>n(...t):(...t)=>fetch(...t),DA=n=>typeof n=="object"&&n!==null&&"status"in n&&"ok"in n&&"json"in n&&typeof n.json=="function",as=(n,t,e)=>y(null,null,function*(){yield n.setItem(t,JSON.stringify(e))}),Qi=(n,t)=>y(null,null,function*(){let e=yield n.getItem(t);if(!e)return null;try{return JSON.parse(e)}catch{return e}}),_t=(n,t)=>y(null,null,function*(){yield n.removeItem(t)}),$c=class n{constructor(){this.promise=new n.promiseConstructor((t,e)=>{this.resolve=t,this.reject=e})}};$c.promiseConstructor=Promise;k3=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;P3=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/});function OA(n){return y(this,null,function*(){var t;if(!DA(n))throw new is(us(n),0);if(N3.includes(n.status))throw new is(us(n),n.status);let e;try{e=yield n.json()}catch(o){throw new gn(us(o),o)}let r,i=IA(n);if(i&&i.getTime()>=A0["2024-01-01"].timestamp&&typeof e=="object"&&e&&typeof e.code=="string"?r=e.code:typeof e=="object"&&e&&typeof e.error_code=="string"&&(r=e.error_code),r){if(r==="weak_password")throw new qa(us(e),n.status,((t=e.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new yt}else if(typeof e=="object"&&e&&typeof e.weak_password=="object"&&e.weak_password&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.reasons.reduce((o,s)=>o&&typeof s=="string",!0))throw new qa(us(e),n.status,e.weak_password.reasons);throw new Bc(us(e),n.status||500,r)})}function W(n,t,e,r){return y(this,null,function*(){var i;let o=Object.assign({},r?.headers);o[Vc]||(o[Vc]=A0["2024-01-01"].name),r?.jwt&&(o.Authorization=`Bearer ${r.jwt}`);let s=(i=r?.query)!==null&&i!==void 0?i:{};r?.redirectTo&&(s.redirect_to=r.redirectTo);let a=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",l=yield L3(n,t,e+a,{headers:o,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(l):{data:Object.assign({},l),error:null}})}function L3(n,t,e,r,i,o){return y(this,null,function*(){let s=F3(t,r,i,o),a;try{a=yield n(e,Object.assign({},s))}catch(l){throw console.error(l),new is(us(l),0)}if(a.ok||(yield OA(a)),r?.noResolveJson)return a;try{return yield a.json()}catch(l){yield OA(l)}})}function Sn(n){var t;let e=null;j3(n)&&(e=Object.assign({},n),n.expires_at||(e.expires_at=wA(n.expires_in)));let r=(t=n.user)!==null&&t!==void 0?t:n;return{data:{session:e,user:r},error:null}}function F0(n){let t=Sn(n);return!t.error&&n.weak_password&&typeof n.weak_password=="object"&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.message&&typeof n.weak_password.message=="string"&&n.weak_password.reasons.reduce((e,r)=>e&&typeof r=="string",!0)&&(t.data.weak_password=n.weak_password),t}function Or(n){var t;return{data:{user:(t=n.user)!==null&&t!==void 0?t:n},error:null}}function RA(n){return{data:n,error:null}}function kA(n){let{action_link:t,email_otp:e,hashed_token:r,redirect_to:i,verification_type:o}=n,s=Br(n,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:e,hashed_token:r,redirect_to:i,verification_type:o},l=Object.assign({},s);return{data:{properties:a,user:l},error:null}}function L0(n){return n}function j3(n){return n.access_token&&n.refresh_token&&n.expires_in}var us,N3,F3,j0=U(()=>{"use strict";Be();Qf();Wa();os();us=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),N3=[502,503,504];F3=(n,t,e,r)=>{let i={method:n,headers:t?.headers||{}};return n==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),e))}});var Hc,V0=U(()=>{"use strict";Hc=["global","local","others"]});var eo,sp=U(()=>{"use strict";Be();j0();Wa();V0();os();eo=class{constructor({url:t="",headers:e={},fetch:r}){this.url=t,this.headers=e,this.fetch=rp(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}signOut(r){return y(this,arguments,function*(t,e=Hc[0]){if(Hc.indexOf(e)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Hc.join(", ")}`);try{return yield W(this.fetch,"POST",`${this.url}/logout?scope=${e}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(i){if(V(i))return{data:null,error:i};throw i}})}inviteUserByEmail(r){return y(this,arguments,function*(t,e={}){try{return yield W(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:e.data},headers:this.headers,redirectTo:e.redirectTo,xform:Or})}catch(i){if(V(i))return{data:{user:null},error:i};throw i}})}generateLink(t){return y(this,null,function*(){try{let{options:e}=t,r=Br(t,["options"]),i=Object.assign(Object.assign({},r),e);return"newEmail"in r&&(i.new_email=r?.newEmail,delete i.newEmail),yield W(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:kA,redirectTo:e?.redirectTo})}catch(e){if(V(e))return{data:{properties:null,user:null},error:e};throw e}})}createUser(t){return y(this,null,function*(){try{return yield W(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Or})}catch(e){if(V(e))return{data:{user:null},error:e};throw e}})}listUsers(t){return y(this,null,function*(){var e,r,i,o,s,a,l;try{let c={nextPage:null,lastPage:0,total:0},u=yield W(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(e=t?.page)===null||e===void 0?void 0:e.toString())!==null&&r!==void 0?r:"",per_page:(o=(i=t?.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:L0});if(u.error)throw u.error;let d=yield u.json(),f=(s=u.headers.get("x-total-count"))!==null&&s!==void 0?s:0,h=(l=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return h.length>0&&(h.forEach(p=>{let g=parseInt(p.split(";")[0].split("=")[1].substring(0,1)),m=JSON.parse(p.split(";")[1].split("=")[1]);c[`${m}Page`]=g}),c.total=parseInt(f)),{data:Object.assign(Object.assign({},d),c),error:null}}catch(c){if(V(c))return{data:{users:[]},error:c};throw c}})}getUserById(t){return y(this,null,function*(){cs(t);try{return yield W(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Or})}catch(e){if(V(e))return{data:{user:null},error:e};throw e}})}updateUserById(t,e){return y(this,null,function*(){cs(t);try{return yield W(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:e,headers:this.headers,xform:Or})}catch(r){if(V(r))return{data:{user:null},error:r};throw r}})}deleteUser(t,e=!1){return y(this,null,function*(){cs(t);try{return yield W(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:e},xform:Or})}catch(r){if(V(r))return{data:{user:null},error:r};throw r}})}_listFactors(t){return y(this,null,function*(){cs(t.userId);try{let{data:e,error:r}=yield W(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:e,error:r}}catch(e){if(V(e))return{data:null,error:e};throw e}})}_deleteFactor(t){return y(this,null,function*(){cs(t.userId),cs(t.id);try{return{data:yield W(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(e){if(V(e))return{data:null,error:e};throw e}})}_listOAuthClients(t){return y(this,null,function*(){var e,r,i,o,s,a,l;try{let c={nextPage:null,lastPage:0,total:0},u=yield W(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(e=t?.page)===null||e===void 0?void 0:e.toString())!==null&&r!==void 0?r:"",per_page:(o=(i=t?.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:L0});if(u.error)throw u.error;let d=yield u.json(),f=(s=u.headers.get("x-total-count"))!==null&&s!==void 0?s:0,h=(l=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return h.length>0&&(h.forEach(p=>{let g=parseInt(p.split(";")[0].split("=")[1].substring(0,1)),m=JSON.parse(p.split(";")[1].split("=")[1]);c[`${m}Page`]=g}),c.total=parseInt(f)),{data:Object.assign(Object.assign({},d),c),error:null}}catch(c){if(V(c))return{data:{clients:[]},error:c};throw c}})}_createOAuthClient(t){return y(this,null,function*(){try{return yield W(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:e=>({data:e,error:null})})}catch(e){if(V(e))return{data:null,error:e};throw e}})}_getOAuthClient(t){return y(this,null,function*(){try{return yield W(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:e=>({data:e,error:null})})}catch(e){if(V(e))return{data:null,error:e};throw e}})}_updateOAuthClient(t,e){return y(this,null,function*(){try{return yield W(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(V(r))return{data:null,error:r};throw r}})}_deleteOAuthClient(t){return y(this,null,function*(){try{return yield W(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(e){if(V(e))return{data:null,error:e};throw e}})}_regenerateOAuthClientSecret(t){return y(this,null,function*(){try{return yield W(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:e=>({data:e,error:null})})}catch(e){if(V(e))return{data:null,error:e};throw e}})}}});function B0(n={}){return{getItem:t=>n[t]||null,setItem:(t,e)=>{n[t]=e},removeItem:t=>{delete n[t]}}}var PA=U(()=>{"use strict"});function ap(n,t,e){return y(this,null,function*(){to.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",n,t);let r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),to.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",n)},t),yield Promise.resolve().then(()=>globalThis.navigator.locks.request(n,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},i=>y(null,null,function*(){if(i){to.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",n,i.name);try{return yield e()}finally{to.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",n,i.name)}}else{if(t===0)throw to.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",n),new zc(`Acquiring an exclusive Navigator LockManager lock "${n}" immediately failed`);if(to.debug)try{let o=yield globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),yield e()}})))})}function FA(n,t,e){return y(this,null,function*(){var r;let i=(r=NA[n])!==null&&r!==void 0?r:Promise.resolve(),o=Promise.race([i.catch(()=>null),t>=0?new Promise((s,a)=>{setTimeout(()=>{a(new U0(`Acquring process lock with name "${n}" timed out`))},t)}):null].filter(s=>s)).catch(s=>{if(s&&s.isAcquireTimeout)throw s;return null}).then(()=>y(null,null,function*(){return yield e()}));return NA[n]=o.catch(s=>y(null,null,function*(){if(s&&s.isAcquireTimeout)return yield i,null;throw s})),yield o})}var to,Ga,zc,U0,NA,$0=U(()=>{"use strict";Wa();to={debug:!!(globalThis&&np()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")},Ga=class extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}},zc=class extends Ga{},U0=class extends Ga{};NA={}});function LA(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}var jA=U(()=>{"use strict"});function H0(n){if(!/^0x[a-fA-F0-9]{40}$/.test(n))throw new Error(`@supabase/auth-js: Address "${n}" is invalid.`);return n.toLowerCase()}function VA(n){return parseInt(n,16)}function BA(n){let t=new TextEncoder().encode(n);return"0x"+Array.from(t,r=>r.toString(16).padStart(2,"0")).join("")}function UA(n){var t;let{chainId:e,domain:r,expirationTime:i,issuedAt:o=new Date,nonce:s,notBefore:a,requestId:l,resources:c,scheme:u,uri:d,version:f}=n;{if(!Number.isInteger(e))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${e}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(s&&s.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${s}`);if(!d)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(f!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${f}`);if(!((t=n.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${n.statement}`)}let h=H0(n.address),p=u?`${u}://${r}`:r,g=n.statement?`${n.statement}
`:"",m=`${p} wants you to sign in with your Ethereum account:
${h}

${g}`,_=`URI: ${d}
Version: ${f}
Chain ID: ${e}${s?`
Nonce: ${s}`:""}
Issued At: ${o.toISOString()}`;if(i&&(_+=`
Expiration Time: ${i.toISOString()}`),a&&(_+=`
Not Before: ${a.toISOString()}`),l&&(_+=`
Request ID: ${l}`),c){let E=`
Resources:`;for(let C of c){if(!C||typeof C!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${C}`);E+=`
- ${C}`}_+=E}return`${m}
${_}`}var $A=U(()=>{"use strict"});function HA({error:n,options:t}){var e,r,i;let{publicKey:o}=t;if(!o)throw Error("options was missing required publicKey property");if(n.name==="AbortError"){if(t.signal instanceof AbortSignal)return new ze({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:n})}else if(n.name==="ConstraintError"){if(((e=o.authenticatorSelection)===null||e===void 0?void 0:e.requireResidentKey)===!0)return new ze({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:n});if(t.mediation==="conditional"&&((r=o.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new ze({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:n});if(((i=o.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new ze({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:n})}else{if(n.name==="InvalidStateError")return new ze({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:n});if(n.name==="NotAllowedError")return new ze({message:n.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n});if(n.name==="NotSupportedError")return o.pubKeyCredParams.filter(a=>a.type==="public-key").length===0?new ze({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:n}):new ze({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:n});if(n.name==="SecurityError"){let s=window.location.hostname;if(z0(s)){if(o.rp.id!==s)return new ze({message:`The RP ID "${o.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:n})}else return new ze({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:n})}else if(n.name==="TypeError"){if(o.user.id.byteLength<1||o.user.id.byteLength>64)return new ze({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:n})}else if(n.name==="UnknownError")return new ze({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:n})}return new ze({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n})}function zA({error:n,options:t}){let{publicKey:e}=t;if(!e)throw Error("options was missing required publicKey property");if(n.name==="AbortError"){if(t.signal instanceof AbortSignal)return new ze({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:n})}else{if(n.name==="NotAllowedError")return new ze({message:n.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n});if(n.name==="SecurityError"){let r=window.location.hostname;if(z0(r)){if(e.rpId!==r)return new ze({message:`The RP ID "${e.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:n})}else return new ze({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:n})}else if(n.name==="UnknownError")return new ze({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:n})}return new ze({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n})}var ze,ds,qA=U(()=>{"use strict";q0();ze=class extends Error{constructor({message:t,code:e,cause:r,name:i}){var o;super(t,{cause:r}),this.__isWebAuthnError=!0,this.name=(o=i??(r instanceof Error?r.name:void 0))!==null&&o!==void 0?o:"Unknown Error",this.code=e}},ds=class extends ze{constructor(t,e){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e,message:t}),this.name="WebAuthnUnknownError",this.originalError=e}}});function GA(n){if(!n)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(n);let{challenge:t,user:e,excludeCredentials:r}=n,i=Br(n,["challenge","user","excludeCredentials"]),o=Xi(t).buffer,s=Object.assign(Object.assign({},e),{id:Xi(e.id).buffer}),a=Object.assign(Object.assign({},i),{challenge:o,user:s});if(r&&r.length>0){a.excludeCredentials=new Array(r.length);for(let l=0;l<r.length;l++){let c=r[l];a.excludeCredentials[l]=Object.assign(Object.assign({},c),{id:Xi(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return a}function KA(n){if(!n)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(n);let{challenge:t,allowCredentials:e}=n,r=Br(n,["challenge","allowCredentials"]),i=Xi(t).buffer,o=Object.assign(Object.assign({},r),{challenge:i});if(e&&e.length>0){o.allowCredentials=new Array(e.length);for(let s=0;s<e.length;s++){let a=e[s];o.allowCredentials[s]=Object.assign(Object.assign({},a),{id:Xi(a.id).buffer,type:a.type||"public-key",transports:a.transports})}}return o}function YA(n){var t;if("toJSON"in n&&typeof n.toJSON=="function")return n.toJSON();let e=n;return{id:n.id,rawId:n.id,response:{attestationObject:ui(new Uint8Array(n.response.attestationObject)),clientDataJSON:ui(new Uint8Array(n.response.clientDataJSON))},type:"public-key",clientExtensionResults:n.getClientExtensionResults(),authenticatorAttachment:(t=e.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function ZA(n){var t;if("toJSON"in n&&typeof n.toJSON=="function")return n.toJSON();let e=n,r=n.getClientExtensionResults(),i=n.response;return{id:n.id,rawId:n.id,response:{authenticatorData:ui(new Uint8Array(i.authenticatorData)),clientDataJSON:ui(new Uint8Array(i.clientDataJSON)),signature:ui(new Uint8Array(i.signature)),userHandle:i.userHandle?ui(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(t=e.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function z0(n){return n==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(n)}function WA(){var n,t;return!!(ht()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((n=navigator?.credentials)===null||n===void 0?void 0:n.create)=="function"&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.get)=="function")}function B3(n){return y(this,null,function*(){try{let t=yield navigator.credentials.create(n);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new ds("Browser returned unexpected credential type",t)}:{data:null,error:new ds("Empty credential response",t)}}catch(t){return{data:null,error:HA({error:t,options:n})}}})}function U3(n){return y(this,null,function*(){try{let t=yield navigator.credentials.get(n);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new ds("Browser returned unexpected credential type",t)}:{data:null,error:new ds("Empty credential response",t)}}catch(t){return{data:null,error:zA({error:t,options:n})}}})}function lp(...n){let t=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),e=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),r={};for(let i of n)if(i)for(let o in i){let s=i[o];if(s!==void 0)if(Array.isArray(s))r[o]=s;else if(e(s))r[o]=s;else if(t(s)){let a=r[o];t(a)?r[o]=lp(a,s):r[o]=lp(s)}else r[o]=s}return r}function z3(n,t){return lp($3,n,t||{})}function q3(n,t){return lp(H3,n,t||{})}var W0,V3,$3,H3,cp,q0=U(()=>{"use strict";Be();tp();os();Wa();qA();W0=class{createNewAbortSignal(){if(this.controller){let e=new Error("Cancelling existing WebAuthn API call for new one");e.name="AbortError",this.controller.abort(e)}let t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){let t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}},V3=new W0;$3={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},H3={userVerification:"preferred",hints:["security-key"],attestation:"direct"};cp=class{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}_enroll(t){return y(this,null,function*(){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))})}_challenge(s,a){return y(this,arguments,function*({factorId:t,webauthn:e,friendlyName:r,signal:i},o){try{let{data:l,error:c}=yield this.client.mfa.challenge({factorId:t,webauthn:e});if(!l)return{data:null,error:c};let u=i??V3.createNewAbortSignal();if(l.webauthn.type==="create"){let{user:d}=l.webauthn.credential_options.publicKey;d.name||(d.name=`${d.id}:${r}`),d.displayName||(d.displayName=d.name)}switch(l.webauthn.type){case"create":{let d=z3(l.webauthn.credential_options.publicKey,o?.create),{data:f,error:h}=yield B3({publicKey:d,signal:u});return f?{data:{factorId:t,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:f}},error:null}:{data:null,error:h}}case"request":{let d=q3(l.webauthn.credential_options.publicKey,o?.request),{data:f,error:h}=yield U3(Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:d,signal:u}));return f?{data:{factorId:t,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:f}},error:null}:{data:null,error:h}}}}catch(l){return V(l)?{data:null,error:l}:{data:null,error:new gn("Unexpected error in challenge",l)}}})}_verify(i){return y(this,arguments,function*({challengeId:t,factorId:e,webauthn:r}){return this.client.mfa.verify({factorId:e,challengeId:t,webauthn:r})})}_authenticate(s,a){return y(this,arguments,function*({factorId:t,webauthn:{rpId:e=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},o){if(!e)return{data:null,error:new ci("rpId is required for WebAuthn authentication")};try{if(!WA())return{data:null,error:new gn("Browser does not support WebAuthn",null)};let{data:l,error:c}=yield this.challenge({factorId:t,webauthn:{rpId:e,rpOrigins:r},signal:i},{request:o});if(!l)return{data:null,error:c};let{webauthn:u}=l;return this._verify({factorId:t,challengeId:l.challengeId,webauthn:{type:u.type,rpId:e,rpOrigins:r,credential_response:u.credential_response}})}catch(l){return V(l)?{data:null,error:l}:{data:null,error:new gn("Unexpected error in authenticate",l)}}})}_register(s,a){return y(this,arguments,function*({friendlyName:t,webauthn:{rpId:e=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},o){if(!e)return{data:null,error:new ci("rpId is required for WebAuthn registration")};try{if(!WA())return{data:null,error:new gn("Browser does not support WebAuthn",null)};let{data:l,error:c}=yield this._enroll({friendlyName:t});if(!l)return yield this.client.mfa.listFactors().then(f=>{var h;return(h=f.data)===null||h===void 0?void 0:h.all.find(p=>p.factor_type==="webauthn"&&p.friendly_name===t&&p.status!=="unverified")}).then(f=>f?this.client.mfa.unenroll({factorId:f?.id}):void 0),{data:null,error:c};let{data:u,error:d}=yield this._challenge({factorId:l.id,friendlyName:l.friendly_name,webauthn:{rpId:e,rpOrigins:r},signal:i},{create:o});return u?this._verify({factorId:l.id,challengeId:u.challengeId,webauthn:{rpId:e,rpOrigins:r,type:u.webauthn.type,credential_response:u.webauthn.credential_response}}):{data:null,error:d}}catch(l){return V(l)?{data:null,error:l}:{data:null,error:new gn("Unexpected error in register",l)}}})}}});function JA(n,t,e){return y(this,null,function*(){return yield e()})}var W3,Ka,G3,up,G0=U(()=>{"use strict";sp();Qf();os();j0();Wa();PA();$0();jA();T0();tp();$A();q0();LA();W3={url:hA,storageKey:fA,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:pA,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};Ka={},G3=(()=>{class n{get jwks(){var e,r;return(r=(e=Ka[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){Ka[this.storageKey]=Object.assign(Object.assign({},Ka[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=Ka[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Ka[this.storageKey]=Object.assign(Object.assign({},Ka[this.storageKey]),{cachedAt:e})}constructor(e){var r,i,o;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;let s=Object.assign(Object.assign({},W3),e);if(this.storageKey=s.storageKey,this.instanceID=(r=n.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,n.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.instanceID>0&&ht()){let a=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(a),this.logDebugMessages&&console.trace(a)}if(this.persistSession=s.persistSession,this.autoRefreshToken=s.autoRefreshToken,this.admin=new eo({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=rp(s.fetch),this.lock=s.lock||JA,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,this.throwOnError=s.throwOnError,s.lock?this.lock=s.lock:this.persistSession&&ht()&&(!((i=globalThis?.navigator)===null||i===void 0)&&i.locks)?this.lock=ap:this.lock=JA,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new cp(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:np()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=B0(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=B0(this.memoryStorage)),ht()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(o=this.broadcastChannel)===null||o===void 0||o.addEventListener("message",a=>y(this,null,function*(){this._debug("received broadcast notification from other tab or client",a),yield this._notifyAllSubscribers(a.data.event,a.data.session,!1)}))}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Zf}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}initialize(){return y(this,null,function*(){return this.initializePromise?yield this.initializePromise:(this.initializePromise=y(this,null,function*(){return yield this._acquireLock(-1,()=>y(this,null,function*(){return yield this._initialize()}))}),yield this.initializePromise)})}_initialize(){return y(this,null,function*(){var e;try{let r={},i="none";if(ht()&&(r=CA(window.location.href),this._isImplicitGrantCallback(r)?i="implicit":(yield this._isPKCECallback(r))&&(i="pkce")),ht()&&this.detectSessionInUrl&&i!=="none"){let{data:o,error:s}=yield this._getSessionFromURL(r,i);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),k0(s)){let c=(e=s.details)===null||e===void 0?void 0:e.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:s}}return yield this._removeSession(),{error:s}}let{session:a,redirectType:l}=o;return this._debug("#_initialize()","detected session in URL",a,"redirect type",l),yield this._saveSession(a),setTimeout(()=>y(this,null,function*(){l==="recovery"?yield this._notifyAllSubscribers("PASSWORD_RECOVERY",a):yield this._notifyAllSubscribers("SIGNED_IN",a)}),0),{error:null}}return yield this._recoverAndRefresh(),{error:null}}catch(r){return V(r)?this._returnResult({error:r}):this._returnResult({error:new gn("Unexpected error during initialization",r)})}finally{yield this._handleVisibilityChange(),this._debug("#_initialize()","end")}})}signInAnonymously(e){return y(this,null,function*(){var r,i,o;try{let s=yield W(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(r=e?.options)===null||r===void 0?void 0:r.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(o=e?.options)===null||o===void 0?void 0:o.captchaToken}},xform:Sn}),{data:a,error:l}=s;if(l||!a)return this._returnResult({data:{user:null,session:null},error:l});let c=a.session,u=a.user;return a.session&&(yield this._saveSession(a.session),yield this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(s){if(V(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}signUp(e){return y(this,null,function*(){var r,i,o;try{let s;if("email"in e){let{email:d,password:f,options:h}=e,p=null,g=null;this.flowType==="pkce"&&([p,g]=yield ls(this.storage,this.storageKey)),s=yield W(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h?.emailRedirectTo,body:{email:d,password:f,data:(r=h?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h?.captchaToken},code_challenge:p,code_challenge_method:g},xform:Sn})}else if("phone"in e){let{phone:d,password:f,options:h}=e;s=yield W(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(i=h?.data)!==null&&i!==void 0?i:{},channel:(o=h?.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:h?.captchaToken}},xform:Sn})}else throw new Yi("You must provide either an email or phone number and a password");let{data:a,error:l}=s;if(l||!a)return yield _t(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:l});let c=a.session,u=a.user;return a.session&&(yield this._saveSession(a.session),yield this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(s){if(yield _t(this.storage,`${this.storageKey}-code-verifier`),V(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}signInWithPassword(e){return y(this,null,function*(){try{let r;if("email"in e){let{email:s,password:a,options:l}=e;r=yield W(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:a,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:F0})}else if("phone"in e){let{phone:s,password:a,options:l}=e;r=yield W(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:a,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:F0})}else throw new Yi("You must provide either an email or phone number and a password");let{data:i,error:o}=r;if(o)return this._returnResult({data:{user:null,session:null},error:o});if(!i||!i.session||!i.user){let s=new Ar;return this._returnResult({data:{user:null,session:null},error:s})}return i.session&&(yield this._saveSession(i.session),yield this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:o})}catch(r){if(V(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}})}signInWithOAuth(e){return y(this,null,function*(){var r,i,o,s;return yield this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(i=e.options)===null||i===void 0?void 0:i.scopes,queryParams:(o=e.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(s=e.options)===null||s===void 0?void 0:s.skipBrowserRedirect})})}exchangeCodeForSession(e){return y(this,null,function*(){return yield this.initializePromise,this._acquireLock(-1,()=>y(this,null,function*(){return this._exchangeCodeForSession(e)}))})}signInWithWeb3(e){return y(this,null,function*(){let{chain:r}=e;switch(r){case"ethereum":return yield this.signInWithEthereum(e);case"solana":return yield this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}})}signInWithEthereum(e){return y(this,null,function*(){var r,i,o,s,a,l,c,u,d,f,h;let p,g;if("message"in e)p=e.message,g=e.signature;else{let{chain:m,wallet:_,statement:E,options:C}=e,D;if(ht())if(typeof _=="object")D=_;else{let G=window;if("ethereum"in G&&typeof G.ethereum=="object"&&"request"in G.ethereum&&typeof G.ethereum.request=="function")D=G.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof _!="object"||!C?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");D=_}let S=new URL((r=C?.url)!==null&&r!==void 0?r:window.location.href),M=yield D.request({method:"eth_requestAccounts"}).then(G=>G).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!M||M.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");let A=H0(M[0]),T=(i=C?.signInWithEthereum)===null||i===void 0?void 0:i.chainId;if(!T){let G=yield D.request({method:"eth_chainId"});T=VA(G)}let F={domain:S.host,address:A,statement:E,uri:S.href,version:"1",chainId:T,nonce:(o=C?.signInWithEthereum)===null||o===void 0?void 0:o.nonce,issuedAt:(a=(s=C?.signInWithEthereum)===null||s===void 0?void 0:s.issuedAt)!==null&&a!==void 0?a:new Date,expirationTime:(l=C?.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(c=C?.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(u=C?.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=C?.signInWithEthereum)===null||d===void 0?void 0:d.resources};p=UA(F),g=yield D.request({method:"personal_sign",params:[BA(p),A]})}try{let{data:m,error:_}=yield W(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:p,signature:g},!((f=e.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(h=e.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:Sn});if(_)throw _;if(!m||!m.session||!m.user){let E=new Ar;return this._returnResult({data:{user:null,session:null},error:E})}return m.session&&(yield this._saveSession(m.session),yield this._notifyAllSubscribers("SIGNED_IN",m.session)),this._returnResult({data:Object.assign({},m),error:_})}catch(m){if(V(m))return this._returnResult({data:{user:null,session:null},error:m});throw m}})}signInWithSolana(e){return y(this,null,function*(){var r,i,o,s,a,l,c,u,d,f,h,p;let g,m;if("message"in e)g=e.message,m=e.signature;else{let{chain:_,wallet:E,statement:C,options:D}=e,S;if(ht())if(typeof E=="object")S=E;else{let A=window;if("solana"in A&&typeof A.solana=="object"&&("signIn"in A.solana&&typeof A.solana.signIn=="function"||"signMessage"in A.solana&&typeof A.solana.signMessage=="function"))S=A.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof E!="object"||!D?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");S=E}let M=new URL((r=D?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in S&&S.signIn){let A=yield S.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},D?.signInWithSolana),{version:"1",domain:M.host,uri:M.href}),C?{statement:C}:null)),T;if(Array.isArray(A)&&A[0]&&typeof A[0]=="object")T=A[0];else if(A&&typeof A=="object"&&"signedMessage"in A&&"signature"in A)T=A;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in T&&"signature"in T&&(typeof T.signedMessage=="string"||T.signedMessage instanceof Uint8Array)&&T.signature instanceof Uint8Array)g=typeof T.signedMessage=="string"?T.signedMessage:new TextDecoder().decode(T.signedMessage),m=T.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in S)||typeof S.signMessage!="function"||!("publicKey"in S)||typeof S!="object"||!S.publicKey||!("toBase58"in S.publicKey)||typeof S.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");g=[`${M.host} wants you to sign in with your Solana account:`,S.publicKey.toBase58(),...C?["",C,""]:[""],"Version: 1",`URI: ${M.href}`,`Issued At: ${(o=(i=D?.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((s=D?.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${D.signInWithSolana.notBefore}`]:[],...!((a=D?.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${D.signInWithSolana.expirationTime}`]:[],...!((l=D?.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${D.signInWithSolana.chainId}`]:[],...!((c=D?.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${D.signInWithSolana.nonce}`]:[],...!((u=D?.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${D.signInWithSolana.requestId}`]:[],...!((f=(d=D?.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...D.signInWithSolana.resources.map(T=>`- ${T}`)]:[]].join(`
`);let A=yield S.signMessage(new TextEncoder().encode(g),"utf8");if(!A||!(A instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");m=A}}try{let{data:_,error:E}=yield W(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:g,signature:ui(m)},!((h=e.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(p=e.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:Sn});if(E)throw E;if(!_||!_.session||!_.user){let C=new Ar;return this._returnResult({data:{user:null,session:null},error:C})}return _.session&&(yield this._saveSession(_.session),yield this._notifyAllSubscribers("SIGNED_IN",_.session)),this._returnResult({data:Object.assign({},_),error:E})}catch(_){if(V(_))return this._returnResult({data:{user:null,session:null},error:_});throw _}})}_exchangeCodeForSession(e){return y(this,null,function*(){let r=yield Qi(this.storage,`${this.storageKey}-code-verifier`),[i,o]=(r??"").split("/");try{let{data:s,error:a}=yield W(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:i},xform:Sn});if(yield _t(this.storage,`${this.storageKey}-code-verifier`),a)throw a;if(!s||!s.session||!s.user){let l=new Ar;return this._returnResult({data:{user:null,session:null,redirectType:null},error:l})}return s.session&&(yield this._saveSession(s.session),yield this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign(Object.assign({},s),{redirectType:o??null}),error:a})}catch(s){if(yield _t(this.storage,`${this.storageKey}-code-verifier`),V(s))return this._returnResult({data:{user:null,session:null,redirectType:null},error:s});throw s}})}signInWithIdToken(e){return y(this,null,function*(){try{let{options:r,provider:i,token:o,access_token:s,nonce:a}=e,l=yield W(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:o,access_token:s,nonce:a,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:Sn}),{data:c,error:u}=l;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!c||!c.session||!c.user){let d=new Ar;return this._returnResult({data:{user:null,session:null},error:d})}return c.session&&(yield this._saveSession(c.session),yield this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:c,error:u})}catch(r){if(V(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}})}signInWithOtp(e){return y(this,null,function*(){var r,i,o,s,a;try{if("email"in e){let{email:l,options:c}=e,u=null,d=null;this.flowType==="pkce"&&([u,d]=yield ls(this.storage,this.storageKey));let{error:f}=yield W(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c?.data)!==null&&r!==void 0?r:{},create_user:(i=c?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c?.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}if("phone"in e){let{phone:l,options:c}=e,{data:u,error:d}=yield W(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(o=c?.data)!==null&&o!==void 0?o:{},create_user:(s=c?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:c?.captchaToken},channel:(a=c?.channel)!==null&&a!==void 0?a:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u?.message_id},error:d})}throw new Yi("You must provide either an email or phone number.")}catch(l){if(yield _t(this.storage,`${this.storageKey}-code-verifier`),V(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}})}verifyOtp(e){return y(this,null,function*(){var r,i;try{let o,s;"options"in e&&(o=(r=e.options)===null||r===void 0?void 0:r.redirectTo,s=(i=e.options)===null||i===void 0?void 0:i.captchaToken);let{data:a,error:l}=yield W(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:s}}),redirectTo:o,xform:Sn});if(l)throw l;if(!a)throw new Error("An error occurred on token verification.");let c=a.session,u=a.user;return c?.access_token&&(yield this._saveSession(c),yield this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(o){if(V(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}})}signInWithSSO(e){return y(this,null,function*(){var r,i,o,s,a;try{let l=null,c=null;this.flowType==="pkce"&&([l,c]=yield ls(this.storage,this.storageKey));let u=yield W(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(i=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&i!==void 0?i:void 0}),!((o=e?.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:c}),headers:this.headers,xform:RA});return!((s=u.data)===null||s===void 0)&&s.url&&ht()&&!(!((a=e.options)===null||a===void 0)&&a.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(l){if(yield _t(this.storage,`${this.storageKey}-code-verifier`),V(l))return this._returnResult({data:null,error:l});throw l}})}reauthenticate(){return y(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>y(this,null,function*(){return yield this._reauthenticate()}))})}_reauthenticate(){return y(this,null,function*(){try{return yield this._useSession(e=>y(this,null,function*(){let{data:{session:r},error:i}=e;if(i)throw i;if(!r)throw new yt;let{error:o}=yield W(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:o})}))}catch(e){if(V(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}})}resend(e){return y(this,null,function*(){try{let r=`${this.url}/resend`;if("email"in e){let{email:i,type:o,options:s}=e,{error:a}=yield W(this.fetch,"POST",r,{headers:this.headers,body:{email:i,type:o,gotrue_meta_security:{captcha_token:s?.captchaToken}},redirectTo:s?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:a})}else if("phone"in e){let{phone:i,type:o,options:s}=e,{data:a,error:l}=yield W(this.fetch,"POST",r,{headers:this.headers,body:{phone:i,type:o,gotrue_meta_security:{captcha_token:s?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:a?.message_id},error:l})}throw new Yi("You must provide either an email or phone number and a type")}catch(r){if(V(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}})}getSession(){return y(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>y(this,null,function*(){return this._useSession(r=>y(this,null,function*(){return r}))}))})}_acquireLock(e,r){return y(this,null,function*(){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){let i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=y(this,null,function*(){return yield i,yield r()});return this.pendingInLock.push(y(this,null,function*(){try{yield o}catch{}})),o}return yield this.lock(`lock:${this.storageKey}`,e,()=>y(this,null,function*(){this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;let i=r();for(this.pendingInLock.push(y(this,null,function*(){try{yield i}catch{}})),yield i;this.pendingInLock.length;){let o=[...this.pendingInLock];yield Promise.all(o),this.pendingInLock.splice(0,o.length)}return yield i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}}))}finally{this._debug("#_acquireLock","end")}})}_useSession(e){return y(this,null,function*(){this._debug("#_useSession","begin");try{let r=yield this.__loadSession();return yield e(r)}finally{this._debug("#_useSession","end")}})}__loadSession(){return y(this,null,function*(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null,r=yield Qi(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),yield this._removeSession())),!e)return{data:{session:null},error:null};let i=e.expires_at?e.expires_at*1e3-Date.now()<Xf:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",e.expires_at),!i){if(this.userStorage){let a=yield Qi(this.userStorage,this.storageKey+"-user");a?.user?e.user=a.user:e.user=op()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){let a={value:this.suppressGetSessionWarning};e.user=AA(e.user,a),a.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}let{data:o,error:s}=yield this._callRefreshToken(e.refresh_token);return s?this._returnResult({data:{session:null},error:s}):this._returnResult({data:{session:o},error:null})}finally{this._debug("#__loadSession()","end")}})}getUser(e){return y(this,null,function*(){if(e)return yield this._getUser(e);yield this.initializePromise;let r=yield this._acquireLock(-1,()=>y(this,null,function*(){return yield this._getUser()}));return r.data.user&&(this.suppressGetSessionWarning=!0),r})}_getUser(e){return y(this,null,function*(){try{return e?yield W(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Or}):yield this._useSession(r=>y(this,null,function*(){var i,o,s;let{data:a,error:l}=r;if(l)throw l;return!(!((i=a.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new yt}:yield W(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(o=a.session)===null||o===void 0?void 0:o.access_token)!==null&&s!==void 0?s:void 0,xform:Or})}))}catch(r){if(V(r))return R0(r)&&(yield this._removeSession(),yield _t(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}})}updateUser(i){return y(this,arguments,function*(e,r={}){return yield this.initializePromise,yield this._acquireLock(-1,()=>y(this,null,function*(){return yield this._updateUser(e,r)}))})}_updateUser(i){return y(this,arguments,function*(e,r={}){try{return yield this._useSession(o=>y(this,null,function*(){let{data:s,error:a}=o;if(a)throw a;if(!s.session)throw new yt;let l=s.session,c=null,u=null;this.flowType==="pkce"&&e.email!=null&&([c,u]=yield ls(this.storage,this.storageKey));let{data:d,error:f}=yield W(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:c,code_challenge_method:u}),jwt:l.access_token,xform:Or});if(f)throw f;return l.user=d.user,yield this._saveSession(l),yield this._notifyAllSubscribers("USER_UPDATED",l),this._returnResult({data:{user:l.user},error:null})}))}catch(o){if(yield _t(this.storage,`${this.storageKey}-code-verifier`),V(o))return this._returnResult({data:{user:null},error:o});throw o}})}setSession(e){return y(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>y(this,null,function*(){return yield this._setSession(e)}))})}_setSession(e){return y(this,null,function*(){try{if(!e.access_token||!e.refresh_token)throw new yt;let r=Date.now()/1e3,i=r,o=!0,s=null,{payload:a}=ip(e.access_token);if(a.exp&&(i=a.exp,o=i<=r),o){let{data:l,error:c}=yield this._callRefreshToken(e.refresh_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l)return{data:{user:null,session:null},error:null};s=l}else{let{data:l,error:c}=yield this._getUser(e.access_token);if(c)throw c;s={access_token:e.access_token,refresh_token:e.refresh_token,user:l.user,token_type:"bearer",expires_in:i-r,expires_at:i},yield this._saveSession(s),yield this._notifyAllSubscribers("SIGNED_IN",s)}return this._returnResult({data:{user:s.user,session:s},error:null})}catch(r){if(V(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}})}refreshSession(e){return y(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>y(this,null,function*(){return yield this._refreshSession(e)}))})}_refreshSession(e){return y(this,null,function*(){try{return yield this._useSession(r=>y(this,null,function*(){var i;if(!e){let{data:a,error:l}=r;if(l)throw l;e=(i=a.session)!==null&&i!==void 0?i:void 0}if(!e?.refresh_token)throw new yt;let{data:o,error:s}=yield this._callRefreshToken(e.refresh_token);return s?this._returnResult({data:{user:null,session:null},error:s}):o?this._returnResult({data:{user:o.user,session:o},error:null}):this._returnResult({data:{user:null,session:null},error:null})}))}catch(r){if(V(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}})}_getSessionFromURL(e,r){return y(this,null,function*(){try{if(!ht())throw new Zi("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Zi(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new za("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Zi("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new za("No code detected.");let{data:C,error:D}=yield this._exchangeCodeForSession(e.code);if(D)throw D;let S=new URL(window.location.href);return S.searchParams.delete("code"),window.history.replaceState(window.history.state,"",S.toString()),{data:{session:C.session,redirectType:null},error:null}}let{provider_token:i,provider_refresh_token:o,access_token:s,refresh_token:a,expires_in:l,expires_at:c,token_type:u}=e;if(!s||!l||!a||!u)throw new Zi("No session defined in URL");let d=Math.round(Date.now()/1e3),f=parseInt(l),h=d+f;c&&(h=parseInt(c));let p=h-d;p*1e3<=rs&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${f}s`);let g=h-f;d-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,h,d):d-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",g,h,d);let{data:m,error:_}=yield this._getUser(s);if(_)throw _;let E={provider_token:i,provider_refresh_token:o,access_token:s,expires_in:f,expires_at:h,refresh_token:a,token_type:u,user:m.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:E,redirectType:e.type},error:null})}catch(i){if(V(i))return this._returnResult({data:{session:null,redirectType:null},error:i});throw i}})}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}_isPKCECallback(e){return y(this,null,function*(){let r=yield Qi(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)})}signOut(){return y(this,arguments,function*(e={scope:"global"}){return yield this.initializePromise,yield this._acquireLock(-1,()=>y(this,null,function*(){return yield this._signOut(e)}))})}_signOut(){return y(this,arguments,function*({scope:e}={scope:"global"}){return yield this._useSession(r=>y(this,null,function*(){var i;let{data:o,error:s}=r;if(s)return this._returnResult({error:s});let a=(i=o.session)===null||i===void 0?void 0:i.access_token;if(a){let{error:l}=yield this.admin.signOut(a,e);if(l&&!(O0(l)&&(l.status===404||l.status===401||l.status===403)))return this._returnResult({error:l})}return e!=="others"&&(yield this._removeSession(),yield _t(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})}))})}onAuthStateChange(e){let r=EA(),i={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,i),y(this,null,function*(){yield this.initializePromise,yield this._acquireLock(-1,()=>y(this,null,function*(){this._emitInitialSession(r)}))}),{data:{subscription:i}}}_emitInitialSession(e){return y(this,null,function*(){return yield this._useSession(r=>y(this,null,function*(){var i,o;try{let{data:{session:s},error:a}=r;if(a)throw a;yield(i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",s),this._debug("INITIAL_SESSION","callback id",e,"session",s)}catch(s){yield(o=this.stateChangeEmitters.get(e))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null),this._debug("INITIAL_SESSION","callback id",e,"error",s),console.error(s)}}))})}resetPasswordForEmail(i){return y(this,arguments,function*(e,r={}){let o=null,s=null;this.flowType==="pkce"&&([o,s]=yield ls(this.storage,this.storageKey,!0));try{return yield W(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:o,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if(yield _t(this.storage,`${this.storageKey}-code-verifier`),V(a))return this._returnResult({data:null,error:a});throw a}})}getUserIdentities(){return y(this,null,function*(){var e;try{let{data:r,error:i}=yield this.getUser();if(i)throw i;return this._returnResult({data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(r){if(V(r))return this._returnResult({data:null,error:r});throw r}})}linkIdentity(e){return y(this,null,function*(){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)})}linkIdentityOAuth(e){return y(this,null,function*(){var r;try{let{data:i,error:o}=yield this._useSession(s=>y(this,null,function*(){var a,l,c,u,d;let{data:f,error:h}=s;if(h)throw h;let p=yield this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(a=e.options)===null||a===void 0?void 0:a.redirectTo,scopes:(l=e.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=e.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return yield W(this.fetch,"GET",p,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})}));if(o)throw o;return ht()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(i?.url),this._returnResult({data:{provider:e.provider,url:i?.url},error:null})}catch(i){if(V(i))return this._returnResult({data:{provider:e.provider,url:null},error:i});throw i}})}linkIdentityIdToken(e){return y(this,null,function*(){return yield this._useSession(r=>y(this,null,function*(){var i;try{let{error:o,data:{session:s}}=r;if(o)throw o;let{options:a,provider:l,token:c,access_token:u,nonce:d}=e,f=yield W(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(i=s?.access_token)!==null&&i!==void 0?i:void 0,body:{provider:l,id_token:c,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:a?.captchaToken}},xform:Sn}),{data:h,error:p}=f;return p?this._returnResult({data:{user:null,session:null},error:p}):!h||!h.session||!h.user?this._returnResult({data:{user:null,session:null},error:new Ar}):(h.session&&(yield this._saveSession(h.session),yield this._notifyAllSubscribers("USER_UPDATED",h.session)),this._returnResult({data:h,error:p}))}catch(o){if(yield _t(this.storage,`${this.storageKey}-code-verifier`),V(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}))})}unlinkIdentity(e){return y(this,null,function*(){try{return yield this._useSession(r=>y(this,null,function*(){var i,o;let{data:s,error:a}=r;if(a)throw a;return yield W(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(o=(i=s.session)===null||i===void 0?void 0:i.access_token)!==null&&o!==void 0?o:void 0})}))}catch(r){if(V(r))return this._returnResult({data:null,error:r});throw r}})}_refreshAccessToken(e){return y(this,null,function*(){let r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{let i=Date.now();return yield SA(o=>y(this,null,function*(){return o>0&&(yield xA(200*Math.pow(2,o-1))),this._debug(r,"refreshing attempt",o),yield W(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Sn})}),(o,s)=>{let a=200*Math.pow(2,o);return s&&Uc(s)&&Date.now()+a-i<rs})}catch(i){if(this._debug(r,"error",i),V(i))return this._returnResult({data:{session:null,user:null},error:i});throw i}finally{this._debug(r,"end")}})}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}_handleProviderSignIn(e,r){return y(this,null,function*(){let i=yield this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",i),ht()&&!r.skipBrowserRedirect&&window.location.assign(i),{data:{provider:e,url:i},error:null}})}_recoverAndRefresh(){return y(this,null,function*(){var e,r;let i="#_recoverAndRefresh()";this._debug(i,"begin");try{let o=yield Qi(this.storage,this.storageKey);if(o&&this.userStorage){let a=yield Qi(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:o.user},yield as(this.userStorage,this.storageKey+"-user",a)),o.user=(e=a?.user)!==null&&e!==void 0?e:op()}else if(o&&!o.user&&!o.user){let a=yield Qi(this.storage,this.storageKey+"-user");a&&a?.user?(o.user=a.user,yield _t(this.storage,this.storageKey+"-user"),yield as(this.storage,this.storageKey,o)):o.user=op()}if(this._debug(i,"session from storage",o),!this._isValidSession(o)){this._debug(i,"session is not valid"),o!==null&&(yield this._removeSession());return}let s=((r=o.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Xf;if(this._debug(i,`session has${s?"":" not"} expired with margin of ${Xf}s`),s){if(this.autoRefreshToken&&o.refresh_token){let{error:a}=yield this._callRefreshToken(o.refresh_token);a&&(console.error(a),Uc(a)||(this._debug(i,"refresh failed with a non-retryable error, removing the session",a),yield this._removeSession()))}}else if(o.user&&o.user.__isUserNotAvailableProxy===!0)try{let{data:a,error:l}=yield this._getUser(o.access_token);!l&&a?.user?(o.user=a.user,yield this._saveSession(o),yield this._notifyAllSubscribers("SIGNED_IN",o)):this._debug(i,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(i,"error getting user data, skipping SIGNED_IN notification",a)}else yield this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(i,"error",o),console.error(o);return}finally{this._debug(i,"end")}})}_callRefreshToken(e){return y(this,null,function*(){var r,i;if(!e)throw new yt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;let o=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new $c;let{data:s,error:a}=yield this._refreshAccessToken(e);if(a)throw a;if(!s.session)throw new yt;yield this._saveSession(s.session),yield this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);let l={data:s.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(s){if(this._debug(o,"error",s),V(s)){let a={data:null,error:s};return Uc(s)||(yield this._removeSession()),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(s),s}finally{this.refreshingDeferred=null,this._debug(o,"end")}})}_notifyAllSubscribers(e,r,i=!0){return y(this,null,function*(){let o=`#_notifyAllSubscribers(${e})`;this._debug(o,"begin",r,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:e,session:r});let s=[],a=Array.from(this.stateChangeEmitters.values()).map(l=>y(this,null,function*(){try{yield l.callback(e,r)}catch(c){s.push(c)}}));if(yield Promise.all(a),s.length>0){for(let l=0;l<s.length;l+=1)console.error(s[l]);throw s[0]}}finally{this._debug(o,"end")}})}_saveSession(e){return y(this,null,function*(){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,yield _t(this.storage,`${this.storageKey}-code-verifier`);let r=Object.assign({},e),i=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!i&&r.user&&(yield as(this.userStorage,this.storageKey+"-user",{user:r.user}));let o=Object.assign({},r);delete o.user;let s=N0(o);yield as(this.storage,this.storageKey,s)}else{let o=N0(r);yield as(this.storage,this.storageKey,o)}})}_removeSession(){return y(this,null,function*(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,yield _t(this.storage,this.storageKey),yield _t(this.storage,this.storageKey+"-code-verifier"),yield _t(this.storage,this.storageKey+"-user"),this.userStorage&&(yield _t(this.userStorage,this.storageKey+"-user")),yield this._notifyAllSubscribers("SIGNED_OUT",null)})}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");let e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&ht()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}_startAutoRefresh(){return y(this,null,function*(){yield this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");let e=setInterval(()=>this._autoRefreshTokenTick(),rs);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(()=>y(this,null,function*(){yield this.initializePromise,yield this._autoRefreshTokenTick()}),0)})}_stopAutoRefresh(){return y(this,null,function*(){this._debug("#_stopAutoRefresh()");let e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)})}startAutoRefresh(){return y(this,null,function*(){this._removeVisibilityChangedCallback(),yield this._startAutoRefresh()})}stopAutoRefresh(){return y(this,null,function*(){this._removeVisibilityChangedCallback(),yield this._stopAutoRefresh()})}_autoRefreshTokenTick(){return y(this,null,function*(){this._debug("#_autoRefreshTokenTick()","begin");try{yield this._acquireLock(0,()=>y(this,null,function*(){try{let e=Date.now();try{return yield this._useSession(r=>y(this,null,function*(){let{data:{session:i}}=r;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}let o=Math.floor((i.expires_at*1e3-e)/rs);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${rs}ms, refresh threshold is ${Jf} ticks`),o<=Jf&&(yield this._callRefreshToken(i.refresh_token))}))}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}}))}catch(e){if(e.isAcquireTimeout||e instanceof Ga)this._debug("auto refresh token tick lock not available");else throw e}})}_handleVisibilityChange(){return y(this,null,function*(){if(this._debug("#_handleVisibilityChange()"),!ht()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=()=>y(this,null,function*(){return yield this._onVisibilityChanged(!1)}),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),yield this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}})}_onVisibilityChanged(e){return y(this,null,function*(){let r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(yield this.initializePromise,yield this._acquireLock(-1,()=>y(this,null,function*(){if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}yield this._recoverAndRefresh()})))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()})}_getUrlForProvider(e,r,i){return y(this,null,function*(){let o=[`provider=${encodeURIComponent(r)}`];if(i?.redirectTo&&o.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i?.scopes&&o.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){let[s,a]=yield ls(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(a)}`});o.push(l.toString())}if(i?.queryParams){let s=new URLSearchParams(i.queryParams);o.push(s.toString())}return i?.skipBrowserRedirect&&o.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${e}?${o.join("&")}`})}_unenroll(e){return y(this,null,function*(){try{return yield this._useSession(r=>y(this,null,function*(){var i;let{data:o,error:s}=r;return s?this._returnResult({data:null,error:s}):yield W(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token})}))}catch(r){if(V(r))return this._returnResult({data:null,error:r});throw r}})}_enroll(e){return y(this,null,function*(){try{return yield this._useSession(r=>y(this,null,function*(){var i,o;let{data:s,error:a}=r;if(a)return this._returnResult({data:null,error:a});let l=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:c,error:u}=yield W(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(i=s?.session)===null||i===void 0?void 0:i.access_token});return u?this._returnResult({data:null,error:u}):(e.factorType==="totp"&&c.type==="totp"&&(!((o=c?.totp)===null||o===void 0)&&o.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),this._returnResult({data:c,error:null}))}))}catch(r){if(V(r))return this._returnResult({data:null,error:r});throw r}})}_verify(e){return y(this,null,function*(){return this._acquireLock(-1,()=>y(this,null,function*(){try{return yield this._useSession(r=>y(this,null,function*(){var i;let{data:o,error:s}=r;if(s)return this._returnResult({data:null,error:s});let a=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?YA(e.webauthn.credential_response):ZA(e.webauthn.credential_response)})}:{code:e.code}),{data:l,error:c}=yield W(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:a,headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token});return c?this._returnResult({data:null,error:c}):(yield this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),yield this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),this._returnResult({data:l,error:c}))}))}catch(r){if(V(r))return this._returnResult({data:null,error:r});throw r}}))})}_challenge(e){return y(this,null,function*(){return this._acquireLock(-1,()=>y(this,null,function*(){try{return yield this._useSession(r=>y(this,null,function*(){var i;let{data:o,error:s}=r;if(s)return this._returnResult({data:null,error:s});let a=yield W(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token});if(a.error)return a;let{data:l}=a;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:GA(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:KA(l.webauthn.credential_options.publicKey)})})}),error:null}}}))}catch(r){if(V(r))return this._returnResult({data:null,error:r});throw r}}))})}_challengeAndVerify(e){return y(this,null,function*(){let{data:r,error:i}=yield this._challenge({factorId:e.factorId});return i?this._returnResult({data:null,error:i}):yield this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})})}_listFactors(){return y(this,null,function*(){var e;let{data:{user:r},error:i}=yield this.getUser();if(i)return{data:null,error:i};let o={all:[],phone:[],totp:[],webauthn:[]};for(let s of(e=r?.factors)!==null&&e!==void 0?e:[])o.all.push(s),s.status==="verified"&&o[s.factor_type].push(s);return{data:o,error:null}})}_getAuthenticatorAssuranceLevel(){return y(this,null,function*(){var e,r;let{data:{session:i},error:o}=yield this.getSession();if(o)return this._returnResult({data:null,error:o});if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};let{payload:s}=ip(i.access_token),a=null;s.aal&&(a=s.aal);let l=a;((r=(e=i.user.factors)===null||e===void 0?void 0:e.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");let u=s.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:u},error:null}})}_getAuthorizationDetails(e){return y(this,null,function*(){try{return yield this._useSession(r=>y(this,null,function*(){let{data:{session:i},error:o}=r;return o?this._returnResult({data:null,error:o}):i?yield W(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:i.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new yt})}))}catch(r){if(V(r))return this._returnResult({data:null,error:r});throw r}})}_approveAuthorization(e,r){return y(this,null,function*(){try{return yield this._useSession(i=>y(this,null,function*(){let{data:{session:o},error:s}=i;if(s)return this._returnResult({data:null,error:s});if(!o)return this._returnResult({data:null,error:new yt});let a=yield W(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"approve"},xform:l=>({data:l,error:null})});return a.data&&a.data.redirect_url&&ht()&&!r?.skipBrowserRedirect&&window.location.assign(a.data.redirect_url),a}))}catch(i){if(V(i))return this._returnResult({data:null,error:i});throw i}})}_denyAuthorization(e,r){return y(this,null,function*(){try{return yield this._useSession(i=>y(this,null,function*(){let{data:{session:o},error:s}=i;if(s)return this._returnResult({data:null,error:s});if(!o)return this._returnResult({data:null,error:new yt});let a=yield W(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"deny"},xform:l=>({data:l,error:null})});return a.data&&a.data.redirect_url&&ht()&&!r?.skipBrowserRedirect&&window.location.assign(a.data.redirect_url),a}))}catch(i){if(V(i))return this._returnResult({data:null,error:i});throw i}})}_listOAuthGrants(){return y(this,null,function*(){try{return yield this._useSession(e=>y(this,null,function*(){let{data:{session:r},error:i}=e;return i?this._returnResult({data:null,error:i}):r?yield W(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new yt})}))}catch(e){if(V(e))return this._returnResult({data:null,error:e});throw e}})}_revokeOAuthGrant(e){return y(this,null,function*(){try{return yield this._useSession(r=>y(this,null,function*(){let{data:{session:i},error:o}=r;return o?this._returnResult({data:null,error:o}):i?(yield W(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:i.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new yt})}))}catch(r){if(V(r))return this._returnResult({data:null,error:r});throw r}})}fetchJwk(i){return y(this,arguments,function*(e,r={keys:[]}){let o=r.keys.find(c=>c.kid===e);if(o)return o;let s=Date.now();if(o=this.jwks.keys.find(c=>c.kid===e),o&&this.jwks_cached_at+mA>s)return o;let{data:a,error:l}=yield W(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(l)throw l;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=s,o=a.keys.find(c=>c.kid===e),!o)?null:o})}getClaims(i){return y(this,arguments,function*(e,r={}){try{let o=e;if(!o){let{data:g,error:m}=yield this.getSession();if(m||!g.session)return this._returnResult({data:null,error:m});o=g.session.access_token}let{header:s,payload:a,signature:l,raw:{header:c,payload:u}}=ip(o);r?.allowExpired||MA(a.exp);let d=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:yield this.fetchJwk(s.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!d){let{error:g}=yield this.getUser(o);if(g)throw g;return{data:{claims:a,header:s,signature:l},error:null}}let f=TA(s.alg),h=yield crypto.subtle.importKey("jwk",d,f,!0,["verify"]);if(!(yield crypto.subtle.verify(f,h,l,bA(`${c}.${u}`))))throw new Ji("Invalid JWT signature");return{data:{claims:a,header:s,signature:l},error:null}}catch(o){if(V(o))return this._returnResult({data:null,error:o});throw o}})}}return n.nextInstanceID={},n})(),up=G3});var K3,XA,QA=U(()=>{"use strict";sp();K3=eo,XA=K3});var Y3,eO,tO=U(()=>{"use strict";G0();Y3=up,eO=Y3});var K0={};hl(K0,{AuthAdminApi:()=>XA,AuthApiError:()=>Bc,AuthClient:()=>eO,AuthError:()=>ci,AuthImplicitGrantRedirectError:()=>Zi,AuthInvalidCredentialsError:()=>Yi,AuthInvalidJwtError:()=>Ji,AuthInvalidTokenResponseError:()=>Ar,AuthPKCEGrantCodeExchangeError:()=>za,AuthRetryableFetchError:()=>is,AuthSessionMissingError:()=>yt,AuthUnknownError:()=>gn,AuthWeakPasswordError:()=>qa,CustomAuthError:()=>Zn,GoTrueAdminApi:()=>eo,GoTrueClient:()=>up,NavigatorLockAcquireTimeoutError:()=>zc,SIGN_OUT_SCOPES:()=>Hc,isAuthApiError:()=>O0,isAuthError:()=>V,isAuthImplicitGrantRedirectError:()=>k0,isAuthRetryableFetchError:()=>Uc,isAuthSessionMissingError:()=>R0,isAuthWeakPasswordError:()=>D3,lockInternals:()=>to,navigatorLock:()=>ap,processLock:()=>FA});var Y0=U(()=>{"use strict";sp();G0();QA();tO();V0();os();$0()});var nO=Ft(dp=>{"use strict";Object.defineProperty(dp,"__esModule",{value:!0});dp.SupabaseAuthClient=void 0;var Z3=(Y0(),on(K0)),Z0=class extends Z3.AuthClient{constructor(t){super(t)}};dp.SupabaseAuthClient=Z0});var Q0=Ft(X0=>{"use strict";Object.defineProperty(X0,"__esModule",{value:!0});var J3=(B_(),on(V_)),X3=r0(),Q3=(y0(),on(v0)),ez=(sA(),on(oA)),hp=lA(),tz=cA(),rO=dA(),nz=nO(),J0=class{constructor(t,e,r){var i,o,s;this.supabaseUrl=t,this.supabaseKey=e;let a=(0,rO.validateSupabaseUrl)(t);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);let l=`sb-${a.hostname.split(".")[0]}-auth-token`,c={db:hp.DEFAULT_DB_OPTIONS,realtime:hp.DEFAULT_REALTIME_OPTIONS,auth:Object.assign(Object.assign({},hp.DEFAULT_AUTH_OPTIONS),{storageKey:l}),global:hp.DEFAULT_GLOBAL_OPTIONS},u=(0,rO.applySettingDefaults)(r??{},c);this.storageKey=(i=u.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(o=u.global.headers)!==null&&o!==void 0?o:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(d,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((s=u.auth)!==null&&s!==void 0?s:{},this.headers,u.global.fetch),this.fetch=(0,tz.fetchWithAuth)(e,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.accessToken&&this.accessToken().then(d=>this.realtime.setAuth(d)).catch(d=>console.warn("Failed to set initial Realtime auth token:",d)),this.rest=new X3.PostgrestClient(new URL("rest/v1",a).href,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),this.storage=new ez.StorageClient(this.storageUrl.href,this.headers,this.fetch,r?.storage),u.accessToken||this._listenForAuthEvents()}get functions(){return new J3.FunctionsClient(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,e={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,e,r)}channel(t,e={config:{}}){return this.realtime.channel(t,e)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){return y(this,null,function*(){var t,e;if(this.accessToken)return yield this.accessToken();let{data:r}=yield this.auth.getSession();return(e=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&e!==void 0?e:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:e,detectSessionInUrl:r,storage:i,userStorage:o,storageKey:s,flowType:a,lock:l,debug:c,throwOnError:u},d,f){let h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new nz.SupabaseAuthClient({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),d),storageKey:s,autoRefreshToken:t,persistSession:e,detectSessionInUrl:r,storage:i,userStorage:o,flowType:a,lock:l,debug:c,throwOnError:u,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(p=>p.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new Q3.RealtimeClient(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,r)=>{this._handleTokenChanged(e,"CLIENT",r?.access_token)})}_handleTokenChanged(t,e,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};X0.default=J0});var sO=Ft(Re=>{"use strict";var rz=Re&&Re.__createBinding||(Object.create?function(n,t,e,r){r===void 0&&(r=e);var i=Object.getOwnPropertyDescriptor(t,e);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[e]}}),Object.defineProperty(n,r,i)}:function(n,t,e,r){r===void 0&&(r=e),n[r]=t[e]}),iO=Re&&Re.__exportStar||function(n,t){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(t,e)&&rz(t,n,e)},oO=Re&&Re.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Re,"__esModule",{value:!0});Re.createClient=Re.SupabaseClient=Re.FunctionRegion=Re.FunctionsError=Re.FunctionsRelayError=Re.FunctionsFetchError=Re.FunctionsHttpError=Re.PostgrestError=void 0;var iz=oO(Q0());iO((Y0(),on(K0)),Re);var oz=r0();Object.defineProperty(Re,"PostgrestError",{enumerable:!0,get:function(){return oz.PostgrestError}});var qc=(B_(),on(V_));Object.defineProperty(Re,"FunctionsHttpError",{enumerable:!0,get:function(){return qc.FunctionsHttpError}});Object.defineProperty(Re,"FunctionsFetchError",{enumerable:!0,get:function(){return qc.FunctionsFetchError}});Object.defineProperty(Re,"FunctionsRelayError",{enumerable:!0,get:function(){return qc.FunctionsRelayError}});Object.defineProperty(Re,"FunctionsError",{enumerable:!0,get:function(){return qc.FunctionsError}});Object.defineProperty(Re,"FunctionRegion",{enumerable:!0,get:function(){return qc.FunctionRegion}});iO((y0(),on(v0)),Re);var sz=Q0();Object.defineProperty(Re,"SupabaseClient",{enumerable:!0,get:function(){return oO(sz).default}});var az=(n,t,e)=>new iz.default(n,t,e);Re.createClient=az;function lz(){if(typeof window<"u"||typeof process>"u")return!1;let n=process.version;if(n==null)return!1;let t=n.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}lz()&&console.warn("\u26A0\uFE0F  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217")});function pg(n,t){return Object.is(n,t)}var at=null,gu=!1,gg=1,mn=Symbol("SIGNAL");function ue(n){let t=at;return at=n,t}function mg(){return at}var pl={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function gl(n){if(gu)throw new Error("");if(at===null)return;at.consumerOnSignalRead(n);let t=at.nextProducerIndex++;if(_u(at),t<at.producerNode.length&&at.producerNode[t]!==n&&fl(at)){let e=at.producerNode[t];yu(e,at.producerIndexOfThis[t])}at.producerNode[t]!==n&&(at.producerNode[t]=n,at.producerIndexOfThis[t]=fl(at)?ww(n,at,t):0),at.producerLastReadVersion[t]=n.version}function bw(){gg++}function vg(n){if(!(fl(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===gg)){if(!n.producerMustRecompute(n)&&!wg(n)){fg(n);return}n.producerRecomputeValue(n),fg(n)}}function yg(n){if(n.liveConsumerNode===void 0)return;let t=gu;gu=!0;try{for(let e of n.liveConsumerNode)e.dirty||Ok(e)}finally{gu=t}}function _g(){return at?.consumerAllowSignalWrites!==!1}function Ok(n){n.dirty=!0,yg(n),n.consumerMarkedDirty?.(n)}function fg(n){n.dirty=!1,n.lastCleanEpoch=gg}function vu(n){return n&&(n.nextProducerIndex=0),ue(n)}function bg(n,t){if(ue(t),!(!n||n.producerNode===void 0||n.producerIndexOfThis===void 0||n.producerLastReadVersion===void 0)){if(fl(n))for(let e=n.nextProducerIndex;e<n.producerNode.length;e++)yu(n.producerNode[e],n.producerIndexOfThis[e]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function wg(n){_u(n);for(let t=0;t<n.producerNode.length;t++){let e=n.producerNode[t],r=n.producerLastReadVersion[t];if(r!==e.version||(vg(e),r!==e.version))return!0}return!1}function Eg(n){if(_u(n),fl(n))for(let t=0;t<n.producerNode.length;t++)yu(n.producerNode[t],n.producerIndexOfThis[t]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function ww(n,t,e){if(Ew(n),n.liveConsumerNode.length===0&&Cw(n))for(let r=0;r<n.producerNode.length;r++)n.producerIndexOfThis[r]=ww(n.producerNode[r],n,r);return n.liveConsumerIndexOfThis.push(e),n.liveConsumerNode.push(t)-1}function yu(n,t){if(Ew(n),n.liveConsumerNode.length===1&&Cw(n))for(let r=0;r<n.producerNode.length;r++)yu(n.producerNode[r],n.producerIndexOfThis[r]);let e=n.liveConsumerNode.length-1;if(n.liveConsumerNode[t]=n.liveConsumerNode[e],n.liveConsumerIndexOfThis[t]=n.liveConsumerIndexOfThis[e],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,t<n.liveConsumerNode.length){let r=n.liveConsumerIndexOfThis[t],i=n.liveConsumerNode[t];_u(i),i.producerIndexOfThis[r]=t}}function fl(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function _u(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function Ew(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}function Cw(n){return n.producerNode!==void 0}function Cg(n,t){let e=Object.create(Rk);e.computation=n,t!==void 0&&(e.equal=t);let r=()=>{if(vg(e),gl(e),e.value===mu)throw e.error;return e.value};return r[mn]=e,r}var dg=Symbol("UNSET"),hg=Symbol("COMPUTING"),mu=Symbol("ERRORED"),Rk=te(O({},pl),{value:dg,dirty:!0,error:null,equal:pg,kind:"computed",producerMustRecompute(n){return n.value===dg||n.value===hg},producerRecomputeValue(n){if(n.value===hg)throw new Error("Detected cycle in computations.");let t=n.value;n.value=hg;let e=vu(n),r,i=!1;try{r=n.computation(),ue(null),i=t!==dg&&t!==mu&&r!==mu&&n.equal(t,r)}catch(o){r=mu,n.error=o}finally{bg(n,e)}if(i){n.value=t;return}n.value=r,n.version++}});function kk(){throw new Error}var Dw=kk;function xw(n){Dw(n)}function Dg(n){Dw=n}var Pk=null;function xg(n,t){let e=Object.create(bu);e.value=n,t!==void 0&&(e.equal=t);let r=()=>(gl(e),e.value);return r[mn]=e,r}function ml(n,t){_g()||xw(n),n.equal(n.value,t)||(n.value=t,Nk(n))}function Sg(n,t){_g()||xw(n),ml(n,t(n.value))}var bu=te(O({},pl),{equal:pg,value:void 0,kind:"signal"});function Nk(n){n.version++,bw(),yg(n),Pk?.()}function Ig(n){let t=ue(null);try{return n()}finally{ue(t)}}var Mg;function vl(){return Mg}function Vr(n){let t=Mg;return Mg=n,t}var wu=Symbol("NotFound");function ee(n){return typeof n=="function"}function Es(n){let e=n(r=>{Error.call(r),r.stack=new Error().stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}var Eu=Es(n=>function(e){n(this),this.message=e?`${e.length} errors occurred during unsubscription:
${e.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=e});function yl(n,t){if(n){let e=n.indexOf(t);0<=e&&n.splice(e,1)}}var Qe=class n{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;let{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(let o of e)o.remove(this);else e.remove(this);let{initialTeardown:r}=this;if(ee(r))try{r()}catch(o){t=o instanceof Eu?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{Sw(o)}catch(s){t=t??[],s instanceof Eu?t=[...t,...s.errors]:t.push(s)}}if(t)throw new Eu(t)}}add(t){var e;if(t&&t!==this)if(this.closed)Sw(t);else{if(t instanceof n){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(e=this._finalizers)!==null&&e!==void 0?e:[]).push(t)}}_hasParent(t){let{_parentage:e}=this;return e===t||Array.isArray(e)&&e.includes(t)}_addParent(t){let{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(t),e):e?[e,t]:t}_removeParent(t){let{_parentage:e}=this;e===t?this._parentage=null:Array.isArray(e)&&yl(e,t)}remove(t){let{_finalizers:e}=this;e&&yl(e,t),t instanceof n&&t._removeParent(this)}};Qe.EMPTY=(()=>{let n=new Qe;return n.closed=!0,n})();var Tg=Qe.EMPTY;function Cu(n){return n instanceof Qe||n&&"closed"in n&&ee(n.remove)&&ee(n.add)&&ee(n.unsubscribe)}function Sw(n){ee(n)?n():n.unsubscribe()}var An={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Cs={setTimeout(n,t,...e){let{delegate:r}=Cs;return r?.setTimeout?r.setTimeout(n,t,...e):setTimeout(n,t,...e)},clearTimeout(n){let{delegate:t}=Cs;return(t?.clearTimeout||clearTimeout)(n)},delegate:void 0};function Du(n){Cs.setTimeout(()=>{let{onUnhandledError:t}=An;if(t)t(n);else throw n})}function _l(){}var Iw=Ag("C",void 0,void 0);function Mw(n){return Ag("E",void 0,n)}function Tw(n){return Ag("N",n,void 0)}function Ag(n,t,e){return{kind:n,value:t,error:e}}var mo=null;function Ds(n){if(An.useDeprecatedSynchronousErrorHandling){let t=!mo;if(t&&(mo={errorThrown:!1,error:null}),n(),t){let{errorThrown:e,error:r}=mo;if(mo=null,e)throw r}}else n()}function Aw(n){An.useDeprecatedSynchronousErrorHandling&&mo&&(mo.errorThrown=!0,mo.error=n)}var vo=class extends Qe{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,Cu(t)&&t.add(this)):this.destination=Uk}static create(t,e,r){return new xs(t,e,r)}next(t){this.isStopped?Rg(Tw(t),this):this._next(t)}error(t){this.isStopped?Rg(Mw(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?Rg(Iw,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},Vk=Function.prototype.bind;function Og(n,t){return Vk.call(n,t)}var kg=class{constructor(t){this.partialObserver=t}next(t){let{partialObserver:e}=this;if(e.next)try{e.next(t)}catch(r){xu(r)}}error(t){let{partialObserver:e}=this;if(e.error)try{e.error(t)}catch(r){xu(r)}else xu(t)}complete(){let{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(e){xu(e)}}},xs=class extends vo{constructor(t,e,r){super();let i;if(ee(t)||!t)i={next:t??void 0,error:e??void 0,complete:r??void 0};else{let o;this&&An.useDeprecatedNextContext?(o=Object.create(t),o.unsubscribe=()=>this.unsubscribe(),i={next:t.next&&Og(t.next,o),error:t.error&&Og(t.error,o),complete:t.complete&&Og(t.complete,o)}):i=t}this.destination=new kg(i)}};function xu(n){An.useDeprecatedSynchronousErrorHandling?Aw(n):Du(n)}function Bk(n){throw n}function Rg(n,t){let{onStoppedNotification:e}=An;e&&Cs.setTimeout(()=>e(n,t))}var Uk={closed:!0,next:_l,error:Bk,complete:_l};var Ss=typeof Symbol=="function"&&Symbol.observable||"@@observable";function sn(n){return n}function Pg(...n){return Ng(n)}function Ng(n){return n.length===0?sn:n.length===1?n[0]:function(e){return n.reduce((r,i)=>i(r),e)}}var ge=(()=>{class n{constructor(e){e&&(this._subscribe=e)}lift(e){let r=new n;return r.source=this,r.operator=e,r}subscribe(e,r,i){let o=Hk(e)?e:new xs(e,r,i);return Ds(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(e){try{return this._subscribe(e)}catch(r){e.error(r)}}forEach(e,r){return r=Ow(r),new r((i,o)=>{let s=new xs({next:a=>{try{e(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(e){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(e)}[Ss](){return this}pipe(...e){return Ng(e)(this)}toPromise(e){return e=Ow(e),new e((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=t=>new n(t),n})();function Ow(n){var t;return(t=n??An.Promise)!==null&&t!==void 0?t:Promise}function $k(n){return n&&ee(n.next)&&ee(n.error)&&ee(n.complete)}function Hk(n){return n&&n instanceof vo||$k(n)&&Cu(n)}function Fg(n){return ee(n?.lift)}function he(n){return t=>{if(Fg(t))return t.lift(function(e){try{return n(e,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function de(n,t,e,r,i){return new Lg(n,t,e,r,i)}var Lg=class extends vo{constructor(t,e,r,i,o,s){super(t),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=e?function(a){try{e(a)}catch(l){t.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){t.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:e}=this;super.unsubscribe(),!e&&((t=this.onFinalize)===null||t===void 0||t.call(this))}}};function Is(){return he((n,t)=>{let e=null;n._refCount++;let r=de(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){e=null;return}let i=n._connection,o=e;e=null,i&&(!o||i===o)&&i.unsubscribe(),t.unsubscribe()});n.subscribe(r),r.closed||(e=n.connect())})}var Ms=class extends ge{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,Fg(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){let t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new Qe;let e=this.getSubject();t.add(this.source.subscribe(de(e,void 0,()=>{this._teardown(),e.complete()},r=>{this._teardown(),e.error(r)},()=>this._teardown()))),t.closed&&(this._connection=null,t=Qe.EMPTY)}return t}refCount(){return Is()(this)}};var Rw=Es(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Ke=(()=>{class n extends ge{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){let r=new Su(this,this);return r.operator=e,r}_throwIfClosed(){if(this.closed)throw new Rw}next(e){Ds(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(e)}})}error(e){Ds(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;let{observers:r}=this;for(;r.length;)r.shift().error(e)}})}complete(){Ds(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var e;return((e=this.observers)===null||e===void 0?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){let{hasError:r,isStopped:i,observers:o}=this;return r||i?Tg:(this.currentObservers=null,o.push(e),new Qe(()=>{this.currentObservers=null,yl(o,e)}))}_checkFinalizedStatuses(e){let{hasError:r,thrownError:i,isStopped:o}=this;r?e.error(i):o&&e.complete()}asObservable(){let e=new ge;return e.source=this,e}}return n.create=(t,e)=>new Su(t,e),n})(),Su=class extends Ke{constructor(t,e){super(),this.destination=t,this.source=e}next(t){var e,r;(r=(e=this.destination)===null||e===void 0?void 0:e.next)===null||r===void 0||r.call(e,t)}error(t){var e,r;(r=(e=this.destination)===null||e===void 0?void 0:e.error)===null||r===void 0||r.call(e,t)}complete(){var t,e;(e=(t=this.destination)===null||t===void 0?void 0:t.complete)===null||e===void 0||e.call(t)}_subscribe(t){var e,r;return(r=(e=this.source)===null||e===void 0?void 0:e.subscribe(t))!==null&&r!==void 0?r:Tg}};var et=class extends Ke{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){let e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){let{hasError:t,thrownError:e,_value:r}=this;if(t)throw e;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}};var Lt=new ge(n=>n.complete());function kw(n){return n&&ee(n.schedule)}function Pw(n){return n[n.length-1]}function Iu(n){return ee(Pw(n))?n.pop():void 0}function yi(n){return kw(Pw(n))?n.pop():void 0}Be();var ku=n=>n&&typeof n.length=="number"&&typeof n!="function";function Pu(n){return ee(n?.then)}function Nu(n){return ee(n[Ss])}function Fu(n){return Symbol.asyncIterator&&ee(n?.[Symbol.asyncIterator])}function Lu(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function Gk(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var ju=Gk();function Vu(n){return ee(n?.[ju])}Be();function Bu(n){return Ou(this,arguments,function*(){let e=n.getReader();try{for(;;){let{value:r,done:i}=yield er(e.read());if(i)return yield er(void 0);yield yield er(r)}}finally{e.releaseLock()}})}function Uu(n){return ee(n?.getReader)}function tt(n){if(n instanceof ge)return n;if(n!=null){if(Nu(n))return Kk(n);if(ku(n))return Yk(n);if(Pu(n))return Zk(n);if(Fu(n))return iE(n);if(Vu(n))return Jk(n);if(Uu(n))return Xk(n)}throw Lu(n)}function Kk(n){return new ge(t=>{let e=n[Ss]();if(ee(e.subscribe))return e.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function Yk(n){return new ge(t=>{for(let e=0;e<n.length&&!t.closed;e++)t.next(n[e]);t.complete()})}function Zk(n){return new ge(t=>{n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,Du)})}function Jk(n){return new ge(t=>{for(let e of n)if(t.next(e),t.closed)return;t.complete()})}function iE(n){return new ge(t=>{Qk(n,t).catch(e=>t.error(e))})}function Xk(n){return iE(Bu(n))}function Qk(n,t){var e,r,i,o;return k(this,void 0,void 0,function*(){try{for(e=Ru(n);r=yield e.next(),!r.done;){let s=r.value;if(t.next(s),t.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=e.return)&&(yield o.call(e))}finally{if(i)throw i.error}}t.complete()})}function jt(n,t,e,r=0,i=!1){let o=t.schedule(function(){e(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function $u(n,t=0){return he((e,r)=>{e.subscribe(de(r,i=>jt(r,n,()=>r.next(i),t),()=>jt(r,n,()=>r.complete(),t),i=>jt(r,n,()=>r.error(i),t)))})}function Hu(n,t=0){return he((e,r)=>{r.add(n.schedule(()=>e.subscribe(r),t))})}function oE(n,t){return tt(n).pipe(Hu(t),$u(t))}function sE(n,t){return tt(n).pipe(Hu(t),$u(t))}function aE(n,t){return new ge(e=>{let r=0;return t.schedule(function(){r===n.length?e.complete():(e.next(n[r++]),e.closed||this.schedule())})})}function lE(n,t){return new ge(e=>{let r;return jt(e,t,()=>{r=n[ju](),jt(e,t,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){e.error(s);return}o?e.complete():e.next(i)},0,!0)}),()=>ee(r?.return)&&r.return()})}function zu(n,t){if(!n)throw new Error("Iterable cannot be null");return new ge(e=>{jt(e,t,()=>{let r=n[Symbol.asyncIterator]();jt(e,t,()=>{r.next().then(i=>{i.done?e.complete():e.next(i.value)})},0,!0)})})}function cE(n,t){return zu(Bu(n),t)}function uE(n,t){if(n!=null){if(Nu(n))return oE(n,t);if(ku(n))return aE(n,t);if(Pu(n))return sE(n,t);if(Fu(n))return zu(n,t);if(Vu(n))return lE(n,t);if(Uu(n))return cE(n,t)}throw Lu(n)}function xe(n,t){return t?uE(n,t):tt(n)}function z(...n){let t=yi(n);return xe(n,t)}function Ts(n,t){let e=ee(n)?n:()=>n,r=i=>i.error(e());return new ge(t?i=>t.schedule(r,0,i):r)}function Ug(n){return!!n&&(n instanceof ge||ee(n.lift)&&ee(n.subscribe))}var Ur=Es(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function oe(n,t){return he((e,r)=>{let i=0;e.subscribe(de(r,o=>{r.next(n.call(t,o,i++))}))})}var{isArray:eP}=Array;function tP(n,t){return eP(t)?n(...t):n(t)}function qu(n){return oe(t=>tP(n,t))}var{isArray:nP}=Array,{getPrototypeOf:rP,prototype:iP,keys:oP}=Object;function Wu(n){if(n.length===1){let t=n[0];if(nP(t))return{args:t,keys:null};if(sP(t)){let e=oP(t);return{args:e.map(r=>t[r]),keys:e}}}return{args:n,keys:null}}function sP(n){return n&&typeof n=="object"&&rP(n)===iP}function Gu(n,t){return n.reduce((e,r,i)=>(e[r]=t[i],e),{})}function bl(...n){let t=yi(n),e=Iu(n),{args:r,keys:i}=Wu(n);if(r.length===0)return xe([],t);let o=new ge(aP(r,t,i?s=>Gu(i,s):sn));return e?o.pipe(qu(e)):o}function aP(n,t,e=sn){return r=>{dE(t,()=>{let{length:i}=n,o=new Array(i),s=i,a=i;for(let l=0;l<i;l++)dE(t,()=>{let c=xe(n[l],t),u=!1;c.subscribe(de(r,d=>{o[l]=d,u||(u=!0,a--),a||r.next(e(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function dE(n,t,e){n?jt(e,n,t):t()}function hE(n,t,e,r,i,o,s,a){let l=[],c=0,u=0,d=!1,f=()=>{d&&!l.length&&!c&&t.complete()},h=g=>c<r?p(g):l.push(g),p=g=>{o&&t.next(g),c++;let m=!1;tt(e(g,u++)).subscribe(de(t,_=>{i?.(_),o?h(_):t.next(_)},()=>{m=!0},void 0,()=>{if(m)try{for(c--;l.length&&c<r;){let _=l.shift();s?jt(t,s,()=>p(_)):p(_)}f()}catch(_){t.error(_)}}))};return n.subscribe(de(t,h,()=>{d=!0,f()})),()=>{a?.()}}function Ye(n,t,e=1/0){return ee(t)?Ye((r,i)=>oe((o,s)=>t(r,o,i,s))(tt(n(r,i))),e):(typeof t=="number"&&(e=t),he((r,i)=>hE(r,i,n,e)))}function _i(n=1/0){return Ye(sn,n)}function fE(){return _i(1)}function As(...n){return fE()(xe(n,yi(n)))}function Ku(n){return new ge(t=>{tt(n()).subscribe(t)})}function $g(...n){let t=Iu(n),{args:e,keys:r}=Wu(n),i=new ge(o=>{let{length:s}=e;if(!s){o.complete();return}let a=new Array(s),l=s,c=s;for(let u=0;u<s;u++){let d=!1;tt(e[u]).subscribe(de(o,f=>{d||(d=!0,c--),a[u]=f},()=>l--,void 0,()=>{(!l||!d)&&(c||o.next(r?Gu(r,a):a),o.complete())}))}});return t?i.pipe(qu(t)):i}function kt(n,t){return he((e,r)=>{let i=0;e.subscribe(de(r,o=>n.call(t,o,i++)&&r.next(o)))})}function $r(n){return he((t,e)=>{let r=null,i=!1,o;r=t.subscribe(de(e,void 0,void 0,s=>{o=tt(n(s,$r(n)(t))),r?(r.unsubscribe(),r=null,o.subscribe(e)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(e))})}function pE(n,t,e,r,i){return(o,s)=>{let a=e,l=t,c=0;o.subscribe(de(s,u=>{let d=c++;l=a?n(l,u,d):(a=!0,u),r&&s.next(l)},i&&(()=>{a&&s.next(l),s.complete()})))}}function tr(n,t){return ee(t)?Ye(n,t,1):Ye(n,1)}function bi(n){return he((t,e)=>{let r=!1;t.subscribe(de(e,i=>{r=!0,e.next(i)},()=>{r||e.next(n),e.complete()}))})}function Hr(n){return n<=0?()=>Lt:he((t,e)=>{let r=0;t.subscribe(de(e,i=>{++r<=n&&(e.next(i),n<=r&&e.complete())}))})}function Yu(n=lP){return he((t,e)=>{let r=!1;t.subscribe(de(e,i=>{r=!0,e.next(i)},()=>r?e.complete():e.error(n())))})}function lP(){return new Ur}function _o(n){return he((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}function zr(n,t){let e=arguments.length>=2;return r=>r.pipe(n?kt((i,o)=>n(i,o,r)):sn,Hr(1),e?bi(t):Yu(()=>new Ur))}function Os(n){return n<=0?()=>Lt:he((t,e)=>{let r=[];t.subscribe(de(e,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(let i of r)e.next(i);e.complete()},void 0,()=>{r=null}))})}function Hg(n,t){let e=arguments.length>=2;return r=>r.pipe(n?kt((i,o)=>n(i,o,r)):sn,Os(1),e?bi(t):Yu(()=>new Ur))}function zg(n,t){return he(pE(n,t,arguments.length>=2,!0))}function qg(...n){let t=yi(n);return he((e,r)=>{(t?As(n,e,t):As(n,e)).subscribe(r)})}function Vt(n,t){return he((e,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();e.subscribe(de(r,l=>{i?.unsubscribe();let c=0,u=o++;tt(n(l,u)).subscribe(i=de(r,d=>r.next(t?t(l,d,u,c++):d),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function Wg(n){return he((t,e)=>{tt(n).subscribe(de(e,()=>e.complete(),_l)),!e.closed&&t.subscribe(e)})}function lt(n,t,e){let r=ee(n)||t||e?{next:n,error:t,complete:e}:n;return r?he((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(de(o,l=>{var c;(c=r.next)===null||c===void 0||c.call(r,l),o.next(l)},()=>{var l;a=!1,(l=r.complete)===null||l===void 0||l.call(r),o.complete()},l=>{var c;a=!1,(c=r.error)===null||c===void 0||c.call(r,l),o.error(l)},()=>{var l,c;a&&((l=r.unsubscribe)===null||l===void 0||l.call(r)),(c=r.finalize)===null||c===void 0||c.call(r)}))}):sn}var Jg={JSACTION:"jsaction"},Xg={JSACTION:"__jsaction",OWNER:"__owner"},yE={};function cP(n){return n[Xg.JSACTION]}function gE(n,t){n[Xg.JSACTION]=t}function uP(n){return yE[n]}function dP(n,t){yE[n]=t}var q={CLICK:"click",CLICKMOD:"clickmod",DBLCLICK:"dblclick",FOCUS:"focus",FOCUSIN:"focusin",BLUR:"blur",FOCUSOUT:"focusout",SUBMIT:"submit",KEYDOWN:"keydown",KEYPRESS:"keypress",KEYUP:"keyup",MOUSEOVER:"mouseover",MOUSEOUT:"mouseout",MOUSEENTER:"mouseenter",MOUSELEAVE:"mouseleave",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",ERROR:"error",LOAD:"load",TOUCHSTART:"touchstart",TOUCHEND:"touchend",TOUCHMOVE:"touchmove",TOGGLE:"toggle"},hP=[q.MOUSEENTER,q.MOUSELEAVE,"pointerenter","pointerleave"],vY=[q.CLICK,q.DBLCLICK,q.FOCUSIN,q.FOCUSOUT,q.KEYDOWN,q.KEYUP,q.KEYPRESS,q.MOUSEOVER,q.MOUSEOUT,q.SUBMIT,q.TOUCHSTART,q.TOUCHEND,q.TOUCHMOVE,"touchcancel","auxclick","change","compositionstart","compositionupdate","compositionend","beforeinput","input","select","copy","cut","paste","mousedown","mouseup","wheel","contextmenu","dragover","dragenter","dragleave","drop","dragstart","dragend","pointerdown","pointermove","pointerup","pointercancel","pointerover","pointerout","gotpointercapture","lostpointercapture","ended","loadedmetadata","pagehide","pageshow","visibilitychange","beforematch"],fP=[q.FOCUS,q.BLUR,q.ERROR,q.LOAD,q.TOGGLE],Qg=n=>fP.indexOf(n)>=0;function pP(n){return n===q.MOUSEENTER?q.MOUSEOVER:n===q.MOUSELEAVE?q.MOUSEOUT:n===q.POINTERENTER?q.POINTEROVER:n===q.POINTERLEAVE?q.POINTEROUT:n}function gP(n,t,e,r){let i=!1;Qg(t)&&(i=!0);let o=typeof r=="boolean"?{capture:i,passive:r}:i;return n.addEventListener(t,e,o),{eventType:t,handler:e,capture:i,passive:r}}function mP(n,t){if(n.removeEventListener){let e=typeof t.passive=="boolean"?{capture:t.capture}:t.capture;n.removeEventListener(t.eventType,t.handler,e)}else n.detachEvent&&n.detachEvent(`on${t.eventType}`,t.handler)}function vP(n){n.preventDefault?n.preventDefault():n.returnValue=!1}var mE=typeof navigator<"u"&&/Macintosh/.test(navigator.userAgent);function yP(n){return n.which===2||n.which==null&&n.button===4}function _P(n){return mE&&n.metaKey||!mE&&n.ctrlKey||yP(n)||n.shiftKey}function bP(n,t,e){let r=n.relatedTarget;return(n.type===q.MOUSEOVER&&t===q.MOUSEENTER||n.type===q.MOUSEOUT&&t===q.MOUSELEAVE||n.type===q.POINTEROVER&&t===q.POINTERENTER||n.type===q.POINTEROUT&&t===q.POINTERLEAVE)&&(!r||r!==e&&!e.contains(r))}function wP(n,t){let e={};for(let r in n){if(r==="srcElement"||r==="target")continue;let i=r,o=n[i];typeof o!="function"&&(e[i]=o)}return n.type===q.MOUSEOVER?e.type=q.MOUSEENTER:n.type===q.MOUSEOUT?e.type=q.MOUSELEAVE:n.type===q.POINTEROVER?e.type=q.POINTERENTER:e.type=q.POINTERLEAVE,e.target=e.srcElement=t,e.bubbles=!1,e._originalEvent=n,e}var EP=typeof navigator<"u"&&/iPhone|iPad|iPod/.test(navigator.userAgent),Qu=class{element;handlerInfos=[];constructor(t){this.element=t}addEventListener(t,e,r){EP&&(this.element.style.cursor="pointer"),this.handlerInfos.push(gP(this.element,t,e(this.element),r))}cleanUp(){for(let t=0;t<this.handlerInfos.length;t++)mP(this.element,this.handlerInfos[t]);this.handlerInfos=[]}},CP={EVENT_ACTION_SEPARATOR:":"};function wi(n){return n.eventType}function em(n,t){n.eventType=t}function Ju(n){return n.event}function _E(n,t){n.event=t}function bE(n){return n.targetElement}function wE(n,t){n.targetElement=t}function EE(n){return n.eic}function DP(n,t){n.eic=t}function xP(n){return n.timeStamp}function SP(n,t){n.timeStamp=t}function Xu(n){return n.eia}function CE(n,t,e){n.eia=[t,e]}function Gg(n){n.eia=void 0}function Zu(n){return n[1]}function IP(n){return n.eirp}function DE(n,t){n.eirp=t}function xE(n){return n.eir}function SE(n,t){n.eir=t}function IE(n){return{eventType:n.eventType,event:n.event,targetElement:n.targetElement,eic:n.eic,eia:n.eia,timeStamp:n.timeStamp,eirp:n.eirp,eiack:n.eiack,eir:n.eir}}function MP(n,t,e,r,i,o,s,a){return{eventType:n,event:t,targetElement:e,eic:r,timeStamp:i,eia:o,eirp:s,eiack:a}}var Kg=class n{eventInfo;constructor(t){this.eventInfo=t}getEventType(){return wi(this.eventInfo)}setEventType(t){em(this.eventInfo,t)}getEvent(){return Ju(this.eventInfo)}setEvent(t){_E(this.eventInfo,t)}getTargetElement(){return bE(this.eventInfo)}setTargetElement(t){wE(this.eventInfo,t)}getContainer(){return EE(this.eventInfo)}setContainer(t){DP(this.eventInfo,t)}getTimestamp(){return xP(this.eventInfo)}setTimestamp(t){SP(this.eventInfo,t)}getAction(){let t=Xu(this.eventInfo);if(t)return{name:t[0],element:t[1]}}setAction(t){if(!t){Gg(this.eventInfo);return}CE(this.eventInfo,t.name,t.element)}getIsReplay(){return IP(this.eventInfo)}setIsReplay(t){DE(this.eventInfo,t)}getResolved(){return xE(this.eventInfo)}setResolved(t){SE(this.eventInfo,t)}clone(){return new n(IE(this.eventInfo))}},TP={},AP=/\s*;\s*/,OP=q.CLICK,Yg=class{a11yClickSupport=!1;clickModSupport=!0;syntheticMouseEventSupport;updateEventInfoForA11yClick=void 0;preventDefaultForA11yClick=void 0;populateClickOnlyAction=void 0;constructor({syntheticMouseEventSupport:t=!1,clickModSupport:e=!0}={}){this.syntheticMouseEventSupport=t,this.clickModSupport=e}resolveEventType(t){this.clickModSupport&&wi(t)===q.CLICK&&_P(Ju(t))?em(t,q.CLICKMOD):this.a11yClickSupport&&this.updateEventInfoForA11yClick(t)}resolveAction(t){xE(t)||(this.populateAction(t,bE(t)),SE(t,!0))}resolveParentAction(t){let e=Xu(t),r=e&&Zu(e);Gg(t);let i=r&&this.getParentNode(r);i&&this.populateAction(t,i)}populateAction(t,e){let r=e;for(;r&&r!==EE(t)&&(r.nodeType===Node.ELEMENT_NODE&&this.populateActionOnElement(r,t),!Xu(t));)r=this.getParentNode(r);let i=Xu(t);if(i&&(this.a11yClickSupport&&this.preventDefaultForA11yClick(t),this.syntheticMouseEventSupport&&(wi(t)===q.MOUSEENTER||wi(t)===q.MOUSELEAVE||wi(t)===q.POINTERENTER||wi(t)===q.POINTERLEAVE)))if(bP(Ju(t),wi(t),Zu(i))){let o=wP(Ju(t),Zu(i));_E(t,o),wE(t,Zu(i))}else Gg(t)}getParentNode(t){let e=t[Xg.OWNER];if(e)return e;let r=t.parentNode;return r?.nodeName==="#document-fragment"?r?.host??null:r}populateActionOnElement(t,e){let r=this.parseActions(t),i=r[wi(e)];i!==void 0&&CE(e,i,t),this.a11yClickSupport&&this.populateClickOnlyAction(t,e,r)}parseActions(t){let e=cP(t);if(!e){let r=t.getAttribute(Jg.JSACTION);if(!r)e=TP,gE(t,e);else{if(e=uP(r),!e){e={};let i=r.split(AP);for(let o=0;o<i.length;o++){let s=i[o];if(!s)continue;let a=s.indexOf(CP.EVENT_ACTION_SEPARATOR),l=a!==-1,c=l?s.substr(0,a).trim():OP,u=l?s.substr(a+1).trim():s;e[c]=u}dP(r,e)}gE(t,e)}}return e}addA11yClickSupport(t,e,r){this.a11yClickSupport=!0,this.updateEventInfoForA11yClick=t,this.preventDefaultForA11yClick=e,this.populateClickOnlyAction=r}},ME=function(n){return n[n.I_AM_THE_JSACTION_FRAMEWORK=0]="I_AM_THE_JSACTION_FRAMEWORK",n}(ME||{}),Zg=class{dispatchDelegate;actionResolver;eventReplayer;eventReplayScheduled=!1;replayEventInfoWrappers=[];constructor(t,{actionResolver:e,eventReplayer:r}={}){this.dispatchDelegate=t,this.actionResolver=e,this.eventReplayer=r}dispatch(t){let e=new Kg(t);this.actionResolver?.resolveEventType(t),this.actionResolver?.resolveAction(t);let r=e.getAction();if(r&&RP(r.element,e)&&vP(e.getEvent()),this.eventReplayer&&e.getIsReplay()){this.scheduleEventInfoWrapperReplay(e);return}this.dispatchDelegate(e)}scheduleEventInfoWrapperReplay(t){this.replayEventInfoWrappers.push(t),!this.eventReplayScheduled&&(this.eventReplayScheduled=!0,Promise.resolve().then(()=>{this.eventReplayScheduled=!1,this.eventReplayer(this.replayEventInfoWrappers)}))}};function RP(n,t){return n.tagName==="A"&&(t.getEventType()===q.CLICK||t.getEventType()===q.CLICKMOD)}var TE=Symbol.for("propagationStopped"),tm={REPLAY:101};var kP="`preventDefault` called during event replay.";var PP="`composedPath` called during event replay.",ed=class{dispatchDelegate;clickModSupport;actionResolver;dispatcher;constructor(t,e=!0){this.dispatchDelegate=t,this.clickModSupport=e,this.actionResolver=new Yg({clickModSupport:e}),this.dispatcher=new Zg(r=>{this.dispatchToDelegate(r)},{actionResolver:this.actionResolver})}dispatch(t){this.dispatcher.dispatch(t)}dispatchToDelegate(t){for(t.getIsReplay()&&LP(t),NP(t);t.getAction();){if(jP(t),Qg(t.getEventType())&&t.getAction().element!==t.getTargetElement()||(this.dispatchDelegate(t.getEvent(),t.getAction().name),FP(t)))return;this.actionResolver.resolveParentAction(t.eventInfo)}}};function NP(n){let t=n.getEvent(),e=n.getEvent().stopPropagation.bind(t),r=()=>{t[TE]=!0,e()};bo(t,"stopPropagation",r),bo(t,"stopImmediatePropagation",r)}function FP(n){return!!n.getEvent()[TE]}function LP(n){let t=n.getEvent(),e=n.getTargetElement(),r=t.preventDefault.bind(t);bo(t,"target",e),bo(t,"eventPhase",tm.REPLAY),bo(t,"preventDefault",()=>{throw r(),new Error(kP+"")}),bo(t,"composedPath",()=>{throw new Error(PP+"")})}function jP(n){let t=n.getEvent(),e=n.getAction()?.element;e&&bo(t,"currentTarget",e,{configurable:!0})}function bo(n,t,e,{configurable:r=!1}={}){Object.defineProperty(n,t,{value:e,configurable:r})}function AE(n,t){n.ecrd(e=>{t.dispatch(e)},ME.I_AM_THE_JSACTION_FRAMEWORK)}function VP(n){return n?.q??[]}function BP(n){n&&(vE(n.c,n.et,n.h),vE(n.c,n.etc,n.h,!0))}function vE(n,t,e,r){for(let i=0;i<t.length;i++)n.removeEventListener(t[i],e,r)}var UP=!1,OE=(()=>{class n{static MOUSE_SPECIAL_SUPPORT=UP;containerManager;eventHandlers={};browserEventTypeToExtraEventTypes={};dispatcher=null;queuedEventInfos=[];constructor(e){this.containerManager=e}handleEvent(e,r,i){let o=MP(e,r,r.target,i,Date.now());this.handleEventInfo(o)}handleEventInfo(e){if(!this.dispatcher){DE(e,!0),this.queuedEventInfos?.push(e);return}this.dispatcher(e)}addEvent(e,r,i){if(e in this.eventHandlers||!this.containerManager||!n.MOUSE_SPECIAL_SUPPORT&&hP.indexOf(e)>=0)return;let o=(a,l,c)=>{this.handleEvent(a,l,c)};this.eventHandlers[e]=o;let s=pP(r||e);if(s!==e){let a=this.browserEventTypeToExtraEventTypes[s]||[];a.push(e),this.browserEventTypeToExtraEventTypes[s]=a}this.containerManager.addEventListener(s,a=>l=>{o(e,l,a)},i)}replayEarlyEvents(e=window._ejsa){e&&(this.replayEarlyEventInfos(e.q),BP(e),delete window._ejsa)}replayEarlyEventInfos(e){for(let r=0;r<e.length;r++){let i=e[r],o=this.getEventTypesForBrowserEventType(i.eventType);for(let s=0;s<o.length;s++){let a=IE(i);em(a,o[s]),this.handleEventInfo(a)}}}getEventTypesForBrowserEventType(e){let r=[];return this.eventHandlers[e]&&r.push(e),this.browserEventTypeToExtraEventTypes[e]&&r.push(...this.browserEventTypeToExtraEventTypes[e]),r}handler(e){return this.eventHandlers[e]}cleanUp(){this.containerManager?.cleanUp(),this.containerManager=null,this.eventHandlers={},this.browserEventTypeToExtraEventTypes={},this.dispatcher=null,this.queuedEventInfos=[]}registerDispatcher(e,r){this.ecrd(e,r)}ecrd(e,r){if(this.dispatcher=e,this.queuedEventInfos?.length){for(let i=0;i<this.queuedEventInfos.length;i++)this.handleEventInfo(this.queuedEventInfos[i]);this.queuedEventInfos=null}}}return n})();function RE(n,t=window){return VP(t._ejsas?.[n])}function nm(n,t=window){t._ejsas&&(t._ejsas[n]=void 0)}var kC="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",N=class extends Error{code;constructor(t,e){super(Bd(t,e)),this.code=t}};function $P(n){return`NG0${Math.abs(n)}`}function Bd(n,t){return`${$P(n)}${t?": "+t:""}`}var PC=Symbol("InputSignalNode#UNSET"),HP=te(O({},bu),{transformFn:void 0,applyValueToInputSignal(n,t){ml(n,t)}});function NC(n,t){let e=Object.create(HP);e.value=n,e.transformFn=t?.transform;function r(){if(gl(e),e.value===PC){let i=null;throw new N(-950,i)}return e.value}return r[mn]=e,r}function Ol(n){return{toString:n}.toString()}var td="__parameters__";function zP(n){return function(...e){if(n){let r=n(...e);for(let i in r)this[i]=r[i]}}}function FC(n,t,e){return Ol(()=>{let r=zP(t);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(l,c,u){let d=l.hasOwnProperty(td)?l[td]:Object.defineProperty(l,td,{value:[]})[td];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(s),l}}return i.prototype.ngMetadataName=n,i.annotationCls=i,i})}var Ei=globalThis;function Se(n){for(let t in n)if(n[t]===Se)return t;throw Error("Could not find renamed property on target object.")}function qP(n,t){for(let e in t)t.hasOwnProperty(e)&&!n.hasOwnProperty(e)&&(n[e]=t[e])}function Ut(n){if(typeof n=="string")return n;if(Array.isArray(n))return`[${n.map(Ut).join(", ")}]`;if(n==null)return""+n;let t=n.overriddenName||n.name;if(t)return`${t}`;let e=n.toString();if(e==null)return""+e;let r=e.indexOf(`
`);return r>=0?e.slice(0,r):e}function kE(n,t){return n?t?`${n} ${t}`:n:t||""}var WP=Se({__forward_ref__:Se});function bn(n){return n.__forward_ref__=bn,n.toString=function(){return Ut(this())},n}function Pt(n){return LC(n)?n():n}function LC(n){return typeof n=="function"&&n.hasOwnProperty(WP)&&n.__forward_ref__===bn}function L(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Nn(n){return{providers:n.providers||[],imports:n.imports||[]}}function Ud(n){return PE(n,VC)||PE(n,BC)}function jC(n){return Ud(n)!==null}function PE(n,t){return n.hasOwnProperty(t)?n[t]:null}function GP(n){let t=n&&(n[VC]||n[BC]);return t||null}function NE(n){return n&&(n.hasOwnProperty(FE)||n.hasOwnProperty(KP))?n[FE]:null}var VC=Se({\u0275prov:Se}),FE=Se({\u0275inj:Se}),BC=Se({ngInjectableDef:Se}),KP=Se({ngInjectorDef:Se}),P=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(t,e){this._desc=t,this.\u0275prov=void 0,typeof e=="number"?this.__NG_ELEMENT_ID__=e:e!==void 0&&(this.\u0275prov=L({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function UC(n){return n&&!!n.\u0275providers}var YP=Se({\u0275cmp:Se}),ZP=Se({\u0275dir:Se}),JP=Se({\u0275pipe:Se}),XP=Se({\u0275mod:Se}),pd=Se({\u0275fac:Se}),Dl=Se({__NG_ELEMENT_ID__:Se}),LE=Se({__NG_ENV_ID__:Se});function qr(n){return typeof n=="string"?n:n==null?"":String(n)}function QP(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():qr(n)}function $C(n,t){throw new N(-200,n)}function vv(n,t){throw new N(-201,!1)}var ie=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(ie||{}),wm;function HC(){return wm}function Bt(n){let t=wm;return wm=n,t}function zC(n,t,e){let r=Ud(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(e&ie.Optional)return null;if(t!==void 0)return t;vv(n,"Injector")}var e1={},Eo=e1,Em="__NG_DI_FLAG__",gd=class{injector;constructor(t){this.injector=t}retrieve(t,e){let r=e;return this.injector.get(t,r.optional?wu:Eo,r)}},md="ngTempTokenPath",t1="ngTokenPath",n1=/\n/gm,r1="\u0275",jE="__source";function i1(n,t=ie.Default){if(vl()===void 0)throw new N(-203,!1);if(vl()===null)return zC(n,void 0,t);{let e=vl(),r;return e instanceof gd?r=e.injector:r=e,r.get(n,t&ie.Optional?null:void 0,t)}}function H(n,t=ie.Default){return(HC()||i1)(Pt(n),t)}function I(n,t=ie.Default){return H(n,$d(t))}function $d(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function Cm(n){let t=[];for(let e=0;e<n.length;e++){let r=Pt(n[e]);if(Array.isArray(r)){if(r.length===0)throw new N(900,!1);let i,o=ie.Default;for(let s=0;s<r.length;s++){let a=r[s],l=o1(a);typeof l=="number"?l===-1?i=a.token:o|=l:i=a}t.push(H(i,o))}else t.push(H(r))}return t}function qC(n,t){return n[Em]=t,n.prototype[Em]=t,n}function o1(n){return n[Em]}function s1(n,t,e,r){let i=n[md];throw t[jE]&&i.unshift(t[jE]),n.message=a1(`
`+n.message,i,e,r),n[t1]=i,n[md]=null,n}function a1(n,t,e,r=null){n=n&&n.charAt(0)===`
`&&n.charAt(1)==r1?n.slice(2):n;let i=Ut(t);if(Array.isArray(t))i=t.map(Ut).join(" -> ");else if(typeof t=="object"){let o=[];for(let s in t)if(t.hasOwnProperty(s)){let a=t[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):Ut(a)))}i=`{${o.join(", ")}}`}return`${e}${r?"("+r+")":""}[${i}]: ${n.replace(n1,`
  `)}`}var WC=qC(FC("Optional"),8);var l1=qC(FC("SkipSelf"),4);function Do(n,t){let e=n.hasOwnProperty(pd);return e?n[pd]:null}function c1(n,t,e){if(n.length!==t.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],o=t[r];if(e&&(i=e(i),o=e(o)),o!==i)return!1}return!0}function u1(n){return n.flat(Number.POSITIVE_INFINITY)}function yv(n,t){n.forEach(e=>Array.isArray(e)?yv(e,t):t(e))}function GC(n,t,e){t>=n.length?n.push(e):n.splice(t,0,e)}function vd(n,t){return t>=n.length-1?n.pop():n.splice(t,1)[0]}function d1(n,t,e,r){let i=n.length;if(i==t)n.push(e,r);else if(i===1)n.push(r,n[0]),n[0]=e;else{for(i--,n.push(n[i-1],n[i]);i>t;){let o=i-2;n[i]=n[o],i--}n[t]=e,n[t+1]=r}}function h1(n,t,e){let r=Rl(n,t);return r>=0?n[r|1]=e:(r=~r,d1(n,r,t,e)),r}function rm(n,t){let e=Rl(n,t);if(e>=0)return n[e|1]}function Rl(n,t){return f1(n,t,1)}function f1(n,t,e){let r=0,i=n.length>>e;for(;i!==r;){let o=r+(i-r>>1),s=n[o<<e];if(t===s)return o<<e;s>t?i=o:r=o+1}return~(i<<e)}var xo={},vn=[],Di=new P(""),KC=new P("",-1),YC=new P(""),yd=class{get(t,e=Eo){if(e===Eo){let r=new Error(`NullInjectorError: No provider for ${Ut(t)}!`);throw r.name="NullInjectorError",r}return e}};function ZC(n,t){let e=n[XP]||null;if(!e&&t===!0)throw new Error(`Type ${Ut(n)} does not have '\u0275mod' property.`);return e}function xi(n){return n[YP]||null}function JC(n){return n[ZP]||null}function XC(n){return n[JP]||null}function Qr(n){return{\u0275providers:n}}function p1(...n){return{\u0275providers:_v(!0,n),\u0275fromNgModule:!0}}function _v(n,...t){let e=[],r=new Set,i,o=s=>{e.push(s)};return yv(t,s=>{let a=s;Dm(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&QC(i,o),e}function QC(n,t){for(let e=0;e<n.length;e++){let{ngModule:r,providers:i}=n[e];bv(i,o=>{t(o,r)})}}function Dm(n,t,e,r){if(n=Pt(n),!n)return!1;let i=null,o=NE(n),s=!o&&xi(n);if(!o&&!s){let l=n.ngModule;if(o=NE(l),o)i=l;else return!1}else{if(s&&!s.standalone)return!1;i=n}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let l=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let c of l)Dm(c,t,e,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let c;try{yv(o.imports,u=>{Dm(u,t,e,r)&&(c||=[],c.push(u))})}finally{}c!==void 0&&QC(c,t)}if(!a){let c=Do(i)||(()=>new i);t({provide:i,useFactory:c,deps:vn},i),t({provide:YC,useValue:i,multi:!0},i),t({provide:Di,useValue:()=>H(i),multi:!0},i)}let l=o.providers;if(l!=null&&!a){let c=n;bv(l,u=>{t(u,c)})}}else return!1;return i!==n&&n.providers!==void 0}function bv(n,t){for(let e of n)UC(e)&&(e=e.\u0275providers),Array.isArray(e)?bv(e,t):t(e)}var g1=Se({provide:String,useValue:Se});function eD(n){return n!==null&&typeof n=="object"&&g1 in n}function m1(n){return!!(n&&n.useExisting)}function v1(n){return!!(n&&n.useFactory)}function Us(n){return typeof n=="function"}function y1(n){return!!n.useClass}var Hd=new P(""),sd={},VE={},im;function wv(){return im===void 0&&(im=new yd),im}var wt=class{},xl=class extends wt{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(t,e,r,i){super(),this.parent=e,this.source=r,this.scopes=i,Sm(t,s=>this.processProvider(s)),this.records.set(KC,Rs(void 0,this)),i.has("environment")&&this.records.set(wt,Rs(void 0,this));let o=this.records.get(Hd);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(YC,vn,ie.Self))}retrieve(t,e){let r=e;return this.get(t,r.optional?wu:Eo,r)}destroy(){El(this),this._destroyed=!0;let t=ue(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let e=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of e)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),ue(t)}}onDestroy(t){return El(this),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){El(this);let e=Vr(this),r=Bt(void 0),i;try{return t()}finally{Vr(e),Bt(r)}}get(t,e=Eo,r=ie.Default){if(El(this),t.hasOwnProperty(LE))return t[LE](this);r=$d(r);let i,o=Vr(this),s=Bt(void 0);try{if(!(r&ie.SkipSelf)){let l=this.records.get(t);if(l===void 0){let c=C1(t)&&Ud(t);c&&this.injectableDefInScope(c)?l=Rs(xm(t),sd):l=null,this.records.set(t,l)}if(l!=null)return this.hydrate(t,l,r)}let a=r&ie.Self?wv():this.parent;return e=r&ie.Optional&&e===Eo?null:e,a.get(t,e)}catch(a){if(a.name==="NullInjectorError"){if((a[md]=a[md]||[]).unshift(Ut(t)),o)throw a;return s1(a,t,"R3InjectorError",this.source)}else throw a}finally{Bt(s),Vr(o)}}resolveInjectorInitializers(){let t=ue(null),e=Vr(this),r=Bt(void 0),i;try{let o=this.get(Di,vn,ie.Self);for(let s of o)s()}finally{Vr(e),Bt(r),ue(t)}}toString(){let t=[],e=this.records;for(let r of e.keys())t.push(Ut(r));return`R3Injector[${t.join(", ")}]`}processProvider(t){t=Pt(t);let e=Us(t)?t:Pt(t&&t.provide),r=b1(t);if(!Us(t)&&t.multi===!0){let i=this.records.get(e);i||(i=Rs(void 0,sd,!0),i.factory=()=>Cm(i.multi),this.records.set(e,i)),e=t,i.multi.push(t)}this.records.set(e,r)}hydrate(t,e,r){let i=ue(null);try{return e.value===VE?$C(Ut(t)):e.value===sd&&(e.value=VE,e.value=e.factory(void 0,r)),typeof e.value=="object"&&e.value&&E1(e.value)&&this._ngOnDestroyHooks.add(e.value),e.value}finally{ue(i)}}injectableDefInScope(t){if(!t.providedIn)return!1;let e=Pt(t.providedIn);return typeof e=="string"?e==="any"||this.scopes.has(e):this.injectorDefTypes.has(e)}removeOnDestroy(t){let e=this._onDestroyHooks.indexOf(t);e!==-1&&this._onDestroyHooks.splice(e,1)}};function xm(n){let t=Ud(n),e=t!==null?t.factory:Do(n);if(e!==null)return e;if(n instanceof P)throw new N(204,!1);if(n instanceof Function)return _1(n);throw new N(204,!1)}function _1(n){if(n.length>0)throw new N(204,!1);let e=GP(n);return e!==null?()=>e.factory(n):()=>new n}function b1(n){if(eD(n))return Rs(void 0,n.useValue);{let t=tD(n);return Rs(t,sd)}}function tD(n,t,e){let r;if(Us(n)){let i=Pt(n);return Do(i)||xm(i)}else if(eD(n))r=()=>Pt(n.useValue);else if(v1(n))r=()=>n.useFactory(...Cm(n.deps||[]));else if(m1(n))r=(i,o)=>H(Pt(n.useExisting),o!==void 0&&o&ie.Optional?ie.Optional:void 0);else{let i=Pt(n&&(n.useClass||n.provide));if(w1(n))r=()=>new i(...Cm(n.deps));else return Do(i)||xm(i)}return r}function El(n){if(n.destroyed)throw new N(205,!1)}function Rs(n,t,e=!1){return{factory:n,value:t,multi:e?[]:void 0}}function w1(n){return!!n.deps}function E1(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function C1(n){return typeof n=="function"||typeof n=="object"&&n instanceof P}function Sm(n,t){for(let e of n)Array.isArray(e)?Sm(e,t):e&&UC(e)?Sm(e.\u0275providers,t):t(e)}function Wt(n,t){let e;n instanceof xl?(El(n),e=n):e=new gd(n);let r,i=Vr(e),o=Bt(void 0);try{return t()}finally{Vr(i),Bt(o)}}function nD(){return HC()!==void 0||vl()!=null}function rD(n){if(!nD())throw new N(-203,!1)}function D1(n){return typeof n=="function"}var ln=0,Z=1,Q=2,ut=3,Rn=4,Fn=5,rr=6,_d=7,Ht=8,ir=9,Gr=10,Ne=11,Sl=12,BE=13,Ys=14,_n=15,So=16,ks=17,Kr=18,zd=19,iD=20,Ci=21,om=22,bd=23,yn=24,Ls=25,Je=26,oD=1,Yr=6,Zr=7,wd=8,$s=9,$t=10;function kn(n){return Array.isArray(n)&&typeof n[oD]=="object"}function cr(n){return Array.isArray(n)&&n[oD]===!0}function Ev(n){return(n.flags&4)!==0}function ko(n){return n.componentOffset>-1}function qd(n){return(n.flags&1)===1}function or(n){return!!n.template}function Il(n){return(n[Q]&512)!==0}function Po(n){return(n[Q]&256)===256}var Im=class{previousValue;currentValue;firstChange;constructor(t,e,r){this.previousValue=t,this.currentValue=e,this.firstChange=r}isFirstChange(){return this.firstChange}};function sD(n,t,e,r){t!==null?t.applyValueToInputSignal(t,r):n[e]=r}var Ln=(()=>{let n=()=>aD;return n.ngInherit=!0,n})();function aD(n){return n.type.prototype.ngOnChanges&&(n.setInput=S1),x1}function x1(){let n=cD(this),t=n?.current;if(t){let e=n.previous;if(e===xo)n.previous=t;else for(let r in t)e[r]=t[r];n.current=null,this.ngOnChanges(t)}}function S1(n,t,e,r,i){let o=this.declaredInputs[r],s=cD(n)||I1(n,{previous:xo,current:null}),a=s.current||(s.current={}),l=s.previous,c=l[o];a[o]=new Im(c&&c.currentValue,e,l===xo),sD(n,t,i,e)}var lD="__ngSimpleChanges__";function cD(n){return n[lD]||null}function I1(n,t){return n[lD]=t}var UE=null;var be=function(n,t=null,e){UE?.(n,t,e)},M1="svg",T1="math";function Pn(n){for(;Array.isArray(n);)n=n[ln];return n}function uD(n,t){return Pn(t[n])}function jn(n,t){return Pn(t[n.index])}function Wd(n,t){return n.data[t]}function dD(n,t){return n[t]}function A1(n,t,e,r){e>=n.data.length&&(n.data[e]=null,n.blueprint[e]=null),t[e]=r}function sr(n,t){let e=t[n];return kn(e)?e:e[ln]}function O1(n){return(n[Q]&4)===4}function Cv(n){return(n[Q]&128)===128}function R1(n){return cr(n[ut])}function Hs(n,t){return t==null?null:n[t]}function hD(n){n[ks]=0}function fD(n){n[Q]&1024||(n[Q]|=1024,Cv(n)&&kl(n))}function k1(n,t){for(;n>0;)t=t[Ys],n--;return t}function Gd(n){return!!(n[Q]&9216||n[yn]?.dirty)}function Mm(n){n[Gr].changeDetectionScheduler?.notify(8),n[Q]&64&&(n[Q]|=1024),Gd(n)&&kl(n)}function kl(n){n[Gr].changeDetectionScheduler?.notify(0);let t=Io(n);for(;t!==null&&!(t[Q]&8192||(t[Q]|=8192,!Cv(t)));)t=Io(t)}function pD(n,t){if(Po(n))throw new N(911,!1);n[Ci]===null&&(n[Ci]=[]),n[Ci].push(t)}function P1(n,t){if(n[Ci]===null)return;let e=n[Ci].indexOf(t);e!==-1&&n[Ci].splice(e,1)}function Io(n){let t=n[ut];return cr(t)?t[ut]:t}function Dv(n){return n[_d]??=[]}function xv(n){return n.cleanup??=[]}function N1(n,t,e,r){let i=Dv(t);i.push(e),n.firstCreatePass&&xv(n).push(r,i.length-1)}var se={lFrame:CD(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var Tm=!1;function F1(){return se.lFrame.elementDepthCount}function L1(){se.lFrame.elementDepthCount++}function j1(){se.lFrame.elementDepthCount--}function Sv(){return se.bindingsEnabled}function Pl(){return se.skipHydrationRootTNode!==null}function V1(n){return se.skipHydrationRootTNode===n}function B1(n){se.skipHydrationRootTNode=n}function U1(){se.skipHydrationRootTNode=null}function fe(){return se.lFrame.lView}function pt(){return se.lFrame.tView}function me(n){return se.lFrame.contextLView=n,n[Ht]}function ve(n){return se.lFrame.contextLView=null,n}function St(){let n=gD();for(;n!==null&&n.type===64;)n=n.parent;return n}function gD(){return se.lFrame.currentTNode}function $1(){let n=se.lFrame,t=n.currentTNode;return n.isParent?t:t.parent}function No(n,t){let e=se.lFrame;e.currentTNode=n,e.isParent=t}function Iv(){return se.lFrame.isParent}function mD(){se.lFrame.isParent=!1}function vD(){return Tm}function $E(n){let t=Tm;return Tm=n,t}function yD(){let n=se.lFrame,t=n.bindingRootIndex;return t===-1&&(t=n.bindingRootIndex=n.tView.bindingStartIndex),t}function _D(){return se.lFrame.bindingIndex}function H1(n){return se.lFrame.bindingIndex=n}function Kd(){return se.lFrame.bindingIndex++}function Mv(n){let t=se.lFrame,e=t.bindingIndex;return t.bindingIndex=t.bindingIndex+n,e}function z1(){return se.lFrame.inI18n}function q1(n,t){let e=se.lFrame;e.bindingIndex=e.bindingRootIndex=n,Am(t)}function W1(){return se.lFrame.currentDirectiveIndex}function Am(n){se.lFrame.currentDirectiveIndex=n}function G1(n){let t=se.lFrame.currentDirectiveIndex;return t===-1?null:n[t]}function bD(){return se.lFrame.currentQueryIndex}function Tv(n){se.lFrame.currentQueryIndex=n}function K1(n){let t=n[Z];return t.type===2?t.declTNode:t.type===1?n[Fn]:null}function wD(n,t,e){if(e&ie.SkipSelf){let i=t,o=n;for(;i=i.parent,i===null&&!(e&ie.Host);)if(i=K1(o),i===null||(o=o[Ys],i.type&10))break;if(i===null)return!1;t=i,n=o}let r=se.lFrame=ED();return r.currentTNode=t,r.lView=n,!0}function Av(n){let t=ED(),e=n[Z];se.lFrame=t,t.currentTNode=e.firstChild,t.lView=n,t.tView=e,t.contextLView=n,t.bindingIndex=e.bindingStartIndex,t.inI18n=!1}function ED(){let n=se.lFrame,t=n===null?null:n.child;return t===null?CD(n):t}function CD(n){let t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=t),t}function DD(){let n=se.lFrame;return se.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var xD=DD;function Ov(){let n=DD();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Y1(n){return(se.lFrame.contextLView=k1(n,se.lFrame.contextLView))[Ht]}function Si(){return se.lFrame.selectedIndex}function Mo(n){se.lFrame.selectedIndex=n}function Rv(){let n=se.lFrame;return Wd(n.tView,n.selectedIndex)}function SD(){return se.lFrame.currentNamespace}var ID=!0;function Yd(){return ID}function Ii(n){ID=n}function Z1(n,t,e){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=t.type.prototype;if(r){let s=aD(t);(e.preOrderHooks??=[]).push(n,s),(e.preOrderCheckHooks??=[]).push(n,s)}i&&(e.preOrderHooks??=[]).push(0-n,i),o&&((e.preOrderHooks??=[]).push(n,o),(e.preOrderCheckHooks??=[]).push(n,o))}function kv(n,t){for(let e=t.directiveStart,r=t.directiveEnd;e<r;e++){let o=n.data[e].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=o;s&&(n.contentHooks??=[]).push(-e,s),a&&((n.contentHooks??=[]).push(e,a),(n.contentCheckHooks??=[]).push(e,a)),l&&(n.viewHooks??=[]).push(-e,l),c&&((n.viewHooks??=[]).push(e,c),(n.viewCheckHooks??=[]).push(e,c)),u!=null&&(n.destroyHooks??=[]).push(e,u)}}function ad(n,t,e){MD(n,t,3,e)}function ld(n,t,e,r){(n[Q]&3)===e&&MD(n,t,e,r)}function sm(n,t){let e=n[Q];(e&3)===t&&(e&=16383,e+=1,n[Q]=e)}function MD(n,t,e,r){let i=r!==void 0?n[ks]&65535:0,o=r??-1,s=t.length-1,a=0;for(let l=i;l<s;l++)if(typeof t[l+1]=="number"){if(a=t[l],r!=null&&a>=r)break}else t[l]<0&&(n[ks]+=65536),(a<o||o==-1)&&(J1(n,e,t,l),n[ks]=(n[ks]&4294901760)+l+2),l++}function HE(n,t){be(4,n,t);let e=ue(null);try{t.call(n)}finally{ue(e),be(5,n,t)}}function J1(n,t,e,r){let i=e[r]<0,o=e[r+1],s=i?-e[r]:e[r],a=n[s];i?n[Q]>>14<n[ks]>>16&&(n[Q]&3)===t&&(n[Q]+=16384,HE(a,o)):HE(a,o)}var js=-1,To=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(t,e,r){this.factory=t,this.canSeeViewProviders=e,this.injectImpl=r}};function X1(n){return(n.flags&8)!==0}function Q1(n){return(n.flags&16)!==0}function eN(n,t,e){let r=0;for(;r<e.length;){let i=e[r];if(typeof i=="number"){if(i!==0)break;r++;let o=e[r++],s=e[r++],a=e[r++];n.setAttribute(t,s,a,o)}else{let o=i,s=e[++r];tN(o)?n.setProperty(t,o,s):n.setAttribute(t,o,s),r++}}return r}function TD(n){return n===3||n===4||n===6}function tN(n){return n.charCodeAt(0)===64}function zs(n,t){if(!(t===null||t.length===0))if(n===null||n.length===0)n=t.slice();else{let e=-1;for(let r=0;r<t.length;r++){let i=t[r];typeof i=="number"?e=i:e===0||(e===-1||e===2?zE(n,e,i,null,t[++r]):zE(n,e,i,null,null))}}return n}function zE(n,t,e,r,i){let o=0,s=n.length;if(t===-1)s=-1;else for(;o<n.length;){let a=n[o++];if(typeof a=="number"){if(a===t){s=-1;break}else if(a>t){s=o-1;break}}}for(;o<n.length;){let a=n[o];if(typeof a=="number")break;if(a===e){i!==null&&(n[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(n.splice(s,0,t),o=s+1),n.splice(o++,0,e),i!==null&&n.splice(o++,0,i)}function AD(n){return n!==js}function Ed(n){return n&32767}function nN(n){return n>>16}function Cd(n,t){let e=nN(n),r=t;for(;e>0;)r=r[Ys],e--;return r}var Om=!0;function Dd(n){let t=Om;return Om=n,t}var rN=256,OD=rN-1,RD=5,iN=0,nr={};function oN(n,t,e){let r;typeof e=="string"?r=e.charCodeAt(0)||0:e.hasOwnProperty(Dl)&&(r=e[Dl]),r==null&&(r=e[Dl]=iN++);let i=r&OD,o=1<<i;t.data[n+(i>>RD)]|=o}function xd(n,t){let e=kD(n,t);if(e!==-1)return e;let r=t[Z];r.firstCreatePass&&(n.injectorIndex=t.length,am(r.data,n),am(t,null),am(r.blueprint,null));let i=Pv(n,t),o=n.injectorIndex;if(AD(i)){let s=Ed(i),a=Cd(i,t),l=a[Z].data;for(let c=0;c<8;c++)t[o+c]=a[s+c]|l[s+c]}return t[o+8]=i,o}function am(n,t){n.push(0,0,0,0,0,0,0,0,t)}function kD(n,t){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||t[n.injectorIndex+8]===null?-1:n.injectorIndex}function Pv(n,t){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let e=0,r=null,i=t;for(;i!==null;){if(r=jD(i),r===null)return js;if(e++,i=i[Ys],r.injectorIndex!==-1)return r.injectorIndex|e<<16}return js}function Rm(n,t,e){oN(n,t,e)}function sN(n,t){if(t==="class")return n.classes;if(t==="style")return n.styles;let e=n.attrs;if(e){let r=e.length,i=0;for(;i<r;){let o=e[i];if(TD(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof e[i]=="string";)i++;else{if(o===t)return e[i+1];i=i+2}}}return null}function PD(n,t,e){if(e&ie.Optional||n!==void 0)return n;vv(t,"NodeInjector")}function ND(n,t,e,r){if(e&ie.Optional&&r===void 0&&(r=null),(e&(ie.Self|ie.Host))===0){let i=n[ir],o=Bt(void 0);try{return i?i.get(t,r,e&ie.Optional):zC(t,r,e&ie.Optional)}finally{Bt(o)}}return PD(r,t,e)}function FD(n,t,e,r=ie.Default,i){if(n!==null){if(t[Q]&2048&&!(r&ie.Self)){let s=uN(n,t,e,r,nr);if(s!==nr)return s}let o=LD(n,t,e,r,nr);if(o!==nr)return o}return ND(t,e,r,i)}function LD(n,t,e,r,i){let o=lN(e);if(typeof o=="function"){if(!wD(t,n,r))return r&ie.Host?PD(i,e,r):ND(t,e,r,i);try{let s;if(s=o(r),s==null&&!(r&ie.Optional))vv(e);else return s}finally{xD()}}else if(typeof o=="number"){let s=null,a=kD(n,t),l=js,c=r&ie.Host?t[_n][Fn]:null;for((a===-1||r&ie.SkipSelf)&&(l=a===-1?Pv(n,t):t[a+8],l===js||!WE(r,!1)?a=-1:(s=t[Z],a=Ed(l),t=Cd(l,t)));a!==-1;){let u=t[Z];if(qE(o,a,u.data)){let d=aN(a,t,e,s,r,c);if(d!==nr)return d}l=t[a+8],l!==js&&WE(r,t[Z].data[a+8]===c)&&qE(o,a,t)?(s=u,a=Ed(l),t=Cd(l,t)):a=-1}}return i}function aN(n,t,e,r,i,o){let s=t[Z],a=s.data[n+8],l=r==null?ko(a)&&Om:r!=s&&(a.type&3)!==0,c=i&ie.Host&&o===a,u=cd(a,s,e,l,c);return u!==null?Ml(t,s,u,a,i):nr}function cd(n,t,e,r,i){let o=n.providerIndexes,s=t.data,a=o&1048575,l=n.directiveStart,c=n.directiveEnd,u=o>>20,d=r?a:a+u,f=i?a+u:c;for(let h=d;h<f;h++){let p=s[h];if(h<l&&e===p||h>=l&&p.type===e)return h}if(i){let h=s[l];if(h&&or(h)&&h.type===e)return l}return null}function Ml(n,t,e,r,i){let o=n[e],s=t.data;if(o instanceof To){let a=o;a.resolving&&$C(QP(s[e]));let l=Dd(a.canSeeViewProviders);a.resolving=!0;let c,u=a.injectImpl?Bt(a.injectImpl):null,d=wD(n,r,ie.Default);try{o=n[e]=a.factory(void 0,i,s,n,r),t.firstCreatePass&&e>=r.directiveStart&&Z1(e,s[e],t)}finally{u!==null&&Bt(u),Dd(l),a.resolving=!1,xD()}}return o}function lN(n){if(typeof n=="string")return n.charCodeAt(0)||0;let t=n.hasOwnProperty(Dl)?n[Dl]:void 0;return typeof t=="number"?t>=0?t&OD:cN:t}function qE(n,t,e){let r=1<<n;return!!(e[t+(n>>RD)]&r)}function WE(n,t){return!(n&ie.Self)&&!(n&ie.Host&&t)}var Co=class{_tNode;_lView;constructor(t,e){this._tNode=t,this._lView=e}get(t,e,r){return FD(this._tNode,this._lView,t,$d(r),e)}};function cN(){return new Co(St(),fe())}function ur(n){return Ol(()=>{let t=n.prototype.constructor,e=t[pd]||km(t),r=Object.prototype,i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){let o=i[pd]||km(i);if(o&&o!==e)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function km(n){return LC(n)?()=>{let t=km(Pt(n));return t&&t()}:Do(n)}function uN(n,t,e,r,i){let o=n,s=t;for(;o!==null&&s!==null&&s[Q]&2048&&!Il(s);){let a=LD(o,s,e,r|ie.Self,nr);if(a!==nr)return a;let l=o.parent;if(!l){let c=s[iD];if(c){let u=c.get(e,nr,r);if(u!==nr)return u}l=jD(s),s=s[Ys]}o=l}return i}function jD(n){let t=n[Z],e=t.type;return e===2?t.declTNode:e===1?n[Fn]:null}function Nv(n){return sN(St(),n)}function GE(n,t=null,e=null,r){let i=VD(n,t,e,r);return i.resolveInjectorInitializers(),i}function VD(n,t=null,e=null,r,i=new Set){let o=[e||vn,p1(n)];return r=r||(typeof n=="object"?void 0:Ut(n)),new xl(o,t||wv(),r||null,i)}var zt=class n{static THROW_IF_NOT_FOUND=Eo;static NULL=new yd;static create(t,e){if(Array.isArray(t))return GE({name:""},e,t,"");{let r=t.name??"";return GE({name:r},t.parent,t.providers,r)}}static \u0275prov=L({token:n,providedIn:"any",factory:()=>H(KC)});static __NG_ELEMENT_ID__=-1};var dN=new P("");dN.__NG_ELEMENT_ID__=n=>{let t=St();if(t===null)throw new N(204,!1);if(t.type&2)return t.value;if(n&ie.Optional)return null;throw new N(204,!1)};var BD=!1,Zs=(()=>{class n{static __NG_ELEMENT_ID__=hN;static __NG_ENV_ID__=e=>e}return n})(),Pm=class extends Zs{_lView;constructor(t){super(),this._lView=t}onDestroy(t){let e=this._lView;return Po(e)?(t(),()=>{}):(pD(e,t),()=>P1(e,t))}};function hN(){return new Pm(fe())}var Ao=class{},Zd=new P("",{providedIn:"root",factory:()=>!1});var UD=new P(""),$D=new P(""),dr=(()=>{class n{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new et(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let e=this.taskId++;return this.pendingTasks.add(e),e}has(e){return this.pendingTasks.has(e)}remove(e){this.pendingTasks.delete(e),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=L({token:n,providedIn:"root",factory:()=>new n})}return n})(),fN=(()=>{class n{internalPendingTasks=I(dr);scheduler=I(Ao);add(){let e=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(e)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(e))}}run(e){return y(this,null,function*(){let r=this.add();try{return yield e()}finally{r()}})}static \u0275prov=L({token:n,providedIn:"root",factory:()=>new n})}return n})(),Nm=class extends Ke{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(t=!1){super(),this.__isAsync=t,nD()&&(this.destroyRef=I(Zs,{optional:!0})??void 0,this.pendingTasks=I(dr,{optional:!0})??void 0)}emit(t){let e=ue(null);try{super.next(t)}finally{ue(e)}}subscribe(t,e,r){let i=t,o=e||(()=>null),s=r;if(t&&typeof t=="object"){let l=t;i=l.next?.bind(l),o=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return t instanceof Qe&&t.add(a),a}wrapInTimeout(t){return e=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{t(e)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},Ze=Nm;function Sd(...n){}function HD(n){let t,e;function r(){n=Sd;try{e!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(e),t!==void 0&&clearTimeout(t)}catch{}}return t=setTimeout(()=>{n(),r()}),typeof requestAnimationFrame=="function"&&(e=requestAnimationFrame(()=>{n(),r()})),()=>r()}function KE(n){return queueMicrotask(()=>n()),()=>{n=Sd}}var Fv="isAngularZone",Id=Fv+"_ID",pN=0,Ue=class n{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new Ze(!1);onMicrotaskEmpty=new Ze(!1);onStable=new Ze(!1);onError=new Ze(!1);constructor(t){let{enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=BD}=t;if(typeof Zone>"u")throw new N(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,vN(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Fv)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new N(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new N(909,!1)}run(t,e,r){return this._inner.run(t,e,r)}runTask(t,e,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,t,gN,Sd,Sd);try{return o.runTask(s,e,r)}finally{o.cancelTask(s)}}runGuarded(t,e,r){return this._inner.runGuarded(t,e,r)}runOutsideAngular(t){return this._outer.run(t)}},gN={};function Lv(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function mN(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function t(){HD(()=>{n.callbackScheduled=!1,Fm(n),n.isCheckStableRunning=!0,Lv(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{t()}):n._outer.run(()=>{t()}),Fm(n)}function vN(n){let t=()=>{mN(n)},e=pN++;n._inner=n._inner.fork({name:"angular",properties:{[Fv]:!0,[Id]:e,[Id+e]:!0},onInvokeTask:(r,i,o,s,a,l)=>{if(yN(l))return r.invokeTask(o,s,a,l);try{return YE(n),r.invokeTask(o,s,a,l)}finally{(n.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&t(),ZE(n)}},onInvoke:(r,i,o,s,a,l,c)=>{try{return YE(n),r.invoke(o,s,a,l,c)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!_N(l)&&t(),ZE(n)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(n._hasPendingMicrotasks=s.microTask,Fm(n),Lv(n)):s.change=="macroTask"&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}function Fm(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function YE(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function ZE(n){n._nesting--,Lv(n)}var Lm=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new Ze;onMicrotaskEmpty=new Ze;onStable=new Ze;onError=new Ze;run(t,e,r){return t.apply(e,r)}runGuarded(t,e,r){return t.apply(e,r)}runOutsideAngular(t){return t()}runTask(t,e,r,i){return t.apply(e,r)}};function yN(n){return zD(n,"__ignore_ng_zone__")}function _N(n){return zD(n,"__scheduler_tick__")}function zD(n,t){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[t]===!0}var ar=class{_console=console;handleError(t){this._console.error("ERROR",t)}},bN=new P("",{providedIn:"root",factory:()=>{let n=I(Ue),t=I(ar);return e=>n.runOutsideAngular(()=>t.handleError(e))}});function JE(n,t){return NC(n,t)}function wN(n){return NC(PC,n)}var qD=(JE.required=wN,JE);function EN(){return Js(St(),fe())}function Js(n,t){return new Gt(jn(n,t))}var Gt=(()=>{class n{nativeElement;constructor(e){this.nativeElement=e}static __NG_ELEMENT_ID__=EN}return n})();function CN(n){return n instanceof Gt?n.nativeElement:n}function DN(n){return typeof n=="function"&&n[mn]!==void 0}function Xs(n,t){let e=xg(n,t?.equal),r=e[mn];return e.set=i=>ml(r,i),e.update=i=>Sg(r,i),e.asReadonly=xN.bind(e),e}function xN(){let n=this[mn];if(n.readonlyFn===void 0){let t=()=>this();t[mn]=n,n.readonlyFn=t}return n.readonlyFn}function WD(n){return DN(n)&&typeof n.set=="function"}function SN(){return this._results[Symbol.iterator]()}var jm=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new Ke}constructor(t=!1){this._emitDistinctChangesOnly=t}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){this.dirty=!1;let r=u1(t);(this._changesDetected=!c1(this._results,r,e))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(t){this._onDirty=t}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=SN},IN="ngSkipHydration",MN="ngskiphydration";function GD(n){let t=n.mergedAttrs;if(t===null)return!1;for(let e=0;e<t.length;e+=2){let r=t[e];if(typeof r=="number")return!1;if(typeof r=="string"&&r.toLowerCase()===MN)return!0}return!1}function KD(n){return n.hasAttribute(IN)}function Md(n){return(n.flags&128)===128}function TN(n){if(Md(n))return!0;let t=n.parent;for(;t;){if(Md(n)||GD(t))return!0;t=t.parent}return!1}var YD=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(YD||{}),ZD=new Map,AN=0;function ON(){return AN++}function RN(n){ZD.set(n[zd],n)}function Vm(n){ZD.delete(n[zd])}var XE="__ngContext__";function Qs(n,t){kn(t)?(n[XE]=t[zd],RN(t)):n[XE]=t}function JD(n){return QD(n[Sl])}function XD(n){return QD(n[Rn])}function QD(n){for(;n!==null&&!cr(n);)n=n[Rn];return n}var Bm;function ex(n){Bm=n}function Jd(){if(Bm!==void 0)return Bm;if(typeof document<"u")return document;throw new N(210,!1)}var Wr=new P("",{providedIn:"root",factory:()=>kN}),kN="ng",jv=new P(""),Mi=new P("",{providedIn:"platform",factory:()=>"unknown"});var Vv=new P("",{providedIn:"root",factory:()=>Jd().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});function PN(){let n=new ea;return n.store=NN(Jd(),I(Wr)),n}var ea=(()=>{class n{static \u0275prov=L({token:n,providedIn:"root",factory:PN});store={};onSerializeCallbacks={};get(e,r){return this.store[e]!==void 0?this.store[e]:r}set(e,r){this.store[e]=r}remove(e){delete this.store[e]}hasKey(e){return this.store.hasOwnProperty(e)}get isEmpty(){return Object.keys(this.store).length===0}onSerialize(e,r){this.onSerializeCallbacks[e]=r}toJson(){for(let e in this.onSerializeCallbacks)if(this.onSerializeCallbacks.hasOwnProperty(e))try{this.store[e]=this.onSerializeCallbacks[e]()}catch(r){console.warn("Exception in onSerialize callback: ",r)}return JSON.stringify(this.store).replace(/</g,"\\u003C")}}return n})();function NN(n,t){let e=n.getElementById(t+"-state");if(e?.textContent)try{return JSON.parse(e.textContent)}catch(r){console.warn("Exception while restoring TransferState for app "+t,r)}return{}}var tx="h",nx="b",FN="f",LN="n",jN="e",VN="t",Bv="c",rx="x",Td="r",BN="i",UN="n",ix="d";var $N="di",HN="s",zN="p";var nd=new P(""),ox=!1,sx=new P("",{providedIn:"root",factory:()=>ox});var ax=new P(""),qN=!1,WN=new P(""),QE=new P("",{providedIn:"root",factory:()=>new Map}),Uv=function(n){return n[n.CHANGE_DETECTION=0]="CHANGE_DETECTION",n[n.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",n}(Uv||{}),ta=new P(""),eC=new Set;function hr(n){eC.has(n)||(eC.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}var lx=(()=>{class n{view;node;constructor(e,r){this.view=e,this.node=r}static __NG_ELEMENT_ID__=GN}return n})();function GN(){return new lx(fe(),St())}var Ps=function(n){return n[n.EarlyRead=0]="EarlyRead",n[n.Write=1]="Write",n[n.MixedReadWrite=2]="MixedReadWrite",n[n.Read=3]="Read",n}(Ps||{}),cx=(()=>{class n{impl=null;execute(){this.impl?.execute()}static \u0275prov=L({token:n,providedIn:"root",factory:()=>new n})}return n})(),KN=[Ps.EarlyRead,Ps.Write,Ps.MixedReadWrite,Ps.Read],YN=(()=>{class n{ngZone=I(Ue);scheduler=I(Ao);errorHandler=I(ar,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){I(ta,{optional:!0})}execute(){let e=this.sequences.size>0;e&&be(16),this.executing=!0;for(let r of KN)for(let i of this.sequences)if(!(i.erroredOrDestroyed||!i.hooks[r]))try{i.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let o=i.hooks[r];return o(i.pipelinedValue)},i.snapshot))}catch(o){i.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),e&&be(17)}register(e){let{view:r}=e;r!==void 0?((r[Ls]??=[]).push(e),kl(r),r[Q]|=8192):this.executing?this.deferredRegistrations.add(e):this.addSequence(e)}addSequence(e){this.sequences.add(e),this.scheduler.notify(7)}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}maybeTrace(e,r){return r?r.run(Uv.AFTER_NEXT_RENDER,e):e()}static \u0275prov=L({token:n,providedIn:"root",factory:()=>new n})}return n})(),Um=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(t,e,r,i,o,s=null){this.impl=t,this.hooks=e,this.view=r,this.once=i,this.snapshot=s,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let t=this.view?.[Ls];t&&(this.view[Ls]=t.filter(e=>e!==this))}};function Xd(n,t){!t?.injector&&rD(Xd);let e=t?.injector??I(zt);return hr("NgAfterNextRender"),JN(n,e,t,!0)}function ZN(n,t){if(n instanceof Function){let e=[void 0,void 0,void 0,void 0];return e[t]=n,e}else return[n.earlyRead,n.write,n.mixedReadWrite,n.read]}function JN(n,t,e,r){let i=t.get(cx);i.impl??=t.get(YN);let o=t.get(ta,null,{optional:!0}),s=e?.phase??Ps.MixedReadWrite,a=e?.manualCleanup!==!0?t.get(Zs):null,l=t.get(lx,null,{optional:!0}),c=new Um(i.impl,ZN(n,s),l?.view,r,a,o?.snapshot(null));return i.impl.register(c),c}var an=function(n){return n[n.NOT_STARTED=0]="NOT_STARTED",n[n.IN_PROGRESS=1]="IN_PROGRESS",n[n.COMPLETE=2]="COMPLETE",n[n.FAILED=3]="FAILED",n}(an||{}),tC=0,XN=1,ct=function(n){return n[n.Placeholder=0]="Placeholder",n[n.Loading=1]="Loading",n[n.Complete=2]="Complete",n[n.Error=3]="Error",n}(ct||{});var QN=0,Qd=1;var eF=4,tF=5;var nF=7,Vs=8,rF=9,ux=function(n){return n[n.Manual=0]="Manual",n[n.Playthrough=1]="Playthrough",n}(ux||{});function ud(n,t){let e=oF(n),r=t[e];if(r!==null){for(let i of r)i();t[e]=null}}function iF(n){ud(1,n),ud(0,n),ud(2,n)}function oF(n){let t=eF;return n===1?t=tF:n===2&&(t=rF),t}function dx(n){return n+1}function Nl(n,t){let e=n[Z],r=dx(t.index);return n[r]}function eh(n,t){let e=dx(t.index);return n.data[e]}function sF(n,t,e){let r=t[Z],i=eh(r,e);switch(n){case ct.Complete:return i.primaryTmplIndex;case ct.Loading:return i.loadingTmplIndex;case ct.Error:return i.errorTmplIndex;case ct.Placeholder:return i.placeholderTmplIndex;default:return null}}function nC(n,t){return t===ct.Placeholder?n.placeholderBlockConfig?.[tC]??null:t===ct.Loading?n.loadingBlockConfig?.[tC]??null:null}function aF(n){return n.loadingBlockConfig?.[XN]??null}function rC(n,t){if(!n||n.length===0)return t;let e=new Set(n);for(let r of t)e.add(r);return n.length===e.size?n:Array.from(e)}function lF(n,t){let e=t.primaryTmplIndex+Je;return Wd(n,e)}var th="ngb";var cF=(n,t,e)=>{let r=n,i=r.__jsaction_fns??new Map,o=i.get(t)??[];o.push(e),i.set(t,o),r.__jsaction_fns=i},uF=(n,t)=>{let e=n,r=e.getAttribute(th)??"",i=t.get(r)??new Set;i.has(e)||i.add(e),t.set(r,i)};var dF=n=>{n.removeAttribute(Jg.JSACTION),n.removeAttribute(th),n.__jsaction_fns=void 0},hF=new P("",{providedIn:"root",factory:()=>({})});function hx(n,t){let e=t?.__jsaction_fns?.get(n.type);if(!(!e||!t?.isConnected))for(let r of e)r(n)}var $m=new Map;function fF(n,t){return $m.set(n,t),()=>$m.delete(n)}var iC=!1,fx=(n,t,e,r)=>{};function pF(n,t,e,r){fx(n,t,e,r)}function gF(){iC||(fx=(n,t,e,r)=>{let i=n[ir].get(Wr);$m.get(i)?.(t,e,r)},iC=!0)}var $v=new P("");var mF="__nghData__",px=mF,vF="__nghDeferData__",yF=vF,lm="ngh",_F="nghm",gx=()=>null;function bF(n,t,e=!1){let r=n.getAttribute(lm);if(r==null)return null;let[i,o]=r.split("|");if(r=e?o:i,!r)return null;let s=o?`|${o}`:"",a=e?i:s,l={};if(r!==""){let u=t.get(ea,null,{optional:!0});u!==null&&(l=u.get(px,[])[Number(r)])}let c={data:l,firstChild:n.firstChild??null};return e&&(c.firstChild=n,nh(c,0,n.nextSibling)),a?n.setAttribute(lm,a):n.removeAttribute(lm),c}function wF(){gx=bF}function mx(n,t,e=!1){return gx(n,t,e)}function EF(n){let t=n._lView;return t[Z].type===2?null:(Il(t)&&(t=t[Je]),t)}function CF(n){return n.textContent?.replace(/\s/gm,"")}function DF(n){let t=Jd(),e=t.createNodeIterator(n,NodeFilter.SHOW_COMMENT,{acceptNode(o){let s=CF(o);return s==="ngetn"||s==="ngtns"?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT}}),r,i=[];for(;r=e.nextNode();)i.push(r);for(let o of i)o.textContent==="ngetn"?o.replaceWith(t.createTextNode("")):o.remove()}function nh(n,t,e){n.segmentHeads??={},n.segmentHeads[t]=e}function Hm(n,t){return n.segmentHeads?.[t]??null}function xF(n){return n.get(WN,!1,{optional:!0})}function SF(n,t){let e=n.data,r=e[jN]?.[t]??null;return r===null&&e[Bv]?.[t]&&(r=Hv(n,t)),r}function vx(n,t){return n.data[Bv]?.[t]??null}function Hv(n,t){let e=vx(n,t)??[],r=0;for(let i of e)r+=i[Td]*(i[rx]??1);return r}function IF(n){if(typeof n.disconnectedNodes>"u"){let t=n.data[ix];n.disconnectedNodes=t?new Set(t):null}return n.disconnectedNodes}function Fl(n,t){if(typeof n.disconnectedNodes>"u"){let e=n.data[ix];n.disconnectedNodes=e?new Set(e):null}return!!IF(n)?.has(t)}function MF(n,t){let e=t.get($v),i=t.get(ea).get(yF,{}),o=!1,s=n,a=null,l=[];for(;!o&&s;){o=e.has(s);let c=e.hydrating.get(s);if(a===null&&c!=null){a=c.promise;break}l.unshift(s),s=i[s][zN]}return{parentBlockPromise:a,hydrationQueue:l}}function cm(n){return!!n&&n.nodeType===Node.COMMENT_NODE&&n.textContent?.trim()===_F}function oC(n){for(;n&&n.nodeType===Node.TEXT_NODE;)n=n.previousSibling;return n}function TF(n){for(let r of n.body.childNodes)if(cm(r))return;let t=oC(n.body.previousSibling);if(cm(t))return;let e=oC(n.head.lastChild);if(!cm(e))throw new N(-507,!1)}function yx(n,t){let e=n.contentQueries;if(e!==null){let r=ue(null);try{for(let i=0;i<e.length;i+=2){let o=e[i],s=e[i+1];if(s!==-1){let a=n.data[s];Tv(o),a.contentQueries(2,t[s],s)}}}finally{ue(r)}}}function zm(n,t,e){Tv(0);let r=ue(null);try{t(n,e)}finally{ue(r)}}function zv(n,t,e){if(Ev(t)){let r=ue(null);try{let i=t.directiveStart,o=t.directiveEnd;for(let s=i;s<o;s++){let a=n.data[s];if(a.contentQueries){let l=e[s];a.contentQueries(1,l,s)}}}finally{ue(r)}}}var lr=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(lr||{});var rd;function AF(){if(rd===void 0&&(rd=null,Ei.trustedTypes))try{rd=Ei.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return rd}function sC(n){return AF()?.createScriptURL(n)||n}var Ad=class{changingThisBreaksApplicationSecurity;constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${kC})`}};function Ll(n){return n instanceof Ad?n.changingThisBreaksApplicationSecurity:n}function qv(n,t){let e=OF(n);if(e!=null&&e!==t){if(e==="ResourceURL"&&t==="URL")return!0;throw new Error(`Required a safe ${t}, got a ${e} (see ${kC})`)}return e===t}function OF(n){return n instanceof Ad&&n.getTypeName()||null}var RF=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function _x(n){return n=String(n),n.match(RF)?n:"unsafe:"+n}var kF=/^>|^->|<!--|-->|--!>|<!-$/g,PF=/(<|>)/g,NF="\u200B$1\u200B";function FF(n){return n.replace(kF,t=>t.replace(PF,NF))}function bx(n,t){return n.createText(t)}function LF(n,t,e){n.setValue(t,e)}function wx(n,t){return n.createComment(FF(t))}function Wv(n,t,e){return n.createElement(t,e)}function Od(n,t,e,r,i){n.insertBefore(t,e,r,i)}function Ex(n,t,e){n.appendChild(t,e)}function aC(n,t,e,r,i){r!==null?Od(n,t,e,r,i):Ex(n,t,e)}function Gv(n,t,e){n.removeChild(null,t,e)}function Cx(n){n.textContent=""}function jF(n,t,e){n.setAttribute(t,"style",e)}function VF(n,t,e){e===""?n.removeAttribute(t,"class"):n.setAttribute(t,"class",e)}function Dx(n,t,e){let{mergedAttrs:r,classes:i,styles:o}=e;r!==null&&eN(n,t,r),i!==null&&VF(n,t,i),o!==null&&jF(n,t,o)}var rh=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(rh||{});function na(n){let t=Sx();return t?t.sanitize(rh.URL,n)||"":qv(n,"URL")?Ll(n):_x(qr(n))}function BF(n){let t=Sx();if(t)return sC(t.sanitize(rh.RESOURCE_URL,n)||"");if(qv(n,"ResourceURL"))return sC(Ll(n));throw new N(904,!1)}function UF(n,t){return t==="src"&&(n==="embed"||n==="frame"||n==="iframe"||n==="media"||n==="script")||t==="href"&&(n==="base"||n==="link")?BF:na}function xx(n,t,e){return UF(t,e)(n)}function Sx(){let n=fe();return n&&n[Gr].sanitizer}function $F(n){return n.ownerDocument.body}function Ix(n){return n instanceof Function?n():n}function HF(n,t,e){let r=n.length;for(;;){let i=n.indexOf(t,e);if(i===-1)return i;if(i===0||n.charCodeAt(i-1)<=32){let o=t.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}e=i+1}}var Mx="ng-template";function zF(n,t,e,r){let i=0;if(r){for(;i<t.length&&typeof t[i]=="string";i+=2)if(t[i]==="class"&&HF(t[i+1].toLowerCase(),e,0)!==-1)return!0}else if(Kv(n))return!1;if(i=t.indexOf(1,i),i>-1){let o;for(;++i<t.length&&typeof(o=t[i])=="string";)if(o.toLowerCase()===e)return!0}return!1}function Kv(n){return n.type===4&&n.value!==Mx}function qF(n,t,e){let r=n.type===4&&!e?Mx:n.value;return t===r}function WF(n,t,e){let r=4,i=n.attrs,o=i!==null?YF(i):0,s=!1;for(let a=0;a<t.length;a++){let l=t[a];if(typeof l=="number"){if(!s&&!On(r)&&!On(l))return!1;if(s&&On(l))continue;s=!1,r=l|r&1;continue}if(!s)if(r&4){if(r=2|r&1,l!==""&&!qF(n,l,e)||l===""&&t.length===1){if(On(r))return!1;s=!0}}else if(r&8){if(i===null||!zF(n,i,l,e)){if(On(r))return!1;s=!0}}else{let c=t[++a],u=GF(l,i,Kv(n),e);if(u===-1){if(On(r))return!1;s=!0;continue}if(c!==""){let d;if(u>o?d="":d=i[u+1].toLowerCase(),r&2&&c!==d){if(On(r))return!1;s=!0}}}}return On(r)||s}function On(n){return(n&1)===0}function GF(n,t,e,r){if(t===null)return-1;let i=0;if(r||!e){let o=!1;for(;i<t.length;){let s=t[i];if(s===n)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=t[++i];for(;typeof a=="string";)a=t[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return ZF(t,n)}function KF(n,t,e=!1){for(let r=0;r<t.length;r++)if(WF(n,t[r],e))return!0;return!1}function YF(n){for(let t=0;t<n.length;t++){let e=n[t];if(TD(e))return t}return n.length}function ZF(n,t){let e=n.indexOf(4);if(e>-1)for(e++;e<n.length;){let r=n[e];if(typeof r=="number")return-1;if(r===t)return e;e++}return-1}function lC(n,t){return n?":not("+t.trim()+")":t}function JF(n){let t=n[0],e=1,r=2,i="",o=!1;for(;e<n.length;){let s=n[e];if(typeof s=="string")if(r&2){let a=n[++e];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!On(s)&&(t+=lC(o,i),i=""),r=s,o=o||!On(r);e++}return i!==""&&(t+=lC(o,i)),t}function XF(n){return n.map(JF).join(",")}function QF(n){let t=[],e=[],r=1,i=2;for(;r<n.length;){let o=n[r];if(typeof o=="string")i===2?o!==""&&t.push(o,n[++r]):i===8&&e.push(o);else{if(!On(i))break;i=o}r++}return e.length&&t.push(1,...e),t}var Vn={};function Yv(n,t,e,r,i,o,s,a,l,c,u){let d=Je+r,f=d+i,h=eL(d,f),p=typeof c=="function"?c():c;return h[Z]={type:n,blueprint:h,template:e,queries:null,viewQuery:a,declTNode:t,data:h.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:f,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:l,consts:p,incompleteFirstPass:!1,ssrId:u}}function eL(n,t){let e=[];for(let r=0;r<t;r++)e.push(r<n?null:Vn);return e}function tL(n){let t=n.tView;return t===null||t.incompleteFirstPass?n.tView=Yv(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):t}function Zv(n,t,e,r,i,o,s,a,l,c,u){let d=t.blueprint.slice();return d[ln]=i,d[Q]=r|4|128|8|64|1024,(c!==null||n&&n[Q]&2048)&&(d[Q]|=2048),hD(d),d[ut]=d[Ys]=n,d[Ht]=e,d[Gr]=s||n&&n[Gr],d[Ne]=a||n&&n[Ne],d[ir]=l||n&&n[ir]||null,d[Fn]=o,d[zd]=ON(),d[rr]=u,d[iD]=c,d[_n]=t.type==2?n[_n]:d,d}function nL(n,t,e){let r=jn(t,n),i=tL(e),o=n[Gr].rendererFactory,s=Jv(n,Zv(n,i,null,Tx(e),r,t,null,o.createRenderer(r,e),null,null,null));return n[t.index]=s}function Tx(n){let t=16;return n.signals?t=4096:n.onPush&&(t=64),t}function Ax(n,t,e,r){if(e===0)return-1;let i=t.length;for(let o=0;o<e;o++)t.push(r),n.blueprint.push(r),n.data.push(null);return i}function Jv(n,t){return n[Sl]?n[BE][Rn]=t:n[Sl]=t,n[BE]=t,t}function x(n=1){Ox(pt(),fe(),Si()+n,!1)}function Ox(n,t,e,r){if(!r)if((t[Q]&3)===3){let o=n.preOrderCheckHooks;o!==null&&ad(t,o,e)}else{let o=n.preOrderHooks;o!==null&&ld(t,o,0,e)}Mo(e)}var ih=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(ih||{});function qm(n,t,e,r){let i=ue(null);try{let[o,s,a]=n.inputs[e],l=null;(s&ih.SignalBased)!==0&&(l=t[o][mn]),l!==null&&l.transformFn!==void 0?r=l.transformFn(r):a!==null&&(r=a.call(t,r)),n.setInput!==null?n.setInput(t,l,r,e,o):sD(t,l,o,r)}finally{ue(i)}}function Rx(n,t,e,r,i){let o=Si(),s=r&2;try{Mo(-1),s&&t.length>Je&&Ox(n,t,Je,!1),be(s?2:0,i),e(r,i)}finally{Mo(o),be(s?3:1,i)}}function oh(n,t,e){cL(n,t,e),(e.flags&64)===64&&uL(n,t,e)}function Xv(n,t,e=jn){let r=t.localNames;if(r!==null){let i=t.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?e(t,n):n[s];n[i++]=a}}}function rL(n,t,e,r){let o=r.get(sx,ox)||e===lr.ShadowDom,s=n.selectRootElement(t,o);return iL(s),s}function iL(n){kx(n)}var kx=()=>null;function oL(n){KD(n)?Cx(n):DF(n)}function sL(){kx=oL}function aL(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function Px(n,t,e,r,i,o,s,a){if(!a&&ty(t,n,e,r,i)){ko(t)&&lL(e,t.index);return}if(t.type&3){let l=jn(t,e);r=aL(r),i=s!=null?s(i,t.value||"",r):i,o.setProperty(l,r,i)}else t.type&12}function lL(n,t){let e=sr(t,n);e[Q]&16||(e[Q]|=64)}function cL(n,t,e){let r=e.directiveStart,i=e.directiveEnd;ko(e)&&nL(t,e,n.data[r+e.componentOffset]),n.firstCreatePass||xd(e,t);let o=e.initialInputs;for(let s=r;s<i;s++){let a=n.data[s],l=Ml(t,n,s,e);if(Qs(l,t),o!==null&&pL(t,s-r,l,a,e,o),or(a)){let c=sr(e.index,t);c[Ht]=Ml(t,n,s,e)}}}function uL(n,t,e){let r=e.directiveStart,i=e.directiveEnd,o=e.index,s=W1();try{Mo(o);for(let a=r;a<i;a++){let l=n.data[a],c=t[a];Am(a),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&dL(l,c)}}finally{Mo(-1),Am(s)}}function dL(n,t){n.hostBindings!==null&&n.hostBindings(1,t)}function Qv(n,t){let e=n.directiveRegistry,r=null;if(e)for(let i=0;i<e.length;i++){let o=e[i];KF(t,o.selectors,!1)&&(r??=[],or(o)?r.unshift(o):r.push(o))}return r}function hL(n,t,e,r,i,o){let s=jn(n,t);fL(t[Ne],s,o,n.value,e,r,i)}function fL(n,t,e,r,i,o,s){if(o==null)n.removeAttribute(t,i,e);else{let a=s==null?qr(o):s(o,r||"",i);n.setAttribute(t,i,a,e)}}function pL(n,t,e,r,i,o){let s=o[t];if(s!==null)for(let a=0;a<s.length;a+=2){let l=s[a],c=s[a+1];qm(r,e,l,c)}}function ey(n,t){let e=n[ir],r=e?e.get(ar,null):null;r&&r.handleError(t)}function ty(n,t,e,r,i){let o=n.inputs?.[r],s=n.hostDirectiveInputs?.[r],a=!1;if(s)for(let l=0;l<s.length;l+=2){let c=s[l],u=s[l+1],d=t.data[c];qm(d,e[c],u,i),a=!0}if(o)for(let l of o){let c=e[l],u=t.data[l];qm(u,c,r,i),a=!0}return a}function gL(n,t){let e=sr(t,n),r=e[Z];mL(r,e);let i=e[ln];i!==null&&e[rr]===null&&(e[rr]=mx(i,e[ir])),be(18),ny(r,e,e[Ht]),be(19,e[Ht])}function mL(n,t){for(let e=t.length;e<n.blueprint.length;e++)t.push(n.blueprint[e])}function ny(n,t,e){Av(t);try{let r=n.viewQuery;r!==null&&zm(1,r,e);let i=n.template;i!==null&&Rx(n,t,i,1,e),n.firstCreatePass&&(n.firstCreatePass=!1),t[Kr]?.finishViewCreation(n),n.staticContentQueries&&yx(n,t),n.staticViewQueries&&zm(2,n.viewQuery,e);let o=n.components;o!==null&&vL(t,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{t[Q]&=-5,Ov()}}function vL(n,t){for(let e=0;e<t.length;e++)gL(n,t[e])}function Nx(n,t,e,r){let i=ue(null);try{let o=t.tView,a=n[Q]&4096?4096:16,l=Zv(n,o,e,a,null,t,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),c=n[t.index];l[So]=c;let u=n[Kr];return u!==null&&(l[Kr]=u.createEmbeddedView(o)),ny(o,l,e),l}finally{ue(i)}}function Wm(n,t){return!t||t.firstChild===null||Md(n)}var yL;function ry(n,t){return yL(n,t)}var Jr=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(Jr||{});function ra(n){return(n.flags&32)===32}function Ns(n,t,e,r,i){if(r!=null){let o,s=!1;cr(r)?o=r:kn(r)&&(s=!0,r=r[ln]);let a=Pn(r);n===0&&e!==null?i==null?Ex(t,e,a):Od(t,e,a,i||null,!0):n===1&&e!==null?Od(t,e,a,i||null,!0):n===2?Gv(t,a,s):n===3&&t.destroyNode(a),o!=null&&AL(t,n,o,e,i)}}function _L(n,t){Fx(n,t),t[ln]=null,t[Fn]=null}function bL(n,t,e,r,i,o){r[ln]=i,r[Fn]=t,ah(n,r,e,1,i,o)}function Fx(n,t){t[Gr].changeDetectionScheduler?.notify(9),ah(n,t,t[Ne],2,null,null)}function wL(n){let t=n[Sl];if(!t)return um(n[Z],n);for(;t;){let e=null;if(kn(t))e=t[Sl];else{let r=t[$t];r&&(e=r)}if(!e){for(;t&&!t[Rn]&&t!==n;)kn(t)&&um(t[Z],t),t=t[ut];t===null&&(t=n),kn(t)&&um(t[Z],t),e=t&&t[Rn]}t=e}}function iy(n,t){let e=n[$s],r=e.indexOf(t);e.splice(r,1)}function oy(n,t){if(Po(t))return;let e=t[Ne];e.destroyNode&&ah(n,t,e,3,null,null),wL(t)}function um(n,t){if(Po(t))return;let e=ue(null);try{t[Q]&=-129,t[Q]|=256,t[yn]&&Eg(t[yn]),CL(n,t),EL(n,t),t[Z].type===1&&t[Ne].destroy();let r=t[So];if(r!==null&&cr(t[ut])){r!==t[ut]&&iy(r,t);let i=t[Kr];i!==null&&i.detachView(n)}Vm(t)}finally{ue(e)}}function EL(n,t){let e=n.cleanup,r=t[_d];if(e!==null)for(let s=0;s<e.length-1;s+=2)if(typeof e[s]=="string"){let a=e[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[e[s+1]];e[s].call(a)}r!==null&&(t[_d]=null);let i=t[Ci];if(i!==null){t[Ci]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=t[bd];if(o!==null){t[bd]=null;for(let s of o)s.destroy()}}function CL(n,t){let e;if(n!=null&&(e=n.destroyHooks)!=null)for(let r=0;r<e.length;r+=2){let i=t[e[r]];if(!(i instanceof To)){let o=e[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],l=o[s+1];be(4,a,l);try{l.call(a)}finally{be(5,a,l)}}else{be(4,i,o);try{o.call(i)}finally{be(5,i,o)}}}}}function DL(n,t,e){return xL(n,t.parent,e)}function xL(n,t,e){let r=t;for(;r!==null&&r.type&168;)t=r,r=t.parent;if(r===null)return e[ln];if(ko(r)){let{encapsulation:i}=n.data[r.directiveStart+r.componentOffset];if(i===lr.None||i===lr.Emulated)return null}return jn(r,e)}function SL(n,t,e){return ML(n,t,e)}function IL(n,t,e){return n.type&40?jn(n,e):null}var ML=IL,cC;function sh(n,t,e,r){let i=DL(n,r,t),o=t[Ne],s=r.parent||t[Fn],a=SL(s,r,t);if(i!=null)if(Array.isArray(e))for(let l=0;l<e.length;l++)aC(o,i,e[l],a,!1);else aC(o,i,e,a,!1);cC!==void 0&&cC(o,r,t,e,i)}function Cl(n,t){if(t!==null){let e=t.type;if(e&3)return jn(t,n);if(e&4)return Gm(-1,n[t.index]);if(e&8){let r=t.child;if(r!==null)return Cl(n,r);{let i=n[t.index];return cr(i)?Gm(-1,i):Pn(i)}}else{if(e&128)return Cl(n,t.next);if(e&32)return ry(t,n)()||Pn(n[t.index]);{let r=Lx(n,t);if(r!==null){if(Array.isArray(r))return r[0];let i=Io(n[_n]);return Cl(i,r)}else return Cl(n,t.next)}}}return null}function Lx(n,t){if(t!==null){let r=n[_n][Fn],i=t.projection;return r.projection[i]}return null}function Gm(n,t){let e=$t+n+1;if(e<t.length){let r=t[e],i=r[Z].firstChild;if(i!==null)return Cl(r,i)}return t[Zr]}function sy(n,t,e,r,i,o,s){for(;e!=null;){if(e.type===128){e=e.next;continue}let a=r[e.index],l=e.type;if(s&&t===0&&(a&&Qs(Pn(a),r),e.flags|=2),!ra(e))if(l&8)sy(n,t,e.child,r,i,o,!1),Ns(t,n,i,a,o);else if(l&32){let c=ry(e,r),u;for(;u=c();)Ns(t,n,i,u,o);Ns(t,n,i,a,o)}else l&16?TL(n,t,r,e,i,o):Ns(t,n,i,a,o);e=s?e.projectionNext:e.next}}function ah(n,t,e,r,i,o){sy(e,r,n.firstChild,t,i,o,!1)}function TL(n,t,e,r,i,o){let s=e[_n],l=s[Fn].projection[r.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++){let u=l[c];Ns(t,n,i,u,o)}else{let c=l,u=s[ut];Md(r)&&(c.flags|=128),sy(n,t,c,u,i,o,!0)}}function AL(n,t,e,r,i){let o=e[Zr],s=Pn(e);o!==s&&Ns(t,n,r,o,i);for(let a=$t;a<e.length;a++){let l=e[a];ah(l[Z],l,n,t,r,o)}}function OL(n,t,e,r,i){if(t)i?n.addClass(e,r):n.removeClass(e,r);else{let o=r.indexOf("-")===-1?void 0:Jr.DashCase;i==null?n.removeStyle(e,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Jr.Important),n.setStyle(e,r,i,o))}}function Rd(n,t,e,r,i=!1){for(;e!==null;){if(e.type===128){e=i?e.projectionNext:e.next;continue}let o=t[e.index];o!==null&&r.push(Pn(o)),cr(o)&&RL(o,r);let s=e.type;if(s&8)Rd(n,t,e.child,r);else if(s&32){let a=ry(e,t),l;for(;l=a();)r.push(l)}else if(s&16){let a=Lx(t,e);if(Array.isArray(a))r.push(...a);else{let l=Io(t[_n]);Rd(l[Z],l,a,r,!0)}}e=i?e.projectionNext:e.next}return r}function RL(n,t){for(let e=$t;e<n.length;e++){let r=n[e],i=r[Z].firstChild;i!==null&&Rd(r[Z],r,i,t)}n[Zr]!==n[ln]&&t.push(n[Zr])}function jx(n){if(n[Ls]!==null){for(let t of n[Ls])t.impl.addSequence(t);n[Ls].length=0}}var Vx=[];function kL(n){return n[yn]??PL(n)}function PL(n){let t=Vx.pop()??Object.create(FL);return t.lView=n,t}function NL(n){n.lView[yn]!==n&&(n.lView=null,Vx.push(n))}var FL=te(O({},pl),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{kl(n.lView)},consumerOnSignalRead(){this.lView[yn]=this}});function LL(n){let t=n[yn]??Object.create(jL);return t.lView=n,t}var jL=te(O({},pl),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{let t=Io(n.lView);for(;t&&!Bx(t[Z]);)t=Io(t);t&&fD(t)},consumerOnSignalRead(){this.lView[yn]=this}});function Bx(n){return n.type!==2}function Ux(n){if(n[bd]===null)return;let t=!0;for(;t;){let e=!1;for(let r of n[bd])r.dirty&&(e=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));t=e&&!!(n[Q]&8192)}}var VL=100;function $x(n,t=!0,e=0){let i=n[Gr].rendererFactory,o=!1;o||i.begin?.();try{BL(n,e)}catch(s){throw t&&ey(n,s),s}finally{o||i.end?.()}}function BL(n,t){let e=vD();try{$E(!0),Km(n,t);let r=0;for(;Gd(n);){if(r===VL)throw new N(103,!1);r++,Km(n,1)}}finally{$E(e)}}function UL(n,t,e,r){if(Po(t))return;let i=t[Q],o=!1,s=!1;Av(t);let a=!0,l=null,c=null;o||(Bx(n)?(c=kL(t),l=vu(c)):mg()===null?(a=!1,c=LL(t),l=vu(c)):t[yn]&&(Eg(t[yn]),t[yn]=null));try{hD(t),H1(n.bindingStartIndex),e!==null&&Rx(n,t,e,2,r);let u=(i&3)===3;if(!o)if(u){let h=n.preOrderCheckHooks;h!==null&&ad(t,h,null)}else{let h=n.preOrderHooks;h!==null&&ld(t,h,0,null),sm(t,0)}if(s||$L(t),Ux(t),Hx(t,0),n.contentQueries!==null&&yx(n,t),!o)if(u){let h=n.contentCheckHooks;h!==null&&ad(t,h)}else{let h=n.contentHooks;h!==null&&ld(t,h,1),sm(t,1)}zL(n,t);let d=n.components;d!==null&&qx(t,d,0);let f=n.viewQuery;if(f!==null&&zm(2,f,r),!o)if(u){let h=n.viewCheckHooks;h!==null&&ad(t,h)}else{let h=n.viewHooks;h!==null&&ld(t,h,2),sm(t,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),t[om]){for(let h of t[om])h();t[om]=null}o||(jx(t),t[Q]&=-73)}catch(u){throw o||kl(t),u}finally{c!==null&&(bg(c,l),a&&NL(c)),Ov()}}function Hx(n,t){for(let e=JD(n);e!==null;e=XD(e))for(let r=$t;r<e.length;r++){let i=e[r];zx(i,t)}}function $L(n){for(let t=JD(n);t!==null;t=XD(t)){if(!(t[Q]&2))continue;let e=t[$s];for(let r=0;r<e.length;r++){let i=e[r];fD(i)}}}function HL(n,t,e){be(18);let r=sr(t,n);zx(r,e),be(19,r[Ht])}function zx(n,t){Cv(n)&&Km(n,t)}function Km(n,t){let r=n[Z],i=n[Q],o=n[yn],s=!!(t===0&&i&16);if(s||=!!(i&64&&t===0),s||=!!(i&1024),s||=!!(o?.dirty&&wg(o)),s||=!1,o&&(o.dirty=!1),n[Q]&=-9217,s)UL(r,n,r.template,n[Ht]);else if(i&8192){Ux(n),Hx(n,1);let a=r.components;a!==null&&qx(n,a,1),jx(n)}}function qx(n,t,e){for(let r=0;r<t.length;r++)HL(n,t[r],e)}function zL(n,t){let e=n.hostBindingOpCodes;if(e!==null)try{for(let r=0;r<e.length;r++){let i=e[r];if(i<0)Mo(~i);else{let o=i,s=e[++r],a=e[++r];q1(s,o);let l=t[o];be(24,l),a(2,l),be(25,l)}}}finally{Mo(-1)}}function lh(n,t){let e=vD()?64:1088;for(n[Gr].changeDetectionScheduler?.notify(t);n;){n[Q]|=e;let r=Io(n);if(Il(n)&&!r)return n;n=r}return null}function Wx(n,t,e,r){return[n,!0,0,t,null,r,null,e,null,null]}function Gx(n,t,e,r=!0){let i=t[Z];if(WL(i,t,n,e),r){let s=Gm(e,n),a=t[Ne],l=a.parentNode(n[Zr]);l!==null&&bL(i,n[Fn],a,t,l,s)}let o=t[rr];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function qL(n,t){let e=kd(n,t);return e!==void 0&&oy(e[Z],e),e}function kd(n,t){if(n.length<=$t)return;let e=$t+t,r=n[e];if(r){let i=r[So];i!==null&&i!==n&&iy(i,r),t>0&&(n[e-1][Rn]=r[Rn]);let o=vd(n,$t+t);_L(r[Z],r);let s=o[Kr];s!==null&&s.detachView(o[Z]),r[ut]=null,r[Rn]=null,r[Q]&=-129}return r}function WL(n,t,e,r){let i=$t+r,o=e.length;r>0&&(e[i-1][Rn]=t),r<o-$t?(t[Rn]=e[i],GC(e,$t+r,t)):(e.push(t),t[Rn]=null),t[ut]=e;let s=t[So];s!==null&&e!==s&&Kx(s,t);let a=t[Kr];a!==null&&a.insertView(n),Mm(t),t[Q]|=128}function Kx(n,t){let e=n[$s],r=t[ut];if(kn(r))n[Q]|=2;else{let i=r[ut][_n];t[_n]!==i&&(n[Q]|=2)}e===null?n[$s]=[t]:e.push(t)}var Tl=class{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){let t=this._lView,e=t[Z];return Rd(e,t,e.firstChild,[])}constructor(t,e,r=!0){this._lView=t,this._cdRefInjectingView=e,this.notifyErrorHandler=r}get context(){return this._lView[Ht]}set context(t){this._lView[Ht]=t}get destroyed(){return Po(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let t=this._lView[ut];if(cr(t)){let e=t[wd],r=e?e.indexOf(this):-1;r>-1&&(kd(t,r),vd(e,r))}this._attachedToViewContainer=!1}oy(this._lView[Z],this._lView)}onDestroy(t){pD(this._lView,t)}markForCheck(){lh(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[Q]&=-129}reattach(){Mm(this._lView),this._lView[Q]|=128}detectChanges(){this._lView[Q]|=1024,$x(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new N(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let t=Il(this._lView),e=this._lView[So];e!==null&&!t&&iy(e,this._lView),Fx(this._lView[Z],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new N(902,!1);this._appRef=t;let e=Il(this._lView),r=this._lView[So];r!==null&&!e&&Kx(r,this._lView),Mm(this._lView)}};var Oo=(()=>{class n{static __NG_ELEMENT_ID__=YL}return n})(),GL=Oo,KL=class extends GL{_declarationLView;_declarationTContainer;elementRef;constructor(t,e,r){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,e){return this.createEmbeddedViewImpl(t,e)}createEmbeddedViewImpl(t,e,r){let i=Nx(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:e,dehydratedView:r});return new Tl(i)}};function YL(){return ay(St(),fe())}function ay(n,t){return n.type&4?new KL(t,n,Js(n,t)):null}function ch(n,t,e,r,i){let o=n.data[t];if(o===null)o=ZL(n,t,e,r,i),z1()&&(o.flags|=32);else if(o.type&64){o.type=e,o.value=r,o.attrs=i;let s=$1();o.injectorIndex=s===null?-1:s.injectorIndex}return No(o,!0),o}function ZL(n,t,e,r,i){let o=gD(),s=Iv(),a=s?o:o&&o.parent,l=n.data[t]=XL(n,a,e,t,r,i);return JL(n,l,o,s),l}function JL(n,t,e,r){n.firstChild===null&&(n.firstChild=t),e!==null&&(r?e.child==null&&t.parent!==null&&(e.child=t):e.next===null&&(e.next=t,t.prev=e))}function XL(n,t,e,r,i,o){let s=t?t.injectorIndex:-1,a=0;return Pl()&&(a|=128),{type:e,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var QL=new RegExp(`^(\\d+)*(${nx}|${tx})*(.*)`);function ej(n){let t=n.match(QL),[e,r,i,o]=t,s=r?parseInt(r,10):i,a=[];for(let[l,c,u]of o.matchAll(/(f|n)(\d*)/g)){let d=parseInt(u,10)||1;a.push(c,d)}return[s,...a]}function tj(n){return!n.prev&&n.parent?.type===8}function dm(n){return n.index-Je}function nj(n,t){let e=n.i18nNodes;if(e)return e.get(t)}function uh(n,t,e,r){let i=dm(r),o=nj(n,i);if(o===void 0){let s=n.data[UN];if(s?.[i])o=ij(s[i],e);else if(t.firstChild===r)o=n.firstChild;else{let a=r.prev===null,l=r.prev??r.parent;if(tj(r)){let c=dm(r.parent);o=Hm(n,c)}else{let c=jn(l,e);if(a)o=c.firstChild;else{let u=dm(l),d=Hm(n,u);if(l.type===2&&d){let h=Hv(n,u)+1;o=dh(h,d)}else o=c.nextSibling}}}}return o}function dh(n,t){let e=t;for(let r=0;r<n;r++)e=e.nextSibling;return e}function rj(n,t){let e=n;for(let r=0;r<t.length;r+=2){let i=t[r],o=t[r+1];for(let s=0;s<o;s++)switch(i){case FN:e=e.firstChild;break;case LN:e=e.nextSibling;break}}return e}function ij(n,t){let[e,...r]=ej(n),i;if(e===tx)i=t[_n][ln];else if(e===nx)i=$F(t[_n][ln]);else{let o=Number(e);i=Pn(t[o+Je])}return rj(i,r)}var oj=!1;function sj(n){oj=n}function aj(n){let t=n[rr];if(t){let{i18nNodes:e,dehydratedIcuData:r}=t;if(e&&r){let i=n[Ne];for(let o of r.values())lj(i,e,o)}t.i18nNodes=void 0,t.dehydratedIcuData=void 0}}function lj(n,t,e){for(let r of e.node.cases[e.case]){let i=t.get(r.index-Je);i&&Gv(n,i,!1)}}function Yx(n){let t=n[Yr]??[],r=n[ut][Ne],i=[];for(let o of t)o.data[$N]!==void 0?i.push(o):Zx(o,r);n[Yr]=i}function cj(n){let{lContainer:t}=n,e=t[Yr];if(e===null)return;let i=t[ut][Ne];for(let o of e)Zx(o,i)}function Zx(n,t){let e=0,r=n.firstChild;if(r){let i=n.data[Td];for(;e<i;){let o=r.nextSibling;Gv(t,r,!1),r=o,e++}}}function hh(n){Yx(n);let t=n[ln];kn(t)&&Pd(t);for(let e=$t;e<n.length;e++)Pd(n[e])}function Pd(n){aj(n);let t=n[Z];for(let e=Je;e<t.bindingStartIndex;e++)if(cr(n[e])){let r=n[e];hh(r)}else kn(n[e])&&Pd(n[e])}function Jx(n){let t=n._views;for(let e of t){let r=EF(e);r!==null&&r[ln]!==null&&(kn(r)?Pd(r):hh(r))}}function uj(n,t,e,r){n!==null&&(e.cleanup(t),hh(n.lContainer),Jx(r))}function dj(n,t){let e=[];for(let r of t)for(let i=0;i<(r[rx]??1);i++){let o={data:r,firstChild:null};r[Td]>0&&(o.firstChild=n,n=dh(r[Td],n)),e.push(o)}return[n,e]}var Xx=()=>null;function hj(n,t){let e=n[Yr];return!t||e===null||e.length===0?null:e[0].data[BN]===t?e.shift():(Yx(n),null)}function fj(){Xx=hj}function uC(n,t){return Xx(n,t)}var pj=class{},Qx=class{},Ym=class{resolveComponentFactory(t){throw Error(`No component factory found for ${Ut(t)}.`)}},fh=class{static NULL=new Ym},qs=class{},fr=(()=>{class n{destroyNode=null;static __NG_ELEMENT_ID__=()=>gj()}return n})();function gj(){let n=fe(),t=St(),e=sr(t.index,n);return(kn(e)?e:n)[Ne]}var mj=(()=>{class n{static \u0275prov=L({token:n,providedIn:"root",factory:()=>null})}return n})();var hm={},Bs=class{injector;parentInjector;constructor(t,e){this.injector=t,this.parentInjector=e}get(t,e,r){r=$d(r);let i=this.injector.get(t,hm,r);return i!==hm||e===hm?i:this.parentInjector.get(t,e,r)}};function Zm(n,t,e){let r=e?n.styles:null,i=e?n.classes:null,o=0;if(t!==null)for(let s=0;s<t.length;s++){let a=t[s];if(typeof a=="number")o=a;else if(o==1)i=kE(i,a);else if(o==2){let l=a,c=t[++s];r=kE(r,l+": "+c+";")}}e?n.styles=r:n.stylesWithoutHost=r,e?n.classes=i:n.classesWithoutHost=i}function j(n,t=ie.Default){let e=fe();if(e===null)return H(n,t);let r=St();return FD(r,e,Pt(n),t)}function eS(){let n="invalid";throw new Error(n)}function ly(n,t,e,r,i){let o=r===null?null:{"":-1},s=i(n,e);if(s!==null){let a,l=null,c=null,u=yj(s);u===null?a=s:[a,l,c]=u,wj(n,t,e,a,o,l,c)}o!==null&&r!==null&&vj(e,r,o)}function vj(n,t,e){let r=n.localNames=[];for(let i=0;i<t.length;i+=2){let o=e[t[i+1]];if(o==null)throw new N(-301,!1);r.push(t[i],o)}}function yj(n){let t=null,e=!1;for(let s=0;s<n.length;s++){let a=n[s];if(s===0&&or(a)&&(t=a),a.findHostDirectiveDefs!==null){e=!0;break}}if(!e)return null;let r=null,i=null,o=null;for(let s of n)s.findHostDirectiveDefs!==null&&(r??=[],i??=new Map,o??=new Map,_j(s,r,o,i)),s===t&&(r??=[],r.push(s));return r!==null?(r.push(...t===null?n:n.slice(1)),[r,i,o]):null}function _j(n,t,e,r){let i=t.length;n.findHostDirectiveDefs(n,t,r),e.set(n,[i,t.length-1])}function bj(n,t,e){t.componentOffset=e,(n.components??=[]).push(t.index)}function wj(n,t,e,r,i,o,s){let a=r.length,l=!1;for(let f=0;f<a;f++){let h=r[f];!l&&or(h)&&(l=!0,bj(n,e,f)),Rm(xd(e,t),n,h.type)}Ij(e,n.data.length,a);for(let f=0;f<a;f++){let h=r[f];h.providersResolver&&h.providersResolver(h)}let c=!1,u=!1,d=Ax(n,t,a,null);a>0&&(e.directiveToIndex=new Map);for(let f=0;f<a;f++){let h=r[f];if(e.mergedAttrs=zs(e.mergedAttrs,h.hostAttrs),Cj(n,e,t,d,h),Sj(d,h,i),s!==null&&s.has(h)){let[g,m]=s.get(h);e.directiveToIndex.set(h.type,[d,g+e.directiveStart,m+e.directiveStart])}else(o===null||!o.has(h))&&e.directiveToIndex.set(h.type,d);h.contentQueries!==null&&(e.flags|=4),(h.hostBindings!==null||h.hostAttrs!==null||h.hostVars!==0)&&(e.flags|=64);let p=h.type.prototype;!c&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((n.preOrderHooks??=[]).push(e.index),c=!0),!u&&(p.ngOnChanges||p.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(e.index),u=!0),d++}Ej(n,e,o)}function Ej(n,t,e){for(let r=t.directiveStart;r<t.directiveEnd;r++){let i=n.data[r];if(e===null||!e.has(i))dC(0,t,i,r),dC(1,t,i,r),fC(t,r,!1);else{let o=e.get(i);hC(0,t,o,r),hC(1,t,o,r),fC(t,r,!0)}}}function dC(n,t,e,r){let i=n===0?e.inputs:e.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;n===0?s=t.inputs??={}:s=t.outputs??={},s[o]??=[],s[o].push(r),tS(t,o)}}function hC(n,t,e,r){let i=n===0?e.inputs:e.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],a;n===0?a=t.hostDirectiveInputs??={}:a=t.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,o),tS(t,s)}}function tS(n,t){t==="class"?n.flags|=8:t==="style"&&(n.flags|=16)}function fC(n,t,e){let{attrs:r,inputs:i,hostDirectiveInputs:o}=n;if(r===null||!e&&i===null||e&&o===null||Kv(n)){n.initialInputs??=[],n.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let l=r[a];if(l===0){a+=4;continue}else if(l===5){a+=2;continue}else if(typeof l=="number")break;if(!e&&i.hasOwnProperty(l)){let c=i[l];for(let u of c)if(u===t){s??=[],s.push(l,r[a+1]);break}}else if(e&&o.hasOwnProperty(l)){let c=o[l];for(let u=0;u<c.length;u+=2)if(c[u]===t){s??=[],s.push(c[u+1],r[a+1]);break}}a+=2}n.initialInputs??=[],n.initialInputs.push(s)}function Cj(n,t,e,r,i){n.data[r]=i;let o=i.factory||(i.factory=Do(i.type,!0)),s=new To(o,or(i),j);n.blueprint[r]=s,e[r]=s,Dj(n,t,r,Ax(n,e,i.hostVars,Vn),i)}function Dj(n,t,e,r,i){let o=i.hostBindings;if(o){let s=n.hostBindingOpCodes;s===null&&(s=n.hostBindingOpCodes=[]);let a=~t.index;xj(s)!=a&&s.push(a),s.push(e,r,o)}}function xj(n){let t=n.length;for(;t>0;){let e=n[--t];if(typeof e=="number"&&e<0)return e}return 0}function Sj(n,t,e){if(e){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)e[t.exportAs[r]]=n;or(t)&&(e[""]=n)}}function Ij(n,t,e){n.flags|=1,n.directiveStart=t,n.directiveEnd=t+e,n.providerIndexes=t}function nS(n,t,e,r,i,o,s,a){let l=t.consts,c=Hs(l,s),u=ch(t,n,2,r,c);return o&&ly(t,e,u,Hs(l,a),i),u.mergedAttrs=zs(u.mergedAttrs,u.attrs),u.attrs!==null&&Zm(u,u.attrs,!1),u.mergedAttrs!==null&&Zm(u,u.mergedAttrs,!0),t.queries!==null&&t.queries.elementStart(t,u),u}function rS(n,t){kv(n,t),Ev(t)&&n.queries.elementEnd(t)}var Nd=class extends fh{ngModule;constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){let e=xi(t);return new Ws(e,this.ngModule)}};function Mj(n){return Object.keys(n).map(t=>{let[e,r,i]=n[t],o={propName:e,templateName:t,isSignal:(r&ih.SignalBased)!==0};return i&&(o.transform=i),o})}function Tj(n){return Object.keys(n).map(t=>({propName:n[t],templateName:t}))}function Aj(n,t,e){let r=t instanceof wt?t:t?.injector;return r&&n.getStandaloneInjector!==null&&(r=n.getStandaloneInjector(r)||r),r?new Bs(e,r):e}function Oj(n){let t=n.get(qs,null);if(t===null)throw new N(407,!1);let e=n.get(mj,null),r=n.get(Ao,null);return{rendererFactory:t,sanitizer:e,changeDetectionScheduler:r}}function Rj(n,t){let e=(n.selectors[0][0]||"div").toLowerCase();return Wv(t,e,e==="svg"?M1:e==="math"?T1:null)}var Ws=class extends Qx{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=Mj(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=Tj(this.componentDef.outputs),this.cachedOutputs}constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=XF(t.selectors),this.ngContentSelectors=t.ngContentSelectors??[],this.isBoundToModule=!!e}create(t,e,r,i){be(22);let o=ue(null);try{let s=this.componentDef,a=r?["ng-version","19.2.17"]:QF(this.componentDef.selectors[0]),l=Yv(0,null,null,1,0,null,null,null,null,[a],null),c=Aj(s,i||this.ngModule,t),u=Oj(c),d=u.rendererFactory.createRenderer(null,s),f=r?rL(d,r,s.encapsulation,c):Rj(s,d),h=Zv(null,l,null,512|Tx(s),null,null,u,d,c,null,mx(f,c,!0));h[Je]=f,Av(h);let p=null;try{let g=nS(Je,l,h,"#host",()=>[this.componentDef],!0,0);f&&(Dx(d,f,g),Qs(f,h)),oh(l,h,g),zv(l,g,h),rS(l,g),e!==void 0&&kj(g,this.ngContentSelectors,e),p=sr(g.index,h),h[Ht]=p[Ht],ny(l,h,null)}catch(g){throw p!==null&&Vm(p),Vm(h),g}finally{be(23),Ov()}return new Jm(this.componentType,h)}finally{ue(o)}}},Jm=class extends pj{_rootLView;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(t,e){super(),this._rootLView=e,this._tNode=Wd(e[Z],Je),this.location=Js(this._tNode,e),this.instance=sr(this._tNode.index,e)[Ht],this.hostView=this.changeDetectorRef=new Tl(e,void 0,!1),this.componentType=t}setInput(t,e){let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),e))return;let i=this._rootLView,o=ty(r,i[Z],i,t,e);this.previousInputValues.set(t,e);let s=sr(r.index,i);lh(s,1)}get injector(){return new Co(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}};function kj(n,t,e){let r=n.projection=[];for(let i=0;i<t.length;i++){let o=e[i];r.push(o!=null&&o.length?Array.from(o):null)}}var Ti=(()=>{class n{static __NG_ELEMENT_ID__=Pj}return n})();function Pj(){let n=St();return oS(n,fe())}var Nj=Ti,iS=class extends Nj{_lContainer;_hostTNode;_hostLView;constructor(t,e,r){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=r}get element(){return Js(this._hostTNode,this._hostLView)}get injector(){return new Co(this._hostTNode,this._hostLView)}get parentInjector(){let t=Pv(this._hostTNode,this._hostLView);if(AD(t)){let e=Cd(t,this._hostLView),r=Ed(t),i=e[Z].data[r+8];return new Co(i,e)}else return new Co(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){let e=pC(this._lContainer);return e!==null&&e[t]||null}get length(){return this._lContainer.length-$t}createEmbeddedView(t,e,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=uC(this._lContainer,t.ssrId),a=t.createEmbeddedViewImpl(e||{},o,s);return this.insertImpl(a,i,Wm(this._hostTNode,s)),a}createComponent(t,e,r,i,o){let s=t&&!D1(t),a;if(s)a=e;else{let p=e||{};a=p.index,r=p.injector,i=p.projectableNodes,o=p.environmentInjector||p.ngModuleRef}let l=s?t:new Ws(xi(t)),c=r||this.parentInjector;if(!o&&l.ngModule==null){let g=(s?c:this.parentInjector).get(wt,null);g&&(o=g)}let u=xi(l.componentType??{}),d=uC(this._lContainer,u?.id??null),f=d?.firstChild??null,h=l.create(c,i,f,o);return this.insertImpl(h.hostView,a,Wm(this._hostTNode,d)),h}insert(t,e){return this.insertImpl(t,e,!0)}insertImpl(t,e,r){let i=t._lView;if(R1(i)){let a=this.indexOf(t);if(a!==-1)this.detach(a);else{let l=i[ut],c=new iS(l,l[Fn],l[ut]);c.detach(c.indexOf(t))}}let o=this._adjustIndex(e),s=this._lContainer;return Gx(s,i,o,r),t.attachToViewContainerRef(),GC(fm(s),o,t),t}move(t,e){return this.insert(t,e)}indexOf(t){let e=pC(this._lContainer);return e!==null?e.indexOf(t):-1}remove(t){let e=this._adjustIndex(t,-1),r=kd(this._lContainer,e);r&&(vd(fm(this._lContainer),e),oy(r[Z],r))}detach(t){let e=this._adjustIndex(t,-1),r=kd(this._lContainer,e);return r&&vd(fm(this._lContainer),e)!=null?new Tl(r):null}_adjustIndex(t,e=0){return t??this.length+e}};function pC(n){return n[wd]}function fm(n){return n[wd]||(n[wd]=[])}function oS(n,t){let e,r=t[n.index];return cr(r)?e=r:(e=Wx(r,t,null,n),t[n.index]=e,Jv(t,e)),sS(e,t,n,r),new iS(e,n,t)}function Fj(n,t){let e=n[Ne],r=e.createComment(""),i=jn(t,n),o=e.parentNode(i);return Od(e,o,r,e.nextSibling(i),!1),r}var sS=aS,cy=()=>!1;function Lj(n,t,e){return cy(n,t,e)}function aS(n,t,e,r){if(n[Zr])return;let i;e.type&8?i=Pn(r):i=Fj(t,e),n[Zr]=i}function jj(n,t,e){if(n[Zr]&&n[Yr])return!0;let r=e[rr],i=t.index-Je;if(!r||TN(t)||Fl(r,i))return!1;let s=Hm(r,i),a=r.data[Bv]?.[i],[l,c]=dj(s,a);return n[Zr]=l,n[Yr]=c,!0}function Vj(n,t,e,r){cy(n,e,t)||aS(n,t,e,r)}function Bj(){sS=Vj,cy=jj}var Xm=class n{queryList;matches=null;constructor(t){this.queryList=t}clone(){return new n(this.queryList)}setDirty(){this.queryList.setDirty()}},Qm=class n{queries;constructor(t=[]){this.queries=t}createEmbeddedView(t){let e=t.queries;if(e!==null){let r=t.contentQueries!==null?t.contentQueries[0]:e.length,i=[];for(let o=0;o<r;o++){let s=e.getByIndex(o),a=this.queries[s.indexInDeclarationView];i.push(a.clone())}return new n(i)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}finishViewCreation(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)uy(t,e).matches!==null&&this.queries[e].setDirty()}},ev=class{flags;read;predicate;constructor(t,e,r=null){this.flags=e,this.read=r,typeof t=="string"?this.predicate=Kj(t):this.predicate=t}},tv=class n{queries;constructor(t=[]){this.queries=t}elementStart(t,e){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let r=0;r<this.length;r++){let i=e!==null?e.length:0,o=this.getByIndex(r).embeddedTView(t,i);o&&(o.indexInDeclarationView=r,e!==null?e.push(o):e=[o])}return e!==null?new n(e):null}template(t,e){for(let r=0;r<this.queries.length;r++)this.queries[r].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}},nv=class n{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(t,e=-1){this.metadata=t,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new n(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let e=this._declarationNodeIndex,r=t.parent;for(;r!==null&&r.type&8&&r.index!==e;)r=r.parent;return e===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(t,e){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(t,e,Uj(e,o)),this.matchTNodeWithReadOption(t,e,cd(e,t,o,!1,!1))}else r===Oo?e.type&4&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,cd(e,t,r,!1,!1))}matchTNodeWithReadOption(t,e,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===Gt||i===Ti||i===Oo&&e.type&4)this.addMatch(e.index,-2);else{let o=cd(e,t,i,!1,!1);o!==null&&this.addMatch(e.index,o)}else this.addMatch(e.index,r)}}addMatch(t,e){this.matches===null?this.matches=[t,e]:this.matches.push(t,e)}};function Uj(n,t){let e=n.localNames;if(e!==null){for(let r=0;r<e.length;r+=2)if(e[r]===t)return e[r+1]}return null}function $j(n,t){return n.type&11?Js(n,t):n.type&4?ay(n,t):null}function Hj(n,t,e,r){return e===-1?$j(t,n):e===-2?zj(n,t,r):Ml(n,n[Z],e,t)}function zj(n,t,e){if(e===Gt)return Js(t,n);if(e===Oo)return ay(t,n);if(e===Ti)return oS(t,n)}function lS(n,t,e,r){let i=t[Kr].queries[r];if(i.matches===null){let o=n.data,s=e.matches,a=[];for(let l=0;s!==null&&l<s.length;l+=2){let c=s[l];if(c<0)a.push(null);else{let u=o[c];a.push(Hj(t,u,s[l+1],e.metadata.read))}}i.matches=a}return i.matches}function rv(n,t,e,r){let i=n.queries.getByIndex(e),o=i.matches;if(o!==null){let s=lS(n,t,i,e);for(let a=0;a<o.length;a+=2){let l=o[a];if(l>0)r.push(s[a/2]);else{let c=o[a+1],u=t[-l];for(let d=$t;d<u.length;d++){let f=u[d];f[So]===f[ut]&&rv(f[Z],f,c,r)}if(u[$s]!==null){let d=u[$s];for(let f=0;f<d.length;f++){let h=d[f];rv(h[Z],h,c,r)}}}}}return r}function qj(n,t){return n[Kr].queries[t].queryList}function Wj(n,t,e){let r=new jm((e&4)===4);return N1(n,t,r,r.destroy),(t[Kr]??=new Qm).queries.push(new Xm(r))-1}function Gj(n,t,e,r){let i=pt();if(i.firstCreatePass){let o=St();Yj(i,new ev(t,e,r),o.index),Zj(i,n),(e&2)===2&&(i.staticContentQueries=!0)}return Wj(i,fe(),e)}function Kj(n){return n.split(",").map(t=>t.trim())}function Yj(n,t,e){n.queries===null&&(n.queries=new tv),n.queries.track(new nv(t,e))}function Zj(n,t){let e=n.contentQueries||(n.contentQueries=[]),r=e.length?e[e.length-1]:-1;t!==r&&e.push(n.queries.length-1,t)}function uy(n,t){return n.queries.getByIndex(t)}function Jj(n,t){let e=n[Z],r=uy(e,t);return r.crossesNgTemplate?rv(e,n,t,[]):lS(e,n,r,t)}var Gs=class{},dy=class{};var iv=class extends Gs{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new Nd(this);constructor(t,e,r,i=!0){super(),this.ngModuleType=t,this._parent=e;let o=ZC(t);this._bootstrapComponents=Ix(o.bootstrap),this._r3Injector=VD(t,e,[{provide:Gs,useValue:this},{provide:fh,useValue:this.componentFactoryResolver},...r],Ut(t),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}},ov=class extends dy{moduleType;constructor(t){super(),this.moduleType=t}create(t){return new iv(this.moduleType,t,[])}};var Fd=class extends Gs{injector;componentFactoryResolver=new Nd(this);instance=null;constructor(t){super();let e=new xl([...t.providers,{provide:Gs,useValue:this},{provide:fh,useValue:this.componentFactoryResolver}],t.parent||wv(),t.debugName,new Set(["environment"]));this.injector=e,t.runEnvironmentInitializers&&e.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}};function ia(n,t,e=null){return new Fd({providers:n,parent:t,debugName:e,runEnvironmentInitializers:!0}).injector}var Xj=(()=>{class n{_injector;cachedInjectors=new Map;constructor(e){this._injector=e}getOrCreateStandaloneInjector(e){if(!e.standalone)return null;if(!this.cachedInjectors.has(e)){let r=_v(!1,e.type),i=r.length>0?ia([r],this._injector,`Standalone[${e.type.name}]`):null;this.cachedInjectors.set(e,i)}return this.cachedInjectors.get(e)}ngOnDestroy(){try{for(let e of this.cachedInjectors.values())e!==null&&e.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=L({token:n,providedIn:"environment",factory:()=>new n(H(wt))})}return n})();function Me(n){return Ol(()=>{let t=cS(n),e=te(O({},t),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===YD.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&n.dependencies||null,getStandaloneInjector:t.standalone?i=>i.get(Xj).getOrCreateStandaloneInjector(e):null,getExternalStyles:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||lr.Emulated,styles:n.styles||vn,_:null,schemas:n.schemas||null,tView:null,id:""});t.standalone&&hr("NgStandalone"),uS(e);let r=n.dependencies;return e.directiveDefs=gC(r,!1),e.pipeDefs=gC(r,!0),e.id=r2(e),e})}function Qj(n){return xi(n)||JC(n)}function e2(n){return n!==null}function Bn(n){return Ol(()=>({type:n.type,bootstrap:n.bootstrap||vn,declarations:n.declarations||vn,imports:n.imports||vn,exports:n.exports||vn,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function t2(n,t){if(n==null)return xo;let e={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r],o,s,a,l;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o,l=i[3]||null):(o=i,s=i,a=ih.None,l=null),e[o]=[r,a,l],t[o]=s}return e}function n2(n){if(n==null)return xo;let t={};for(let e in n)n.hasOwnProperty(e)&&(t[n[e]]=e);return t}function Te(n){return Ol(()=>{let t=cS(n);return uS(t),t})}function ph(n){return{type:n.type,name:n.name,factory:null,pure:n.pure!==!1,standalone:n.standalone??!0,onDestroy:n.type.prototype.ngOnDestroy||null}}function cS(n){let t={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:t,inputConfig:n.inputs||xo,exportAs:n.exportAs||null,standalone:n.standalone??!0,signals:n.signals===!0,selectors:n.selectors||vn,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:t2(n.inputs,t),outputs:n2(n.outputs),debugInfo:null}}function uS(n){n.features?.forEach(t=>t(n))}function gC(n,t){if(!n)return null;let e=t?XC:Qj;return()=>(typeof n=="function"?n():n).map(r=>e(r)).filter(e2)}function r2(n){let t=0,e=typeof n.consts=="function"?"":n.consts,r=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,e,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery];for(let o of r.join("|"))t=Math.imul(31,t)+o.charCodeAt(0)<<0;return t+=2147483648,"c"+t}function i2(n){return Object.getPrototypeOf(n.prototype).constructor}function Kt(n){let t=i2(n.type),e=!0,r=[n];for(;t;){let i;if(or(n))i=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new N(903,!1);i=t.\u0275dir}if(i){if(e){r.push(i);let s=n;s.inputs=pm(n.inputs),s.declaredInputs=pm(n.declaredInputs),s.outputs=pm(n.outputs);let a=i.hostBindings;a&&c2(n,a);let l=i.viewQuery,c=i.contentQueries;if(l&&a2(n,l),c&&l2(n,c),o2(n,i),qP(n.outputs,i.outputs),or(i)&&i.data.animation){let u=n.data;u.animation=(u.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(n),a===Kt&&(e=!1)}}t=Object.getPrototypeOf(t)}s2(r)}function o2(n,t){for(let e in t.inputs){if(!t.inputs.hasOwnProperty(e)||n.inputs.hasOwnProperty(e))continue;let r=t.inputs[e];r!==void 0&&(n.inputs[e]=r,n.declaredInputs[e]=t.declaredInputs[e])}}function s2(n){let t=0,e=null;for(let r=n.length-1;r>=0;r--){let i=n[r];i.hostVars=t+=i.hostVars,i.hostAttrs=zs(i.hostAttrs,e=zs(e,i.hostAttrs))}}function pm(n){return n===xo?{}:n===vn?[]:n}function a2(n,t){let e=n.viewQuery;e?n.viewQuery=(r,i)=>{t(r,i),e(r,i)}:n.viewQuery=t}function l2(n,t){let e=n.contentQueries;e?n.contentQueries=(r,i,o)=>{t(r,i,o),e(r,i,o)}:n.contentQueries=t}function c2(n,t){let e=n.hostBindings;e?n.hostBindings=(r,i)=>{t(r,i),e(r,i)}:n.hostBindings=t}function dS(n){return d2(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function u2(n,t){if(Array.isArray(n))for(let e=0;e<n.length;e++)t(n[e]);else{let e=n[Symbol.iterator](),r;for(;!(r=e.next()).done;)t(r.value)}}function d2(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function hS(n,t,e){return n[t]=e}function Xr(n,t,e){let r=n[t];return Object.is(r,e)?!1:(n[t]=e,!0)}function hy(n,t,e,r){let i=Xr(n,t,e);return Xr(n,t+1,r)||i}function h2(n,t,e,r,i){let o=hy(n,t,e,r);return Xr(n,t+2,i)||o}function f2(n,t,e,r,i,o,s,a,l){let c=t.consts,u=ch(t,n,4,s||null,a||null);Sv()&&ly(t,e,u,Hs(c,l),Qv),u.mergedAttrs=zs(u.mergedAttrs,u.attrs),kv(t,u);let d=u.tView=Yv(2,u,r,i,o,t.directiveRegistry,t.pipeRegistry,null,t.schemas,c,null);return t.queries!==null&&(t.queries.template(t,u),d.queries=t.queries.embeddedTView(u)),u}function p2(n,t,e,r,i,o,s,a,l,c){let u=e+Je,d=t.firstCreatePass?f2(u,t,n,r,i,o,s,a,l):t.data[u];No(d,!1);let f=fS(t,n,d,e);Yd()&&sh(t,n,f,d),Qs(f,n);let h=Wx(f,n,f,d);return n[u]=h,Jv(n,h),Lj(h,d,n),qd(d)&&oh(t,n,d),l!=null&&Xv(n,d,c),d}function Y(n,t,e,r,i,o,s,a){let l=fe(),c=pt(),u=Hs(c.consts,o);return p2(l,c,n,t,e,r,i,u,s,a),Y}var fS=pS;function pS(n,t,e,r){return Ii(!0),t[Ne].createComment("")}function g2(n,t,e,r){let i=t[rr],o=!i||Pl()||ra(e)||Fl(i,r);if(Ii(o),o)return pS(n,t);let s=i.data[VN]?.[r]??null;s!==null&&e.tView!==null&&e.tView.ssrId===null&&(e.tView.ssrId=s);let a=uh(i,n,t,e);nh(i,r,a);let l=Hv(i,r);return dh(l,a)}function m2(){fS=g2}var v2=(()=>{class n{cachedInjectors=new Map;getOrCreateInjector(e,r,i,o){if(!this.cachedInjectors.has(e)){let s=i.length>0?ia(i,r,o):null;this.cachedInjectors.set(e,s)}return this.cachedInjectors.get(e)}ngOnDestroy(){try{for(let e of this.cachedInjectors.values())e!==null&&e.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=L({token:n,providedIn:"environment",factory:()=>new n})}return n})();var y2=new P("");function gm(n,t,e){return n.get(v2).getOrCreateInjector(t,n,e,"")}function _2(n,t,e){if(n instanceof Bs){let i=n.injector,o=n.parentInjector,s=gm(o,t,e);return new Bs(i,s)}let r=n.get(wt);if(r!==n){let i=gm(r,t,e);return new Bs(n,i)}return gm(n,t,e)}function Fs(n,t,e,r=!1){let i=e[ut],o=i[Z];if(Po(i))return;let s=Nl(i,t),a=s[Qd],l=s[nF];if(!(l!==null&&n<l)&&mC(a,n)&&mC(s[QN]??-1,n)){let c=eh(o,t),d=!r&&!0&&(aF(c)!==null||nC(c,ct.Loading)!==null||nC(c,ct.Placeholder))?E2:w2;try{d(n,s,e,t,i)}catch(f){ey(i,f)}}}function b2(n,t){let e=n[Yr]?.findIndex(i=>i.data[HN]===t[Qd])??-1;return{dehydratedView:e>-1?n[Yr][e]:null,dehydratedViewIx:e}}function w2(n,t,e,r,i){be(20);let o=sF(n,i,r);if(o!==null){t[Qd]=n;let s=i[Z],a=o+Je,l=Wd(s,a),c=0;qL(e,c);let u;if(n===ct.Complete){let p=eh(s,r),g=p.providers;g&&g.length>0&&(u=_2(i[ir],p,g))}let{dehydratedView:d,dehydratedViewIx:f}=b2(e,t),h=Nx(i,l,null,{injector:u,dehydratedView:d});if(Gx(e,h,c,Wm(l,d)),lh(h,2),f>-1&&e[Yr]?.splice(f,1),(n===ct.Complete||n===ct.Error)&&Array.isArray(t[Vs])){for(let p of t[Vs])p();t[Vs]=null}}be(21)}function mC(n,t){return n<t}function vC(n,t,e){n.loadingPromise.then(()=>{n.loadingState===an.COMPLETE?Fs(ct.Complete,t,e):n.loadingState===an.FAILED&&Fs(ct.Error,t,e)})}var E2=null;var fy=(()=>{class n{log(e){console.log(e)}warn(e){console.warn(e)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();var gS=new P("");var C2=(()=>{class n{static \u0275prov=L({token:n,providedIn:"root",factory:()=>new sv})}return n})(),sv=class{queuedEffectCount=0;queues=new Map;schedule(t){this.enqueue(t)}remove(t){let e=t.zone,r=this.queues.get(e);r.has(t)&&(r.delete(t),this.queuedEffectCount--)}enqueue(t){let e=t.zone;this.queues.has(e)||this.queues.set(e,new Set);let r=this.queues.get(e);r.has(t)||(this.queuedEffectCount++,r.add(t))}flush(){for(;this.queuedEffectCount>0;)for(let[t,e]of this.queues)t===null?this.flushQueue(e):t.run(()=>this.flushQueue(e))}flushQueue(t){for(let e of t)t.delete(e),this.queuedEffectCount--,e.run()}};function Ai(n){return!!n&&typeof n.then=="function"}function py(n){return!!n&&typeof n.subscribe=="function"}var mS=new P("");function gy(n){return Qr([{provide:mS,multi:!0,useValue:n}])}var vS=(()=>{class n{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((e,r)=>{this.resolve=e,this.reject=r});appInits=I(mS,{optional:!0})??[];injector=I(zt);constructor(){}runInitializers(){if(this.initialized)return;let e=[];for(let i of this.appInits){let o=Wt(this.injector,i);if(Ai(o))e.push(o);else if(py(o)){let s=new Promise((a,l)=>{o.subscribe({complete:a,error:l})});e.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(e).then(()=>{r()}).catch(i=>{this.reject(i)}),e.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||n)};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Oi=new P("");function D2(){Dg(()=>{throw new N(600,!1)})}function x2(n){return n.isBoundToModule}var S2=10;var qt=(()=>{class n{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=I(bN);afterRenderManager=I(cx);zonelessEnabled=I(Zd);rootEffectScheduler=I(C2);dirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new Ke;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=I(dr).hasPendingTasks.pipe(oe(e=>!e));constructor(){I(ta,{optional:!0})}whenStable(){let e;return new Promise(r=>{e=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{e.unsubscribe()})}_injector=I(wt);_rendererFactory=null;get injector(){return this._injector}bootstrap(e,r){return this.bootstrapImpl(e,r)}bootstrapImpl(e,r,i=zt.NULL){be(10);let o=e instanceof Qx;if(!this._injector.get(vS).done){let h="";throw new N(405,h)}let a;o?a=e:a=this._injector.get(fh).resolveComponentFactory(e),this.componentTypes.push(a.componentType);let l=x2(a)?void 0:this._injector.get(Gs),c=r||a.selector,u=a.create(i,[],c,l),d=u.location.nativeElement,f=u.injector.get(gS,null);return f?.registerApplication(d),u.onDestroy(()=>{this.detachView(u.hostView),dd(this.components,u),f?.unregisterApplication(d)}),this._loadComponent(u),be(11,u),u}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){be(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(Uv.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new N(101,!1);let e=ue(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,ue(e),this.afterTick.next(),be(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(qs,null,{optional:!0}));let e=0;for(;this.dirtyFlags!==0&&e++<S2;)be(14),this.synchronizeOnce(),be(15)}synchronizeOnce(){if(this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),this.dirtyFlags&7){let e=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:r,notifyErrorHandler:i}of this.allViews)I2(r,i,e,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}else this._rendererFactory?.begin?.(),this._rendererFactory?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:e})=>Gd(e))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(e){let r=e;this._views.push(r),r.attachToAppRef(this)}detachView(e){let r=e;dd(this._views,r),r.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(Oi,[]).forEach(i=>i(e))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(e=>e()),this._views.slice().forEach(e=>e.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(e){return this._destroyListeners.push(e),()=>dd(this._destroyListeners,e)}destroy(){if(this._destroyed)throw new N(406,!1);let e=this._injector;e.destroy&&!e.destroyed&&e.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||n)};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function dd(n,t){let e=n.indexOf(t);e>-1&&n.splice(e,1)}function I2(n,t,e,r){if(!e&&!Gd(n))return;$x(n,t,e&&!r?0:1)}function M2(n,t,e){let r=t[ir],i=t[Z];if(n.loadingState!==an.NOT_STARTED)return n.loadingPromise??Promise.resolve();let o=Nl(t,e),s=lF(i,n);n.loadingState=an.IN_PROGRESS,ud(1,o);let a=n.dependencyResolverFn,l=r.get(fN).add();return a?(n.loadingPromise=Promise.allSettled(a()).then(c=>{let u=!1,d=[],f=[];for(let h of c)if(h.status==="fulfilled"){let p=h.value,g=xi(p)||JC(p);if(g)d.push(g);else{let m=XC(p);m&&f.push(m)}}else{u=!0;break}if(u){if(n.loadingState=an.FAILED,n.errorTmplIndex===null){let h="",p=new N(-750,!1);ey(t,p)}}else{n.loadingState=an.COMPLETE;let h=s.tView;if(d.length>0){h.directiveRegistry=rC(h.directiveRegistry,d);let p=d.map(m=>m.type),g=_v(!1,...p);n.providers=g}f.length>0&&(h.pipeRegistry=rC(h.pipeRegistry,f))}}),n.loadingPromise.finally(()=>{n.loadingPromise=null,l()})):(n.loadingPromise=Promise.resolve().then(()=>{n.loadingPromise=null,n.loadingState=an.COMPLETE,l()}),n.loadingPromise)}function T2(n,t){return t[ir].get(y2,null,{optional:!0})?.behavior!==ux.Manual}function A2(n,t,e){let r=t[Z],i=t[e.index];if(!T2(n,t))return;let o=Nl(t,e),s=eh(r,e);switch(iF(o),s.loadingState){case an.NOT_STARTED:Fs(ct.Loading,e,i),M2(s,t,e),s.loadingState===an.IN_PROGRESS&&vC(s,e,i);break;case an.IN_PROGRESS:Fs(ct.Loading,e,i),vC(s,e,i);break;case an.COMPLETE:Fs(ct.Complete,e,i);break;case an.FAILED:Fs(ct.Error,e,i);break;default:}}function O2(n,t,e){return y(this,null,function*(){let r=n.get($v);if(r.hydrating.has(t))return;let{parentBlockPromise:o,hydrationQueue:s}=MF(t,n);if(s.length===0)return;o!==null&&s.shift(),P2(r,s),o!==null&&(yield o);let a=s[0];r.has(a)?yield yC(n,s,e):r.awaitParentBlock(a,()=>y(null,null,function*(){return yield yC(n,s,e)}))})}function yC(n,t,e){return y(this,null,function*(){let r=n.get($v),i=r.hydrating,o=n.get(dr),s=o.add();for(let l=0;l<t.length;l++){let c=t[l],u=r.get(c);if(u!=null){if(yield F2(u),yield N2(n),R2(u)){cj(u),_C(t.slice(l),r);break}i.get(c).resolve()}else{k2(l,t,r),_C(t.slice(l),r);break}}let a=t[t.length-1];yield i.get(a)?.promise,o.remove(s),e&&e(t),uj(r.get(a),t,r,n.get(qt))})}function R2(n){return Nl(n.lView,n.tNode)[Qd]===ct.Error}function k2(n,t,e){let r=n-1,i=r>-1?e.get(t[r]):null;i&&hh(i.lContainer)}function _C(n,t){let e=t.hydrating;for(let r in n)e.get(r)?.reject();t.cleanup(n)}function P2(n,t){for(let e of t)n.hydrating.set(e,Promise.withResolvers())}function N2(n){return new Promise(t=>Xd(t,{injector:n}))}function F2(n){return y(this,null,function*(){let{tNode:t,lView:e}=n,r=Nl(e,t);return new Promise(i=>{L2(r,i),A2(2,e,t)})})}function L2(n,t){Array.isArray(n[Vs])||(n[Vs]=[]),n[Vs].push(t)}function Fo(n,t,e,r){let i=fe(),o=Kd();if(Xr(i,o,t)){let s=pt(),a=Rv();hL(a,i,n,t,e,r)}return Fo}function j2(n,t,e,r){return Xr(n,Kd(),e)?t+qr(e)+r:Vn}function V2(n,t,e,r,i,o){let s=_D(),a=hy(n,s,e,i);return Mv(2),a?t+qr(e)+r+qr(i)+o:Vn}function B2(n,t,e,r,i,o,s,a){let l=_D(),c=h2(n,l,e,i,s);return Mv(3),c?t+qr(e)+r+qr(i)+o+qr(s)+a:Vn}function id(n,t){return n<<17|t<<2}function Ro(n){return n>>17&32767}function U2(n){return(n&2)==2}function $2(n,t){return n&131071|t<<17}function av(n){return n|2}function Ks(n){return(n&131068)>>2}function mm(n,t){return n&-131069|t<<2}function H2(n){return(n&1)===1}function lv(n){return n|1}function z2(n,t,e,r,i,o){let s=o?t.classBindings:t.styleBindings,a=Ro(s),l=Ks(s);n[r]=e;let c=!1,u;if(Array.isArray(e)){let d=e;u=d[1],(u===null||Rl(d,u)>0)&&(c=!0)}else u=e;if(i)if(l!==0){let f=Ro(n[a+1]);n[r+1]=id(f,a),f!==0&&(n[f+1]=mm(n[f+1],r)),n[a+1]=$2(n[a+1],r)}else n[r+1]=id(a,0),a!==0&&(n[a+1]=mm(n[a+1],r)),a=r;else n[r+1]=id(l,0),a===0?a=r:n[l+1]=mm(n[l+1],r),l=r;c&&(n[r+1]=av(n[r+1])),bC(n,u,r,!0),bC(n,u,r,!1),q2(t,u,n,r,o),s=id(a,l),o?t.classBindings=s:t.styleBindings=s}function q2(n,t,e,r,i){let o=i?n.residualClasses:n.residualStyles;o!=null&&typeof t=="string"&&Rl(o,t)>=0&&(e[r+1]=lv(e[r+1]))}function bC(n,t,e,r){let i=n[e+1],o=t===null,s=r?Ro(i):Ks(i),a=!1;for(;s!==0&&(a===!1||o);){let l=n[s],c=n[s+1];W2(l,t)&&(a=!0,n[s+1]=r?lv(c):av(c)),s=r?Ro(c):Ks(c)}a&&(n[e+1]=r?av(i):lv(i))}function W2(n,t){return n===null||t==null||(Array.isArray(n)?n[1]:n)===t?!0:Array.isArray(n)&&typeof t=="string"?Rl(n,t)>=0:!1}function R(n,t,e){let r=fe(),i=Kd();if(Xr(r,i,t)){let o=pt(),s=Rv();Px(o,s,r,n,t,r[Ne],e,!1)}return R}function wC(n,t,e,r,i){ty(t,n,e,i?"class":"style",r)}function my(n,t,e){return yS(n,t,e,!1),my}function It(n,t){return yS(n,t,null,!0),It}function yS(n,t,e,r){let i=fe(),o=pt(),s=Mv(2);if(o.firstUpdatePass&&K2(o,n,s,r),t!==Vn&&Xr(i,s,t)){let a=o.data[Si()];Q2(o,a,i,i[Ne],n,i[s+1]=eV(t,e),r,s)}}function G2(n,t){return t>=n.expandoStartIndex}function K2(n,t,e,r){let i=n.data;if(i[e+1]===null){let o=i[Si()],s=G2(n,e);tV(o,r)&&t===null&&!s&&(t=!1),t=Y2(i,o,t,r),z2(i,o,t,e,s,r)}}function Y2(n,t,e,r){let i=G1(n),o=r?t.residualClasses:t.residualStyles;if(i===null)(r?t.classBindings:t.styleBindings)===0&&(e=vm(null,n,t,e,r),e=Al(e,t.attrs,r),o=null);else{let s=t.directiveStylingLast;if(s===-1||n[s]!==i)if(e=vm(i,n,t,e,r),o===null){let l=Z2(n,t,r);l!==void 0&&Array.isArray(l)&&(l=vm(null,n,t,l[1],r),l=Al(l,t.attrs,r),J2(n,t,r,l))}else o=X2(n,t,r)}return o!==void 0&&(r?t.residualClasses=o:t.residualStyles=o),e}function Z2(n,t,e){let r=e?t.classBindings:t.styleBindings;if(Ks(r)!==0)return n[Ro(r)]}function J2(n,t,e,r){let i=e?t.classBindings:t.styleBindings;n[Ro(i)]=r}function X2(n,t,e){let r,i=t.directiveEnd;for(let o=1+t.directiveStylingLast;o<i;o++){let s=n[o].hostAttrs;r=Al(r,s,e)}return Al(r,t.attrs,e)}function vm(n,t,e,r,i){let o=null,s=e.directiveEnd,a=e.directiveStylingLast;for(a===-1?a=e.directiveStart:a++;a<s&&(o=t[a],r=Al(r,o.hostAttrs,i),o!==n);)a++;return n!==null&&(e.directiveStylingLast=a),r}function Al(n,t,e){let r=e?1:2,i=-1;if(t!==null)for(let o=0;o<t.length;o++){let s=t[o];typeof s=="number"?i=s:i===r&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),h1(n,s,e?!0:t[++o]))}return n===void 0?null:n}function Q2(n,t,e,r,i,o,s,a){if(!(t.type&3))return;let l=n.data,c=l[a+1],u=H2(c)?EC(l,t,e,i,Ks(c),s):void 0;if(!Ld(u)){Ld(o)||U2(c)&&(o=EC(l,null,e,i,a,s));let d=uD(Si(),e);OL(r,s,d,i,o)}}function EC(n,t,e,r,i,o){let s=t===null,a;for(;i>0;){let l=n[i],c=Array.isArray(l),u=c?l[1]:l,d=u===null,f=e[i+1];f===Vn&&(f=d?vn:void 0);let h=d?rm(f,r):u===r?f:void 0;if(c&&!Ld(h)&&(h=rm(l,r)),Ld(h)&&(a=h,s))return a;let p=n[i+1];i=s?Ro(p):Ks(p)}if(t!==null){let l=o?t.residualClasses:t.residualStyles;l!=null&&(a=rm(l,r))}return a}function Ld(n){return n!==void 0}function eV(n,t){return n==null||n===""||(typeof t=="string"?n=n+t:typeof n=="object"&&(n=Ut(Ll(n)))),n}function tV(n,t){return(n.flags&(t?8:16))!==0}function b(n,t,e,r){let i=fe(),o=pt(),s=Je+n,a=i[Ne],l=o.firstCreatePass?nS(s,o,i,t,Qv,Sv(),e,r):o.data[s],c=_S(o,i,l,a,t,n);i[s]=c;let u=qd(l);return No(l,!0),Dx(a,c,l),!ra(l)&&Yd()&&sh(o,i,c,l),(F1()===0||u)&&Qs(c,i),L1(),u&&(oh(o,i,l),zv(o,l,i)),r!==null&&Xv(i,l),b}function v(){let n=St();Iv()?mD():(n=n.parent,No(n,!1));let t=n;V1(t)&&U1(),j1();let e=pt();return e.firstCreatePass&&rS(e,t),t.classesWithoutHost!=null&&X1(t)&&wC(e,t,fe(),t.classesWithoutHost,!0),t.stylesWithoutHost!=null&&Q1(t)&&wC(e,t,fe(),t.stylesWithoutHost,!1),v}function J(n,t,e,r){return b(n,t,e,r),v(),J}var _S=(n,t,e,r,i,o)=>(Ii(!0),Wv(r,i,SD()));function nV(n,t,e,r,i,o){let s=t[rr],a=!s||Pl()||ra(e)||Fl(s,o);if(Ii(a),a)return Wv(r,i,SD());let l=uh(s,n,t,e);return vx(s,o)&&nh(s,o,l.nextSibling),s&&(GD(e)||KD(l))&&ko(e)&&(B1(e),Cx(l)),l}function rV(){_S=nV}function iV(n,t,e,r,i){let o=t.consts,s=Hs(o,r),a=ch(t,n,8,"ng-container",s);s!==null&&Zm(a,s,!0);let l=Hs(o,i);return Sv()&&ly(t,e,a,l,Qv),a.mergedAttrs=zs(a.mergedAttrs,a.attrs),t.queries!==null&&t.queries.elementStart(t,a),a}function vy(n,t,e){let r=fe(),i=pt(),o=n+Je,s=i.firstCreatePass?iV(o,i,r,t,e):i.data[o];No(s,!0);let a=bS(i,r,s,n);return r[o]=a,Yd()&&sh(i,r,a,s),Qs(a,r),qd(s)&&(oh(i,r,s),zv(i,s,r)),e!=null&&Xv(r,s),vy}function yy(){let n=St(),t=pt();return Iv()?mD():(n=n.parent,No(n,!1)),t.firstCreatePass&&(kv(t,n),Ev(n)&&t.queries.elementEnd(n)),yy}var bS=(n,t,e,r)=>(Ii(!0),wx(t[Ne],""));function oV(n,t,e,r){let i,o=t[rr],s=!o||Pl()||Fl(o,r)||ra(e);if(Ii(s),s)return wx(t[Ne],"");let a=uh(o,n,t,e),l=SF(o,r);return nh(o,r,a),i=dh(l,a),i}function sV(){bS=oV}function Xe(){return fe()}var wo=void 0;function aV(n){let t=Math.floor(Math.abs(n)),e=n.toString().replace(/^[^.]*\.?/,"").length;return t===1&&e===0?1:5}var lV=["en",[["a","p"],["AM","PM"],wo],[["AM","PM"],wo,wo],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],wo,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],wo,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",wo,"{1} 'at' {0}",wo],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",aV],ym={};function Yt(n){let t=cV(n),e=CC(t);if(e)return e;let r=t.split("-")[0];if(e=CC(r),e)return e;if(r==="en")return lV;throw new N(701,!1)}function CC(n){return n in ym||(ym[n]=Ei.ng&&Ei.ng.common&&Ei.ng.common.locales&&Ei.ng.common.locales[n]),ym[n]}var $e=function(n){return n[n.LocaleId=0]="LocaleId",n[n.DayPeriodsFormat=1]="DayPeriodsFormat",n[n.DayPeriodsStandalone=2]="DayPeriodsStandalone",n[n.DaysFormat=3]="DaysFormat",n[n.DaysStandalone=4]="DaysStandalone",n[n.MonthsFormat=5]="MonthsFormat",n[n.MonthsStandalone=6]="MonthsStandalone",n[n.Eras=7]="Eras",n[n.FirstDayOfWeek=8]="FirstDayOfWeek",n[n.WeekendRange=9]="WeekendRange",n[n.DateFormat=10]="DateFormat",n[n.TimeFormat=11]="TimeFormat",n[n.DateTimeFormat=12]="DateTimeFormat",n[n.NumberSymbols=13]="NumberSymbols",n[n.NumberFormats=14]="NumberFormats",n[n.CurrencyCode=15]="CurrencyCode",n[n.CurrencySymbol=16]="CurrencySymbol",n[n.CurrencyName=17]="CurrencyName",n[n.Currencies=18]="Currencies",n[n.Directionality=19]="Directionality",n[n.PluralCase=20]="PluralCase",n[n.ExtraData=21]="ExtraData",n}($e||{});function cV(n){return n.toLowerCase().replace(/_/g,"-")}var jd="en-US",uV="USD";var dV=jd;function hV(n){typeof n=="string"&&(dV=n.toLowerCase().replace(/_/g,"-"))}function DC(n,t,e){return function r(i){if(i===Function)return e;let o=ko(n)?sr(n.index,t):t;lh(o,5);let s=t[Ht],a=xC(t,s,e,i),l=r.__ngNextListenerFn__;for(;l;)a=xC(t,s,l,i)&&a,l=l.__ngNextListenerFn__;return a}}function xC(n,t,e,r){let i=ue(null);try{return be(6,t,e),e(r)!==!1}catch(o){return fV(n,o),!1}finally{be(7,t,e),ue(i)}}function fV(n,t){let e=n[ir],r=e?e.get(ar,null):null;r&&r.handleError(t)}function SC(n,t,e,r,i,o){let s=t[e],a=t[Z],c=a.data[e].outputs[r],u=s[c],d=a.firstCreatePass?xv(a):null,f=Dv(t),h=u.subscribe(o),p=f.length;f.push(o,h),d&&d.push(i,n.index,p,-(p+1))}function $(n,t,e,r){let i=fe(),o=pt(),s=St();return wS(o,i,i[Ne],s,n,t,r),$}function pV(n,t,e,r){let i=n.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===e&&i[o+1]===r){let a=t[_d],l=i[o+2];return a.length>l?a[l]:null}typeof s=="string"&&(o+=2)}return null}function wS(n,t,e,r,i,o,s){let a=qd(r),c=n.firstCreatePass?xv(n):null,u=Dv(t),d=!0;if(r.type&3||s){let f=jn(r,t),h=s?s(f):f,p=u.length,g=s?_=>s(Pn(_[r.index])):r.index,m=null;if(!s&&a&&(m=pV(n,t,i,r.index)),m!==null){let _=m.__ngLastListenerFn__||m;_.__ngNextListenerFn__=o,m.__ngLastListenerFn__=o,d=!1}else{o=DC(r,t,o),pF(t,h,i,o);let _=e.listen(h,i,o);u.push(o,_),c&&c.push(i,g,p,p+1)}}else o=DC(r,t,o);if(d){let f=r.outputs?.[i],h=r.hostDirectiveOutputs?.[i];if(h&&h.length)for(let p=0;p<h.length;p+=2){let g=h[p],m=h[p+1];SC(r,t,g,m,i,o)}if(f&&f.length)for(let p of f)SC(r,t,p,i,i,o)}}function B(n=1){return Y1(n)}function ES(n,t,e,r){Gj(n,t,e,r)}function CS(n){let t=fe(),e=pt(),r=bD();Tv(r+1);let i=uy(e,r);if(n.dirty&&O1(t)===((i.metadata.flags&2)===2)){if(i.matches===null)n.reset([]);else{let o=Jj(t,r);n.reset(o,CN),n.notifyOnChanges()}return!0}return!1}function DS(){return qj(fe(),bD())}function w(n,t=""){let e=fe(),r=pt(),i=n+Je,o=r.firstCreatePass?ch(r,i,1,t,null):r.data[i],s=xS(r,e,o,t,n);e[i]=s,Yd()&&sh(r,e,s,o),No(o,!1)}var xS=(n,t,e,r,i)=>(Ii(!0),bx(t[Ne],r));function gV(n,t,e,r,i){let o=t[rr],s=!o||Pl()||ra(e)||Fl(o,i);return Ii(s),s?bx(t[Ne],r):uh(o,n,t,e)}function mV(){xS=gV}function K(n){return nt("",n,""),K}function nt(n,t,e){let r=fe(),i=j2(r,n,t,e);return i!==Vn&&by(r,Si(),i),nt}function Ri(n,t,e,r,i){let o=fe(),s=V2(o,n,t,e,r,i);return s!==Vn&&by(o,Si(),s),Ri}function _y(n,t,e,r,i,o,s){let a=fe(),l=B2(a,n,t,e,r,i,o,s);return l!==Vn&&by(a,Si(),l),_y}function by(n,t,e){let r=uD(t,n);LF(n[Ne],r,e)}function pr(n,t,e){WD(t)&&(t=t());let r=fe(),i=Kd();if(Xr(r,i,t)){let o=pt(),s=Rv();Px(o,s,r,n,t,r[Ne],e,!1)}return pr}function ei(n,t){let e=WD(n);return e&&n.set(t),e}function gr(n,t){let e=fe(),r=pt(),i=St();return wS(r,e,e[Ne],i,n,t),gr}function vV(n,t,e){let r=pt();if(r.firstCreatePass){let i=or(n);cv(e,r.data,r.blueprint,i,!0),cv(t,r.data,r.blueprint,i,!1)}}function cv(n,t,e,r,i){if(n=Pt(n),Array.isArray(n))for(let o=0;o<n.length;o++)cv(n[o],t,e,r,i);else{let o=pt(),s=fe(),a=St(),l=Us(n)?n:Pt(n.provide),c=tD(n),u=a.providerIndexes&1048575,d=a.directiveStart,f=a.providerIndexes>>20;if(Us(n)||!n.multi){let h=new To(c,i,j),p=bm(l,t,i?u:u+f,d);p===-1?(Rm(xd(a,s),o,l),_m(o,n,t.length),t.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),e.push(h),s.push(h)):(e[p]=h,s[p]=h)}else{let h=bm(l,t,u+f,d),p=bm(l,t,u,u+f),g=h>=0&&e[h],m=p>=0&&e[p];if(i&&!m||!i&&!g){Rm(xd(a,s),o,l);let _=bV(i?_V:yV,e.length,i,r,c);!i&&m&&(e[p].providerFactory=_),_m(o,n,t.length,0),t.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),e.push(_),s.push(_)}else{let _=SS(e[i?p:h],c,!i&&r);_m(o,n,h>-1?h:p,_)}!i&&r&&m&&e[p].componentProviders++}}}function _m(n,t,e,r){let i=Us(t),o=y1(t);if(i||o){let l=(o?Pt(t.useClass):t).prototype.ngOnDestroy;if(l){let c=n.destroyHooks||(n.destroyHooks=[]);if(!i&&t.multi){let u=c.indexOf(e);u===-1?c.push(e,[r,l]):c[u+1].push(r,l)}else c.push(e,l)}}}function SS(n,t,e){return e&&n.componentProviders++,n.multi.push(t)-1}function bm(n,t,e,r){for(let i=e;i<r;i++)if(t[i]===n)return i;return-1}function yV(n,t,e,r,i){return uv(this.multi,[])}function _V(n,t,e,r,i){let o=this.multi,s;if(this.providerFactory){let a=this.providerFactory.componentProviders,l=Ml(r,r[Z],this.providerFactory.index,i);s=l.slice(0,a),uv(o,s);for(let c=a;c<l.length;c++)s.push(l[c])}else s=[],uv(o,s);return s}function uv(n,t){for(let e=0;e<n.length;e++){let r=n[e];t.push(r())}return t}function bV(n,t,e,r,i){let o=new To(n,e,j);return o.multi=[],o.index=t,o.componentProviders=0,SS(o,i,r&&!e),o}function mr(n,t=[]){return e=>{e.providersResolver=(r,i)=>vV(r,i?i(n):n,t)}}function IS(n,t){let e=n[t];return e===Vn?void 0:e}function wV(n,t,e,r,i,o){let s=t+e;return Xr(n,s,i)?hS(n,s+1,o?r.call(o,i):r(i)):IS(n,s+1)}function EV(n,t,e,r,i,o,s){let a=t+e;return hy(n,a,i,o)?hS(n,a+2,s?r.call(s,i,o):r(i,o)):IS(n,a+2)}function pe(n,t){let e=pt(),r,i=n+Je;e.firstCreatePass?(r=CV(t,e.pipeRegistry),e.data[i]=r,r.onDestroy&&(e.destroyHooks??=[]).push(i,r.onDestroy)):r=e.data[i];let o=r.factory||(r.factory=Do(r.type,!0)),s,a=Bt(j);try{let l=Dd(!1),c=o();return Dd(l),A1(e,fe(),i,c),c}finally{Bt(a)}}function CV(n,t){if(t)for(let e=t.length-1;e>=0;e--){let r=t[e];if(n===r.name)return r}}function wn(n,t,e){let r=n+Je,i=fe(),o=dD(i,r);return MS(i,r)?wV(i,yD(),t,o.transform,e,o):o.transform(e)}function Fe(n,t,e,r){let i=n+Je,o=fe(),s=dD(o,i);return MS(o,i)?EV(o,yD(),t,s.transform,e,r,s):s.transform(e,r)}function MS(n,t){return n[Z].data[t].pure}var dv=class{ngModuleFactory;componentFactories;constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}},TS=(()=>{class n{compileModuleSync(e){return new ov(e)}compileModuleAsync(e){return Promise.resolve(this.compileModuleSync(e))}compileModuleAndAllComponentsSync(e){let r=this.compileModuleSync(e),i=ZC(e),o=Ix(i.declarations).reduce((s,a)=>{let l=xi(a);return l&&s.push(new Ws(l)),s},[]);return new dv(r,o)}compileModuleAndAllComponentsAsync(e){return Promise.resolve(this.compileModuleAndAllComponentsSync(e))}clearCache(){}clearCacheFor(e){}getModuleId(e){}static \u0275fac=function(r){return new(r||n)};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var DV=(()=>{class n{zone=I(Ue);changeDetectionScheduler=I(Ao);applicationRef=I(qt);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),xV=new P("",{factory:()=>!1});function AS({ngZoneFactory:n,ignoreChangesOutsideZone:t,scheduleInRootZone:e}){return n??=()=>new Ue(te(O({},RS()),{scheduleInRootZone:e})),[{provide:Ue,useFactory:n},{provide:Di,multi:!0,useFactory:()=>{let r=I(DV,{optional:!0});return()=>r.initialize()}},{provide:Di,multi:!0,useFactory:()=>{let r=I(SV);return()=>{r.initialize()}}},t===!0?{provide:UD,useValue:!0}:[],{provide:$D,useValue:e??BD}]}function OS(n){let t=n?.ignoreChangesOutsideZone,e=n?.scheduleInRootZone,r=AS({ngZoneFactory:()=>{let i=RS(n);return i.scheduleInRootZone=e,i.shouldCoalesceEventChangeDetection&&hr("NgZone_CoalesceEvent"),new Ue(i)},ignoreChangesOutsideZone:t,scheduleInRootZone:e});return Qr([{provide:xV,useValue:!0},{provide:Zd,useValue:!1},r])}function RS(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var SV=(()=>{class n{subscription=new Qe;initialized=!1;zone=I(Ue);pendingTasks=I(dr);initialize(){if(this.initialized)return;this.initialized=!0;let e=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(e=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Ue.assertNotInAngularZone(),queueMicrotask(()=>{e!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(e),e=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Ue.assertInAngularZone(),e??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var IV=(()=>{class n{appRef=I(qt);taskService=I(dr);ngZone=I(Ue);zonelessEnabled=I(Zd);tracing=I(ta,{optional:!0});disableScheduling=I(UD,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new Qe;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Id):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(I($D,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Lm||!this.zoneIsDefined)}notify(e){if(!this.zonelessEnabled&&e===5)return;let r=!1;switch(e){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?KE:HD;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(e){return!(this.disableScheduling&&!e||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Id+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let e=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(e),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,KE(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(e)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let e=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(e)}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function MV(){return typeof $localize<"u"&&$localize.locale||jd}var jl=new P("",{providedIn:"root",factory:()=>I(jl,ie.Optional|ie.SkipSelf)||MV()}),kS=new P("",{providedIn:"root",factory:()=>uV});var hv=new P(""),TV=new P("");function wl(n){return!n.moduleRef}function AV(n){let t=wl(n)?n.r3Injector:n.moduleRef.injector,e=t.get(Ue);return e.run(()=>{wl(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let r=t.get(ar,null),i;if(e.runOutsideAngular(()=>{i=e.onError.subscribe({next:o=>{r.handleError(o)}})}),wl(n)){let o=()=>t.destroy(),s=n.platformInjector.get(hv);s.add(o),t.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>n.moduleRef.destroy(),s=n.platformInjector.get(hv);s.add(o),n.moduleRef.onDestroy(()=>{dd(n.allPlatformModules,n.moduleRef),i.unsubscribe(),s.delete(o)})}return RV(r,e,()=>{let o=t.get(vS);return o.runInitializers(),o.donePromise.then(()=>{let s=t.get(jl,jd);if(hV(s||jd),!t.get(TV,!0))return wl(n)?t.get(qt):(n.allPlatformModules.push(n.moduleRef),n.moduleRef);if(wl(n)){let l=t.get(qt);return n.rootComponent!==void 0&&l.bootstrap(n.rootComponent),l}else return OV(n.moduleRef,n.allPlatformModules),n.moduleRef})})})}function OV(n,t){let e=n.injector.get(qt);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(r=>e.bootstrap(r));else if(n.instance.ngDoBootstrap)n.instance.ngDoBootstrap(e);else throw new N(-403,!1);t.push(n)}function RV(n,t,e){try{let r=e();return Ai(r)?r.catch(i=>{throw t.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw t.runOutsideAngular(()=>n.handleError(r)),r}}var hd=null;function kV(n=[],t){return zt.create({name:t,providers:[{provide:Hd,useValue:"platform"},{provide:hv,useValue:new Set([()=>hd=null])},...n]})}function PV(n=[]){if(hd)return hd;let t=kV(n);return hd=t,D2(),NV(t),t}function NV(n){let t=n.get(jv,null);Wt(n,()=>{t?.forEach(e=>e())})}var ti=(()=>{class n{static __NG_ELEMENT_ID__=FV}return n})();function FV(n){return LV(St(),fe(),(n&16)===16)}function LV(n,t,e){if(ko(n)&&!e){let r=sr(n.index,t);return new Tl(r,r)}else if(n.type&175){let r=t[_n];return new Tl(r,t)}return null}var fv=class{constructor(){}supports(t){return dS(t)}create(t){return new pv(t)}},jV=(n,t)=>t,pv=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(t){this._trackByFn=t||jV}forEachItem(t){let e;for(e=this._itHead;e!==null;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,r=this._removalsHead,i=0,o=null;for(;e||r;){let s=!r||e&&e.currentIndex<IC(r,i,o)?e:r,a=IC(s,i,o),l=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(e=e._next,s.previousIndex==null)i++;else{o||(o=[]);let c=a-i,u=l-i;if(c!=u){for(let f=0;f<c;f++){let h=f<o.length?o[f]:o[f]=0,p=h+f;u<=p&&p<c&&(o[f]=h+1)}let d=s.previousIndex;o[d]=u-c}}a!==l&&t(s,a,l)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;e!==null;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;e!==null;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;e!==null;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;e!==null;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;e!==null;e=e._nextIdentityChange)t(e)}diff(t){if(t==null&&(t=[]),!dS(t))throw new N(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._itHead,r=!1,i,o,s;if(Array.isArray(t)){this.length=t.length;for(let a=0;a<this.length;a++)o=t[a],s=this._trackByFn(a,o),e===null||!Object.is(e.trackById,s)?(e=this._mismatch(e,o,s,a),r=!0):(r&&(e=this._verifyReinsertion(e,o,s,a)),Object.is(e.item,o)||this._addIdentityChange(e,o)),e=e._next}else i=0,u2(t,a=>{s=this._trackByFn(i,a),e===null||!Object.is(e.trackById,s)?(e=this._mismatch(e,a,s,i),r=!0):(r&&(e=this._verifyReinsertion(e,a,s,i)),Object.is(e.item,a)||this._addIdentityChange(e,a)),e=e._next,i++}),this.length=i;return this._truncate(e),this.collection=t,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;t!==null;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;t!==null;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;t!==null;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,r,i){let o;return t===null?o=this._itTail:(o=t._prev,this._remove(t)),t=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),t!==null?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,o,i)):(t=this._linkedRecords===null?null:this._linkedRecords.get(r,i),t!==null?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,o,i)):t=this._addAfter(new gv(e,r),o,i)),t}_verifyReinsertion(t,e,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?t=this._reinsertAfter(o,t._prev,i):t.currentIndex!=i&&(t.currentIndex=i,this._addToMoves(t,i)),t}_truncate(t){for(;t!==null;){let e=t._next;this._addToRemovals(this._unlink(t)),t=e}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(t);let i=t._prevRemoved,o=t._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(t,e,r),this._addToMoves(t,r),t}_moveAfter(t,e,r){return this._unlink(t),this._insertAfter(t,e,r),this._addToMoves(t,r),t}_addAfter(t,e,r){return this._insertAfter(t,e,r),this._additionsTail===null?this._additionsTail=this._additionsHead=t:this._additionsTail=this._additionsTail._nextAdded=t,t}_insertAfter(t,e,r){let i=e===null?this._itHead:e._next;return t._next=i,t._prev=e,i===null?this._itTail=t:i._prev=t,e===null?this._itHead=t:e._next=t,this._linkedRecords===null&&(this._linkedRecords=new Vd),this._linkedRecords.put(t),t.currentIndex=r,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){this._linkedRecords!==null&&this._linkedRecords.remove(t);let e=t._prev,r=t._next;return e===null?this._itHead=r:e._next=r,r===null?this._itTail=e:r._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail===null?this._movesTail=this._movesHead=t:this._movesTail=this._movesTail._nextMoved=t),t}_addToRemovals(t){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Vd),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=t:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=t,t}},gv=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(t,e){this.item=t,this.trackById=e}},mv=class{_head=null;_tail=null;add(t){this._head===null?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let r;for(r=this._head;r!==null;r=r._nextDup)if((e===null||e<=r.currentIndex)&&Object.is(r.trackById,t))return r;return null}remove(t){let e=t._prevDup,r=t._nextDup;return e===null?this._head=r:e._nextDup=r,r===null?this._tail=e:r._prevDup=e,this._head===null}},Vd=class{map=new Map;put(t){let e=t.trackById,r=this.map.get(e);r||(r=new mv,this.map.set(e,r)),r.add(t)}get(t,e){let r=t,i=this.map.get(r);return i?i.get(t,e):null}remove(t){let e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function IC(n,t,e){let r=n.previousIndex;if(r===null)return r;let i=0;return e&&r<e.length&&(i=e[r]),r+t+i}function MC(){return new wy([new fv])}var wy=(()=>{class n{factories;static \u0275prov=L({token:n,providedIn:"root",factory:MC});constructor(e){this.factories=e}static create(e,r){if(r!=null){let i=r.factories.slice();e=e.concat(i)}return new n(e)}static extend(e){return{provide:n,useFactory:r=>n.create(e,r||MC()),deps:[[n,new l1,new WC]]}}find(e){let r=this.factories.find(i=>i.supports(e));if(r!=null)return r;throw new N(901,!1)}}return n})();function PS(n){let{rootComponent:t,appProviders:e,platformProviders:r,platformRef:i}=n;be(8);try{let o=i?.injector??PV(r),s=[AS({}),{provide:Ao,useExisting:IV},...e||[]],a=new Fd({providers:s,parent:o,debugName:"",runEnvironmentInitializers:!1});return AV({r3Injector:a.injector,platformInjector:o,rootComponent:t})}catch(o){return Promise.reject(o)}finally{be(9)}}var od=new WeakSet,TC="",fd=[];function AC(n){return n.get(ax,qN)}function NS(){let n=[{provide:ax,useFactory:()=>{let t=!0;{let e=I(Wr);t=!!window._ejsas?.[e]}return t&&hr("NgEventReplay"),t}}];return n.push({provide:Di,useValue:()=>{let t=I(qt),{injector:e}=t;if(!od.has(t)){let r=I(QE);if(AC(e)){gF();let i=e.get(Wr),o=fF(i,(s,a,l)=>{s.nodeType===Node.ELEMENT_NODE&&(cF(s,a,l),uF(s,r))});t.onDestroy(o)}}},multi:!0},{provide:Oi,useFactory:()=>{let t=I(qt),{injector:e}=t;return()=>{!AC(e)||od.has(t)||(od.add(t),t.onDestroy(()=>{od.delete(t);{let r=e.get(Wr);nm(r)}}),t.whenStable().then(()=>{if(t.destroyed)return;let r=e.get(hF);VV(r,e);let i=e.get(QE);i.get(TC)?.forEach(dF),i.delete(TC);let o=r.instance;xF(e)?t.onDestroy(()=>o.cleanUp()):o.cleanUp()}))}},multi:!0}),n}var VV=(n,t)=>{let e=t.get(Wr),r=window._ejsas[e],i=n.instance=new OE(new Qu(r.c));for(let a of r.et)i.addEvent(a);for(let a of r.etc)i.addEvent(a);let o=RE(e);i.replayEarlyEventInfos(o),nm(e);let s=new ed(a=>{BV(t,a,a.currentTarget)});AE(i,s)};function BV(n,t,e){let r=(e&&e.getAttribute(th))??"";/d\d+/.test(r)?UV(r,n,t,e):t.eventPhase===tm.REPLAY&&hx(t,e)}function UV(n,t,e,r){fd.push({event:e,currentTarget:r}),O2(t,n,$V)}function $V(n){let t=[...fd],e=new Set(n);fd=[];for(let{event:r,currentTarget:i}of t){let o=i.getAttribute(th);e.has(o)?hx(r,i):fd.push({event:r,currentTarget:i})}}var OC=!1;function HV(){OC||(OC=!0,wF(),rV(),mV(),sV(),m2(),Bj(),fj(),sL())}function zV(n){return n.whenStable()}function FS(){let n=[{provide:nd,useFactory:()=>{let t=!0;return t=!!I(ea,{optional:!0})?.get(px,null),t&&hr("NgHydration"),t}},{provide:Di,useValue:()=>{sj(!1),I(nd)&&(TF(Jd()),HV())},multi:!0}];return n.push({provide:sx,useFactory:()=>I(nd)},{provide:Oi,useFactory:()=>{if(I(nd)){let t=I(qt);return()=>{zV(t).then(()=>{t.destroyed||Jx(t)})}}return()=>{}},multi:!0}),Qr(n)}function Lo(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function Un(n){return Ig(n)}function oa(n,t){return Cg(n,t?.equal)}var RC=class{[mn];constructor(t){this[mn]=t}destroy(){this[mn].destroy()}};function LS(n){let t=xi(n);if(!t)return null;let e=new Ws(t);return{get selector(){return e.selector},get type(){return e.componentType},get inputs(){return e.inputs},get outputs(){return e.outputs},get ngContentSelectors(){return e.ngContentSelectors},get isStandalone(){return t.standalone},get isSignal(){return t.signals}}}var rt=new P("");var BS=null;function En(){return BS}function Ey(n){BS??=n}var Vl=class{},Bl=(()=>{class n{historyGo(e){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=L({token:n,factory:()=>I(US),providedIn:"platform"})}return n})(),Cy=new P(""),US=(()=>{class n extends Bl{_location;_history;_doc=I(rt);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return En().getBaseHref(this._doc)}onPopState(e){let r=En().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",e,!1),()=>r.removeEventListener("popstate",e)}onHashChange(e){let r=En().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",e,!1),()=>r.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,r,i){this._history.pushState(e,r,i)}replaceState(e,r,i){this._history.replaceState(e,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||n)};static \u0275prov=L({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function gh(n,t){return n?t?n.endsWith("/")?t.startsWith("/")?n+t.slice(1):n+t:t.startsWith("/")?n+t:`${n}/${t}`:n:t}function jS(n){let t=n.search(/#|\?|$/);return n[t-1]==="/"?n.slice(0,t-1)+n.slice(t):n}function $n(n){return n&&n[0]!=="?"?`?${n}`:n}var Hn=(()=>{class n{historyGo(e){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=L({token:n,factory:()=>I(vh),providedIn:"root"})}return n})(),mh=new P(""),vh=(()=>{class n extends Hn{_platformLocation;_baseHref;_removeListenerFns=[];constructor(e,r){super(),this._platformLocation=e,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??I(rt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return gh(this._baseHref,e)}path(e=!1){let r=this._platformLocation.pathname+$n(this._platformLocation.search),i=this._platformLocation.hash;return i&&e?`${r}${i}`:r}pushState(e,r,i,o){let s=this.prepareExternalUrl(i+$n(o));this._platformLocation.pushState(e,r,s)}replaceState(e,r,i,o){let s=this.prepareExternalUrl(i+$n(o));this._platformLocation.replaceState(e,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static \u0275fac=function(r){return new(r||n)(H(Bl),H(mh,8))};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),ki=(()=>{class n{_subject=new Ke;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(e){this._locationStrategy=e;let r=this._locationStrategy.getBaseHref();this._basePath=GV(jS(VS(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,r=""){return this.path()==this.normalize(e+$n(r))}normalize(e){return n.stripTrailingSlash(WV(this._basePath,VS(e)))}prepareExternalUrl(e){return e&&e[0]!=="/"&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,r="",i=null){this._locationStrategy.pushState(i,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+$n(r)),i)}replaceState(e,r="",i=null){this._locationStrategy.replaceState(i,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+$n(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",r){this._urlChangeListeners.forEach(i=>i(e,r))}subscribe(e,r,i){return this._subject.subscribe({next:e,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=$n;static joinWithSlash=gh;static stripTrailingSlash=jS;static \u0275fac=function(r){return new(r||n)(H(Hn))};static \u0275prov=L({token:n,factory:()=>qV(),providedIn:"root"})}return n})();function qV(){return new ki(H(Hn))}function WV(n,t){if(!n||!t.startsWith(n))return t;let e=t.substring(n.length);return e===""||["/",";","?","#"].includes(e[0])?e:t}function VS(n){return n.replace(/\/index.html$/,"")}function GV(n){if(new RegExp("^(https?:)?//").test(n)){let[,e]=n.split(/\/\/[^\/]+/);return e}return n}var Oy=(()=>{class n extends Hn{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(e,r){super(),this._platformLocation=e,r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(e){let r=gh(this._baseHref,e);return r.length>0?"#"+r:r}pushState(e,r,i,o){let s=this.prepareExternalUrl(i+$n(o))||this._platformLocation.pathname;this._platformLocation.pushState(e,r,s)}replaceState(e,r,i,o){let s=this.prepareExternalUrl(i+$n(o))||this._platformLocation.pathname;this._platformLocation.replaceState(e,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static \u0275fac=function(r){return new(r||n)(H(Bl),H(mh,8))};static \u0275prov=L({token:n,factory:n.\u0275fac})}return n})(),GS={ADP:[void 0,void 0,0],AFN:[void 0,"\u060B",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058F",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20BC"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09F3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xA5","\xA5"],COP:[void 0,"$",2],CRC:[void 0,"\u20A1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010D",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xA3"],ESP:[void 0,"\u20A7",0],EUR:["\u20AC"],FJD:[void 0,"$"],FKP:[void 0,"\xA3"],GBP:["\xA3"],GEL:[void 0,"\u20BE"],GHS:[void 0,"GH\u20B5"],GIP:[void 0,"\xA3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20AA"],INR:["\u20B9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xA5",void 0,0],KHR:[void 0,"\u17DB"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20A9",0],KRW:["\u20A9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20B8"],LAK:[void 0,"\u20AD",0],LBP:[void 0,"L\xA3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20AE",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20A6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20B1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20B2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20BD"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xA3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xA3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xA3",0],THB:[void 0,"\u0E3F"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20BA"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20B4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20AB",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202FCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xA4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]},Ry=function(n){return n[n.Decimal=0]="Decimal",n[n.Percent=1]="Percent",n[n.Currency=2]="Currency",n[n.Scientific=3]="Scientific",n}(Ry||{});var Mt=function(n){return n[n.Format=0]="Format",n[n.Standalone=1]="Standalone",n}(Mt||{}),De=function(n){return n[n.Narrow=0]="Narrow",n[n.Abbreviated=1]="Abbreviated",n[n.Wide=2]="Wide",n[n.Short=3]="Short",n}(De||{}),Zt=function(n){return n[n.Short=0]="Short",n[n.Medium=1]="Medium",n[n.Long=2]="Long",n[n.Full=3]="Full",n}(Zt||{}),Jt={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function KS(n){return Yt(n)[$e.LocaleId]}function YS(n,t,e){let r=Yt(n),i=[r[$e.DayPeriodsFormat],r[$e.DayPeriodsStandalone]],o=Cn(i,t);return Cn(o,e)}function ZS(n,t,e){let r=Yt(n),i=[r[$e.DaysFormat],r[$e.DaysStandalone]],o=Cn(i,t);return Cn(o,e)}function JS(n,t,e){let r=Yt(n),i=[r[$e.MonthsFormat],r[$e.MonthsStandalone]],o=Cn(i,t);return Cn(o,e)}function XS(n,t){let r=Yt(n)[$e.Eras];return Cn(r,t)}function Ul(n,t){let e=Yt(n);return Cn(e[$e.DateFormat],t)}function $l(n,t){let e=Yt(n);return Cn(e[$e.TimeFormat],t)}function Hl(n,t){let r=Yt(n)[$e.DateTimeFormat];return Cn(r,t)}function vr(n,t){let e=Yt(n),r=e[$e.NumberSymbols][t];if(typeof r>"u"){if(t===Jt.CurrencyDecimal)return e[$e.NumberSymbols][Jt.Decimal];if(t===Jt.CurrencyGroup)return e[$e.NumberSymbols][Jt.Group]}return r}function QS(n,t){return Yt(n)[$e.NumberFormats][t]}function KV(n){return Yt(n)[$e.Currencies]}function eI(n){if(!n[$e.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[$e.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function tI(n){let t=Yt(n);return eI(t),(t[$e.ExtraData][2]||[]).map(r=>typeof r=="string"?Dy(r):[Dy(r[0]),Dy(r[1])])}function nI(n,t,e){let r=Yt(n);eI(r);let i=[r[$e.ExtraData][0],r[$e.ExtraData][1]],o=Cn(i,t)||[];return Cn(o,e)||[]}function Cn(n,t){for(let e=t;e>-1;e--)if(typeof n[e]<"u")return n[e];throw new Error("Locale data API: locale data undefined")}function Dy(n){let[t,e]=n.split(":");return{hours:+t,minutes:+e}}function rI(n,t,e="en"){let r=KV(e)[n]||GS[n]||[],i=r[1];return t==="narrow"&&typeof i=="string"?i:r[0]||n}var YV=2;function iI(n){let t,e=GS[n];return e&&(t=e[2]),typeof t=="number"?t:YV}var ZV=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,yh={},JV=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;function oI(n,t,e,r){let i=sB(n);t=ni(e,t)||t;let s=[],a;for(;t;)if(a=JV.exec(t),a){s=s.concat(a.slice(1));let u=s.pop();if(!u)break;t=u}else{s.push(t);break}let l=i.getTimezoneOffset();r&&(l=aI(r,l),i=oB(i,r));let c="";return s.forEach(u=>{let d=rB(u);c+=d?d(i,e,l):u==="''"?"'":u.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),c}function Ch(n,t,e){let r=new Date(0);return r.setFullYear(n,t,e),r.setHours(0,0,0),r}function ni(n,t){let e=KS(n);if(yh[e]??={},yh[e][t])return yh[e][t];let r="";switch(t){case"shortDate":r=Ul(n,Zt.Short);break;case"mediumDate":r=Ul(n,Zt.Medium);break;case"longDate":r=Ul(n,Zt.Long);break;case"fullDate":r=Ul(n,Zt.Full);break;case"shortTime":r=$l(n,Zt.Short);break;case"mediumTime":r=$l(n,Zt.Medium);break;case"longTime":r=$l(n,Zt.Long);break;case"fullTime":r=$l(n,Zt.Full);break;case"short":let i=ni(n,"shortTime"),o=ni(n,"shortDate");r=_h(Hl(n,Zt.Short),[i,o]);break;case"medium":let s=ni(n,"mediumTime"),a=ni(n,"mediumDate");r=_h(Hl(n,Zt.Medium),[s,a]);break;case"long":let l=ni(n,"longTime"),c=ni(n,"longDate");r=_h(Hl(n,Zt.Long),[l,c]);break;case"full":let u=ni(n,"fullTime"),d=ni(n,"fullDate");r=_h(Hl(n,Zt.Full),[u,d]);break}return r&&(yh[e][t]=r),r}function _h(n,t){return t&&(n=n.replace(/\{([^}]+)}/g,function(e,r){return t!=null&&r in t?t[r]:e})),n}function zn(n,t,e="-",r,i){let o="";(n<0||i&&n<=0)&&(i?n=-n+1:(n=-n,o=e));let s=String(n);for(;s.length<t;)s="0"+s;return r&&(s=s.slice(s.length-t)),o+s}function XV(n,t){return zn(n,3).substring(0,t)}function it(n,t,e=0,r=!1,i=!1){return function(o,s){let a=QV(n,o);if((e>0||a>-e)&&(a+=e),n===3)a===0&&e===-12&&(a=12);else if(n===6)return XV(a,t);let l=vr(s,Jt.MinusSign);return zn(a,t,l,r,i)}}function QV(n,t){switch(n){case 0:return t.getFullYear();case 1:return t.getMonth();case 2:return t.getDate();case 3:return t.getHours();case 4:return t.getMinutes();case 5:return t.getSeconds();case 6:return t.getMilliseconds();case 7:return t.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}function Ae(n,t,e=Mt.Format,r=!1){return function(i,o){return eB(i,o,n,t,e,r)}}function eB(n,t,e,r,i,o){switch(e){case 2:return JS(t,i,r)[n.getMonth()];case 1:return ZS(t,i,r)[n.getDay()];case 0:let s=n.getHours(),a=n.getMinutes();if(o){let c=tI(t),u=nI(t,i,r),d=c.findIndex(f=>{if(Array.isArray(f)){let[h,p]=f,g=s>=h.hours&&a>=h.minutes,m=s<p.hours||s===p.hours&&a<p.minutes;if(h.hours<p.hours){if(g&&m)return!0}else if(g||m)return!0}else if(f.hours===s&&f.minutes===a)return!0;return!1});if(d!==-1)return u[d]}return YS(t,i,r)[s<12?0:1];case 3:return XS(t,r)[n.getFullYear()<=0?0:1];default:let l=e;throw new Error(`unexpected translation type ${l}`)}}function bh(n){return function(t,e,r){let i=-1*r,o=vr(e,Jt.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(n){case 0:return(i>=0?"+":"")+zn(s,2,o)+zn(Math.abs(i%60),2,o);case 1:return"GMT"+(i>=0?"+":"")+zn(s,1,o);case 2:return"GMT"+(i>=0?"+":"")+zn(s,2,o)+":"+zn(Math.abs(i%60),2,o);case 3:return r===0?"Z":(i>=0?"+":"")+zn(s,2,o)+":"+zn(Math.abs(i%60),2,o);default:throw new Error(`Unknown zone width "${n}"`)}}}var tB=0,Eh=4;function nB(n){let t=Ch(n,tB,1).getDay();return Ch(n,0,1+(t<=Eh?Eh:Eh+7)-t)}function sI(n){let t=n.getDay(),e=t===0?-3:Eh-t;return Ch(n.getFullYear(),n.getMonth(),n.getDate()+e)}function xy(n,t=!1){return function(e,r){let i;if(t){let o=new Date(e.getFullYear(),e.getMonth(),1).getDay()-1,s=e.getDate();i=1+Math.floor((s+o)/7)}else{let o=sI(e),s=nB(o.getFullYear()),a=o.getTime()-s.getTime();i=1+Math.round(a/6048e5)}return zn(i,n,vr(r,Jt.MinusSign))}}function wh(n,t=!1){return function(e,r){let o=sI(e).getFullYear();return zn(o,n,vr(r,Jt.MinusSign),t)}}var Sy={};function rB(n){if(Sy[n])return Sy[n];let t;switch(n){case"G":case"GG":case"GGG":t=Ae(3,De.Abbreviated);break;case"GGGG":t=Ae(3,De.Wide);break;case"GGGGG":t=Ae(3,De.Narrow);break;case"y":t=it(0,1,0,!1,!0);break;case"yy":t=it(0,2,0,!0,!0);break;case"yyy":t=it(0,3,0,!1,!0);break;case"yyyy":t=it(0,4,0,!1,!0);break;case"Y":t=wh(1);break;case"YY":t=wh(2,!0);break;case"YYY":t=wh(3);break;case"YYYY":t=wh(4);break;case"M":case"L":t=it(1,1,1);break;case"MM":case"LL":t=it(1,2,1);break;case"MMM":t=Ae(2,De.Abbreviated);break;case"MMMM":t=Ae(2,De.Wide);break;case"MMMMM":t=Ae(2,De.Narrow);break;case"LLL":t=Ae(2,De.Abbreviated,Mt.Standalone);break;case"LLLL":t=Ae(2,De.Wide,Mt.Standalone);break;case"LLLLL":t=Ae(2,De.Narrow,Mt.Standalone);break;case"w":t=xy(1);break;case"ww":t=xy(2);break;case"W":t=xy(1,!0);break;case"d":t=it(2,1);break;case"dd":t=it(2,2);break;case"c":case"cc":t=it(7,1);break;case"ccc":t=Ae(1,De.Abbreviated,Mt.Standalone);break;case"cccc":t=Ae(1,De.Wide,Mt.Standalone);break;case"ccccc":t=Ae(1,De.Narrow,Mt.Standalone);break;case"cccccc":t=Ae(1,De.Short,Mt.Standalone);break;case"E":case"EE":case"EEE":t=Ae(1,De.Abbreviated);break;case"EEEE":t=Ae(1,De.Wide);break;case"EEEEE":t=Ae(1,De.Narrow);break;case"EEEEEE":t=Ae(1,De.Short);break;case"a":case"aa":case"aaa":t=Ae(0,De.Abbreviated);break;case"aaaa":t=Ae(0,De.Wide);break;case"aaaaa":t=Ae(0,De.Narrow);break;case"b":case"bb":case"bbb":t=Ae(0,De.Abbreviated,Mt.Standalone,!0);break;case"bbbb":t=Ae(0,De.Wide,Mt.Standalone,!0);break;case"bbbbb":t=Ae(0,De.Narrow,Mt.Standalone,!0);break;case"B":case"BB":case"BBB":t=Ae(0,De.Abbreviated,Mt.Format,!0);break;case"BBBB":t=Ae(0,De.Wide,Mt.Format,!0);break;case"BBBBB":t=Ae(0,De.Narrow,Mt.Format,!0);break;case"h":t=it(3,1,-12);break;case"hh":t=it(3,2,-12);break;case"H":t=it(3,1);break;case"HH":t=it(3,2);break;case"m":t=it(4,1);break;case"mm":t=it(4,2);break;case"s":t=it(5,1);break;case"ss":t=it(5,2);break;case"S":t=it(6,1);break;case"SS":t=it(6,2);break;case"SSS":t=it(6,3);break;case"Z":case"ZZ":case"ZZZ":t=bh(0);break;case"ZZZZZ":t=bh(3);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=bh(1);break;case"OOOO":case"ZZZZ":case"zzzz":t=bh(2);break;default:return null}return Sy[n]=t,t}function aI(n,t){n=n.replace(/:/g,"");let e=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(e)?t:e}function iB(n,t){return n=new Date(n.getTime()),n.setMinutes(n.getMinutes()+t),n}function oB(n,t,e){let i=n.getTimezoneOffset(),o=aI(t,i);return iB(n,-1*(o-i))}function sB(n){if($S(n))return n;if(typeof n=="number"&&!isNaN(n))return new Date(n);if(typeof n=="string"){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){let[i,o=1,s=1]=n.split("-").map(a=>+a);return Ch(i,o-1,s)}let e=parseFloat(n);if(!isNaN(n-e))return new Date(e);let r;if(r=n.match(ZV))return aB(r)}let t=new Date(n);if(!$S(t))throw new Error(`Unable to convert "${n}" into a date`);return t}function aB(n){let t=new Date(0),e=0,r=0,i=n[8]?t.setUTCFullYear:t.setFullYear,o=n[8]?t.setUTCHours:t.setHours;n[9]&&(e=Number(n[9]+n[10]),r=Number(n[9]+n[11])),i.call(t,Number(n[1]),Number(n[2])-1,Number(n[3]));let s=Number(n[4]||0)-e,a=Number(n[5]||0)-r,l=Number(n[6]||0),c=Math.floor(parseFloat("0."+(n[7]||0))*1e3);return o.call(t,s,a,l,c),t}function $S(n){return n instanceof Date&&!isNaN(n.valueOf())}var lB=/^(\d+)?\.((\d+)(-(\d+))?)?$/,HS=22,Dh=".",zl="0",cB=";",uB=",",Iy="#",zS="\xA4";function dB(n,t,e,r,i,o,s=!1){let a="",l=!1;if(!isFinite(n))a=vr(e,Jt.Infinity);else{let c=pB(n);s&&(c=fB(c));let u=t.minInt,d=t.minFrac,f=t.maxFrac;if(o){let E=o.match(lB);if(E===null)throw new Error(`${o} is not a valid digit info`);let C=E[1],D=E[3],S=E[5];C!=null&&(u=My(C)),D!=null&&(d=My(D)),S!=null?f=My(S):D!=null&&d>f&&(f=d)}gB(c,d,f);let h=c.digits,p=c.integerLen,g=c.exponent,m=[];for(l=h.every(E=>!E);p<u;p++)h.unshift(0);for(;p<0;p++)h.unshift(0);p>0?m=h.splice(p,h.length):(m=h,h=[0]);let _=[];for(h.length>=t.lgSize&&_.unshift(h.splice(-t.lgSize,h.length).join(""));h.length>t.gSize;)_.unshift(h.splice(-t.gSize,h.length).join(""));h.length&&_.unshift(h.join("")),a=_.join(vr(e,r)),m.length&&(a+=vr(e,i)+m.join("")),g&&(a+=vr(e,Jt.Exponential)+"+"+g)}return n<0&&!l?a=t.negPre+a+t.negSuf:a=t.posPre+a+t.posSuf,a}function lI(n,t,e,r,i){let o=QS(t,Ry.Currency),s=hB(o,vr(t,Jt.MinusSign));return s.minFrac=iI(r),s.maxFrac=s.minFrac,dB(n,s,t,Jt.CurrencyGroup,Jt.CurrencyDecimal,i).replace(zS,e).replace(zS,"").trim()}function hB(n,t="-"){let e={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=n.split(cB),i=r[0],o=r[1],s=i.indexOf(Dh)!==-1?i.split(Dh):[i.substring(0,i.lastIndexOf(zl)+1),i.substring(i.lastIndexOf(zl)+1)],a=s[0],l=s[1]||"";e.posPre=a.substring(0,a.indexOf(Iy));for(let u=0;u<l.length;u++){let d=l.charAt(u);d===zl?e.minFrac=e.maxFrac=u+1:d===Iy?e.maxFrac=u+1:e.posSuf+=d}let c=a.split(uB);if(e.gSize=c[1]?c[1].length:0,e.lgSize=c[2]||c[1]?(c[2]||c[1]).length:0,o){let u=i.length-e.posPre.length-e.posSuf.length,d=o.indexOf(Iy);e.negPre=o.substring(0,d).replace(/'/g,""),e.negSuf=o.slice(d+u).replace(/'/g,"")}else e.negPre=t+e.posPre,e.negSuf=e.posSuf;return e}function fB(n){if(n.digits[0]===0)return n;let t=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(t===0?n.digits.push(0,0):t===1&&n.digits.push(0),n.integerLen+=2),n}function pB(n){let t=Math.abs(n)+"",e=0,r,i,o,s,a;for((i=t.indexOf(Dh))>-1&&(t=t.replace(Dh,"")),(o=t.search(/e/i))>0?(i<0&&(i=o),i+=+t.slice(o+1),t=t.substring(0,o)):i<0&&(i=t.length),o=0;t.charAt(o)===zl;o++);if(o===(a=t.length))r=[0],i=1;else{for(a--;t.charAt(a)===zl;)a--;for(i-=o,r=[],s=0;o<=a;o++,s++)r[s]=Number(t.charAt(o))}return i>HS&&(r=r.splice(0,HS-1),e=i-1,i=1),{digits:r,exponent:e,integerLen:i}}function gB(n,t,e){if(t>e)throw new Error(`The minimum number of digits after fraction (${t}) is higher than the maximum (${e}).`);let r=n.digits,i=r.length-n.integerLen,o=Math.min(Math.max(t,i),e),s=o+n.integerLen,a=r[s];if(s>0){r.splice(Math.max(n.integerLen,s));for(let d=s;d<r.length;d++)r[d]=0}else{i=Math.max(0,i),n.integerLen=1,r.length=Math.max(1,s=o+1),r[0]=0;for(let d=1;d<s;d++)r[d]=0}if(a>=5)if(s-1<0){for(let d=0;d>s;d--)r.unshift(0),n.integerLen++;r.unshift(1),n.integerLen++}else r[s-1]++;for(;i<Math.max(0,o);i++)r.push(0);let l=o!==0,c=t+n.integerLen,u=r.reduceRight(function(d,f,h,p){return f=f+d,p[h]=f<10?f:f-10,l&&(p[h]===0&&h>=c?p.pop():l=!1),f>=10?1:0},0);u&&(r.unshift(u),n.integerLen++)}function My(n){let t=parseInt(n);if(isNaN(t))throw new Error("Invalid integer literal when parsing "+n);return t}var xh=class{$implicit;ngForOf;index;count;constructor(t,e,r,i){this.$implicit=t,this.ngForOf=e,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},gt=(()=>{class n{_viewContainer;_template;_differs;set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(e,r,i){this._viewContainer=e,this._template=r,this._differs=i}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){let e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){let r=this._viewContainer;e.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new xh(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),qS(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}e.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);qS(o,i)})}static ngTemplateContextGuard(e,r){return!0}static \u0275fac=function(r){return new(r||n)(j(Ti),j(Oo),j(wy))};static \u0275dir=Te({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return n})();function qS(n,t){n.context.$implicit=t.item}var cn=(()=>{class n{_viewContainer;_context=new Sh;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(e,r){this._viewContainer=e,this._thenTemplateRef=r}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){WS(e,!1),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){WS(e,!1),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(e,r){return!0}static \u0275fac=function(r){return new(r||n)(j(Ti),j(Oo))};static \u0275dir=Te({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return n})(),Sh=class{$implicit=null;ngIf=null};function WS(n,t){if(n&&!n.createEmbeddedView)throw new N(2020,!1)}function ky(n,t){return new N(2100,!1)}var Ty=class{createSubscription(t,e){return Un(()=>t.subscribe({next:e,error:r=>{throw r}}))}dispose(t){Un(()=>t.unsubscribe())}},Ay=class{createSubscription(t,e){return t.then(r=>e?.(r),r=>{throw r}),{unsubscribe:()=>{e=null}}}dispose(t){t.unsubscribe()}},mB=new Ay,vB=new Ty,ri=(()=>{class n{_ref;_latestValue=null;markForCheckOnValueUpdate=!0;_subscription=null;_obj=null;_strategy=null;constructor(e){this._ref=e}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(e){if(!this._obj){if(e)try{this.markForCheckOnValueUpdate=!1,this._subscribe(e)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,r=>this._updateLatestValue(e,r))}_selectStrategy(e){if(Ai(e))return mB;if(py(e))return vB;throw ky(n,e)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,r){e===this._obj&&(this._latestValue=r,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static \u0275fac=function(r){return new(r||n)(j(ti,16))};static \u0275pipe=ph({name:"async",type:n,pure:!1})}return n})();var yB="mediumDate",cI=new P(""),uI=new P(""),ql=(()=>{class n{locale;defaultTimezone;defaultOptions;constructor(e,r,i){this.locale=e,this.defaultTimezone=r,this.defaultOptions=i}transform(e,r,i,o){if(e==null||e===""||e!==e)return null;try{let s=r??this.defaultOptions?.dateFormat??yB,a=i??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return oI(e,s,o||this.locale,a)}catch(s){throw ky(n,s.message)}}static \u0275fac=function(r){return new(r||n)(j(jl,16),j(cI,24),j(uI,24))};static \u0275pipe=ph({name:"date",type:n,pure:!0})}return n})();var qn=(()=>{class n{_locale;_defaultCurrencyCode;constructor(e,r="USD"){this._locale=e,this._defaultCurrencyCode=r}transform(e,r=this._defaultCurrencyCode,i="symbol",o,s){if(!_B(e))return null;s||=this._locale,typeof i=="boolean"&&(i=i?"symbol":"code");let a=r||this._defaultCurrencyCode;i!=="code"&&(i==="symbol"||i==="symbol-narrow"?a=rI(a,i==="symbol"?"wide":"narrow",s):a=i);try{let l=bB(e);return lI(l,s,a,r,o)}catch(l){throw ky(n,l.message)}}static \u0275fac=function(r){return new(r||n)(j(jl,16),j(kS,16))};static \u0275pipe=ph({name:"currency",type:n,pure:!0})}return n})();function _B(n){return!(n==null||n===""||n!==n)}function bB(n){if(typeof n=="string"&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if(typeof n!="number")throw new Error(`${n} is not a number`);return n}var mt=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Bn({type:n});static \u0275inj=Nn({})}return n})();function Wl(n,t){t=encodeURIComponent(t);for(let e of n.split(";")){let r=e.indexOf("="),[i,o]=r==-1?[e,""]:[e.slice(0,r),e.slice(r+1)];if(i.trim()===t)return decodeURIComponent(o)}return null}var Ih="browser",dI="server";function Py(n){return n===Ih}function Mh(n){return n===dI}var jo=class{};var fI=(()=>{class n{static \u0275prov=L({token:n,providedIn:"root",factory:()=>new Ny(I(rt),window)})}return n})(),Ny=class{document;window;offset=()=>[0,0];constructor(t,e){this.document=t,this.window=e}setOffset(t){Array.isArray(t)?this.offset=()=>t:this.offset=t}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(t){this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){let e=wB(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){this.window.history.scrollRestoration=t}scrollToElement(t){let e=t.getBoundingClientRect(),r=e.left+this.window.pageXOffset,i=e.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}};function wB(n,t){let e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if(typeof n.createTreeWalker=="function"&&n.body&&typeof n.body.attachShadow=="function"){let r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(t)||o.querySelector(`[name="${t}"]`);if(s)return s}i=r.nextNode()}}return null}var Oh=new P(""),Vy=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(e,r){this._zone=r,e.forEach(i=>{i.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,r,i,o){return this._findPluginFor(r).addEventListener(e,r,i,o)}getZone(){return this._zone}_findPluginFor(e){let r=this._eventNameToPlugin.get(e);if(r)return r;if(r=this._plugins.find(o=>o.supports(e)),!r)throw new N(5101,!1);return this._eventNameToPlugin.set(e,r),r}static \u0275fac=function(r){return new(r||n)(H(Oh),H(Ue))};static \u0275prov=L({token:n,factory:n.\u0275fac})}return n})(),Gl=class{_doc;constructor(t){this._doc=t}manager},Th="ng-app-id";function pI(n){for(let t of n)t.remove()}function gI(n,t){let e=t.createElement("style");return e.textContent=n,e}function EB(n,t,e,r){let i=n.head?.querySelectorAll(`style[${Th}="${t}"],link[${Th}="${t}"]`);if(i)for(let o of i)o.removeAttribute(Th),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&e.set(o.textContent,{usage:0,elements:[o]})}function Ly(n,t){let e=t.createElement("link");return e.setAttribute("rel","stylesheet"),e.setAttribute("href",n),e}var By=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(e,r,i,o={}){this.doc=e,this.appId=r,this.nonce=i,this.isServer=Mh(o),EB(e,r,this.inline,this.external),this.hosts.add(e.head)}addStyles(e,r){for(let i of e)this.addUsage(i,this.inline,gI);r?.forEach(i=>this.addUsage(i,this.external,Ly))}removeStyles(e,r){for(let i of e)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(e,r,i){let o=r.get(e);o?o.usage++:r.set(e,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(e,this.doc)))})}removeUsage(e,r){let i=r.get(e);i&&(i.usage--,i.usage<=0&&(pI(i.elements),r.delete(e)))}ngOnDestroy(){for(let[,{elements:e}]of[...this.inline,...this.external])pI(e);this.hosts.clear()}addHost(e){this.hosts.add(e);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(e,gI(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(e,Ly(r,this.doc)))}removeHost(e){this.hosts.delete(e)}addElement(e,r){return this.nonce&&r.setAttribute("nonce",this.nonce),this.isServer&&r.setAttribute(Th,this.appId),e.appendChild(r)}static \u0275fac=function(r){return new(r||n)(H(rt),H(Wr),H(Vv,8),H(Mi))};static \u0275prov=L({token:n,factory:n.\u0275fac})}return n})(),Fy={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Uy=/%COMP%/g;var vI="%COMP%",CB=`_nghost-${vI}`,DB=`_ngcontent-${vI}`,xB=!0,SB=new P("",{providedIn:"root",factory:()=>xB});function IB(n){return DB.replace(Uy,n)}function MB(n){return CB.replace(Uy,n)}function yI(n,t){return t.map(e=>e.replace(Uy,n))}var $y=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(e,r,i,o,s,a,l,c=null,u=null){this.eventManager=e,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=l,this.nonce=c,this.tracingService=u,this.platformIsServer=Mh(a),this.defaultRenderer=new Kl(e,s,l,this.platformIsServer,this.tracingService)}createRenderer(e,r){if(!e||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===lr.ShadowDom&&(r=te(O({},r),{encapsulation:lr.Emulated}));let i=this.getOrCreateRenderer(e,r);return i instanceof Ah?i.applyToHost(e):i instanceof Yl&&i.applyStyles(),i}getOrCreateRenderer(e,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,l=this.eventManager,c=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,d=this.platformIsServer,f=this.tracingService;switch(r.encapsulation){case lr.Emulated:o=new Ah(l,c,r,this.appId,u,s,a,d,f);break;case lr.ShadowDom:return new jy(l,c,e,r,s,a,this.nonce,d,f);default:o=new Yl(l,c,r,u,s,a,d,f);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(e){this.rendererByCompId.delete(e)}static \u0275fac=function(r){return new(r||n)(H(Vy),H(By),H(Wr),H(SB),H(rt),H(Mi),H(Ue),H(Vv),H(ta,8))};static \u0275prov=L({token:n,factory:n.\u0275fac})}return n})(),Kl=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(t,e,r,i,o){this.eventManager=t,this.doc=e,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(t,e){return e?this.doc.createElementNS(Fy[e]||e,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,e){(mI(t)?t.content:t).appendChild(e)}insertBefore(t,e,r){t&&(mI(t)?t.content:t).insertBefore(e,r)}removeChild(t,e){e.remove()}selectRootElement(t,e){let r=typeof t=="string"?this.doc.querySelector(t):t;if(!r)throw new N(-5104,!1);return e||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,r,i){if(i){e=i+":"+e;let o=Fy[i];o?t.setAttributeNS(o,e,r):t.setAttribute(e,r)}else t.setAttribute(e,r)}removeAttribute(t,e,r){if(r){let i=Fy[r];i?t.removeAttributeNS(i,e):t.removeAttribute(`${r}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,r,i){i&(Jr.DashCase|Jr.Important)?t.style.setProperty(e,r,i&Jr.Important?"important":""):t.style[e]=r}removeStyle(t,e,r){r&Jr.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,r){t!=null&&(t[e]=r)}setValue(t,e){t.nodeValue=e}listen(t,e,r,i){if(typeof t=="string"&&(t=En().getGlobalEventTarget(this.doc,t),!t))throw new N(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(t,e,o)),this.eventManager.addEventListener(t,e,o,i)}decoratePreventDefault(t){return e=>{if(e==="__ngUnwrap__")return t;(this.platformIsServer?this.ngZone.runGuarded(()=>t(e)):t(e))===!1&&e.preventDefault()}}};function mI(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var jy=class extends Kl{sharedStylesHost;hostEl;shadowRoot;constructor(t,e,r,i,o,s,a,l,c){super(t,o,s,l,c),this.sharedStylesHost=e,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let u=i.styles;u=yI(i.id,u);for(let f of u){let h=document.createElement("style");a&&h.setAttribute("nonce",a),h.textContent=f,this.shadowRoot.appendChild(h)}let d=i.getExternalStyles?.();if(d)for(let f of d){let h=Ly(f,o);a&&h.setAttribute("nonce",a),this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,r){return super.insertBefore(this.nodeOrShadowRoot(t),e,r)}removeChild(t,e){return super.removeChild(null,e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Yl=class extends Kl{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(t,e,r,i,o,s,a,l,c){super(t,o,s,a,l),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=i;let u=r.styles;this.styles=c?yI(c,u):u,this.styleUrls=r.getExternalStyles?.(c)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},Ah=class extends Yl{contentAttr;hostAttr;constructor(t,e,r,i,o,s,a,l,c){let u=i+"-"+r.id;super(t,e,r,o,s,a,l,c,u),this.contentAttr=IB(u),this.hostAttr=MB(u)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,e){let r=super.createElement(t,e);return super.setAttribute(r,this.contentAttr,""),r}};var Rh=class n extends Vl{supportsDOMEvents=!0;static makeCurrent(){Ey(new n)}onAndCancel(t,e,r,i){return t.addEventListener(e,r,i),()=>{t.removeEventListener(e,r,i)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.remove()}createElement(t,e){return e=e||this.getDefaultDocument(),e.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return e==="window"?window:e==="document"?t:e==="body"?t.body:null}getBaseHref(t){let e=TB();return e==null?null:AB(e)}resetBaseElement(){Zl=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return Wl(document.cookie,t)}},Zl=null;function TB(){return Zl=Zl||document.head.querySelector("base"),Zl?Zl.getAttribute("href"):null}function AB(n){return new URL(n,document.baseURI).pathname}var OB=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||n)};static \u0275prov=L({token:n,factory:n.\u0275fac})}return n})(),bI=(()=>{class n extends Gl{constructor(e){super(e)}supports(e){return!0}addEventListener(e,r,i,o){return e.addEventListener(r,i,o),()=>this.removeEventListener(e,r,i,o)}removeEventListener(e,r,i,o){return e.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||n)(H(rt))};static \u0275prov=L({token:n,factory:n.\u0275fac})}return n})(),_I=["alt","control","meta","shift"],RB={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},kB={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},wI=(()=>{class n extends Gl{constructor(e){super(e)}supports(e){return n.parseEventName(e)!=null}addEventListener(e,r,i,o){let s=n.parseEventName(r),a=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>En().onAndCancel(e,s.domEventName,a,o))}static parseEventName(e){let r=e.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=n._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),_I.forEach(c=>{let u=r.indexOf(c);u>-1&&(r.splice(u,1),s+=c+".")}),s+=o,r.length!=0||o.length===0)return null;let l={};return l.domEventName=i,l.fullKey=s,l}static matchEventFullKeyCode(e,r){let i=RB[e.key]||e.key,o="";return r.indexOf("code.")>-1&&(i=e.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),_I.forEach(s=>{if(s!==i){let a=kB[s];a(e)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(e,r,i){return o=>{n.matchEventFullKeyCode(o,e)&&i.runGuarded(()=>r(o))}}static _normalizeKey(e){return e==="esc"?"escape":e}static \u0275fac=function(r){return new(r||n)(H(rt))};static \u0275prov=L({token:n,factory:n.\u0275fac})}return n})();function Hy(n,t,e){return PS(O({rootComponent:n,platformRef:e?.platformRef},PB(t)))}function PB(n){return{appProviders:[...VB,...n?.providers??[]],platformProviders:jB}}function NB(){Rh.makeCurrent()}function FB(){return new ar}function LB(){return ex(document),document}var jB=[{provide:Mi,useValue:Ih},{provide:jv,useValue:NB,multi:!0},{provide:rt,useFactory:LB}];var VB=[{provide:Hd,useValue:"root"},{provide:ar,useFactory:FB},{provide:Oh,useClass:bI,multi:!0,deps:[rt]},{provide:Oh,useClass:wI,multi:!0,deps:[rt]},$y,By,Vy,{provide:qs,useExisting:$y},{provide:jo,useClass:OB},[]];var aa=class{},Jl=class{},si=class n{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(t){t?typeof t=="string"?this.lazyInit=()=>{this.headers=new Map,t.split(`
`).forEach(e=>{let r=e.indexOf(":");if(r>0){let i=e.slice(0,r),o=e.slice(r+1).trim();this.addHeaderEntry(i,o)}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((e,r)=>{this.addHeaderEntry(r,e)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([e,r])=>{this.setHeaderEntries(e,r)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();let e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){let e=new n;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){let e=t.name.toLowerCase();switch(t.op){case"a":case"s":let r=t.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(t.name,e);let i=(t.op==="a"?this.headers.get(e):void 0)||[];i.push(...r),this.headers.set(e,i);break;case"d":let o=t.value;if(!o)this.headers.delete(e),this.normalizedNames.delete(e);else{let s=this.headers.get(e);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,s)}break}}addHeaderEntry(t,e){let r=t.toLowerCase();this.maybeSetNormalizedName(t,r),this.headers.has(r)?this.headers.get(r).push(e):this.headers.set(r,[e])}setHeaderEntries(t,e){let r=(Array.isArray(e)?e:[e]).map(o=>o.toString()),i=t.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(t,i)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}};var Ph=class{encodeKey(t){return EI(t)}encodeValue(t){return EI(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}};function BB(n,t){let e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[s,a]=o==-1?[t.decodeKey(i),""]:[t.decodeKey(i.slice(0,o)),t.decodeValue(i.slice(o+1))],l=e.get(s)||[];l.push(a),e.set(s,l)}),e}var UB=/%(\d[a-f0-9])/gi,$B={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function EI(n){return encodeURIComponent(n).replace(UB,(t,e)=>$B[e]??t)}function kh(n){return`${n}`}var oi=class n{map;encoder;updates=null;cloneFrom=null;constructor(t={}){if(this.encoder=t.encoder||new Ph,t.fromString){if(t.fromObject)throw new N(2805,!1);this.map=BB(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{let r=t.fromObject[e],i=Array.isArray(r)?r.map(kh):[kh(r)];this.map.set(e,i)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();let e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){let e=[];return Object.keys(t).forEach(r=>{let i=t[r];Array.isArray(i)?i.forEach(o=>{e.push({param:r,value:o,op:"a"})}):e.push({param:r,value:i,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{let e=this.encoder.encodeKey(t);return this.map.get(t).map(r=>e+"="+this.encoder.encodeValue(r)).join("&")}).filter(t=>t!=="").join("&")}clone(t){let e=new n({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":let e=(t.op==="a"?this.map.get(t.param):void 0)||[];e.push(kh(t.value)),this.map.set(t.param,e);break;case"d":if(t.value!==void 0){let r=this.map.get(t.param)||[],i=r.indexOf(kh(t.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(t.param,r):this.map.delete(t.param)}else{this.map.delete(t.param);break}}}),this.cloneFrom=this.updates=null)}};var Nh=class{map=new Map;set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}};function HB(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function CI(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function DI(n){return typeof Blob<"u"&&n instanceof Blob}function xI(n){return typeof FormData<"u"&&n instanceof FormData}function zB(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}var SI="Content-Type",II="Accept",MI="X-Request-URL",TI="text/plain",AI="application/json",qB=`${AI}, ${TI}, */*`,sa=class n{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;responseType="json";method;params;urlWithParams;transferCache;constructor(t,e,r,i){this.url=e,this.method=t.toUpperCase();let o;if(HB(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new si,this.context??=new Nh,!this.params)this.params=new oi,this.urlWithParams=e;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=e;else{let a=e.indexOf("?"),l=a===-1?"?":a<e.length-1?"&":"";this.urlWithParams=e+l+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||CI(this.body)||DI(this.body)||xI(this.body)||zB(this.body)?this.body:this.body instanceof oi?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||xI(this.body)?null:DI(this.body)?this.body.type||null:CI(this.body)?null:typeof this.body=="string"?TI:this.body instanceof oi?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?AI:null}clone(t={}){let e=t.method||this.method,r=t.url||this.url,i=t.responseType||this.responseType,o=t.transferCache??this.transferCache,s=t.body!==void 0?t.body:this.body,a=t.withCredentials??this.withCredentials,l=t.reportProgress??this.reportProgress,c=t.headers||this.headers,u=t.params||this.params,d=t.context??this.context;return t.setHeaders!==void 0&&(c=Object.keys(t.setHeaders).reduce((f,h)=>f.set(h,t.setHeaders[h]),c)),t.setParams&&(u=Object.keys(t.setParams).reduce((f,h)=>f.set(h,t.setParams[h]),u)),new n(e,r,s,{params:u,headers:c,context:d,reportProgress:l,responseType:i,withCredentials:a,transferCache:o})}},Vo=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(Vo||{}),la=class{headers;status;statusText;url;ok;type;constructor(t,e=200,r="OK"){this.headers=t.headers||new si,this.status=t.status!==void 0?t.status:e,this.statusText=t.statusText||r,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}},Fh=class n extends la{constructor(t={}){super(t)}type=Vo.ResponseHeader;clone(t={}){return new n({headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}},Bo=class n extends la{body;constructor(t={}){super(t),this.body=t.body!==void 0?t.body:null}type=Vo.Response;clone(t={}){return new n({body:t.body!==void 0?t.body:this.body,headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}},Xl=class extends la{name="HttpErrorResponse";message;error;ok=!1;constructor(t){super(t,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${t.url||"(unknown url)"}`:this.message=`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}},WB=200,GB=204;function zy(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,transferCache:n.transferCache}}var OI=(()=>{class n{handler;constructor(e){this.handler=e}request(e,r,i={}){let o;if(e instanceof sa)o=e;else{let l;i.headers instanceof si?l=i.headers:l=new si(i.headers);let c;i.params&&(i.params instanceof oi?c=i.params:c=new oi({fromObject:i.params})),o=new sa(e,r,i.body!==void 0?i.body:null,{headers:l,context:i.context,params:c,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache})}let s=z(o).pipe(tr(l=>this.handler.handle(l)));if(e instanceof sa||i.observe==="events")return s;let a=s.pipe(kt(l=>l instanceof Bo));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(oe(l=>{if(l.body!==null&&!(l.body instanceof ArrayBuffer))throw new N(2806,!1);return l.body}));case"blob":return a.pipe(oe(l=>{if(l.body!==null&&!(l.body instanceof Blob))throw new N(2807,!1);return l.body}));case"text":return a.pipe(oe(l=>{if(l.body!==null&&typeof l.body!="string")throw new N(2808,!1);return l.body}));case"json":default:return a.pipe(oe(l=>l.body))}case"response":return a;default:throw new N(2809,!1)}}delete(e,r={}){return this.request("DELETE",e,r)}get(e,r={}){return this.request("GET",e,r)}head(e,r={}){return this.request("HEAD",e,r)}jsonp(e,r){return this.request("JSONP",e,{params:new oi().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,r={}){return this.request("OPTIONS",e,r)}patch(e,r,i={}){return this.request("PATCH",e,zy(i,r))}post(e,r,i={}){return this.request("POST",e,zy(i,r))}put(e,r,i={}){return this.request("PUT",e,zy(i,r))}static \u0275fac=function(r){return new(r||n)(H(aa))};static \u0275prov=L({token:n,factory:n.\u0275fac})}return n})();var KB=new P("");function YB(n,t){return t(n)}function ZB(n,t,e){return(r,i)=>Wt(e,()=>t(r,o=>n(o,i)))}var RI=new P(""),Wy=new P(""),kI=new P("",{providedIn:"root",factory:()=>!0});var Lh=(()=>{class n extends aa{backend;injector;chain=null;pendingTasks=I(dr);contributeToStability=I(kI);constructor(e,r){super(),this.backend=e,this.injector=r}handle(e){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(RI),...this.injector.get(Wy,[])]));this.chain=r.reduceRight((i,o)=>ZB(i,o,this.injector),YB)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(e,i=>this.backend.handle(i)).pipe(_o(()=>this.pendingTasks.remove(r)))}else return this.chain(e,r=>this.backend.handle(r))}static \u0275fac=function(r){return new(r||n)(H(Jl),H(wt))};static \u0275prov=L({token:n,factory:n.\u0275fac})}return n})();var JB=/^\)\]\}',?\n/,XB=RegExp(`^${MI}:`,"m");function QB(n){return"responseURL"in n&&n.responseURL?n.responseURL:XB.test(n.getAllResponseHeaders())?n.getResponseHeader(MI):null}var qy=(()=>{class n{xhrFactory;constructor(e){this.xhrFactory=e}handle(e){if(e.method==="JSONP")throw new N(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?xe(r.\u0275loadImpl()):z(null)).pipe(Vt(()=>new ge(o=>{let s=r.build();if(s.open(e.method,e.urlWithParams),e.withCredentials&&(s.withCredentials=!0),e.headers.forEach((g,m)=>s.setRequestHeader(g,m.join(","))),e.headers.has(II)||s.setRequestHeader(II,qB),!e.headers.has(SI)){let g=e.detectContentTypeHeader();g!==null&&s.setRequestHeader(SI,g)}if(e.responseType){let g=e.responseType.toLowerCase();s.responseType=g!=="json"?g:"text"}let a=e.serializeBody(),l=null,c=()=>{if(l!==null)return l;let g=s.statusText||"OK",m=new si(s.getAllResponseHeaders()),_=QB(s)||e.url;return l=new Fh({headers:m,status:s.status,statusText:g,url:_}),l},u=()=>{let{headers:g,status:m,statusText:_,url:E}=c(),C=null;m!==GB&&(C=typeof s.response>"u"?s.responseText:s.response),m===0&&(m=C?WB:0);let D=m>=200&&m<300;if(e.responseType==="json"&&typeof C=="string"){let S=C;C=C.replace(JB,"");try{C=C!==""?JSON.parse(C):null}catch(M){C=S,D&&(D=!1,C={error:M,text:C})}}D?(o.next(new Bo({body:C,headers:g,status:m,statusText:_,url:E||void 0})),o.complete()):o.error(new Xl({error:C,headers:g,status:m,statusText:_,url:E||void 0}))},d=g=>{let{url:m}=c(),_=new Xl({error:g,status:s.status||0,statusText:s.statusText||"Unknown Error",url:m||void 0});o.error(_)},f=!1,h=g=>{f||(o.next(c()),f=!0);let m={type:Vo.DownloadProgress,loaded:g.loaded};g.lengthComputable&&(m.total=g.total),e.responseType==="text"&&s.responseText&&(m.partialText=s.responseText),o.next(m)},p=g=>{let m={type:Vo.UploadProgress,loaded:g.loaded};g.lengthComputable&&(m.total=g.total),o.next(m)};return s.addEventListener("load",u),s.addEventListener("error",d),s.addEventListener("timeout",d),s.addEventListener("abort",d),e.reportProgress&&(s.addEventListener("progress",h),a!==null&&s.upload&&s.upload.addEventListener("progress",p)),s.send(a),o.next({type:Vo.Sent}),()=>{s.removeEventListener("error",d),s.removeEventListener("abort",d),s.removeEventListener("load",u),s.removeEventListener("timeout",d),e.reportProgress&&(s.removeEventListener("progress",h),a!==null&&s.upload&&s.upload.removeEventListener("progress",p)),s.readyState!==s.DONE&&s.abort()}})))}static \u0275fac=function(r){return new(r||n)(H(jo))};static \u0275prov=L({token:n,factory:n.\u0275fac})}return n})(),PI=new P(""),eU="XSRF-TOKEN",tU=new P("",{providedIn:"root",factory:()=>eU}),nU="X-XSRF-TOKEN",rU=new P("",{providedIn:"root",factory:()=>nU}),Ql=class{},iU=(()=>{class n{doc;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(e,r){this.doc=e,this.cookieName=r}getToken(){let e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=Wl(e,this.cookieName),this.lastCookieString=e),this.lastToken}static \u0275fac=function(r){return new(r||n)(H(rt),H(tU))};static \u0275prov=L({token:n,factory:n.\u0275fac})}return n})(),oU=/^(?:https?:)?\/\//i;function sU(n,t){if(!I(PI)||n.method==="GET"||n.method==="HEAD"||oU.test(n.url))return t(n);let e=I(Ql).getToken(),r=I(rU);return e!=null&&!n.headers.has(r)&&(n=n.clone({headers:n.headers.set(r,e)})),t(n)}function Gy(...n){let t=[OI,qy,Lh,{provide:aa,useExisting:Lh},{provide:Jl,useFactory:()=>I(KB,{optional:!0})??I(qy)},{provide:RI,useValue:sU,multi:!0},{provide:PI,useValue:!0},{provide:Ql,useClass:iU}];for(let e of n)t.push(...e.\u0275providers);return Qr(t)}var aU=new P(""),lU="b",cU="h",uU="s",dU="st",hU="u",fU="rt",Ky=new P(""),pU=["GET","HEAD"];function gU(n,t){let f=I(Ky),{isCacheActive:e}=f,r=yw(f,["isCacheActive"]),{transferCache:i,method:o}=n;if(!e||i===!1||o==="POST"&&!r.includePostRequests&&!i||o!=="POST"&&!pU.includes(o)||!r.includeRequestsWithAuthHeaders&&mU(n)||r.filter?.(n)===!1)return t(n);let s=I(ea);if(I(aU,{optional:!0}))throw new N(2803,!1);let l=n.url,c=vU(n,l),u=s.get(c,null),d=r.includeHeaders;if(typeof i=="object"&&i.includeHeaders&&(d=i.includeHeaders),u){let{[lU]:h,[fU]:p,[cU]:g,[uU]:m,[dU]:_,[hU]:E}=u,C=h;switch(p){case"arraybuffer":C=new TextEncoder().encode(h).buffer;break;case"blob":C=new Blob([h]);break}let D=new si(g);return z(new Bo({body:C,headers:D,status:m,statusText:_,url:E}))}return t(n).pipe(lt(h=>{h instanceof Bo}))}function mU(n){return n.headers.has("authorization")||n.headers.has("proxy-authorization")}function NI(n){return[...n.keys()].sort().map(t=>`${t}=${n.getAll(t)}`).join("&")}function vU(n,t){let{params:e,method:r,responseType:i}=n,o=NI(e),s=n.serializeBody();s instanceof URLSearchParams?s=NI(s):typeof s!="string"&&(s="");let a=[r,i,t,s,o].join("|"),l=yU(a);return l}function yU(n){let t=0;for(let e of n)t=Math.imul(31,t)+e.charCodeAt(0)<<0;return t+=2147483648,t.toString()}function FI(n){return[{provide:Ky,useFactory:()=>(hr("NgHttpTransferCache"),O({isCacheActive:!0},n))},{provide:Wy,useValue:gU,multi:!0},{provide:Oi,multi:!0,useFactory:()=>{let t=I(qt),e=I(Ky);return()=>{t.whenStable().then(()=>{e.isCacheActive=!1})}}}]}var LI=(()=>{class n{_doc;constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}static \u0275fac=function(r){return new(r||n)(H(rt))};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var jh=function(n){return n[n.NoHttpTransferCache=0]="NoHttpTransferCache",n[n.HttpTransferCacheOptions=1]="HttpTransferCacheOptions",n[n.I18nSupport=2]="I18nSupport",n[n.EventReplay=3]="EventReplay",n[n.IncrementalHydration=4]="IncrementalHydration",n}(jh||{});function _U(n,t=[],e={}){return{\u0275kind:n,\u0275providers:t}}function jI(){return _U(jh.EventReplay,NS())}function VI(...n){let t=[],e=new Set;for(let{\u0275providers:i,\u0275kind:o}of n)e.add(o),i.length&&t.push(i);let r=e.has(jh.HttpTransferCacheOptions);return Qr([[],FS(),e.has(jh.NoHttpTransferCache)||r?[]:FI({}),t])}var ne="primary",hc=Symbol("RouteTitle"),Qy=class{params;constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){let e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){let e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}};function Ho(n){return new Qy(n)}function GI(n,t,e){let r=e.path.split("/");if(r.length>n.length||e.pathMatch==="full"&&(t.hasChildren()||r.length<n.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=n[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function wU(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!yr(n[e],t[e]))return!1;return!0}function yr(n,t){let e=n?e_(n):void 0,r=t?e_(t):void 0;if(!e||!r||e.length!=r.length)return!1;let i;for(let o=0;o<e.length;o++)if(i=e[o],!KI(n[i],t[i]))return!1;return!0}function e_(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function KI(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;let e=[...n].sort(),r=[...t].sort();return e.every((i,o)=>r[o]===i)}else return n===t}function YI(n){return n.length>0?n[n.length-1]:null}function ji(n){return Ug(n)?n:Ai(n)?xe(Promise.resolve(n)):z(n)}var EU={exact:JI,subset:XI},ZI={exact:CU,subset:DU,ignored:()=>!0};function BI(n,t,e){return EU[e.paths](n.root,t.root,e.matrixParams)&&ZI[e.queryParams](n.queryParams,t.queryParams)&&!(e.fragment==="exact"&&n.fragment!==t.fragment)}function CU(n,t){return yr(n,t)}function JI(n,t,e){if(!Uo(n.segments,t.segments)||!Uh(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(let r in t.children)if(!n.children[r]||!JI(n.children[r],t.children[r],e))return!1;return!0}function DU(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>KI(n[e],t[e]))}function XI(n,t,e){return QI(n,t,t.segments,e)}function QI(n,t,e,r){if(n.segments.length>e.length){let i=n.segments.slice(0,e.length);return!(!Uo(i,e)||t.hasChildren()||!Uh(i,e,r))}else if(n.segments.length===e.length){if(!Uo(n.segments,e)||!Uh(n.segments,e,r))return!1;for(let i in t.children)if(!n.children[i]||!XI(n.children[i],t.children[i],r))return!1;return!0}else{let i=e.slice(0,n.segments.length),o=e.slice(n.segments.length);return!Uo(n.segments,i)||!Uh(n.segments,i,r)||!n.children[ne]?!1:QI(n.children[ne],t,o,r)}}function Uh(n,t,e){return t.every((r,i)=>ZI[e](n[i].parameters,r.parameters))}var br=class{root;queryParams;fragment;_queryParamMap;constructor(t=new _e([],{}),e={},r=null){this.root=t,this.queryParams=e,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Ho(this.queryParams),this._queryParamMap}toString(){return IU.serialize(this)}},_e=class{segments;children;parent=null;constructor(t,e){this.segments=t,this.children=e,Object.values(e).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return $h(this)}},Pi=class{path;parameters;_parameterMap;constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap??=Ho(this.parameters),this._parameterMap}toString(){return tM(this)}};function xU(n,t){return Uo(n,t)&&n.every((e,r)=>yr(e.parameters,t[r].parameters))}function Uo(n,t){return n.length!==t.length?!1:n.every((e,r)=>e.path===t[r].path)}function SU(n,t){let e=[];return Object.entries(n.children).forEach(([r,i])=>{r===ne&&(e=e.concat(t(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==ne&&(e=e.concat(t(i,r)))}),e}var zo=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=L({token:n,factory:()=>new Ni,providedIn:"root"})}return n})(),Ni=class{parse(t){let e=new n_(t);return new br(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){let e=`/${ec(t.root,!0)}`,r=AU(t.queryParams),i=typeof t.fragment=="string"?`#${MU(t.fragment)}`:"";return`${e}${r}${i}`}},IU=new Ni;function $h(n){return n.segments.map(t=>tM(t)).join("/")}function ec(n,t){if(!n.hasChildren())return $h(n);if(t){let e=n.children[ne]?ec(n.children[ne],!1):"",r=[];return Object.entries(n.children).forEach(([i,o])=>{i!==ne&&r.push(`${i}:${ec(o,!1)}`)}),r.length>0?`${e}(${r.join("//")})`:e}else{let e=SU(n,(r,i)=>i===ne?[ec(n.children[ne],!1)]:[`${i}:${ec(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[ne]!=null?`${$h(n)}/${e[0]}`:`${$h(n)}/(${e.join("//")})`}}function eM(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Vh(n){return eM(n).replace(/%3B/gi,";")}function MU(n){return encodeURI(n)}function t_(n){return eM(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Hh(n){return decodeURIComponent(n)}function UI(n){return Hh(n.replace(/\+/g,"%20"))}function tM(n){return`${t_(n.path)}${TU(n.parameters)}`}function TU(n){return Object.entries(n).map(([t,e])=>`;${t_(t)}=${t_(e)}`).join("")}function AU(n){let t=Object.entries(n).map(([e,r])=>Array.isArray(r)?r.map(i=>`${Vh(e)}=${Vh(i)}`).join("&"):`${Vh(e)}=${Vh(r)}`).filter(e=>e);return t.length?`?${t.join("&")}`:""}var OU=/^[^\/()?;#]+/;function Yy(n){let t=n.match(OU);return t?t[0]:""}var RU=/^[^\/()?;=#]+/;function kU(n){let t=n.match(RU);return t?t[0]:""}var PU=/^[^=?&#]+/;function NU(n){let t=n.match(PU);return t?t[0]:""}var FU=/^[^&#]+/;function LU(n){let t=n.match(FU);return t?t[0]:""}var n_=class{url;remaining;constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new _e([],{}):new _e([],this.parseChildren())}parseQueryParams(){let t={};if(this.consumeOptional("?"))do this.parseQueryParam(t);while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(r[ne]=new _e(t,e)),r}parseSegment(){let t=Yy(this.remaining);if(t===""&&this.peekStartsWith(";"))throw new N(4009,!1);return this.capture(t),new Pi(Hh(t),this.parseMatrixParams())}parseMatrixParams(){let t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){let e=kU(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){let i=Yy(this.remaining);i&&(r=i,this.capture(r))}t[Hh(e)]=Hh(r)}parseQueryParam(t){let e=NU(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){let s=LU(this.remaining);s&&(r=s,this.capture(r))}let i=UI(e),o=UI(r);if(t.hasOwnProperty(i)){let s=t[i];Array.isArray(s)||(s=[s],t[i]=s),s.push(o)}else t[i]=o}parseParens(t){let e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Yy(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new N(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=ne);let s=this.parseChildren();e[o]=Object.keys(s).length===1?s[ne]:new _e([],s),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return this.peekStartsWith(t)?(this.remaining=this.remaining.substring(t.length),!0):!1}capture(t){if(!this.consumeOptional(t))throw new N(4011,!1)}};function nM(n){return n.segments.length>0?new _e([],{[ne]:n}):n}function rM(n){let t={};for(let[r,i]of Object.entries(n.children)){let o=rM(i);if(r===ne&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))t[s]=a;else(o.segments.length>0||o.hasChildren())&&(t[r]=o)}let e=new _e(n.segments,t);return jU(e)}function jU(n){if(n.numberOfChildren===1&&n.children[ne]){let t=n.children[ne];return new _e(n.segments.concat(t.segments),t.children)}return n}function Fi(n){return n instanceof br}function iM(n,t,e=null,r=null){let i=oM(n);return sM(i,t,e,r)}function oM(n){let t;function e(o){let s={};for(let l of o.children){let c=e(l);s[l.outlet]=c}let a=new _e(o.url,s);return o===n&&(t=a),a}let r=e(n.root),i=nM(r);return t??i}function sM(n,t,e,r){let i=n;for(;i.parent;)i=i.parent;if(t.length===0)return Zy(i,i,i,e,r);let o=VU(t);if(o.toRoot())return Zy(i,i,new _e([],{}),e,r);let s=BU(o,i,n),a=s.processChildren?nc(s.segmentGroup,s.index,o.commands):lM(s.segmentGroup,s.index,o.commands);return Zy(i,s.segmentGroup,a,e,r)}function qh(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function ic(n){return typeof n=="object"&&n!=null&&n.outlets}function Zy(n,t,e,r,i){let o={};r&&Object.entries(r).forEach(([l,c])=>{o[l]=Array.isArray(c)?c.map(u=>`${u}`):`${c}`});let s;n===t?s=e:s=aM(n,t,e);let a=nM(rM(s));return new br(a,o,i)}function aM(n,t,e){let r={};return Object.entries(n.children).forEach(([i,o])=>{o===t?r[i]=e:r[i]=aM(o,t,e)}),new _e(n.segments,r)}var Wh=class{isAbsolute;numberOfDoubleDots;commands;constructor(t,e,r){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=r,t&&r.length>0&&qh(r[0]))throw new N(4003,!1);let i=r.find(ic);if(i&&i!==YI(r))throw new N(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function VU(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new Wh(!0,0,n);let t=0,e=!1,r=n.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([l,c])=>{a[l]=typeof c=="string"?c.split("/"):c}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?e=!0:a===".."?t++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new Wh(e,t,r)}var da=class{segmentGroup;processChildren;index;constructor(t,e,r){this.segmentGroup=t,this.processChildren=e,this.index=r}};function BU(n,t,e){if(n.isAbsolute)return new da(t,!0,0);if(!e)return new da(t,!1,NaN);if(e.parent===null)return new da(e,!0,0);let r=qh(n.commands[0])?0:1,i=e.segments.length-1+r;return UU(e,i,n.numberOfDoubleDots)}function UU(n,t,e){let r=n,i=t,o=e;for(;o>i;){if(o-=i,r=r.parent,!r)throw new N(4005,!1);i=r.segments.length}return new da(r,!1,i-o)}function $U(n){return ic(n[0])?n[0].outlets:{[ne]:n}}function lM(n,t,e){if(n??=new _e([],{}),n.segments.length===0&&n.hasChildren())return nc(n,t,e);let r=HU(n,t,e),i=e.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let o=new _e(n.segments.slice(0,r.pathIndex),{});return o.children[ne]=new _e(n.segments.slice(r.pathIndex),n.children),nc(o,0,i)}else return r.match&&i.length===0?new _e(n.segments,{}):r.match&&!n.hasChildren()?r_(n,t,e):r.match?nc(n,0,i):r_(n,t,e)}function nc(n,t,e){if(e.length===0)return new _e(n.segments,{});{let r=$U(e),i={};if(Object.keys(r).some(o=>o!==ne)&&n.children[ne]&&n.numberOfChildren===1&&n.children[ne].segments.length===0){let o=nc(n.children[ne],t,e);return new _e(n.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=lM(n.children[o],t,s))}),Object.entries(n.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new _e(n.segments,i)}}function HU(n,t,e){let r=0,i=t,o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=e.length)return o;let s=n.segments[i],a=e[r];if(ic(a))break;let l=`${a}`,c=r<e.length-1?e[r+1]:null;if(i>0&&l===void 0)break;if(l&&c&&typeof c=="object"&&c.outlets===void 0){if(!HI(l,c,s))return o;r+=2}else{if(!HI(l,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function r_(n,t,e){let r=n.segments.slice(0,t),i=0;for(;i<e.length;){let o=e[i];if(ic(o)){let l=zU(o.outlets);return new _e(r,l)}if(i===0&&qh(e[0])){let l=n.segments[t];r.push(new Pi(l.path,$I(e[0]))),i++;continue}let s=ic(o)?o.outlets[ne]:`${o}`,a=i<e.length-1?e[i+1]:null;s&&a&&qh(a)?(r.push(new Pi(s,$I(a))),i+=2):(r.push(new Pi(s,{})),i++)}return new _e(r,{})}function zU(n){let t={};return Object.entries(n).forEach(([e,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(t[e]=r_(new _e([],{}),0,r))}),t}function $I(n){let t={};return Object.entries(n).forEach(([e,r])=>t[e]=`${r}`),t}function HI(n,t,e){return n==e.path&&yr(t,e.parameters)}var zh="imperative",dt=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(dt||{}),dn=class{id;url;constructor(t,e){this.id=t,this.url=e}},Li=class extends dn{type=dt.NavigationStart;navigationTrigger;restoredState;constructor(t,e,r="imperative",i=null){super(t,e),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},hn=class extends dn{urlAfterRedirects;type=dt.NavigationEnd;constructor(t,e,r){super(t,e),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Xt=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(Xt||{}),fa=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(fa||{}),_r=class extends dn{reason;code;type=dt.NavigationCancel;constructor(t,e,r,i){super(t,e),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},wr=class extends dn{reason;code;type=dt.NavigationSkipped;constructor(t,e,r,i){super(t,e),this.reason=r,this.code=i}},pa=class extends dn{error;target;type=dt.NavigationError;constructor(t,e,r,i){super(t,e),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},oc=class extends dn{urlAfterRedirects;state;type=dt.RoutesRecognized;constructor(t,e,r,i){super(t,e),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Gh=class extends dn{urlAfterRedirects;state;type=dt.GuardsCheckStart;constructor(t,e,r,i){super(t,e),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Kh=class extends dn{urlAfterRedirects;state;shouldActivate;type=dt.GuardsCheckEnd;constructor(t,e,r,i,o){super(t,e),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Yh=class extends dn{urlAfterRedirects;state;type=dt.ResolveStart;constructor(t,e,r,i){super(t,e),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Zh=class extends dn{urlAfterRedirects;state;type=dt.ResolveEnd;constructor(t,e,r,i){super(t,e),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Jh=class{route;type=dt.RouteConfigLoadStart;constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Xh=class{route;type=dt.RouteConfigLoadEnd;constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Qh=class{snapshot;type=dt.ChildActivationStart;constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ef=class{snapshot;type=dt.ChildActivationEnd;constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},tf=class{snapshot;type=dt.ActivationStart;constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},nf=class{snapshot;type=dt.ActivationEnd;constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ga=class{routerEvent;position;anchor;type=dt.Scroll;constructor(t,e,r){this.routerEvent=t,this.position=e,this.anchor=r}toString(){let t=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${t}')`}},sc=class{},ma=class{url;navigationBehaviorOptions;constructor(t,e){this.url=t,this.navigationBehaviorOptions=e}};function qU(n,t){return n.providers&&!n._injector&&(n._injector=ia(n.providers,t,`Route: ${n.path}`)),n._injector??t}function Wn(n){return n.outlet||ne}function WU(n,t){let e=n.filter(r=>Wn(r)===t);return e.push(...n.filter(r=>Wn(r)!==t)),e}function fc(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){let e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}var rf=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return fc(this.route?.snapshot)??this.rootInjector}constructor(t){this.rootInjector=t,this.children=new qo(this.rootInjector)}},qo=(()=>{class n{rootInjector;contexts=new Map;constructor(e){this.rootInjector=e}onChildOutletCreated(e,r){let i=this.getOrCreateContext(e);i.outlet=r,this.contexts.set(e,i)}onChildOutletDestroyed(e){let r=this.getContext(e);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let r=this.getContext(e);return r||(r=new rf(this.rootInjector),this.contexts.set(e,r)),r}getContext(e){return this.contexts.get(e)||null}static \u0275fac=function(r){return new(r||n)(H(wt))};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),of=class{_root;constructor(t){this._root=t}get root(){return this._root.value}parent(t){let e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){let e=i_(t,this._root);return e?e.children.map(r=>r.value):[]}firstChild(t){let e=i_(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){let e=o_(t,this._root);return e.length<2?[]:e[e.length-2].children.map(i=>i.value).filter(i=>i!==t)}pathFromRoot(t){return o_(t,this._root).map(e=>e.value)}};function i_(n,t){if(n===t.value)return t;for(let e of t.children){let r=i_(n,e);if(r)return r}return null}function o_(n,t){if(n===t.value)return[t];for(let e of t.children){let r=o_(n,e);if(r.length)return r.unshift(t),r}return[]}var un=class{value;children;constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}};function ua(n){let t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}var ac=class extends of{snapshot;constructor(t,e){super(t),this.snapshot=e,f_(this,t)}toString(){return this.snapshot.toString()}};function cM(n){let t=GU(n),e=new et([new Pi("",{})]),r=new et({}),i=new et({}),o=new et({}),s=new et(""),a=new Er(e,r,o,s,i,ne,n,t.root);return a.snapshot=t.root,new ac(new un(a,[]),t)}function GU(n){let t={},e={},r={},i="",o=new $o([],t,r,i,e,ne,n,null,{});return new lc("",new un(o,[]))}var Er=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(t,e,r,i,o,s,a,l){this.urlSubject=t,this.paramsSubject=e,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(oe(c=>c[hc]))??z(void 0),this.url=t,this.params=e,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(oe(t=>Ho(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(oe(t=>Ho(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function sf(n,t,e="emptyOnly"){let r,{routeConfig:i}=n;return t!==null&&(e==="always"||i?.path===""||!t.component&&!t.routeConfig?.loadComponent)?r={params:O(O({},t.params),n.params),data:O(O({},t.data),n.data),resolve:O(O(O(O({},n.data),t.data),i?.data),n._resolvedData)}:r={params:O({},n.params),data:O({},n.data),resolve:O(O({},n.data),n._resolvedData??{})},i&&dM(i)&&(r.resolve[hc]=i.title),r}var $o=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[hc]}constructor(t,e,r,i,o,s,a,l,c){this.url=t,this.params=e,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Ho(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Ho(this.queryParams),this._queryParamMap}toString(){let t=this.url.map(r=>r.toString()).join("/"),e=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${t}', path:'${e}')`}},lc=class extends of{url;constructor(t,e){super(e),this.url=t,f_(this,e)}toString(){return uM(this._root)}};function f_(n,t){t.value._routerState=n,t.children.forEach(e=>f_(n,e))}function uM(n){let t=n.children.length>0?` { ${n.children.map(uM).join(", ")} } `:"";return`${n.value}${t}`}function Jy(n){if(n.snapshot){let t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,yr(t.queryParams,e.queryParams)||n.queryParamsSubject.next(e.queryParams),t.fragment!==e.fragment&&n.fragmentSubject.next(e.fragment),yr(t.params,e.params)||n.paramsSubject.next(e.params),wU(t.url,e.url)||n.urlSubject.next(e.url),yr(t.data,e.data)||n.dataSubject.next(e.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function s_(n,t){let e=yr(n.params,t.params)&&xU(n.url,t.url),r=!n.parent!=!t.parent;return e&&!r&&(!n.parent||s_(n.parent,t.parent))}function dM(n){return typeof n.title=="string"||n.title===null}var hM=new P(""),pc=(()=>{class n{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=ne;activateEvents=new Ze;deactivateEvents=new Ze;attachEvents=new Ze;detachEvents=new Ze;routerOutletData=qD(void 0);parentContexts=I(qo);location=I(Ti);changeDetector=I(ti);inputBinder=I(gc,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(e){if(e.name){let{firstChange:r,previousValue:i}=e.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new N(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new N(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new N(4012,!1);this.location.detach();let e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,r){this.activated=e,this._activatedRoute=r,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){let e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,r){if(this.isActivated)throw new N(4013,!1);this._activatedRoute=e;let i=this.location,s=e.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new a_(e,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:l,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=Te({type:n,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Ln]})}return n})(),a_=class{route;childContexts;parent;outletData;constructor(t,e,r,i){this.route=t,this.childContexts=e,this.parent=r,this.outletData=i}get(t,e){return t===Er?this.route:t===qo?this.childContexts:t===hM?this.outletData:this.parent.get(t,e)}},gc=new P(""),p_=(()=>{class n{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(e){this.unsubscribeFromRouteData(e),this.subscribeToRouteData(e)}unsubscribeFromRouteData(e){this.outletDataSubscriptions.get(e)?.unsubscribe(),this.outletDataSubscriptions.delete(e)}subscribeToRouteData(e){let{activatedRoute:r}=e,i=bl([r.queryParams,r.params,r.data]).pipe(Vt(([o,s,a],l)=>(a=O(O(O({},o),s),a),l===0?z(a):Promise.resolve(a)))).subscribe(o=>{if(!e.isActivated||!e.activatedComponentRef||e.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(e);return}let s=LS(r.component);if(!s){this.unsubscribeFromRouteData(e);return}for(let{templateName:a}of s.inputs)e.activatedComponentRef.setInput(a,o[a])});this.outletDataSubscriptions.set(e,i)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=L({token:n,factory:n.\u0275fac})}return n})(),g_=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=Me({type:n,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&J(0,"router-outlet")},dependencies:[pc],encapsulation:2})}return n})();function m_(n){let t=n.children&&n.children.map(m_),e=t?te(O({},n),{children:t}):O({},n);return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==ne&&(e.component=g_),e}function KU(n,t,e){let r=cc(n,t._root,e?e._root:void 0);return new ac(r,t)}function cc(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){let r=e.value;r._futureSnapshot=t.value;let i=YU(n,t,e);return new un(r,i)}else{if(n.shouldAttach(t.value)){let o=n.retrieve(t.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=t.value,s.children=t.children.map(a=>cc(n,a)),s}}let r=ZU(t.value),i=t.children.map(o=>cc(n,o));return new un(r,i)}}function YU(n,t,e){return t.children.map(r=>{for(let i of e.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return cc(n,r,i);return cc(n,r)})}function ZU(n){return new Er(new et(n.url),new et(n.params),new et(n.queryParams),new et(n.fragment),new et(n.data),n.outlet,n.component,n)}var va=class{redirectTo;navigationBehaviorOptions;constructor(t,e){this.redirectTo=t,this.navigationBehaviorOptions=e}},fM="ngNavigationCancelingError";function af(n,t){let{redirectTo:e,navigationBehaviorOptions:r}=Fi(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,i=pM(!1,Xt.Redirect);return i.url=e,i.navigationBehaviorOptions=r,i}function pM(n,t){let e=new Error(`NavigationCancelingError: ${n||""}`);return e[fM]=!0,e.cancellationCode=t,e}function JU(n){return gM(n)&&Fi(n.url)}function gM(n){return!!n&&n[fM]}var XU=(n,t,e,r)=>oe(i=>(new l_(t,i.targetRouterState,i.currentRouterState,e,r).activate(n),i)),l_=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(t,e,r,i,o){this.routeReuseStrategy=t,this.futureState=e,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(t){let e=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,r,t),Jy(this.futureState.root),this.activateChildRoutes(e,r,t)}deactivateChildRoutes(t,e,r){let i=ua(e);t.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(t,e,r){let i=t.value,o=e?e.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(t,e,s.children)}else this.deactivateChildRoutes(t,e,r);else o&&this.deactivateRouteAndItsChildren(e,r)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){let r=e.getContext(t.value.outlet),i=r&&t.value.component?r.children:e,o=ua(t);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:s,route:t,contexts:a})}}deactivateRouteAndOutlet(t,e){let r=e.getContext(t.value.outlet),i=r&&t.value.component?r.children:e,o=ua(t);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(t,e,r){let i=ua(e);t.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new nf(o.value.snapshot))}),t.children.length&&this.forwardEvent(new ef(t.value.snapshot))}activateRoutes(t,e,r){let i=t.value,o=e?e.value:null;if(Jy(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(t,e,s.children)}else this.activateChildRoutes(t,e,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Jy(a.route.value),this.activateChildRoutes(t,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(t,null,s.children)}else this.activateChildRoutes(t,null,r)}},lf=class{path;route;constructor(t){this.path=t,this.route=this.path[this.path.length-1]}},ha=class{component;route;constructor(t,e){this.component=t,this.route=e}};function QU(n,t,e){let r=n._root,i=t?t._root:null;return tc(r,i,e,[r.value])}function e$(n){let t=n.routeConfig?n.routeConfig.canActivateChild:null;return!t||t.length===0?null:{node:n,guards:t}}function _a(n,t){let e=Symbol(),r=t.get(n,e);return r===e?typeof n=="function"&&!jC(n)?n:t.get(n):r}function tc(n,t,e,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=ua(t);return n.children.forEach(s=>{t$(s,o[s.value.outlet],e,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>rc(a,e.getContext(s),i)),i}function t$(n,t,e,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,s=t?t.value:null,a=e?e.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let l=n$(s,o,o.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new lf(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?tc(n,t,a?a.children:null,r,i):tc(n,t,e,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new ha(a.outlet.component,s))}else s&&rc(t,a,i),i.canActivateChecks.push(new lf(r)),o.component?tc(n,null,a?a.children:null,r,i):tc(n,null,e,r,i);return i}function n$(n,t,e){if(typeof e=="function")return e(n,t);switch(e){case"pathParamsChange":return!Uo(n.url,t.url);case"pathParamsOrQueryParamsChange":return!Uo(n.url,t.url)||!yr(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!s_(n,t)||!yr(n.queryParams,t.queryParams);case"paramsChange":default:return!s_(n,t)}}function rc(n,t,e){let r=ua(n),i=n.value;Object.entries(r).forEach(([o,s])=>{i.component?t?rc(s,t.children.getContext(o),e):rc(s,null,e):rc(s,t,e)}),i.component?t&&t.outlet&&t.outlet.isActivated?e.canDeactivateChecks.push(new ha(t.outlet.component,i)):e.canDeactivateChecks.push(new ha(null,i)):e.canDeactivateChecks.push(new ha(null,i))}function mc(n){return typeof n=="function"}function r$(n){return typeof n=="boolean"}function i$(n){return n&&mc(n.canLoad)}function o$(n){return n&&mc(n.canActivate)}function s$(n){return n&&mc(n.canActivateChild)}function a$(n){return n&&mc(n.canDeactivate)}function l$(n){return n&&mc(n.canMatch)}function mM(n){return n instanceof Ur||n?.name==="EmptyError"}var Bh=Symbol("INITIAL_VALUE");function ya(){return Vt(n=>bl(n.map(t=>t.pipe(Hr(1),qg(Bh)))).pipe(oe(t=>{for(let e of t)if(e!==!0){if(e===Bh)return Bh;if(e===!1||c$(e))return e}return!0}),kt(t=>t!==Bh),Hr(1)))}function c$(n){return Fi(n)||n instanceof va}function u$(n,t){return Ye(e=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=e;return s.length===0&&o.length===0?z(te(O({},e),{guardsResult:!0})):d$(s,r,i,n).pipe(Ye(a=>a&&r$(a)?h$(r,o,n,t):z(a)),oe(a=>te(O({},e),{guardsResult:a})))})}function d$(n,t,e,r){return xe(n).pipe(Ye(i=>v$(i.component,i.route,e,t,r)),zr(i=>i!==!0,!0))}function h$(n,t,e,r){return xe(t).pipe(tr(i=>As(p$(i.route.parent,r),f$(i.route,r),m$(n,i.path,e),g$(n,i.route,e))),zr(i=>i!==!0,!0))}function f$(n,t){return n!==null&&t&&t(new tf(n)),z(!0)}function p$(n,t){return n!==null&&t&&t(new Qh(n)),z(!0)}function g$(n,t,e){let r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||r.length===0)return z(!0);let i=r.map(o=>Ku(()=>{let s=fc(t)??e,a=_a(o,s),l=o$(a)?a.canActivate(t,n):Wt(s,()=>a(t,n));return ji(l).pipe(zr())}));return z(i).pipe(ya())}function m$(n,t,e){let r=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(s=>e$(s)).filter(s=>s!==null).map(s=>Ku(()=>{let a=s.guards.map(l=>{let c=fc(s.node)??e,u=_a(l,c),d=s$(u)?u.canActivateChild(r,n):Wt(c,()=>u(r,n));return ji(d).pipe(zr())});return z(a).pipe(ya())}));return z(o).pipe(ya())}function v$(n,t,e,r,i){let o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!o||o.length===0)return z(!0);let s=o.map(a=>{let l=fc(t)??i,c=_a(a,l),u=a$(c)?c.canDeactivate(n,t,e,r):Wt(l,()=>c(n,t,e,r));return ji(u).pipe(zr())});return z(s).pipe(ya())}function y$(n,t,e,r){let i=t.canLoad;if(i===void 0||i.length===0)return z(!0);let o=i.map(s=>{let a=_a(s,n),l=i$(a)?a.canLoad(t,e):Wt(n,()=>a(t,e));return ji(l)});return z(o).pipe(ya(),vM(r))}function vM(n){return Pg(lt(t=>{if(typeof t!="boolean")throw af(n,t)}),oe(t=>t===!0))}function _$(n,t,e,r){let i=t.canMatch;if(!i||i.length===0)return z(!0);let o=i.map(s=>{let a=_a(s,n),l=l$(a)?a.canMatch(t,e):Wt(n,()=>a(t,e));return ji(l)});return z(o).pipe(ya(),vM(r))}var uc=class{segmentGroup;constructor(t){this.segmentGroup=t||null}},dc=class extends Error{urlTree;constructor(t){super(),this.urlTree=t}};function ca(n){return Ts(new uc(n))}function b$(n){return Ts(new N(4e3,!1))}function w$(n){return Ts(pM(!1,Xt.GuardRejected))}var c_=class{urlSerializer;urlTree;constructor(t,e){this.urlSerializer=t,this.urlTree=e}lineralizeSegments(t,e){let r=[],i=e.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return z(r);if(i.numberOfChildren>1||!i.children[ne])return b$(`${t.redirectTo}`);i=i.children[ne]}}applyRedirectCommands(t,e,r,i,o){if(typeof e!="string"){let a=e,{queryParams:l,fragment:c,routeConfig:u,url:d,outlet:f,params:h,data:p,title:g}=i,m=Wt(o,()=>a({params:h,data:p,queryParams:l,fragment:c,routeConfig:u,url:d,outlet:f,title:g}));if(m instanceof br)throw new dc(m);e=m}let s=this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,r);if(e[0]==="/")throw new dc(s);return s}applyRedirectCreateUrlTree(t,e,r,i){let o=this.createSegmentGroup(t,e.root,r,i);return new br(o,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){let r={};return Object.entries(t).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=e[a]}else r[i]=o}),r}createSegmentGroup(t,e,r,i){let o=this.createSegments(t,e.segments,r,i),s={};return Object.entries(e.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(t,l,r,i)}),new _e(o,s)}createSegments(t,e,r,i){return e.map(o=>o.path[0]===":"?this.findPosParam(t,o,i):this.findOrReturn(o,r))}findPosParam(t,e,r){let i=r[e.path.substring(1)];if(!i)throw new N(4001,!1);return i}findOrReturn(t,e){let r=0;for(let i of e){if(i.path===t.path)return e.splice(r),i;r++}return t}},u_={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function E$(n,t,e,r,i){let o=yM(n,t,e);return o.matched?(r=qU(t,r),_$(r,t,e,i).pipe(oe(s=>s===!0?o:O({},u_)))):z(o)}function yM(n,t,e){if(t.path==="**")return C$(e);if(t.path==="")return t.pathMatch==="full"&&(n.hasChildren()||e.length>0)?O({},u_):{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};let i=(t.matcher||GI)(e,n,t);if(!i)return O({},u_);let o={};Object.entries(i.posParams??{}).forEach(([a,l])=>{o[a]=l.path});let s=i.consumed.length>0?O(O({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:e.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function C$(n){return{matched:!0,parameters:n.length>0?YI(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function zI(n,t,e,r){return e.length>0&&S$(n,e,r)?{segmentGroup:new _e(t,x$(r,new _e(e,n.children))),slicedSegments:[]}:e.length===0&&I$(n,e,r)?{segmentGroup:new _e(n.segments,D$(n,e,r,n.children)),slicedSegments:e}:{segmentGroup:new _e(n.segments,n.children),slicedSegments:e}}function D$(n,t,e,r){let i={};for(let o of e)if(uf(n,t,o)&&!r[Wn(o)]){let s=new _e([],{});i[Wn(o)]=s}return O(O({},r),i)}function x$(n,t){let e={};e[ne]=t;for(let r of n)if(r.path===""&&Wn(r)!==ne){let i=new _e([],{});e[Wn(r)]=i}return e}function S$(n,t,e){return e.some(r=>uf(n,t,r)&&Wn(r)!==ne)}function I$(n,t,e){return e.some(r=>uf(n,t,r))}function uf(n,t,e){return(n.hasChildren()||t.length>0)&&e.pathMatch==="full"?!1:e.path===""}function M$(n,t,e){return t.length===0&&!n.children[e]}var d_=class{};function T$(n,t,e,r,i,o,s="emptyOnly"){return new h_(n,t,e,r,i,s,o).recognize()}var A$=31,h_=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(t,e,r,i,o,s,a){this.injector=t,this.configLoader=e,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new c_(this.urlSerializer,this.urlTree)}noMatchError(t){return new N(4002,`'${t.segmentGroup}'`)}recognize(){let t=zI(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe(oe(({children:e,rootSnapshot:r})=>{let i=new un(r,e),o=new lc("",i),s=iM(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(t){let e=new $o([],Object.freeze({}),Object.freeze(O({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),ne,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,t,ne,e).pipe(oe(r=>({children:r,rootSnapshot:e})),$r(r=>{if(r instanceof dc)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof uc?this.noMatchError(r):r}))}processSegmentGroup(t,e,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(t,e,r,o):this.processSegment(t,e,r,r.segments,i,!0,o).pipe(oe(s=>s instanceof un?[s]:[]))}processChildren(t,e,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return xe(o).pipe(tr(s=>{let a=r.children[s],l=WU(e,s);return this.processSegmentGroup(t,l,a,s,i)}),zg((s,a)=>(s.push(...a),s)),bi(null),Hg(),Ye(s=>{if(s===null)return ca(r);let a=_M(s);return O$(a),z(a)}))}processSegment(t,e,r,i,o,s,a){return xe(e).pipe(tr(l=>this.processSegmentAgainstRoute(l._injector??t,e,l,r,i,o,s,a).pipe($r(c=>{if(c instanceof uc)return z(null);throw c}))),zr(l=>!!l),$r(l=>{if(mM(l))return M$(r,i,o)?z(new d_):ca(r);throw l}))}processSegmentAgainstRoute(t,e,r,i,o,s,a,l){return Wn(r)!==s&&(s===ne||!uf(i,o,r))?ca(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(t,i,r,o,s,l):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(t,i,e,r,o,s,l):ca(i)}expandSegmentAgainstRouteUsingRedirect(t,e,r,i,o,s,a){let{matched:l,parameters:c,consumedSegments:u,positionalParamSegments:d,remainingSegments:f}=yM(e,i,o);if(!l)return ca(e);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>A$&&(this.allowRedirects=!1));let h=new $o(o,c,Object.freeze(O({},this.urlTree.queryParams)),this.urlTree.fragment,qI(i),Wn(i),i.component??i._loadedComponent??null,i,WI(i)),p=sf(h,a,this.paramsInheritanceStrategy);h.params=Object.freeze(p.params),h.data=Object.freeze(p.data);let g=this.applyRedirects.applyRedirectCommands(u,i.redirectTo,d,h,t);return this.applyRedirects.lineralizeSegments(i,g).pipe(Ye(m=>this.processSegment(t,r,e,m.concat(f),s,!1,a)))}matchSegmentAgainstRoute(t,e,r,i,o,s){let a=E$(e,r,i,t,this.urlSerializer);return r.path==="**"&&(e.children={}),a.pipe(Vt(l=>l.matched?(t=r._injector??t,this.getChildConfig(t,r,i).pipe(Vt(({routes:c})=>{let u=r._loadedInjector??t,{parameters:d,consumedSegments:f,remainingSegments:h}=l,p=new $o(f,d,Object.freeze(O({},this.urlTree.queryParams)),this.urlTree.fragment,qI(r),Wn(r),r.component??r._loadedComponent??null,r,WI(r)),g=sf(p,s,this.paramsInheritanceStrategy);p.params=Object.freeze(g.params),p.data=Object.freeze(g.data);let{segmentGroup:m,slicedSegments:_}=zI(e,f,h,c);if(_.length===0&&m.hasChildren())return this.processChildren(u,c,m,p).pipe(oe(C=>new un(p,C)));if(c.length===0&&_.length===0)return z(new un(p,[]));let E=Wn(r)===o;return this.processSegment(u,c,m,_,E?ne:o,!0,p).pipe(oe(C=>new un(p,C instanceof un?[C]:[])))}))):ca(e)))}getChildConfig(t,e,r){return e.children?z({routes:e.children,injector:t}):e.loadChildren?e._loadedRoutes!==void 0?z({routes:e._loadedRoutes,injector:e._loadedInjector}):y$(t,e,r,this.urlSerializer).pipe(Ye(i=>i?this.configLoader.loadChildren(t,e).pipe(lt(o=>{e._loadedRoutes=o.routes,e._loadedInjector=o.injector})):w$(e))):z({routes:[],injector:t})}};function O$(n){n.sort((t,e)=>t.value.outlet===ne?-1:e.value.outlet===ne?1:t.value.outlet.localeCompare(e.value.outlet))}function R$(n){let t=n.value.routeConfig;return t&&t.path===""}function _M(n){let t=[],e=new Set;for(let r of n){if(!R$(r)){t.push(r);continue}let i=t.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),e.add(i)):t.push(r)}for(let r of e){let i=_M(r.children);t.push(new un(r.value,i))}return t.filter(r=>!e.has(r))}function qI(n){return n.data||{}}function WI(n){return n.resolve||{}}function k$(n,t,e,r,i,o){return Ye(s=>T$(n,t,e,r,s.extractedUrl,i,o).pipe(oe(({state:a,tree:l})=>te(O({},s),{targetSnapshot:a,urlAfterRedirects:l}))))}function P$(n,t){return Ye(e=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=e;if(!i.length)return z(e);let o=new Set(i.map(l=>l.route)),s=new Set;for(let l of o)if(!s.has(l))for(let c of bM(l))s.add(c);let a=0;return xe(s).pipe(tr(l=>o.has(l)?N$(l,r,n,t):(l.data=sf(l,l.parent,n).resolve,z(void 0))),lt(()=>a++),Os(1),Ye(l=>a===s.size?z(e):Lt))})}function bM(n){let t=n.children.map(e=>bM(e)).flat();return[n,...t]}function N$(n,t,e,r){let i=n.routeConfig,o=n._resolve;return i?.title!==void 0&&!dM(i)&&(o[hc]=i.title),F$(o,n,t,r).pipe(oe(s=>(n._resolvedData=s,n.data=sf(n,n.parent,e).resolve,null)))}function F$(n,t,e,r){let i=e_(n);if(i.length===0)return z({});let o={};return xe(i).pipe(Ye(s=>L$(n[s],t,e,r).pipe(zr(),lt(a=>{if(a instanceof va)throw af(new Ni,a);o[s]=a}))),Os(1),oe(()=>o),$r(s=>mM(s)?Lt:Ts(s)))}function L$(n,t,e,r){let i=fc(t)??r,o=_a(n,i),s=o.resolve?o.resolve(t,e):Wt(i,()=>o(t,e));return ji(s)}function Xy(n){return Vt(t=>{let e=n(t);return e?xe(e).pipe(oe(()=>t)):z(t)})}var v_=(()=>{class n{buildTitle(e){let r,i=e.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===ne);return r}getResolvedTitleForRoute(e){return e.data[hc]}static \u0275fac=function(r){return new(r||n)};static \u0275prov=L({token:n,factory:()=>I(wM),providedIn:"root"})}return n})(),wM=(()=>{class n extends v_{title;constructor(e){super(),this.title=e}updateTitle(e){let r=this.buildTitle(e);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||n)(H(LI))};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Wo=new P("",{providedIn:"root",factory:()=>({})}),Go=new P(""),df=(()=>{class n{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=I(TS);loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return z(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);let r=ji(e.loadComponent()).pipe(oe(CM),lt(o=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=o}),_o(()=>{this.componentLoaders.delete(e)})),i=new Ms(r,()=>new Ke).pipe(Is());return this.componentLoaders.set(e,i),i}loadChildren(e,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return z({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=EM(r,this.compiler,e,this.onLoadEndListener).pipe(_o(()=>{this.childrenLoaders.delete(r)})),s=new Ms(o,()=>new Ke).pipe(Is());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||n)};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function EM(n,t,e,r){return ji(n.loadChildren()).pipe(oe(CM),Ye(i=>i instanceof dy||Array.isArray(i)?z(i):xe(t.compileModuleAsync(i))),oe(i=>{r&&r(n);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(e).injector,s=o.get(Go,[],{optional:!0,self:!0}).flat()),{routes:s.map(m_),injector:o}}))}function j$(n){return n&&typeof n=="object"&&"default"in n}function CM(n){return j$(n)?n.default:n}var hf=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=L({token:n,factory:()=>I(V$),providedIn:"root"})}return n})(),V$=(()=>{class n{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,r){return e}static \u0275fac=function(r){return new(r||n)};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),y_=new P(""),__=new P("");function DM(n,t,e){let r=n.get(__),i=n.get(rt);return n.get(Ue).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(c=>setTimeout(c));let o,s=new Promise(c=>{o=c}),a=i.startViewTransition(()=>(o(),B$(n))),{onViewTransitionCreated:l}=r;return l&&Wt(n,()=>l({transition:a,from:t,to:e})),s})}function B$(n){return new Promise(t=>{Xd({read:()=>setTimeout(t)},{injector:n})})}var b_=new P(""),ff=(()=>{class n{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new Ke;transitionAbortSubject=new Ke;configLoader=I(df);environmentInjector=I(wt);destroyRef=I(Zs);urlSerializer=I(zo);rootContexts=I(qo);location=I(ki);inputBindingEnabled=I(gc,{optional:!0})!==null;titleStrategy=I(v_);options=I(Wo,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=I(hf);createViewTransition=I(y_,{optional:!0});navigationErrorHandler=I(b_,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>z(void 0);rootComponentType=null;destroyed=!1;constructor(){let e=i=>this.events.next(new Jh(i)),r=i=>this.events.next(new Xh(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=e,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(e){let r=++this.navigationId;this.transitions?.next(te(O({},e),{extractedUrl:this.urlHandlingStrategy.extract(e.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:r}))}setupNavigations(e){return this.transitions=new et(null),this.transitions.pipe(kt(r=>r!==null),Vt(r=>{let i=!1,o=!1;return z(r).pipe(Vt(s=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",Xt.SupersededByNewNavigation),Lt;this.currentTransition=r,this.currentNavigation={id:s.id,initialUrl:s.rawUrl,extractedUrl:s.extractedUrl,targetBrowserUrl:typeof s.extras.browserUrl=="string"?this.urlSerializer.parse(s.extras.browserUrl):s.extras.browserUrl,trigger:s.source,extras:s.extras,previousNavigation:this.lastSuccessfulNavigation?te(O({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let a=!e.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),l=s.extras.onSameUrlNavigation??e.onSameUrlNavigation;if(!a&&l!=="reload"){let c="";return this.events.next(new wr(s.id,this.urlSerializer.serialize(s.rawUrl),c,fa.IgnoredSameUrlNavigation)),s.resolve(!1),Lt}if(this.urlHandlingStrategy.shouldProcessUrl(s.rawUrl))return z(s).pipe(Vt(c=>(this.events.next(new Li(c.id,this.urlSerializer.serialize(c.extractedUrl),c.source,c.restoredState)),c.id!==this.navigationId?Lt:Promise.resolve(c))),k$(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,this.paramsInheritanceStrategy),lt(c=>{r.targetSnapshot=c.targetSnapshot,r.urlAfterRedirects=c.urlAfterRedirects,this.currentNavigation=te(O({},this.currentNavigation),{finalUrl:c.urlAfterRedirects});let u=new oc(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}));if(a&&this.urlHandlingStrategy.shouldProcessUrl(s.currentRawUrl)){let{id:c,extractedUrl:u,source:d,restoredState:f,extras:h}=s,p=new Li(c,this.urlSerializer.serialize(u),d,f);this.events.next(p);let g=cM(this.rootComponentType).snapshot;return this.currentTransition=r=te(O({},s),{targetSnapshot:g,urlAfterRedirects:u,extras:te(O({},h),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=u,z(r)}else{let c="";return this.events.next(new wr(s.id,this.urlSerializer.serialize(s.extractedUrl),c,fa.IgnoredByUrlHandlingStrategy)),s.resolve(!1),Lt}}),lt(s=>{let a=new Gh(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),oe(s=>(this.currentTransition=r=te(O({},s),{guards:QU(s.targetSnapshot,s.currentSnapshot,this.rootContexts)}),r)),u$(this.environmentInjector,s=>this.events.next(s)),lt(s=>{if(r.guardsResult=s.guardsResult,s.guardsResult&&typeof s.guardsResult!="boolean")throw af(this.urlSerializer,s.guardsResult);let a=new Kh(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot,!!s.guardsResult);this.events.next(a)}),kt(s=>s.guardsResult?!0:(this.cancelNavigationTransition(s,"",Xt.GuardRejected),!1)),Xy(s=>{if(s.guards.canActivateChecks.length!==0)return z(s).pipe(lt(a=>{let l=new Yh(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(l)}),Vt(a=>{let l=!1;return z(a).pipe(P$(this.paramsInheritanceStrategy,this.environmentInjector),lt({next:()=>l=!0,complete:()=>{l||this.cancelNavigationTransition(a,"",Xt.NoDataFromResolver)}}))}),lt(a=>{let l=new Zh(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(l)}))}),Xy(s=>{let a=l=>{let c=[];l.routeConfig?.loadComponent&&!l.routeConfig._loadedComponent&&c.push(this.configLoader.loadComponent(l.routeConfig).pipe(lt(u=>{l.component=u}),oe(()=>{})));for(let u of l.children)c.push(...a(u));return c};return bl(a(s.targetSnapshot.root)).pipe(bi(null),Hr(1))}),Xy(()=>this.afterPreactivation()),Vt(()=>{let{currentSnapshot:s,targetSnapshot:a}=r,l=this.createViewTransition?.(this.environmentInjector,s.root,a.root);return l?xe(l).pipe(oe(()=>r)):z(r)}),oe(s=>{let a=KU(e.routeReuseStrategy,s.targetSnapshot,s.currentRouterState);return this.currentTransition=r=te(O({},s),{targetRouterState:a}),this.currentNavigation.targetRouterState=a,r}),lt(()=>{this.events.next(new sc)}),XU(this.rootContexts,e.routeReuseStrategy,s=>this.events.next(s),this.inputBindingEnabled),Hr(1),lt({next:s=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new hn(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects))),this.titleStrategy?.updateTitle(s.targetRouterState.snapshot),s.resolve(!0)},complete:()=>{i=!0}}),Wg(this.transitionAbortSubject.pipe(lt(s=>{throw s}))),_o(()=>{!i&&!o&&this.cancelNavigationTransition(r,"",Xt.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation=null,this.currentTransition=null)}),$r(s=>{if(this.destroyed)return r.resolve(!1),Lt;if(o=!0,gM(s))this.events.next(new _r(r.id,this.urlSerializer.serialize(r.extractedUrl),s.message,s.cancellationCode)),JU(s)?this.events.next(new ma(s.url,s.navigationBehaviorOptions)):r.resolve(!1);else{let a=new pa(r.id,this.urlSerializer.serialize(r.extractedUrl),s,r.targetSnapshot??void 0);try{let l=Wt(this.environmentInjector,()=>this.navigationErrorHandler?.(a));if(l instanceof va){let{message:c,cancellationCode:u}=af(this.urlSerializer,l);this.events.next(new _r(r.id,this.urlSerializer.serialize(r.extractedUrl),c,u)),this.events.next(new ma(l.redirectTo,l.navigationBehaviorOptions))}else throw this.events.next(a),s}catch(l){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(l)}}return Lt}))}))}cancelNavigationTransition(e,r,i){let o=new _r(e.id,this.urlSerializer.serialize(e.extractedUrl),r,i);this.events.next(o),e.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let e=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return e.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||n)};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function U$(n){return n!==zh}var xM=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=L({token:n,factory:()=>I($$),providedIn:"root"})}return n})(),cf=class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}},$$=(()=>{class n extends cf{static \u0275fac=(()=>{let e;return function(i){return(e||(e=ur(n)))(i||n)}})();static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),SM=(()=>{class n{urlSerializer=I(zo);options=I(Wo,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=I(ki);urlHandlingStrategy=I(hf);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new br;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:e,initialUrl:r,targetBrowserUrl:i}){let o=e!==void 0?this.urlHandlingStrategy.merge(e,r):r,s=i??o;return s instanceof br?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:e,finalUrl:r,initialUrl:i}){r&&e?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=e):this.rawUrlTree=i}routerState=cM(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:e}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e??this.rawUrlTree)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=L({token:n,factory:()=>I(H$),providedIn:"root"})}return n})(),H$=(()=>{class n extends SM{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(e){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{e(r.url,r.state,"popstate")})})}handleRouterEvent(e,r){e instanceof Li?this.updateStateMemento():e instanceof wr?this.commitTransition(r):e instanceof oc?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):e instanceof sc?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):e instanceof _r&&(e.code===Xt.GuardRejected||e.code===Xt.NoDataFromResolver)?this.restoreHistory(r):e instanceof pa?this.restoreHistory(r,!0):e instanceof hn&&(this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId)}setBrowserUrl(e,{extras:r,id:i}){let{replaceUrl:o,state:s}=r;if(this.location.isCurrentPathEqualTo(e)||o){let a=this.browserPageId,l=O(O({},s),this.generateNgRouterState(i,a));this.location.replaceState(e,"",l)}else{let a=O(O({},s),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(e,"",a)}}restoreHistory(e,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===e.finalUrl&&o===0&&(this.resetInternalState(e),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(e),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,r){return this.canceledNavigationResolution==="computed"?{navigationId:e,\u0275routerPageId:r}:{navigationId:e}}static \u0275fac=(()=>{let e;return function(i){return(e||(e=ur(n)))(i||n)}})();static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function pf(n,t){n.events.pipe(kt(e=>e instanceof hn||e instanceof _r||e instanceof pa||e instanceof wr),oe(e=>e instanceof hn||e instanceof wr?0:(e instanceof _r?e.code===Xt.Redirect||e.code===Xt.SupersededByNewNavigation:!1)?2:1),kt(e=>e!==2),Hr(1)).subscribe(()=>{t()})}var z$={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},q$={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},fn=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=I(fy);stateManager=I(SM);options=I(Wo,{optional:!0})||{};pendingTasks=I(dr);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=I(ff);urlSerializer=I(zo);location=I(ki);urlHandlingStrategy=I(hf);_events=new Ke;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=I(xM);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=I(Go,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!I(gc,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:e=>{this.console.warn(e)}}),this.subscribeToNavigationEvents()}eventsSubscription=new Qe;subscribeToNavigationEvents(){let e=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof _r&&r.code!==Xt.Redirect&&r.code!==Xt.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof hn)this.navigated=!0;else if(r instanceof ma){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),l=O({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||U$(i.source)},s);this.scheduleNavigation(a,zh,null,l,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}G$(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(e)}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),zh,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((e,r,i)=>{this.navigateToSyncWithBrowser(e,i,r)})}navigateToSyncWithBrowser(e,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let l=O({},i);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(o.state=l)}let a=this.parseUrl(e);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(m_),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(e,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:l}=r,c=l?this.currentUrlTree.fragment:s,u=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":u=O(O({},this.currentUrlTree.queryParams),o);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=o||null}u!==null&&(u=this.removeEmptyProps(u));let d;try{let f=i?i.snapshot:this.routerState.snapshot.root;d=oM(f)}catch{(typeof e[0]!="string"||e[0][0]!=="/")&&(e=[]),d=this.currentUrlTree.root}return sM(d,e,u,c??null)}navigateByUrl(e,r={skipLocationChange:!1}){let i=Fi(e)?e:this.parseUrl(e),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,zh,null,r)}navigate(e,r={skipLocationChange:!1}){return W$(e),this.navigateByUrl(this.createUrlTree(e,r),r)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){try{return this.urlSerializer.parse(e)}catch{return this.urlSerializer.parse("/")}}isActive(e,r){let i;if(r===!0?i=O({},z$):r===!1?i=O({},q$):i=r,Fi(e))return BI(this.currentUrlTree,e,i);let o=this.parseUrl(e);return BI(this.currentUrlTree,o,i)}removeEmptyProps(e){return Object.entries(e).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(e,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,l,c;s?(a=s.resolve,l=s.reject,c=s.promise):c=new Promise((d,f)=>{a=d,l=f});let u=this.pendingTasks.add();return pf(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:o,resolve:a,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(d=>Promise.reject(d))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function W$(n){for(let t=0;t<n.length;t++)if(n[t]==null)throw new N(4008,!1)}function G$(n){return!(n instanceof sc)&&!(n instanceof ma)}var Vi=(()=>{class n{router;route;tabIndexAttribute;renderer;el;locationStrategy;href=null;target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new Ke;constructor(e,r,i,o,s,a){this.router=e,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a;let l=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=l==="a"||l==="area",this.isAnchorElement?this.subscription=e.events.subscribe(c=>{c instanceof hn&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(e){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}routerLinkInput=null;set routerLink(e){e==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(Fi(e)?this.routerLinkInput=e:this.routerLinkInput=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0"))}onClick(e,r,i,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(e!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let l={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,l),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let e=this.urlTree;this.href=e!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(e)):null;let r=this.href===null?null:xx(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(e,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,e,r):i.removeAttribute(o,e)}get urlTree(){return this.routerLinkInput===null?null:Fi(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||n)(j(fn),j(Er),Nv("tabindex"),j(fr),j(Gt),j(Hn))};static \u0275dir=Te({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){r&1&&$("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&Fo("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Lo],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Lo],replaceUrl:[2,"replaceUrl","replaceUrl",Lo],routerLink:"routerLink"},features:[Ln]})}return n})(),yc=(()=>{class n{router;element;renderer;cdr;link;links;classes=[];routerEventsSubscription;linkInputChangesSubscription;_isActive=!1;get isActive(){return this._isActive}routerLinkActiveOptions={exact:!1};ariaCurrentWhenActive;isActiveChange=new Ze;constructor(e,r,i,o,s){this.router=e,this.element=r,this.renderer=i,this.cdr=o,this.link=s,this.routerEventsSubscription=e.events.subscribe(a=>{a instanceof hn&&this.update()})}ngAfterContentInit(){z(this.links.changes,z(null)).pipe(_i()).subscribe(e=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let e=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=xe(e).pipe(_i()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(e){let r=Array.isArray(e)?e:e.split(" ");this.classes=r.filter(i=>!!i)}ngOnChanges(e){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let e=this.hasActiveLinks();this.classes.forEach(r=>{e?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),e&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==e&&(this._isActive=e,this.cdr.markForCheck(),this.isActiveChange.emit(e))})}isLinkActive(e){let r=K$(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>{let o=i.urlTree;return o?e.isActive(o,r):!1}}hasActiveLinks(){let e=this.isLinkActive(this.router);return this.link&&e(this.link)||this.links.some(e)}static \u0275fac=function(r){return new(r||n)(j(fn),j(Gt),j(fr),j(ti),j(Vi,8))};static \u0275dir=Te({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(r,i,o){if(r&1&&ES(o,Vi,5),r&2){let s;CS(s=DS())&&(i.links=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[Ln]})}return n})();function K$(n){return!!n.paths}var vc=class{};var IM=(()=>{class n{router;injector;preloadingStrategy;loader;subscription;constructor(e,r,i,o){this.router=e,this.injector=r,this.preloadingStrategy=i,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(kt(e=>e instanceof hn),tr(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,r){let i=[];for(let o of r){o.providers&&!o._injector&&(o._injector=ia(o.providers,e,`Route: ${o.path}`));let s=o._injector??e,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return xe(i).pipe(_i())}preloadConfig(e,r){return this.preloadingStrategy.preload(r,()=>{let i;r.loadChildren&&r.canLoad===void 0?i=this.loader.loadChildren(e,r):i=z(null);let o=i.pipe(Ye(s=>s===null?z(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??e,s.routes))));if(r.loadComponent&&!r._loadedComponent){let s=this.loader.loadComponent(r);return xe([o,s]).pipe(_i())}else return o})}static \u0275fac=function(r){return new(r||n)(H(fn),H(wt),H(vc),H(df))};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),MM=new P(""),Y$=(()=>{class n{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource="imperative";restoredId=0;store={};constructor(e,r,i,o,s={}){this.urlSerializer=e,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof Li?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof hn?(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment)):e instanceof wr&&e.code===fa.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof ga&&(e.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(e.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new ga(e,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(r){eS()};static \u0275prov=L({token:n,factory:n.\u0275fac})}return n})();function E_(n,...t){return Qr([{provide:Go,multi:!0,useValue:n},[],{provide:Er,useFactory:TM,deps:[fn]},{provide:Oi,multi:!0,useFactory:AM},t.map(e=>e.\u0275providers)])}function TM(n){return n.routerState.root}function _c(n,t){return{\u0275kind:n,\u0275providers:t}}function AM(){let n=I(zt);return t=>{let e=n.get(qt);if(t!==e.components[0])return;let r=n.get(fn),i=n.get(OM);n.get(C_)===1&&r.initialNavigation(),n.get(PM,null,ie.Optional)?.setUpPreloading(),n.get(MM,null,ie.Optional)?.init(),r.resetRootComponentType(e.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var OM=new P("",{factory:()=>new Ke}),C_=new P("",{providedIn:"root",factory:()=>1});function RM(){let n=[{provide:C_,useValue:0},gy(()=>{let t=I(zt);return t.get(Cy,Promise.resolve()).then(()=>new Promise(r=>{let i=t.get(fn),o=t.get(OM);pf(i,()=>{r(!0)}),t.get(ff).afterPreactivation=()=>(r(!0),o.closed?z(void 0):o),i.initialNavigation()}))})];return _c(2,n)}function kM(){let n=[gy(()=>{I(fn).setUpLocationChangeListener()}),{provide:C_,useValue:2}];return _c(3,n)}var PM=new P("");function NM(n){return _c(0,[{provide:PM,useExisting:IM},{provide:vc,useExisting:n}])}function FM(){return _c(8,[p_,{provide:gc,useExisting:p_}])}function LM(n){hr("NgRouterViewTransitions");let t=[{provide:y_,useValue:DM},{provide:__,useValue:O({skipNextTransition:!!n?.skipInitialTransition},n)}];return _c(9,t)}var jM=[ki,{provide:zo,useClass:Ni},fn,qo,{provide:Er,useFactory:TM,deps:[fn]},df,[]],D_=(()=>{class n{constructor(){}static forRoot(e,r){return{ngModule:n,providers:[jM,[],{provide:Go,multi:!0,useValue:e},[],r?.errorHandler?{provide:b_,useValue:r.errorHandler}:[],{provide:Wo,useValue:r||{}},r?.useHash?J$():X$(),Z$(),r?.preloadingStrategy?NM(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?Q$(r):[],r?.bindToComponentInputs?FM().\u0275providers:[],r?.enableViewTransitions?LM().\u0275providers:[],eH()]}}static forChild(e){return{ngModule:n,providers:[{provide:Go,multi:!0,useValue:e}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=Bn({type:n});static \u0275inj=Nn({})}return n})();function Z$(){return{provide:MM,useFactory:()=>{let n=I(fI),t=I(Ue),e=I(Wo),r=I(ff),i=I(zo);return e.scrollOffset&&n.setOffset(e.scrollOffset),new Y$(i,r,n,t,e)}}}function J$(){return{provide:Hn,useClass:Oy}}function X$(){return{provide:Hn,useClass:vh}}function Q$(n){return[n.initialNavigation==="disabled"?kM().\u0275providers:[],n.initialNavigation==="enabledBlocking"?RM().\u0275providers:[]]}var w_=new P("");function eH(){return[{provide:w_,useFactory:AM},{provide:Oi,multi:!0,useExisting:w_}]}var KM=(()=>{class n{_renderer;_elementRef;onChange=e=>{};onTouched=()=>{};constructor(e,r){this._renderer=e,this._elementRef=r}setProperty(e,r){this._renderer.setProperty(this._elementRef.nativeElement,e,r)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}static \u0275fac=function(r){return new(r||n)(j(fr),j(Gt))};static \u0275dir=Te({type:n})}return n})(),xc=(()=>{class n extends KM{static \u0275fac=(()=>{let e;return function(i){return(e||(e=ur(n)))(i||n)}})();static \u0275dir=Te({type:n,features:[Kt]})}return n})(),Zo=new P(""),nH={provide:Zo,useExisting:bn(()=>O_),multi:!0},O_=(()=>{class n extends xc{writeValue(e){this.setProperty("checked",e)}static \u0275fac=(()=>{let e;return function(i){return(e||(e=ur(n)))(i||n)}})();static \u0275dir=Te({type:n,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(r,i){r&1&&$("change",function(s){return i.onChange(s.target.checked)})("blur",function(){return i.onTouched()})},standalone:!1,features:[mr([nH]),Kt]})}return n})(),rH={provide:Zo,useExisting:bn(()=>Dn),multi:!0};function iH(){let n=En()?En().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var oH=new P(""),Dn=(()=>{class n extends KM{_compositionMode;_composing=!1;constructor(e,r,i){super(e,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!iH())}writeValue(e){let r=e??"";this.setProperty("value",r)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}static \u0275fac=function(r){return new(r||n)(j(fr),j(Gt),j(oH,8))};static \u0275dir=Te({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&$("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},standalone:!1,features:[mr([rH]),Kt]})}return n})();function R_(n){return n==null||k_(n)===0}function k_(n){return n==null?null:Array.isArray(n)||typeof n=="string"?n.length:n instanceof Set?n.size:null}var Df=new P(""),P_=new P(""),sH=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Oe=class{static min(t){return YM(t)}static max(t){return aH(t)}static required(t){return lH(t)}static requiredTrue(t){return cH(t)}static email(t){return uH(t)}static minLength(t){return dH(t)}static maxLength(t){return hH(t)}static pattern(t){return fH(t)}static nullValidator(t){return mf()}static compose(t){return tT(t)}static composeAsync(t){return rT(t)}};function YM(n){return t=>{if(t.value==null||n==null)return null;let e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}function aH(n){return t=>{if(t.value==null||n==null)return null;let e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}function lH(n){return R_(n.value)?{required:!0}:null}function cH(n){return n.value===!0?null:{required:!0}}function uH(n){return R_(n.value)||sH.test(n.value)?null:{email:!0}}function dH(n){return t=>{let e=t.value?.length??k_(t.value);return e===null||e===0?null:e<n?{minlength:{requiredLength:n,actualLength:e}}:null}}function hH(n){return t=>{let e=t.value?.length??k_(t.value);return e!==null&&e>n?{maxlength:{requiredLength:n,actualLength:e}}:null}}function fH(n){if(!n)return mf;let t,e;return typeof n=="string"?(e="",n.charAt(0)!=="^"&&(e+="^"),e+=n,n.charAt(n.length-1)!=="$"&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),r=>{if(R_(r.value))return null;let i=r.value;return t.test(i)?null:{pattern:{requiredPattern:e,actualValue:i}}}}function mf(n){return null}function ZM(n){return n!=null}function JM(n){return Ai(n)?xe(n):n}function XM(n){let t={};return n.forEach(e=>{t=e!=null?O(O({},t),e):t}),Object.keys(t).length===0?null:t}function QM(n,t){return t.map(e=>e(n))}function pH(n){return!n.validate}function eT(n){return n.map(t=>pH(t)?t:e=>t.validate(e))}function tT(n){if(!n)return null;let t=n.filter(ZM);return t.length==0?null:function(e){return XM(QM(e,t))}}function nT(n){return n!=null?tT(eT(n)):null}function rT(n){if(!n)return null;let t=n.filter(ZM);return t.length==0?null:function(e){let r=QM(e,t).map(JM);return $g(r).pipe(oe(XM))}}function iT(n){return n!=null?rT(eT(n)):null}function VM(n,t){return n===null?[t]:Array.isArray(n)?[...n,t]:[n,t]}function oT(n){return n._rawValidators}function sT(n){return n._rawAsyncValidators}function x_(n){return n?Array.isArray(n)?n:[n]:[]}function vf(n,t){return Array.isArray(n)?n.includes(t):n===t}function BM(n,t){let e=x_(t);return x_(n).forEach(i=>{vf(e,i)||e.push(i)}),e}function UM(n,t){return x_(t).filter(e=>!vf(n,e))}var yf=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=nT(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=iT(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,e){return this.control?this.control.hasError(t,e):!1}getError(t,e){return this.control?this.control.getError(t,e):null}},Ko=class extends yf{name;get formDirective(){return null}get path(){return null}},Yo=class extends yf{_parent=null;name=null;valueAccessor=null},_f=class{_cd;constructor(t){this._cd=t}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},gH={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},aee=te(O({},gH),{"[class.ng-submitted]":"isSubmitted"}),Cr=(()=>{class n extends _f{constructor(e){super(e)}static \u0275fac=function(r){return new(r||n)(j(Yo,2))};static \u0275dir=Te({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&It("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[Kt]})}return n})(),Dr=(()=>{class n extends _f{constructor(e){super(e)}static \u0275fac=function(r){return new(r||n)(j(Ko,10))};static \u0275dir=Te({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&It("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},standalone:!1,features:[Kt]})}return n})();var bc="VALID",gf="INVALID",ba="PENDING",wc="DISABLED",Bi=class{},bf=class extends Bi{value;source;constructor(t,e){super(),this.value=t,this.source=e}},Ec=class extends Bi{pristine;source;constructor(t,e){super(),this.pristine=t,this.source=e}},Cc=class extends Bi{touched;source;constructor(t,e){super(),this.touched=t,this.source=e}},wa=class extends Bi{status;source;constructor(t,e){super(),this.status=t,this.source=e}},S_=class extends Bi{source;constructor(t){super(),this.source=t}},I_=class extends Bi{source;constructor(t){super(),this.source=t}};function N_(n){return(xf(n)?n.validators:n)||null}function mH(n){return Array.isArray(n)?nT(n):n||null}function F_(n,t){return(xf(t)?t.asyncValidators:n)||null}function vH(n){return Array.isArray(n)?iT(n):n||null}function xf(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function aT(n,t,e){let r=n.controls;if(!(t?Object.keys(r):r).length)throw new N(1e3,"");if(!r[e])throw new N(1001,"")}function lT(n,t,e){n._forEachChild((r,i)=>{if(e[i]===void 0)throw new N(1002,"")})}var Ea=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(t,e){this._assignValidators(t),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get status(){return Un(this.statusReactive)}set status(t){Un(()=>this.statusReactive.set(t))}_status=oa(()=>this.statusReactive());statusReactive=Xs(void 0);get valid(){return this.status===bc}get invalid(){return this.status===gf}get pending(){return this.status==ba}get disabled(){return this.status===wc}get enabled(){return this.status!==wc}errors;get pristine(){return Un(this.pristineReactive)}set pristine(t){Un(()=>this.pristineReactive.set(t))}_pristine=oa(()=>this.pristineReactive());pristineReactive=Xs(!0);get dirty(){return!this.pristine}get touched(){return Un(this.touchedReactive)}set touched(t){Un(()=>this.touchedReactive.set(t))}_touched=oa(()=>this.touchedReactive());touchedReactive=Xs(!1);get untouched(){return!this.touched}_events=new Ke;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(BM(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(BM(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(UM(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(UM(t,this._rawAsyncValidators))}hasValidator(t){return vf(this._rawValidators,t)}hasAsyncValidator(t){return vf(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){let e=this.touched===!1;this.touched=!0;let r=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsTouched(te(O({},t),{sourceControl:r})),e&&t.emitEvent!==!1&&this._events.next(new Cc(!0,r))}markAllAsTouched(t={}){this.markAsTouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(e=>e.markAllAsTouched(t))}markAsUntouched(t={}){let e=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=t.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:r})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,r),e&&t.emitEvent!==!1&&this._events.next(new Cc(!1,r))}markAsDirty(t={}){let e=this.pristine===!0;this.pristine=!1;let r=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsDirty(te(O({},t),{sourceControl:r})),e&&t.emitEvent!==!1&&this._events.next(new Ec(!1,r))}markAsPristine(t={}){let e=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=t.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:t.emitEvent})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t,r),e&&t.emitEvent!==!1&&this._events.next(new Ec(!0,r))}markAsPending(t={}){this.status=ba;let e=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new wa(this.status,e)),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.markAsPending(te(O({},t),{sourceControl:e}))}disable(t={}){let e=this._parentMarkedDirty(t.onlySelf);this.status=wc,this.errors=null,this._forEachChild(i=>{i.disable(te(O({},t),{onlySelf:!0}))}),this._updateValue();let r=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new bf(this.value,r)),this._events.next(new wa(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(te(O({},t),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){let e=this._parentMarkedDirty(t.onlySelf);this.status=bc,this._forEachChild(r=>{r.enable(te(O({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(te(O({},t),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(t,e){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine({},e),this._parent._updateTouched({},e))}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===bc||this.status===ba)&&this._runAsyncValidator(r,t.emitEvent)}let e=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new bf(this.value,e)),this._events.next(new wa(this.status,e)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(te(O({},t),{sourceControl:e}))}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?wc:bc}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t,e){if(this.asyncValidator){this.status=ba,this._hasOwnPendingAsyncValidator={emitEvent:e!==!1};let r=JM(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:e,shouldHaveEmitted:t})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let t=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,t}return!1}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(e.emitEvent!==!1,this,e.shouldHaveEmitted)}get(t){let e=t;return e==null||(Array.isArray(e)||(e=e.split(".")),e.length===0)?null:e.reduce((r,i)=>r&&r._find(i),this)}getError(t,e){let r=e?this.get(e):this;return r&&r.errors?r.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t,e,r){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),(t||r)&&this._events.next(new wa(this.status,e)),this._parent&&this._parent._updateControlsErrors(t,e,r)}_initObservables(){this.valueChanges=new Ze,this.statusChanges=new Ze}_calculateStatus(){return this._allControlsDisabled()?wc:this.errors?gf:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ba)?ba:this._anyControlsHaveStatus(gf)?gf:bc}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t,e){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!t.onlySelf&&this._parent._updatePristine(t,e),i&&this._events.next(new Ec(this.pristine,e))}_updateTouched(t={},e){this.touched=this._anyControlsTouched(),this._events.next(new Cc(this.touched,e)),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,e)}_onDisabledChange=[];_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){xf(t)&&t.updateOn!=null&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){let e=this._parent&&this._parent.dirty;return!t&&!!e&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=mH(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=vH(this._rawAsyncValidators)}},wf=class extends Ea{constructor(t,e,r){super(N_(e),F_(r,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,r={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,r={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){lT(this,!0,t),Object.keys(t).forEach(r=>{aT(this,!0,r),this.controls[r].setValue(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t!=null&&(Object.keys(t).forEach(r=>{let i=this.controls[r];i&&i.patchValue(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((r,i)=>{r.reset(t?t[i]:null,{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e,this),this._updateTouched(e,this),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,r)=>(t[r]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,r)=>r._syncPendingControls()?!0:e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{let r=this.controls[e];r&&t(r,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(let[e,r]of Object.entries(this.controls))if(this.contains(e)&&t(r))return!0;return!1}_reduceValue(){let t={};return this._reduceChildren(t,(e,r,i)=>((r.enabled||this.disabled)&&(e[i]=r.value),e))}_reduceChildren(t,e){let r=t;return this._forEachChild((i,o)=>{r=e(r,i,o)}),r}_allControlsDisabled(){for(let t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}};var M_=class extends wf{};var Sf=new P("",{providedIn:"root",factory:()=>If}),If="always";function cT(n,t){return[...t.path,n]}function T_(n,t,e=If){L_(n,t),t.valueAccessor.writeValue(n.value),(n.disabled||e==="always")&&t.valueAccessor.setDisabledState?.(n.disabled),_H(n,t),wH(n,t),bH(n,t),yH(n,t)}function $M(n,t,e=!0){let r=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(r),t.valueAccessor.registerOnTouched(r)),Cf(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Ef(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function yH(n,t){if(t.valueAccessor.setDisabledState){let e=r=>{t.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}function L_(n,t){let e=oT(n);t.validator!==null?n.setValidators(VM(e,t.validator)):typeof e=="function"&&n.setValidators([e]);let r=sT(n);t.asyncValidator!==null?n.setAsyncValidators(VM(r,t.asyncValidator)):typeof r=="function"&&n.setAsyncValidators([r]);let i=()=>n.updateValueAndValidity();Ef(t._rawValidators,i),Ef(t._rawAsyncValidators,i)}function Cf(n,t){let e=!1;if(n!==null){if(t.validator!==null){let i=oT(n);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==t.validator);o.length!==i.length&&(e=!0,n.setValidators(o))}}if(t.asyncValidator!==null){let i=sT(n);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==t.asyncValidator);o.length!==i.length&&(e=!0,n.setAsyncValidators(o))}}}let r=()=>{};return Ef(t._rawValidators,r),Ef(t._rawAsyncValidators,r),e}function _H(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&uT(n,t)})}function bH(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&uT(n,t),n.updateOn!=="submit"&&n.markAsTouched()})}function uT(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function wH(n,t){let e=(r,i)=>{t.valueAccessor.writeValue(r),i&&t.viewToModelUpdate(r)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}function EH(n,t){n==null,L_(n,t)}function CH(n,t){return Cf(n,t)}function dT(n,t){if(!n.hasOwnProperty("model"))return!1;let e=n.model;return e.isFirstChange()?!0:!Object.is(t,e.currentValue)}function DH(n){return Object.getPrototypeOf(n.constructor)===xc}function xH(n,t){n._syncPendingControls(),t.forEach(e=>{let r=e.control;r.updateOn==="submit"&&r._pendingChange&&(e.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function hT(n,t){if(!t)return null;Array.isArray(t);let e,r,i;return t.forEach(o=>{o.constructor===Dn?e=o:DH(o)?r=o:i=o}),i||r||e||null}function SH(n,t){let e=n.indexOf(t);e>-1&&n.splice(e,1)}function HM(n,t){let e=n.indexOf(t);e>-1&&n.splice(e,1)}function zM(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var Dc=class extends Ea{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(t=null,e,r){super(N_(e),F_(r,e)),this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),xf(e)&&(e.nonNullable||e.initialValueIsDefault)&&(zM(t)?this.defaultValue=t.value:this.defaultValue=t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&e.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,e.emitViewToModelChange!==!1)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){HM(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){HM(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(t){zM(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};var IH=n=>n instanceof Dc;var MH={provide:Yo,useExisting:bn(()=>Jo)},qM=Promise.resolve(),Jo=(()=>{class n extends Yo{_changeDetectorRef;callSetDisabledState;control=new Dc;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new Ze;constructor(e,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=e,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=hT(this,o)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){let r=e.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),dT(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){T_(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(e){qM.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){let r=e.isDisabled.currentValue,i=r!==0&&Lo(r);qM.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?cT(e,this._parent):[e]}static \u0275fac=function(r){return new(r||n)(j(Ko,9),j(Df,10),j(P_,10),j(Zo,10),j(ti,8),j(Sf,8))};static \u0275dir=Te({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[mr([MH]),Kt,Ln]})}return n})();var xr=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275dir=Te({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return n})(),TH={provide:Zo,useExisting:bn(()=>ai),multi:!0},ai=(()=>{class n extends xc{writeValue(e){let r=e??"";this.setProperty("value",r)}registerOnChange(e){this.onChange=r=>{e(r==""?null:parseFloat(r))}}static \u0275fac=(()=>{let e;return function(i){return(e||(e=ur(n)))(i||n)}})();static \u0275dir=Te({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){r&1&&$("input",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},standalone:!1,features:[mr([TH]),Kt]})}return n})();var fT=new P("");var AH={provide:Ko,useExisting:bn(()=>Gn)},Gn=(()=>{class n extends Ko{callSetDisabledState;get submitted(){return Un(this._submittedReactive)}set submitted(e){this._submittedReactive.set(e)}_submitted=oa(()=>this._submittedReactive());_submittedReactive=Xs(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];form=null;ngSubmit=new Ze;constructor(e,r,i){super(),this.callSetDisabledState=i,this._setValidators(e),this._setAsyncValidators(r)}ngOnChanges(e){e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Cf(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){let r=this.form.get(e.path);return T_(r,e,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),r}getControl(e){return this.form.get(e.path)}removeControl(e){$M(e.control||null,e,!1),SH(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,r){this.form.get(e.path).setValue(r)}onSubmit(e){return this._submittedReactive.set(!0),xH(this.form,this.directives),this.ngSubmit.emit(e),this.form._events.next(new S_(this.control)),e?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this._submittedReactive.set(!1),this.form._events.next(new I_(this.form))}_updateDomValue(){this.directives.forEach(e=>{let r=e.control,i=this.form.get(e.path);r!==i&&($M(r||null,e),IH(i)&&(T_(i,e,this.callSetDisabledState),e.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){let r=this.form.get(e.path);EH(r,e),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){let r=this.form.get(e.path);r&&CH(r,e)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){L_(this.form,this),this._oldForm&&Cf(this._oldForm,this)}static \u0275fac=function(r){return new(r||n)(j(Df,10),j(P_,10),j(Sf,8))};static \u0275dir=Te({type:n,selectors:[["","formGroup",""]],hostBindings:function(r,i){r&1&&$("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[mr([AH]),Kt,Ln]})}return n})();var OH={provide:Yo,useExisting:bn(()=>Kn)},Kn=(()=>{class n extends Yo{_ngModelWarningConfig;_added=!1;viewModel;control;name=null;set isDisabled(e){}model;update=new Ze;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(e,r,i,o,s){super(),this._ngModelWarningConfig=s,this._parent=e,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=hT(this,o)}ngOnChanges(e){this._added||this._setUpControl(),dT(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return cT(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_setUpControl(){this.control=this.formDirective.addControl(this),this._added=!0}static \u0275fac=function(r){return new(r||n)(j(Ko,13),j(Df,10),j(P_,10),j(Zo,10),j(fT,8))};static \u0275dir=Te({type:n,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},standalone:!1,features:[mr([OH]),Kt,Ln]})}return n})();var RH={provide:Zo,useExisting:bn(()=>Sr),multi:!0};function pT(n,t){return n==null?`${t}`:(t&&typeof t=="object"&&(t="Object"),`${n}: ${t}`.slice(0,50))}function kH(n){return n.split(":")[0]}var Sr=(()=>{class n extends xc{value;_optionMap=new Map;_idCounter=0;set compareWith(e){this._compareWith=e}_compareWith=Object.is;writeValue(e){this.value=e;let r=this._getOptionId(e),i=pT(r,e);this.setProperty("value",i)}registerOnChange(e){this.onChange=r=>{this.value=this._getOptionValue(r),e(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),e))return r;return null}_getOptionValue(e){let r=kH(e);return this._optionMap.has(r)?this._optionMap.get(r):e}static \u0275fac=(()=>{let e;return function(i){return(e||(e=ur(n)))(i||n)}})();static \u0275dir=Te({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&$("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[mr([RH]),Kt]})}return n})(),Ui=(()=>{class n{_element;_renderer;_select;id;constructor(e,r,i){this._element=e,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(e){this._select!=null&&(this._select._optionMap.set(this.id,e),this._setElementValue(pT(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||n)(j(Gt),j(fr),j(Sr,9))};static \u0275dir=Te({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return n})(),PH={provide:Zo,useExisting:bn(()=>gT),multi:!0};function WM(n,t){return n==null?`${t}`:(typeof t=="string"&&(t=`'${t}'`),t&&typeof t=="object"&&(t="Object"),`${n}: ${t}`.slice(0,50))}function NH(n){return n.split(":")[0]}var gT=(()=>{class n extends xc{value;_optionMap=new Map;_idCounter=0;set compareWith(e){this._compareWith=e}_compareWith=Object.is;writeValue(e){this.value=e;let r;if(Array.isArray(e)){let i=e.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(e){this.onChange=r=>{let i=[],o=r.selectedOptions;if(o!==void 0){let s=o;for(let a=0;a<s.length;a++){let l=s[a],c=this._getOptionValue(l.value);i.push(c)}}else{let s=r.options;for(let a=0;a<s.length;a++){let l=s[a];if(l.selected){let c=this._getOptionValue(l.value);i.push(c)}}}this.value=i,e(i)}}_registerOption(e){let r=(this._idCounter++).toString();return this._optionMap.set(r,e),r}_getOptionId(e){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,e))return r;return null}_getOptionValue(e){let r=NH(e);return this._optionMap.has(r)?this._optionMap.get(r)._value:e}static \u0275fac=(()=>{let e;return function(i){return(e||(e=ur(n)))(i||n)}})();static \u0275dir=Te({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&$("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[mr([PH]),Kt]})}return n})(),$i=(()=>{class n{_element;_renderer;_select;id;_value;constructor(e,r,i){this._element=e,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){this._select!=null&&(this._value=e,this._setElementValue(WM(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue(WM(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||n)(j(Gt),j(fr),j(gT,9))};static \u0275dir=Te({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return n})();function FH(n){return typeof n=="number"?n:parseFloat(n)}var LH=(()=>{class n{_validator=mf;_onChange;_enabled;ngOnChanges(e){if(this.inputName in e){let r=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):mf,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return e!=null}static \u0275fac=function(r){return new(r||n)};static \u0275dir=Te({type:n,features:[Ln]})}return n})();var jH={provide:Df,useExisting:bn(()=>Sc),multi:!0},Sc=(()=>{class n extends LH{min;inputName="min";normalizeInput=e=>FH(e);createValidator=e=>YM(e);static \u0275fac=(()=>{let e;return function(i){return(e||(e=ur(n)))(i||n)}})();static \u0275dir=Te({type:n,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&Fo("min",i._enabled?i.min:null)},inputs:{min:"min"},standalone:!1,features:[mr([jH]),Kt]})}return n})();var mT=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Bn({type:n});static \u0275inj=Nn({})}return n})(),A_=class extends Ea{constructor(t,e,r){super(N_(e),F_(r,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;at(t){return this.controls[this._adjustIndex(t)]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,r={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(t,e={}){let r=this._adjustIndex(t);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,r={}){let i=this._adjustIndex(t);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),e&&(this.controls.splice(i,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){lT(this,!1,t),t.forEach((r,i)=>{aT(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t!=null&&(t.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((r,i)=>{r.reset(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e,this),this._updateTouched(e,this),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_adjustIndex(t){return t<0?t+this.length:t}_syncPendingControls(){let t=this.controls.reduce((e,r)=>r._syncPendingControls()?!0:e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((e,r)=>{t(e,r)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(let t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}_find(t){return this.at(t)??null}};function GM(n){return!!n&&(n.asyncValidators!==void 0||n.validators!==void 0||n.updateOn!==void 0)}var Ir=(()=>{class n{useNonNullable=!1;get nonNullable(){let e=new n;return e.useNonNullable=!0,e}group(e,r=null){let i=this._reduceControls(e),o={};return GM(r)?o=r:r!==null&&(o.validators=r.validator,o.asyncValidators=r.asyncValidator),new wf(i,o)}record(e,r=null){let i=this._reduceControls(e);return new M_(i,r)}control(e,r,i){let o={};return this.useNonNullable?(GM(r)?o=r:(o.validators=r,o.asyncValidators=i),new Dc(e,te(O({},o),{nonNullable:!0}))):new Dc(e,r,i)}array(e,r,i){let o=e.map(s=>this._createControl(s));return new A_(o,r,i)}_reduceControls(e){let r={};return Object.keys(e).forEach(i=>{r[i]=this._createControl(e[i])}),r}_createControl(e){if(e instanceof Dc)return e;if(e instanceof Ea)return e;if(Array.isArray(e)){let r=e[0],i=e.length>1?e[1]:null,o=e.length>2?e[2]:null;return this.control(r,i,o)}else return this.control(e)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Ca=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:Sf,useValue:e.callSetDisabledState??If}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=Bn({type:n});static \u0275inj=Nn({imports:[mT]})}return n})(),Mr=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:fT,useValue:e.warnOnNgModelWithFormControl??"always"},{provide:Sf,useValue:e.callSetDisabledState??If}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=Bn({type:n});static \u0275inj=Nn({imports:[mT]})}return n})();var eb=Ak(sO(),1),{PostgrestError:nie,FunctionsHttpError:rie,FunctionsFetchError:iie,FunctionsRelayError:oie,FunctionsError:sie,FunctionRegion:aie,SupabaseClient:lie,createClient:aO,GoTrueAdminApi:cie,GoTrueClient:uie,AuthAdminApi:die,AuthClient:hie,navigatorLock:fie,NavigatorLockAcquireTimeoutError:pie,lockInternals:gie,processLock:mie,SIGN_OUT_SCOPES:vie,AuthError:yie,AuthApiError:_ie,AuthUnknownError:bie,CustomAuthError:wie,AuthSessionMissingError:Eie,AuthInvalidTokenResponseError:Cie,AuthInvalidCredentialsError:Die,AuthImplicitGrantRedirectError:xie,AuthPKCEGrantCodeExchangeError:Sie,AuthRetryableFetchError:Iie,AuthWeakPasswordError:Mie,AuthInvalidJwtError:Tie,isAuthError:Aie,isAuthApiError:Oie,isAuthSessionMissingError:Rie,isAuthImplicitGrantRedirectError:kie,isAuthRetryableFetchError:Pie,isAuthWeakPasswordError:Nie,RealtimePresence:Fie,RealtimeChannel:Lie,RealtimeClient:jie,REALTIME_LISTEN_TYPES:Vie,REALTIME_POSTGRES_CHANGES_LISTEN_EVENT:Bie,REALTIME_PRESENCE_LISTEN_EVENTS:Uie,REALTIME_SUBSCRIBE_STATES:$ie,REALTIME_CHANNEL_STATES:Hie}=eb.default||eb;var At={production:!1,storageBucket:"image_perfume",supabaseUrl:"https://vlwqsyjjoxuugxtwivtw.supabase.co",supabaseKey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InZsd3FzeWpqb3h1dWd4dHdpdnR3Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjU2MzMyODcsImV4cCI6MjA4MTIwOTI4N30.pv9_TyGNZbfWhG-6syitadvZLxH9ea1UvVua59pdGHo"};var Ot=class n{constructor(t){this.platformId=t;let e=Py(this.platformId);this.supabase=aO(At.supabaseUrl,At.supabaseKey,{auth:{persistSession:e,autoRefreshToken:e,detectSessionInUrl:e}}),e&&this.initRealtimeSubscription()}supabase;_products=new et([]);products$=this._products.asObservable();_fournisseurs=new et([]);fournisseurs$=this._fournisseurs.asObservable();loadProducts(){return y(this,null,function*(){let{data:t,error:e}=yield this.supabase.from("products").select("*").order("name");e?console.error("Erreur chargement",e):this._products.next(t||[])})}initRealtimeSubscription(){this.supabase.channel("public:products").on("postgres_changes",{event:"*",schema:"public",table:"products"},t=>{t.eventType==="UPDATE"?this.updateLocalProductState(t.new):t.eventType==="INSERT"?this.addProductToLocalState(t.new):t.eventType==="DELETE"&&this.removeProductFromLocalState(t.old.id)}).subscribe()}updateLocalProductState(t){let e=this._products.value,r=e.findIndex(i=>i.id===t.id);if(r!==-1){let i=[...e];i[r]=t,this._products.next(i)}}addProductToLocalState(t){let e=this._products.value;this._products.next([...e,t])}removeProductFromLocalState(t){let e=this._products.value;this._products.next(e.filter(r=>r.id!==t))}createProduct(t){return y(this,null,function*(){let{error:e}=yield this.supabase.from("products").insert(t);if(e)throw console.error("Erreur cr\xE9ation",e),e})}updateProduct(t,e){return y(this,null,function*(){let{error:r}=yield this.supabase.from("products").update(e).eq("id",t);if(r)throw r})}updateStock(t,e){return y(this,null,function*(){let{data:r,error:i}=yield this.supabase.from("products").select("current_stock").eq("id",t).single();if(i)throw i;let o=(r.current_stock||0)+e,{error:s}=yield this.supabase.from("movements").insert({product_id:t,quantity:Math.abs(e),movement_type:e>0?"IN":"OUT",new_stock_level:o});if(s)throw s})}getStockHistory(t){return y(this,null,function*(){let{data:e,error:r}=yield this.supabase.from("movements").select("*").eq("product_id",t).order("created_at",{ascending:!0});if(r)throw r;return e})}loadFournisseurs(){return y(this,null,function*(){let{data:t,error:e}=yield this.supabase.from("suppliers").select("*").order("name");e?console.error("Erreur chargement fournisseurs",e):this._fournisseurs.next(t||[])})}addFournisseur(t){return y(this,null,function*(){let{data:e,error:r}=yield this.supabase.from("suppliers").insert(t).select().single();if(r)throw r;this._fournisseurs.next([...this._fournisseurs.value,e])})}deleteFournisseur(t){return y(this,null,function*(){let{error:e}=yield this.supabase.from("suppliers").delete().eq("id",t);if(e)throw e;this._fournisseurs.next(this._fournisseurs.value.filter(r=>r.id!==t))})}addPurchase(t,e,r,i){return y(this,null,function*(){let{error:o}=yield this.supabase.from("supplier_purchases").insert({product_id:t,quantity:e,supplier_price:r,supplier_id:i});if(o)throw o})}getPurchasesHistory(){return y(this,null,function*(){let{data:t,error:e}=yield this.supabase.from("supplier_purchases").select("*, products(name, sku), suppliers(name)").order("created_at",{ascending:!1});if(e)throw e;return t})}createVente(t){return y(this,null,function*(){let{error:e}=yield this.supabase.from("ventes").insert(t);if(e)throw e})}getVentesHistory(){return y(this,null,function*(){let{data:t,error:e}=yield this.supabase.from("ventes").select("*, products(name, sku)").order("created_at",{ascending:!1});if(e)throw e;return t})}getBoutiqueItems(t=!0){return y(this,null,function*(){let e=this.supabase.from("boutique_items").select("*, products(current_stock)").order("created_at",{ascending:!1});t&&(e=e.eq("is_active",!0));let{data:r,error:i}=yield e;if(i)throw i;return r})}createBoutiqueItem(t){return y(this,null,function*(){let{error:e}=yield this.supabase.from("boutique_items").insert(t);if(e)throw e})}updateBoutiqueItem(t,e){return y(this,null,function*(){let{error:r}=yield this.supabase.from("boutique_items").update(e).eq("id",t);if(r)throw r})}deleteBoutiqueItem(t,e){return y(this,null,function*(){e&&(yield this.deleteProductImage(e));let{error:r}=yield this.supabase.from("boutique_items").delete().eq("id",t);if(r)throw console.error("Erreur suppression article boutique",r),r})}signOut(){return y(this,null,function*(){let{error:t}=yield this.supabase.auth.signOut();if(t)throw t})}uploadProductImage(t,e,r){return y(this,null,function*(){if(r)yield new Promise((o,s)=>{let a=new XMLHttpRequest,l=`${At.supabaseUrl}/storage/v1/object/${At.storageBucket}/${e}`;a.open("POST",l),this.supabase.auth.getSession().then(({data:{session:c}})=>{let u=c?.access_token||At.supabaseKey;a.setRequestHeader("Authorization",`Bearer ${u}`),a.setRequestHeader("apikey",At.supabaseKey),a.setRequestHeader("x-upsert","true"),t.type&&a.setRequestHeader("Content-Type",t.type),a.upload.onprogress=d=>{if(d.lengthComputable){let f=Math.round(d.loaded/d.total*100);r(f)}},a.onload=()=>{if(a.status>=200&&a.status<300)o(null);else{let d=a.statusText||`Upload failed (Status ${a.status})`;try{if(a.responseText){let h=JSON.parse(a.responseText);h.message?d=h.message:h.error&&(d=typeof h.error=="string"?h.error:JSON.stringify(h.error))}}catch{}let f=new Error(d);f.statusCode=a.status,s(f)}},a.onerror=()=>{let d=new Error("Network error");d.statusCode=0,s(d)},a.send(t)})});else{let{error:o}=yield this.supabase.storage.from(At.storageBucket).upload(e,t,{upsert:!0});if(o)throw console.error("Erreur upload storage (Supabase):",o),o}let{data:i}=this.supabase.storage.from(At.storageBucket).getPublicUrl(e);return i.publicUrl})}deleteProductImage(t){return y(this,null,function*(){let e=t.split(`/${At.storageBucket}/`).pop();if(e){let r=decodeURIComponent(e.split("?")[0]),i=r.lastIndexOf("/"),o=i>-1?r.substring(0,i):"",s=i>-1?r.substring(i+1):r,{data:a}=yield this.supabase.storage.from(At.storageBucket).list(o,{search:s});if(!a||!a.some(c=>c.name===s))return;let{error:l}=yield this.supabase.storage.from(At.storageBucket).remove([r]);l&&console.error("Erreur suppression image storage",l)}})}static \u0275fac=function(e){return new(e||n)(H(Mi))};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})};var Rr=class n{show(t,e="success"){let r=document.createElement("div");r.innerText=t,Object.assign(r.style,{position:"fixed",bottom:"20px",right:"20px",padding:"12px 24px",borderRadius:"4px",color:"#fff",zIndex:"10000",fontFamily:"Arial, sans-serif",boxShadow:"0 4px 6px rgba(0,0,0,0.1)",opacity:"0",transition:"opacity 0.3s ease-in-out",backgroundColor:e==="success"?"#10B981":"#EF4444",pointerEvents:"none"}),document.body.appendChild(r),requestAnimationFrame(()=>{r.style.opacity="1"}),setTimeout(()=>{r.style.opacity="0",setTimeout(()=>{document.body.contains(r)&&document.body.removeChild(r)},300)},3e3)}success(t){this.show(t,"success")}error(t){this.show(t,"error")}static \u0275fac=function(e){return new(e||n)};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})};function uz(n,t){n&1&&(b(0,"small",18),w(1," Le SKU est requis (min 3 chars). "),v())}function dz(n,t){if(n&1){let e=Xe();b(0,"div",9)(1,"h3"),w(2,"Ajouter une r\xE9f\xE9rence"),v(),b(3,"form",10),$("ngSubmit",function(){me(e);let i=B();return ve(i.onSubmitCreate())}),b(4,"div",11)(5,"label"),w(6,"Code SKU (ex: REF-001)"),v(),J(7,"input",12),Y(8,uz,2,0,"small",13),v(),b(9,"div",11)(10,"label"),w(11,"Nom du produit"),v(),J(12,"input",14),v(),b(13,"div",11)(14,"label"),w(15,"Seuil d'alerte (Stock Min)"),v(),J(16,"input",15),v(),b(17,"div",11)(18,"label"),w(19,"Description (Optionnel)"),v(),J(20,"input",16),v(),b(21,"button",17),w(22," Sauvegarder "),v()()()}if(n&2){let e,r=B();x(3),R("formGroup",r.productForm),x(5),R("ngIf",((e=r.productForm.get("sku"))==null?null:e.invalid)&&((e=r.productForm.get("sku"))==null?null:e.touched)),x(13),R("disabled",r.productForm.invalid)}}function hz(n,t){if(n&1){let e=Xe();b(0,"div",25),J(1,"img",26),b(2,"button",27),$("click",function(){me(e);let i=B().$implicit,o=B(3);return ve(o.deletePhoto(i))}),w(3,"\xD7"),v()()}if(n&2){let e=B().$implicit;x(),R("src",e.image_path,na)}}function fz(n,t){n&1&&(b(0,"div",28),J(1,"div",29),v())}function pz(n,t){if(n&1){let e=Xe();b(0,"tr")(1,"td"),w(2),v(),b(3,"td"),w(4),v(),b(5,"td"),w(6),pe(7,"currency"),v(),b(8,"td"),Y(9,hz,4,1,"div",21)(10,fz,2,0,"div",22),b(11,"input",23),$("change",function(i){let o=me(e).$implicit,s=B(3);return ve(s.uploadPhoto(i,o))}),v()(),b(12,"td")(13,"button",24),$("click",function(){let i=me(e).$implicit,o=B(3);return ve(o.openPriceModal(i))}),w(14,"\xC9diter"),v()(),b(15,"td"),w(16),pe(17,"currency"),v()()}if(n&2){let e=t.$implicit,r=B(3);x(2),K(e.sku),x(2),K(e.name),x(2),K(Fe(7,7,e.myprice,"EUR")),x(3),R("ngIf",e.image_path),x(),R("ngIf",r.uploadingProductId===e.id),x(),R("disabled",r.uploadingProductId===e.id),x(5),K(Fe(17,10,e.current_stock*(e.myprice||0),"EUR"))}}function gz(n,t){if(n&1&&(b(0,"div")(1,"table",19)(2,"thead")(3,"tr")(4,"th"),w(5,"SKU"),v(),b(6,"th"),w(7,"Nom"),v(),b(8,"th"),w(9,"Mon Prix"),v(),b(10,"th"),w(11,"Photo"),v(),b(12,"th"),w(13,"Modifier"),v(),b(14,"th"),w(15,"Total"),v()()(),b(16,"tbody"),Y(17,pz,18,13,"tr",20),v()()()),n&2){let e=B().ngIf;x(17),R("ngForOf",e)}}function mz(n,t){if(n&1&&(b(0,"option",38),w(1),v()),n&2){let e=t.$implicit;R("value",e.id),x(),K(e.name)}}function vz(n,t){if(n&1){let e=Xe();b(0,"button",24),$("click",function(){me(e);let i=B().$implicit,o=B(2).ngIf,s=B();return ve(s.openPriceModal(s.findProduct(o,i.product_id),i.product_id))}),w(1,"\xC9diter"),v()}}function yz(n,t){if(n&1&&(b(0,"tr")(1,"td"),w(2),pe(3,"date"),v(),b(4,"td"),w(5),v(),b(6,"td")(7,"span",39),w(8),v(),J(9,"br"),b(10,"small",40),w(11),v()(),b(12,"td")(13,"span",41),w(14),v()(),b(15,"td"),w(16),pe(17,"currency"),v(),b(18,"td",39),w(19),pe(20,"currency"),v(),b(21,"td"),w(22),pe(23,"currency"),v(),b(24,"td"),w(25),pe(26,"currency"),v(),b(27,"td"),w(28),pe(29,"currency"),v(),b(30,"td"),Y(31,vz,2,0,"button",42),v()()),n&2){let e,r,i,o=t.$implicit,s=B(2).ngIf,a=B();x(2),K(Fe(3,11,o.created_at,"dd/MM/yyyy HH:mm")),x(3),K((o.suppliers==null?null:o.suppliers.name)||"-"),x(3),K((o.products==null?null:o.products.name)||"Produit inconnu"),x(3),K(o.products==null?null:o.products.sku),x(3),nt("+",o.quantity,""),x(2),K(Fe(17,14,o.supplier_price,"EUR")),x(3),K(Fe(20,17,o.quantity*o.supplier_price,"EUR")),x(3),K(Fe(23,20,(e=a.findProduct(s,o.product_id))==null?null:e.myprice,"EUR")),x(3),K(Fe(26,23,o.quantity*(((r=a.findProduct(s,o.product_id))==null?null:r.myprice)||0),"EUR")),x(3),K(Fe(29,26,o.quantity*(((i=a.findProduct(s,o.product_id))==null?null:i.myprice)||0)-o.quantity*o.supplier_price,"EUR")),x(3),R("ngIf",o.products)}}function _z(n,t){n&1&&(b(0,"tr")(1,"td",43),w(2,"Aucun historique disponible pour le moment."),v()())}function bz(n,t){if(n&1&&(b(0,"tfoot")(1,"tr")(2,"td",44),w(3,"Totaux :"),v(),b(4,"td",45),w(5),pe(6,"currency"),v(),J(7,"td"),b(8,"td",45),w(9),pe(10,"currency"),v(),b(11,"td",45),w(12),pe(13,"currency"),v(),J(14,"td"),v()()),n&2){let e=B(3);x(5),K(Fe(6,7,e.totalExpenses,"EUR")),x(4),K(Fe(10,10,e.totalSales,"EUR")),x(2),It("text-success",e.totalMargin>=0)("text-danger",e.totalMargin<0),x(),K(Fe(13,13,e.totalMargin,"EUR"))}}function wz(n,t){if(n&1){let e=Xe();b(0,"div",46)(1,"button",47),$("click",function(){me(e);let i=B(3);return ve(i.changePage(i.currentPage-1))}),w(2,"Pr\xE9c\xE9dent"),v(),b(3,"span"),w(4),v(),b(5,"button",47),$("click",function(){me(e);let i=B(3);return ve(i.changePage(i.currentPage+1))}),w(6,"Suivant"),v()()}if(n&2){let e=B(3);x(),R("disabled",e.currentPage===1),x(3),Ri("Page ",e.currentPage," sur ",e.totalPages,""),x(),R("disabled",e.currentPage===e.totalPages)}}function Ez(n,t){if(n&1){let e=Xe();b(0,"div")(1,"div",30)(2,"div",31)(3,"h3"),w(4,"Historique des Approvisionnements"),v(),b(5,"div",32)(6,"label",33),w(7,"Filtrer :"),v(),b(8,"select",34),gr("ngModelChange",function(i){me(e);let o=B(2);return ei(o.filterSupplierId,i)||(o.filterSupplierId=i),ve(i)}),$("change",function(){me(e);let i=B(2);return ve(i.applyFilter())}),b(9,"option",35),w(10,"Tous les fournisseurs"),v(),Y(11,mz,2,2,"option",36),pe(12,"async"),v()()(),b(13,"table",19)(14,"thead")(15,"tr")(16,"th"),w(17,"Date"),v(),b(18,"th"),w(19,"Fournisseur"),v(),b(20,"th"),w(21,"Produit"),v(),b(22,"th"),w(23,"Quantit\xE9"),v(),b(24,"th"),w(25,"Prix Unitaire"),v(),b(26,"th"),w(27,"Total"),v(),b(28,"th"),w(29,"Mon Prix"),v(),b(30,"th"),w(31,"Total Vente"),v(),b(32,"th"),w(33,"Marge"),v(),b(34,"th"),w(35,"Modifier"),v()()(),b(36,"tbody"),Y(37,yz,32,29,"tr",20)(38,_z,3,0,"tr",7),v(),Y(39,bz,15,16,"tfoot",7),v(),Y(40,wz,7,4,"div",37),v()()}if(n&2){let e=B(2);x(8),pr("ngModel",e.filterSupplierId),x(3),R("ngForOf",wn(12,6,e.fournisseurs$)),x(26),R("ngForOf",e.paginatedPurchases),x(),R("ngIf",e.filteredPurchases.length===0),x(),R("ngIf",e.filteredPurchases.length>0),x(),R("ngIf",e.totalPages>1)}}function Cz(n,t){if(n&1&&(vy(0),Y(1,gz,18,1,"div",7)(2,Ez,41,8,"div",7),yy()),n&2){let e=B();x(),R("ngIf",e.activeTab==="stocks"),x(),R("ngIf",e.activeTab==="prices")}}function Dz(n,t){if(n&1){let e=Xe();b(0,"div",48)(1,"div",49)(2,"h3"),w(3,"Modifier le prix"),v(),b(4,"div",50)(5,"label"),w(6,"Prix de vente (\u20AC)"),v(),b(7,"input",51),gr("ngModelChange",function(i){me(e);let o=B();return ei(o.editingPrice,i)||(o.editingPrice=i),ve(i)}),v()(),b(8,"div",52)(9,"button",53),$("click",function(){me(e);let i=B();return ve(i.closePriceModal())}),w(10,"Annuler"),v(),b(11,"button",2),$("click",function(){me(e);let i=B();return ve(i.savePrice())}),w(12,"Enregistrer"),v()()()()}if(n&2){let e=B();x(7),pr("ngModel",e.editingPrice)}}var pp=class n{supabaseService=I(Ot);fb=I(Ir);toastService=I(Rr);products$=this.supabaseService.products$;fournisseurs$=this.supabaseService.fournisseurs$;showCreateForm=!1;activeTab="stocks";purchases=[];filteredPurchases=[];filterSupplierId="";totalExpenses=0;totalSales=0;totalMargin=0;products=[];currentPage=1;itemsPerPage=10;showPriceModal=!1;editingProduct=null;editingPrice=0;uploadingProductId=null;get totalPages(){return Math.ceil(this.filteredPurchases.length/this.itemsPerPage)}get paginatedPurchases(){let t=(this.currentPage-1)*this.itemsPerPage;return this.filteredPurchases.slice(t,t+this.itemsPerPage)}changePage(t){t>=1&&t<=this.totalPages&&(this.currentPage=t)}productForm=this.fb.group({sku:["",[Oe.required,Oe.minLength(3)]],name:["",Oe.required],min_stock_threshold:[10,[Oe.required,Oe.min(0)]],description:[""]});ngOnInit(){this.supabaseService.loadProducts(),this.supabaseService.loadFournisseurs(),this.products$.subscribe(t=>{this.products=t,this.calculateTotal()}),this.loadPurchases()}addStock(t){return y(this,null,function*(){t.id&&(yield this.supabaseService.updateStock(t.id,1))})}removeStock(t){return y(this,null,function*(){if(t.id){if(t.current_stock<=0){this.toastService.error("Op\xE9ration impossible : Le stock ne peut pas \xEAtre n\xE9gatif.");return}try{yield this.supabaseService.updateStock(t.id,-1)}catch(e){e.code==="23514"?this.toastService.error("Op\xE9ration impossible : Le stock ne peut pas \xEAtre n\xE9gatif."):console.error("Erreur lors de la mise \xE0 jour du stock:",e)}}})}onSubmitCreate(){return y(this,null,function*(){if(!this.productForm.invalid)try{yield this.supabaseService.createProduct(this.productForm.value),this.productForm.reset({min_stock_threshold:10}),this.showCreateForm=!1}catch(t){t.code==="23505"?this.toastService.error("Ce SKU existe d\xE9j\xE0 !"):this.toastService.error("Erreur lors de la cr\xE9ation du produit.")}})}loadPurchases(){return y(this,null,function*(){this.purchases=(yield this.supabaseService.getPurchasesHistory())||[],this.applyFilter()})}applyFilter(){this.filterSupplierId?this.filteredPurchases=this.purchases.filter(t=>t.supplier_id==this.filterSupplierId):this.filteredPurchases=this.purchases,this.currentPage=1,this.calculateTotal()}calculateTotal(){this.totalExpenses=this.filteredPurchases.reduce((t,e)=>t+e.quantity*Number(e.supplier_price),0),this.totalSales=this.filteredPurchases.reduce((t,e)=>{let r=this.products.find(o=>o.id===e.product_id),i=r&&r.myprice||0;return t+e.quantity*i},0),this.totalMargin=this.totalSales-this.totalExpenses}getTotalStockValue(t){return t.reduce((e,r)=>e+r.current_stock*(r.price||0),0)}openPriceModal(t,e){this.editingProduct=O({},t),!this.editingProduct.id&&e&&(this.editingProduct.id=e),this.editingPrice=t.myprice||0,this.showPriceModal=!0}closePriceModal(){this.showPriceModal=!1,this.editingProduct=null,this.editingPrice=0}savePrice(){return y(this,null,function*(){if(!this.editingProduct||!this.editingProduct.id){this.toastService.error("Erreur: Identifiant du produit introuvable. Impossible de sauvegarder.");return}try{yield this.supabaseService.updateProduct(this.editingProduct.id,{myprice:this.editingPrice}),this.toastService.success("Prix mis \xE0 jour"),this.closePriceModal(),this.supabaseService.loadProducts(),this.loadPurchases()}catch(t){console.error(t),this.toastService.error("Erreur lors de la mise \xE0 jour du prix")}})}uploadPhoto(t,e){return y(this,null,function*(){let r=t.target.files[0];if(r){if(r.size>10*1024*1024){this.toastService.error("L'image est trop volumineuse (Max 10MB)");return}this.uploadingProductId=e.id;try{r=yield this.compressImage(r);let s=`boutique/${e.sku.replace(/[^a-z0-9]/gi,"_").toLowerCase()}_${Date.now()}.jpg`,a=yield this.supabaseService.uploadProductImage(r,s);yield this.supabaseService.updateProduct(e.id,{image_path:a}),this.toastService.success("Photo t\xE9l\xE9vers\xE9e avec succ\xE8s")}catch(i){console.error("Erreur upload:",i),i.message==="Bucket not found"||i.error&&i.error==="Bucket not found"?this.toastService.error(`Erreur config: Le bucket '${At.storageBucket}' n'existe pas dans Supabase.`):this.toastService.error("Erreur lors de l'envoi de la photo")}finally{this.uploadingProductId=null,t.target.value=""}}})}compressImage(t){return new Promise((e,r)=>{let i=new FileReader;i.readAsDataURL(t),i.onload=o=>{let s=new Image;s.src=o.target.result,s.onload=()=>{let a=document.createElement("canvas"),l=1024,c=l/s.width,u=c<1?l:s.width,d=c<1?s.height*c:s.height;a.width=u,a.height=d,a.getContext("2d")?.drawImage(s,0,0,u,d),a.toBlob(h=>{if(h){let p=new File([h],t.name.replace(/\.[^/.]+$/,"")+".jpg",{type:"image/jpeg",lastModified:Date.now()});e(p)}else r(new Error("Erreur lors de la compression"))},"image/jpeg",.7)},s.onerror=a=>r(a)},i.onerror=o=>r(o)})}deletePhoto(t){return y(this,null,function*(){if(t.image_path&&confirm("Voulez-vous vraiment supprimer cette photo ?"))try{yield this.supabaseService.deleteProductImage(t.image_path),yield this.supabaseService.updateProduct(t.id,{image_path:null}),this.toastService.success("Photo supprim\xE9e")}catch(e){console.error("Erreur suppression:",e),this.toastService.error("Erreur lors de la suppression de la photo")}})}findProduct(t,e){return t.find(r=>r.id===e)}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=Me({type:n,selectors:[["app-stock-manager"]],decls:18,vars:10,consts:[[1,"container"],[1,"header-actions"],[1,"btn","btn-primary",3,"click"],["class","creation-card",4,"ngIf"],[1,"nav","nav-tabs","mb-3"],[1,"nav-item"],[1,"nav-link",2,"cursor","pointer",3,"click"],[4,"ngIf"],["class","price-modal-overlay","style","position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); display: flex; justify-content: center; align-items: center; z-index: 1000;",4,"ngIf"],[1,"creation-card"],[3,"ngSubmit","formGroup"],[1,"form-group"],["type","text","formControlName","sku","placeholder","Code unique"],["class","error-text",4,"ngIf"],["type","text","formControlName","name","placeholder","Ex: Chaise de bureau"],["type","number","formControlName","min_stock_threshold"],["type","text","formControlName","description"],["type","submit",1,"btn","btn-save",3,"disabled"],[1,"error-text"],[1,"stock-table"],[4,"ngFor","ngForOf"],["style","position: relative; display: inline-block; margin-bottom: 5px;",4,"ngIf"],["class","progress my-2","style","height: 10px;",4,"ngIf"],["type","file","accept","image/*",1,"form-control","form-control-sm",3,"change","disabled"],[1,"btn","btn-sm","btn-warning",3,"click"],[2,"position","relative","display","inline-block","margin-bottom","5px"],["alt","Produit",2,"width","50px","height","50px","object-fit","cover","border-radius","4px",3,"src"],["title","Supprimer la photo",1,"btn","btn-danger","btn-sm",2,"position","absolute","top","-8px","right","-8px","padding","0 5px","font-size","12px","line-height","1.2","border-radius","50%","z-index","10",3,"click"],[1,"progress","my-2",2,"height","10px"],["role","progressbar",1,"progress-bar","progress-bar-striped","progress-bar-animated",2,"width","100%"],[1,"card","list-card"],[1,"d-flex","justify-content-between","align-items-center","mb-3"],[1,"d-flex","align-items-center"],[1,"me-2"],[1,"form-control","w-auto",3,"ngModelChange","change","ngModel"],["value",""],[3,"value",4,"ngFor","ngForOf"],["class","d-flex justify-content-between align-items-center mt-3",4,"ngIf"],[3,"value"],[1,"fw-bold"],[1,"text-muted"],[1,"badge","bg-success","rounded-pill"],["class","btn btn-sm btn-warning",3,"click",4,"ngIf"],["colspan","10",1,"text-center"],["colspan","5",2,"text-align","right","font-weight","bold","padding","10px"],[2,"font-weight","bold","padding","10px"],[1,"d-flex","justify-content-between","align-items-center","mt-3"],[1,"btn","btn-sm","btn-outline-secondary",3,"click","disabled"],[1,"price-modal-overlay",2,"position","fixed","top","0","left","0","width","100%","height","100%","background","rgba(0,0,0,0.5)","display","flex","justify-content","center","align-items","center","z-index","1000"],[1,"price-modal-content",2,"background","white","padding","20px","border-radius","8px","width","300px","box-shadow","0 2px 10px rgba(0,0,0,0.1)"],[1,"form-group","mb-3"],["type","number",1,"form-control",3,"ngModelChange","ngModel"],[1,"d-flex","justify-content-end","gap-2"],[1,"btn","btn-secondary",3,"click"]],template:function(e,r){e&1&&(b(0,"div",0)(1,"div",1)(2,"h1"),w(3,"Gestion de Stock"),v(),b(4,"button",2),$("click",function(){return r.showCreateForm=!r.showCreateForm}),w(5),v()(),Y(6,dz,23,3,"div",3),J(7,"hr"),b(8,"ul",4)(9,"li",5)(10,"a",6),$("click",function(){return r.activeTab="stocks"}),w(11,"Mes r\xE9f\xE9rences"),v()(),b(12,"li",5)(13,"a",6),$("click",function(){return r.activeTab="prices"}),w(14,"Historique Achats"),v()()(),Y(15,Cz,3,2,"ng-container",7),pe(16,"async"),Y(17,Dz,13,1,"div",8),v()),e&2&&(x(5),nt(" ",r.showCreateForm?"Annuler":"+ Nouveau Produit"," "),x(),R("ngIf",r.showCreateForm&&r.productForm),x(4),It("active",r.activeTab==="stocks"),x(3),It("active",r.activeTab==="prices"),x(2),R("ngIf",wn(16,8,r.products$)),x(2),R("ngIf",r.showPriceModal))},dependencies:[mt,gt,cn,ri,qn,ql,Ca,xr,Ui,$i,Dn,ai,Sr,Cr,Dr,Jo,Mr,Gn,Kn],styles:[".container[_ngcontent-%COMP%]{font-family:sans-serif;max-width:800px;margin:2rem auto}.stock-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.stock-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .stock-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:12px;border-bottom:1px solid #ddd;text-align:left}.low-stock[_ngcontent-%COMP%]{background-color:#fff4f4}.stock-count[_ngcontent-%COMP%]{font-weight:700;font-size:1.1rem}.badge[_ngcontent-%COMP%]{background:orange;color:#fff;padding:2px 6px;border-radius:4px;font-size:.8em;margin-left:8px}.btn[_ngcontent-%COMP%]{border:none;padding:6px 12px;cursor:pointer;border-radius:4px;margin-right:5px;color:#fff}.btn-in[_ngcontent-%COMP%]{background-color:#2ecc71}.btn-out[_ngcontent-%COMP%]{background-color:#e74c3c}.header-actions[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px}.creation-card[_ngcontent-%COMP%]{background:#f9f9f9;padding:20px;border-radius:8px;border:1px solid #ddd;margin-bottom:30px;animation:_ngcontent-%COMP%_slideDown .3s ease-out}@keyframes _ngcontent-%COMP%_slideDown{0%{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}.form-row[_ngcontent-%COMP%]{display:flex;gap:20px}.form-row[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{flex:1}label[_ngcontent-%COMP%]{display:block;margin-bottom:5px;font-weight:700;font-size:.9em;color:#555}input[_ngcontent-%COMP%]{width:100%;padding:10px;border:1px solid #ccc;border-radius:4px;box-sizing:border-box}input.ng-invalid.ng-touched[_ngcontent-%COMP%]{border-color:#e74c3c}.error-text[_ngcontent-%COMP%]{color:#e74c3c;font-size:.8em}.btn-primary[_ngcontent-%COMP%]{background-color:#3498db;color:#fff;padding:10px 20px;font-size:1rem}.btn-save[_ngcontent-%COMP%]{background-color:#2c3e50;color:#fff;width:100%;margin-top:10px}.btn[_ngcontent-%COMP%]:disabled{background-color:#ccc;cursor:not-allowed}"]})};function xz(n,t){if(n&1&&(b(0,"div"),w(1),v()),n&2){let e=B().$implicit;x(),K(e.contact_email)}}function Sz(n,t){if(n&1&&(b(0,"div",26),w(1),v()),n&2){let e=B().$implicit;x(),K(e.phone_number)}}function Iz(n,t){if(n&1&&(b(0,"span"),w(1),v()),n&2){let e=B().$implicit;x(),nt("(",e.code_postal,")")}}function Mz(n,t){if(n&1){let e=Xe();b(0,"tr")(1,"td")(2,"strong"),w(3),v()(),b(4,"td"),Y(5,xz,2,1,"div",23)(6,Sz,2,1,"div",24),v(),b(7,"td"),w(8),Y(9,Iz,2,1,"span",23),v(),b(10,"td"),w(11),v(),b(12,"td")(13,"button",25),$("click",function(){let i=me(e).$implicit,o=B();return ve(o.onDelete(i.id))}),w(14,"Supprimer"),v()()()}if(n&2){let e=t.$implicit;x(3),K(e.name),x(2),R("ngIf",e.contact_email),x(),R("ngIf",e.phone_number),x(2),nt("",e.ville," "),x(),R("ngIf",e.code_postal),x(2),K(e.tva)}}function Tz(n,t){n&1&&(b(0,"tr")(1,"td",27),w(2,"Aucun fournisseur enregistr\xE9."),v()())}var gp=class n{constructor(t,e,r){this.supabaseService=t;this.fb=e;this.toastService=r;this.fournisseurs$=this.supabaseService.fournisseurs$,this.fournisseurForm=this.fb.group({name:["",Oe.required],contact_email:["",[Oe.email]],phone_number:[""],tva:[""],adresse:[""],ville:[""],code_postal:[""]})}fournisseurs$;fournisseurForm;ngOnInit(){this.supabaseService.loadFournisseurs()}onSubmit(){return y(this,null,function*(){if(this.fournisseurForm.valid)try{let t=this.fournisseurForm.value,e=Object.keys(t).reduce((r,i)=>(r[i]=t[i]===""?null:t[i],r),{});yield this.supabaseService.addFournisseur(e),this.toastService.success("Fournisseur ajout\xE9 avec succ\xE8s !"),this.fournisseurForm.reset()}catch(t){console.warn(t),console.error("Erreur lors de l'ajout:",t),this.toastService.error("Erreur lors de l'enregistrement du fournisseur.")}else console.warn("Formulaire invalide",this.fournisseurForm.errors),this.toastService.error("Veuillez remplir les champs obligatoires (Nom).")})}onDelete(t){return y(this,null,function*(){t&&confirm("Voulez-vous vraiment supprimer ce fournisseur ?")&&(yield this.supabaseService.deleteFournisseur(String(t)))})}static \u0275fac=function(e){return new(e||n)(j(Ot),j(Ir),j(Rr))};static \u0275cmp=Me({type:n,selectors:[["app-fournisseurs"]],decls:61,vars:8,consts:[[1,"container"],[1,"card","form-card"],[3,"ngSubmit","formGroup"],[1,"form-row"],[1,"form-group"],["for","name"],["type","text","id","name","formControlName","name","placeholder","Nom de l'entreprise",1,"form-control"],["for","tva"],["type","text","id","tva","formControlName","tva","placeholder","123 456 789 00012",1,"form-control"],["for","contact_email"],["type","email","id","contact_email","formControlName","contact_email","placeholder","contact@fournisseur.com",1,"form-control"],["for","phone_number"],["type","text","id","phone_number","formControlName","phone_number","placeholder","01 23 45 67 89",1,"form-control"],["for","adresse"],["type","text","id","adresse","formControlName","adresse","placeholder","Rue...",1,"form-control"],["for","ville"],["type","text","id","ville","formControlName","ville","placeholder","Paris",1,"form-control"],["for","code_postal"],["type","text","id","code_postal","formControlName","code_postal","placeholder","75000",1,"form-control"],["type","submit",1,"btn-submit",3,"disabled"],[1,"card","list-card"],[1,"stock-table"],[4,"ngFor","ngForOf"],[4,"ngIf"],["class","text-sm",4,"ngIf"],[1,"btn-delete",3,"click"],[1,"text-sm"],["colspan","5",1,"text-center"]],template:function(e,r){if(e&1&&(b(0,"div",0)(1,"h2"),w(2,"Gestion des Fournisseurs"),v(),b(3,"div",1)(4,"h3"),w(5,"Nouveau Fournisseur"),v(),b(6,"form",2),$("ngSubmit",function(){return r.onSubmit()}),b(7,"div",3)(8,"div",4)(9,"label",5),w(10,"Nom *"),v(),J(11,"input",6),v(),b(12,"div",4)(13,"label",7),w(14,"TVA"),v(),J(15,"input",8),v()(),b(16,"div",3)(17,"div",4)(18,"label",9),w(19,"Email"),v(),J(20,"input",10),v(),b(21,"div",4)(22,"label",11),w(23,"T\xE9l\xE9phone"),v(),J(24,"input",12),v()(),b(25,"div",3)(26,"div",4)(27,"label",13),w(28,"Adresse"),v(),J(29,"input",14),v(),b(30,"div",4)(31,"label",15),w(32,"Ville"),v(),J(33,"input",16),v(),b(34,"div",4)(35,"label",17),w(36,"Code Postal"),v(),J(37,"input",18),v()(),b(38,"button",19),w(39,"Ajouter le fournisseur"),v()()(),b(40,"div",20)(41,"h3"),w(42,"Liste des Fournisseurs"),v(),b(43,"table",21)(44,"thead")(45,"tr")(46,"th"),w(47,"Nom"),v(),b(48,"th"),w(49,"Contact"),v(),b(50,"th"),w(51,"Ville"),v(),b(52,"th"),w(53,"TVA"),v(),b(54,"th"),w(55,"Actions"),v()()(),b(56,"tbody"),Y(57,Mz,15,6,"tr",22),pe(58,"async"),Y(59,Tz,3,0,"tr",23),pe(60,"async"),v()()()()),e&2){let i;x(6),R("formGroup",r.fournisseurForm),x(32),R("disabled",!r.fournisseurForm.valid),x(19),R("ngForOf",wn(58,4,r.fournisseurs$)),x(2),R("ngIf",((i=wn(60,6,r.fournisseurs$))==null?null:i.length)===0)}},dependencies:[mt,gt,cn,ri,Mr,xr,Dn,Cr,Dr,Gn,Kn],styles:[".container[_ngcontent-%COMP%]{padding:2rem;max-width:1200px;margin:0 auto}.card[_ngcontent-%COMP%]{background:#fff;border-radius:8px;padding:1.5rem;box-shadow:0 2px 4px #0000001a;margin-bottom:2rem}h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%]{color:#2c3e50;margin-bottom:1.5rem}.form-row[_ngcontent-%COMP%]{display:flex;gap:1rem;margin-bottom:1rem;flex-wrap:wrap}.form-group[_ngcontent-%COMP%]{flex:1;min-width:200px;display:flex;flex-direction:column}label[_ngcontent-%COMP%]{margin-bottom:.5rem;font-weight:500;color:#34495e}input[_ngcontent-%COMP%]{padding:.75rem;border:1px solid #bdc3c7;border-radius:4px;font-size:1rem}input[_ngcontent-%COMP%]:focus{border-color:#3498db;outline:none}.btn-submit[_ngcontent-%COMP%]{background-color:#27ae60;color:#fff;border:none;padding:.75rem 1.5rem;border-radius:4px;cursor:pointer;font-size:1rem;transition:background .3s}.btn-submit[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#2ecc71}.btn-submit[_ngcontent-%COMP%]:disabled{background-color:#95a5a6;cursor:not-allowed}.table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:1rem;text-align:left;border-bottom:1px solid #ecf0f1}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#f8f9fa;font-weight:600}.text-sm[_ngcontent-%COMP%]{font-size:.85rem;color:#7f8c8d}.btn-delete[_ngcontent-%COMP%]{background-color:#e74c3c;color:#fff;border:none;padding:.5rem 1rem;border-radius:4px;cursor:pointer}.btn-delete[_ngcontent-%COMP%]:hover{background-color:#c0392b}"]})};var mp=class n{static \u0275fac=function(e){return new(e||n)};static \u0275cmp=Me({type:n,selectors:[["app-prospects"]],decls:2,vars:0,template:function(e,r){e&1&&(b(0,"p"),w(1,"prospects works!"),v())},encapsulation:2})};var vp=class n{static \u0275fac=function(e){return new(e||n)};static \u0275cmp=Me({type:n,selectors:[["app-commissions"]],decls:2,vars:0,template:function(e,r){e&1&&(b(0,"p"),w(1,"commissions works!"),v())},encapsulation:2})};function Az(n,t){if(n&1&&(b(0,"option",26),w(1),v()),n&2){let e=t.$implicit;R("value",e.id),x(),nt(" ",e.name," ")}}function Oz(n,t){if(n&1&&(b(0,"option",26),w(1),v()),n&2){let e=t.$implicit;R("value",e.id),x(),Ri(" ",e.name," (Stock: ",e.current_stock,") ")}}function Rz(n,t){if(n&1&&(b(0,"option",26),w(1),v()),n&2){let e=t.$implicit;R("value",e.id),x(),K(e.name)}}function kz(n,t){if(n&1&&(b(0,"tr")(1,"td"),w(2),pe(3,"date"),v(),b(4,"td"),w(5),v(),b(6,"td")(7,"span",27),w(8),v(),J(9,"br"),b(10,"small",28),w(11),v()(),b(12,"td")(13,"span",29),w(14),v()(),b(15,"td"),w(16),pe(17,"currency"),v(),b(18,"td",27),w(19),pe(20,"currency"),v()()),n&2){let e=t.$implicit;x(2),K(Fe(3,7,e.created_at,"dd/MM/yyyy HH:mm")),x(3),K((e.suppliers==null?null:e.suppliers.name)||"-"),x(3),K((e.products==null?null:e.products.name)||"Produit inconnu"),x(3),K(e.products==null?null:e.products.sku),x(3),nt("+",e.quantity,""),x(2),K(Fe(17,10,e.supplier_price,"EUR")),x(3),K(Fe(20,13,e.quantity*e.supplier_price,"EUR"))}}function Pz(n,t){n&1&&(b(0,"tr")(1,"td",30),w(2,"Aucun historique disponible pour le moment."),v()())}function Nz(n,t){if(n&1&&(b(0,"tfoot")(1,"tr")(2,"td",31),w(3,"Total des d\xE9penses :"),v(),b(4,"td",32),w(5),pe(6,"currency"),v()()()),n&2){let e=B();x(5),K(Fe(6,1,e.totalExpenses,"EUR"))}}function Fz(n,t){if(n&1){let e=Xe();b(0,"div",33)(1,"button",34),$("click",function(){me(e);let i=B();return ve(i.changePage(i.currentPage-1))}),w(2,"Pr\xE9c\xE9dent"),v(),b(3,"span"),w(4),v(),b(5,"button",34),$("click",function(){me(e);let i=B();return ve(i.changePage(i.currentPage+1))}),w(6,"Suivant"),v()()}if(n&2){let e=B();x(),R("disabled",e.currentPage===1),x(3),Ri("Page ",e.currentPage," sur ",e.totalPages,""),x(),R("disabled",e.currentPage===e.totalPages)}}var yp=class n{supabase=I(Ot);fb=I(Ir);toast=I(Rr);products$=this.supabase.products$;fournisseurs$=this.supabase.fournisseurs$;purchases=[];filteredPurchases=[];filterSupplierId="";totalExpenses=0;currentPage=1;itemsPerPage=10;get totalPages(){return Math.ceil(this.filteredPurchases.length/this.itemsPerPage)}get paginatedPurchases(){let t=(this.currentPage-1)*this.itemsPerPage;return this.filteredPurchases.slice(t,t+this.itemsPerPage)}changePage(t){t>=1&&t<=this.totalPages&&(this.currentPage=t)}purchaseForm=this.fb.group({product_id:["",Oe.required],supplier_id:["",Oe.required],quantity:[1,[Oe.required,Oe.min(1)]],supplier_price:[0,[Oe.required,Oe.min(0)]]});ngOnInit(){this.supabase.loadProducts(),this.supabase.loadFournisseurs(),this.loadPurchases()}loadPurchases(){return y(this,null,function*(){try{this.purchases=(yield this.supabase.getPurchasesHistory())||[],this.applyFilter()}catch(t){console.error("Erreur chargement historique achats",t)}})}applyFilter(){this.filterSupplierId?this.filteredPurchases=this.purchases.filter(t=>t.supplier_id==this.filterSupplierId):this.filteredPurchases=this.purchases,this.currentPage=1,this.calculateTotal()}calculateTotal(){this.totalExpenses=this.filteredPurchases.reduce((t,e)=>t+e.quantity*Number(e.supplier_price),0)}onSubmitPurchase(){return y(this,null,function*(){if(this.purchaseForm.invalid)return;let{product_id:t,quantity:e,supplier_price:r,supplier_id:i}=this.purchaseForm.value;try{yield this.supabase.addPurchase(t,e,r,i),this.toast.success("Approvisionnement enregistr\xE9 avec succ\xE8s !"),this.purchaseForm.reset({quantity:1,supplier_price:0,product_id:"",supplier_id:""}),this.loadPurchases()}catch(o){this.toast.error("Erreur lors de l'enregistrement."),console.error(o)}})}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=Me({type:n,selectors:[["app-achat-fournisseurs"]],decls:67,vars:16,consts:[[1,"container"],[1,"card","form-card"],[3,"ngSubmit","formGroup"],[1,"form-row"],[1,"form-group"],["for","supplier"],["id","supplier","formControlName","supplier_id",1,"form-control"],["value","","disabled",""],[3,"value",4,"ngFor","ngForOf"],["for","product"],["id","product","formControlName","product_id",1,"form-control"],["for","quantity"],["id","quantity","type","number","formControlName","quantity","min","1",1,"form-control"],["for","price"],["id","price","type","number","formControlName","supplier_price","min","0","step","0.01",1,"form-control"],["type","submit",1,"btn-submit",3,"disabled"],[1,"card","list-card"],[1,"d-flex","justify-content-between","align-items-center","mb-3"],[1,"d-flex","align-items-center"],[1,"me-2"],[1,"form-control","w-auto",3,"ngModelChange","change","ngModel"],["value",""],[1,"stock-table"],[4,"ngFor","ngForOf"],[4,"ngIf"],["class","d-flex justify-content-between align-items-center mt-3",4,"ngIf"],[3,"value"],[1,"fw-bold"],[1,"text-muted"],[1,"badge","bg-success","rounded-pill"],["colspan","6",1,"text-center"],["colspan","5",2,"text-align","right","font-weight","bold","padding","10px"],[2,"font-weight","bold","padding","10px"],[1,"d-flex","justify-content-between","align-items-center","mt-3"],[1,"btn","btn-sm","btn-outline-secondary",3,"click","disabled"]],template:function(e,r){e&1&&(b(0,"div",0)(1,"h2"),w(2,"Approvisionnement"),v(),b(3,"div",1)(4,"h3"),w(5,"Nouvelle Entr\xE9e de Stock"),v(),b(6,"form",2),$("ngSubmit",function(){return r.onSubmitPurchase()}),b(7,"div",3)(8,"div",4)(9,"label",5),w(10,"Fournisseur"),v(),b(11,"select",6)(12,"option",7),w(13,"S\xE9lectionner un fournisseur"),v(),Y(14,Az,2,2,"option",8),pe(15,"async"),v()(),b(16,"div",4)(17,"label",9),w(18,"Produit"),v(),b(19,"select",10)(20,"option",7),w(21,"S\xE9lectionner un produit"),v(),Y(22,Oz,2,3,"option",8),pe(23,"async"),v()()(),b(24,"div",3)(25,"div",4)(26,"label",11),w(27,"Quantit\xE9"),v(),J(28,"input",12),v(),b(29,"div",4)(30,"label",13),w(31,"Prix Achat (\u20AC)"),v(),J(32,"input",14),v()(),b(33,"button",15),w(34,"Enregistrer l'entr\xE9e"),v()()(),b(35,"div",16)(36,"div",17)(37,"h3"),w(38,"Historique des Approvisionnements"),v(),b(39,"div",18)(40,"label",19),w(41,"Filtrer :"),v(),b(42,"select",20),gr("ngModelChange",function(o){return ei(r.filterSupplierId,o)||(r.filterSupplierId=o),o}),$("change",function(){return r.applyFilter()}),b(43,"option",21),w(44,"Tous les fournisseurs"),v(),Y(45,Rz,2,2,"option",8),pe(46,"async"),v()()(),b(47,"table",22)(48,"thead")(49,"tr")(50,"th"),w(51,"Date"),v(),b(52,"th"),w(53,"Fournisseur"),v(),b(54,"th"),w(55,"Produit"),v(),b(56,"th"),w(57,"Quantit\xE9"),v(),b(58,"th"),w(59,"Prix Unitaire"),v(),b(60,"th"),w(61,"Total"),v()()(),b(62,"tbody"),Y(63,kz,21,16,"tr",23)(64,Pz,3,0,"tr",24),v(),Y(65,Nz,7,4,"tfoot",24),v(),Y(66,Fz,7,4,"div",25),v()()),e&2&&(x(6),R("formGroup",r.purchaseForm),x(8),R("ngForOf",wn(15,10,r.fournisseurs$)),x(8),R("ngForOf",wn(23,12,r.products$)),x(11),R("disabled",r.purchaseForm.invalid),x(9),pr("ngModel",r.filterSupplierId),x(3),R("ngForOf",wn(46,14,r.fournisseurs$)),x(18),R("ngForOf",r.paginatedPurchases),x(),R("ngIf",r.filteredPurchases.length===0),x(),R("ngIf",r.filteredPurchases.length>0),x(),R("ngIf",r.totalPages>1))},dependencies:[mt,gt,cn,ri,qn,ql,Mr,xr,Ui,$i,Dn,ai,Sr,Cr,Dr,Sc,Gn,Kn,Ca,Jo],styles:[".container[_ngcontent-%COMP%]{padding:2rem;max-width:800px;margin:0 auto}.card[_ngcontent-%COMP%]{background:#fff;border-radius:8px;padding:2rem;box-shadow:0 2px 10px #0000001a}h2[_ngcontent-%COMP%]{color:#2c3e50;margin-bottom:1.5rem;text-align:center}.form-group[_ngcontent-%COMP%]{margin-bottom:1.5rem}label[_ngcontent-%COMP%]{display:block;margin-bottom:.5rem;font-weight:500;color:#34495e}.form-control[_ngcontent-%COMP%]{width:100%;padding:.75rem;border:1px solid #bdc3c7;border-radius:4px;font-size:1rem;box-sizing:border-box}.summary[_ngcontent-%COMP%]{margin:2rem 0;padding:1rem;background-color:#f8f9fa;border-radius:4px;text-align:right}.total-price[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:700;color:#2c3e50}.total-price[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#27ae60;font-size:1.5rem;margin-left:.5rem}.btn-submit[_ngcontent-%COMP%]{width:100%;padding:1rem;background-color:#3498db;color:#fff;border:none;border-radius:4px;font-size:1.1rem;cursor:pointer;transition:background .3s}.btn-submit[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#2980b9}.btn-submit[_ngcontent-%COMP%]:disabled{background-color:#bdc3c7;cursor:not-allowed}"]})};function Lz(n,t){if(n&1&&(b(0,"option",13),w(1),pe(2,"currency"),v()),n&2){let e=t.$implicit;R("value",e.id),x(),_y(" ",e.name," (Stock: ",e.current_stock,") - ",Fe(2,4,e.price||0,"EUR")," ")}}var _p=class n{constructor(t,e){this.supabaseService=t;this.fb=e;this.venteForm=this.fb.group({product_id:["",Oe.required],quantity:[1,[Oe.required,Oe.min(1)]]})}venteForm;products=[];totalPrice=0;ngOnInit(){this.supabaseService.products$.subscribe(t=>{this.products=t}),this.supabaseService.loadProducts(),this.venteForm.valueChanges.subscribe(()=>this.calculateTotal())}calculateTotal(){let{product_id:t,quantity:e}=this.venteForm.value,i=this.products.find(o=>o.id===t)?.price||0;this.totalPrice=i*(e||0)}onSubmit(){return y(this,null,function*(){if(this.venteForm.valid){let{product_id:t,quantity:e}=this.venteForm.value,i=this.products.find(o=>o.id===t)?.price||0;try{yield this.supabaseService.createVente({product_id:t,quantity:e,price_unit:i,total_price:this.totalPrice}),this.venteForm.reset({quantity:1}),this.totalPrice=0,alert("Vente enregistr\xE9e avec succ\xE8s !")}catch(o){console.error("Erreur vente:",o),alert("Erreur lors de l'enregistrement de la vente.")}}})}static \u0275fac=function(e){return new(e||n)(j(Ot),j(Ir))};static \u0275cmp=Me({type:n,selectors:[["app-ventes"]],decls:24,vars:7,consts:[[1,"container"],[1,"card","form-card"],[3,"ngSubmit","formGroup"],[1,"form-group"],["for","product"],["id","product","formControlName","product_id",1,"form-control"],["value","","disabled",""],[3,"value",4,"ngFor","ngForOf"],["for","quantity"],["type","number","id","quantity","formControlName","quantity","min","1",1,"form-control"],[1,"summary"],[1,"total-price"],["type","submit",1,"btn-submit",3,"disabled"],[3,"value"]],template:function(e,r){e&1&&(b(0,"div",0)(1,"h2"),w(2,"Enregistrer une Vente"),v(),b(3,"div",1)(4,"form",2),$("ngSubmit",function(){return r.onSubmit()}),b(5,"div",3)(6,"label",4),w(7,"Produit"),v(),b(8,"select",5)(9,"option",6),w(10,"S\xE9lectionner un produit"),v(),Y(11,Lz,3,7,"option",7),v()(),b(12,"div",3)(13,"label",8),w(14,"Quantit\xE9"),v(),J(15,"input",9),v(),b(16,"div",10)(17,"div",11),w(18," Total \xE0 payer : "),b(19,"span"),w(20),pe(21,"currency"),v()()(),b(22,"button",12),w(23," Valider la vente "),v()()()()),e&2&&(x(4),R("formGroup",r.venteForm),x(7),R("ngForOf",r.products),x(9),K(Fe(21,4,r.totalPrice,"EUR")),x(2),R("disabled",!r.venteForm.valid))},dependencies:[mt,gt,qn,Mr,xr,Ui,$i,Dn,ai,Sr,Cr,Dr,Sc,Gn,Kn],styles:[".container[_ngcontent-%COMP%]{padding:2rem;max-width:800px;margin:0 auto}.card[_ngcontent-%COMP%]{background:#fff;border-radius:8px;padding:2rem;box-shadow:0 2px 10px #0000001a}h2[_ngcontent-%COMP%]{color:#2c3e50;margin-bottom:1.5rem;text-align:center}.form-group[_ngcontent-%COMP%]{margin-bottom:1.5rem}label[_ngcontent-%COMP%]{display:block;margin-bottom:.5rem;font-weight:500;color:#34495e}.form-control[_ngcontent-%COMP%]{width:100%;padding:.75rem;border:1px solid #bdc3c7;border-radius:4px;font-size:1rem;box-sizing:border-box}.summary[_ngcontent-%COMP%]{margin:2rem 0;padding:1rem;background-color:#f8f9fa;border-radius:4px;text-align:right}.total-price[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:700;color:#2c3e50}.total-price[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#27ae60;font-size:1.5rem;margin-left:.5rem}.btn-submit[_ngcontent-%COMP%]{width:100%;padding:1rem;background-color:#3498db;color:#fff;border:none;border-radius:4px;font-size:1.1rem;cursor:pointer;transition:background .3s}.btn-submit[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#2980b9}.btn-submit[_ngcontent-%COMP%]:disabled{background-color:#bdc3c7;cursor:not-allowed}"]})};function Kc(n){return n+.5|0}var no=(n,t,e)=>Math.max(Math.min(n,e),t);function Wc(n){return no(Kc(n*2.55),0,255)}function ro(n){return no(Kc(n*255),0,255)}function di(n){return no(Kc(n/2.55)/100,0,1)}function lO(n){return no(Kc(n*100),0,100)}var In={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},nb=[..."0123456789ABCDEF"],jz=n=>nb[n&15],Vz=n=>nb[(n&240)>>4]+nb[n&15],bp=n=>(n&240)>>4===(n&15),Bz=n=>bp(n.r)&&bp(n.g)&&bp(n.b)&&bp(n.a);function Uz(n){var t=n.length,e;return n[0]==="#"&&(t===4||t===5?e={r:255&In[n[1]]*17,g:255&In[n[2]]*17,b:255&In[n[3]]*17,a:t===5?In[n[4]]*17:255}:(t===7||t===9)&&(e={r:In[n[1]]<<4|In[n[2]],g:In[n[3]]<<4|In[n[4]],b:In[n[5]]<<4|In[n[6]],a:t===9?In[n[7]]<<4|In[n[8]]:255})),e}var $z=(n,t)=>n<255?t(n):"";function Hz(n){var t=Bz(n)?jz:Vz;return n?"#"+t(n.r)+t(n.g)+t(n.b)+$z(n.a,t):void 0}var zz=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function hO(n,t,e){let r=t*Math.min(e,1-e),i=(o,s=(o+n/30)%12)=>e-r*Math.max(Math.min(s-3,9-s,1),-1);return[i(0),i(8),i(4)]}function qz(n,t,e){let r=(i,o=(i+n/60)%6)=>e-e*t*Math.max(Math.min(o,4-o,1),0);return[r(5),r(3),r(1)]}function Wz(n,t,e){let r=hO(n,1,.5),i;for(t+e>1&&(i=1/(t+e),t*=i,e*=i),i=0;i<3;i++)r[i]*=1-t-e,r[i]+=t;return r}function Gz(n,t,e,r,i){return n===i?(t-e)/r+(t<e?6:0):t===i?(e-n)/r+2:(n-t)/r+4}function rb(n){let e=n.r/255,r=n.g/255,i=n.b/255,o=Math.max(e,r,i),s=Math.min(e,r,i),a=(o+s)/2,l,c,u;return o!==s&&(u=o-s,c=a>.5?u/(2-o-s):u/(o+s),l=Gz(e,r,i,u,o),l=l*60+.5),[l|0,c||0,a]}function ib(n,t,e,r){return(Array.isArray(t)?n(t[0],t[1],t[2]):n(t,e,r)).map(ro)}function ob(n,t,e){return ib(hO,n,t,e)}function Kz(n,t,e){return ib(Wz,n,t,e)}function Yz(n,t,e){return ib(qz,n,t,e)}function fO(n){return(n%360+360)%360}function Zz(n){let t=zz.exec(n),e=255,r;if(!t)return;t[5]!==r&&(e=t[6]?Wc(+t[5]):ro(+t[5]));let i=fO(+t[2]),o=+t[3]/100,s=+t[4]/100;return t[1]==="hwb"?r=Kz(i,o,s):t[1]==="hsv"?r=Yz(i,o,s):r=ob(i,o,s),{r:r[0],g:r[1],b:r[2],a:e}}function Jz(n,t){var e=rb(n);e[0]=fO(e[0]+t),e=ob(e),n.r=e[0],n.g=e[1],n.b=e[2]}function Xz(n){if(!n)return;let t=rb(n),e=t[0],r=lO(t[1]),i=lO(t[2]);return n.a<255?`hsla(${e}, ${r}%, ${i}%, ${di(n.a)})`:`hsl(${e}, ${r}%, ${i}%)`}var cO={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},uO={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function Qz(){let n={},t=Object.keys(uO),e=Object.keys(cO),r,i,o,s,a;for(r=0;r<t.length;r++){for(s=a=t[r],i=0;i<e.length;i++)o=e[i],a=a.replace(o,cO[o]);o=parseInt(uO[s],16),n[a]=[o>>16&255,o>>8&255,o&255]}return n}var wp;function e5(n){wp||(wp=Qz(),wp.transparent=[0,0,0,0]);let t=wp[n.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}var t5=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function n5(n){let t=t5.exec(n),e=255,r,i,o;if(t){if(t[7]!==r){let s=+t[7];e=t[8]?Wc(s):no(s*255,0,255)}return r=+t[1],i=+t[3],o=+t[5],r=255&(t[2]?Wc(r):no(r,0,255)),i=255&(t[4]?Wc(i):no(i,0,255)),o=255&(t[6]?Wc(o):no(o,0,255)),{r,g:i,b:o,a:e}}}function r5(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${di(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}var tb=n=>n<=.0031308?n*12.92:Math.pow(n,1/2.4)*1.055-.055,Ya=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function i5(n,t,e){let r=Ya(di(n.r)),i=Ya(di(n.g)),o=Ya(di(n.b));return{r:ro(tb(r+e*(Ya(di(t.r))-r))),g:ro(tb(i+e*(Ya(di(t.g))-i))),b:ro(tb(o+e*(Ya(di(t.b))-o))),a:n.a+e*(t.a-n.a)}}function Ep(n,t,e){if(n){let r=rb(n);r[t]=Math.max(0,Math.min(r[t]+r[t]*e,t===0?360:1)),r=ob(r),n.r=r[0],n.g=r[1],n.b=r[2]}}function pO(n,t){return n&&Object.assign(t||{},n)}function dO(n){var t={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(t={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(t.a=ro(n[3]))):(t=pO(n,{r:0,g:0,b:0,a:1}),t.a=ro(t.a)),t}function o5(n){return n.charAt(0)==="r"?n5(n):Zz(n)}var Gc=class n{constructor(t){if(t instanceof n)return t;let e=typeof t,r;e==="object"?r=dO(t):e==="string"&&(r=Uz(t)||e5(t)||o5(t)),this._rgb=r,this._valid=!!r}get valid(){return this._valid}get rgb(){var t=pO(this._rgb);return t&&(t.a=di(t.a)),t}set rgb(t){this._rgb=dO(t)}rgbString(){return this._valid?r5(this._rgb):void 0}hexString(){return this._valid?Hz(this._rgb):void 0}hslString(){return this._valid?Xz(this._rgb):void 0}mix(t,e){if(t){let r=this.rgb,i=t.rgb,o,s=e===o?.5:e,a=2*s-1,l=r.a-i.a,c=((a*l===-1?a:(a+l)/(1+a*l))+1)/2;o=1-c,r.r=255&c*r.r+o*i.r+.5,r.g=255&c*r.g+o*i.g+.5,r.b=255&c*r.b+o*i.b+.5,r.a=s*r.a+(1-s)*i.a,this.rgb=r}return this}interpolate(t,e){return t&&(this._rgb=i5(this._rgb,t._rgb,e)),this}clone(){return new n(this.rgb)}alpha(t){return this._rgb.a=ro(t),this}clearer(t){let e=this._rgb;return e.a*=1-t,this}greyscale(){let t=this._rgb,e=Kc(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=e,this}opaquer(t){let e=this._rgb;return e.a*=1+t,this}negate(){let t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return Ep(this._rgb,2,t),this}darken(t){return Ep(this._rgb,2,-t),this}saturate(t){return Ep(this._rgb,1,t),this}desaturate(t){return Ep(this._rgb,1,-t),this}rotate(t){return Jz(this._rgb,t),this}};function Nr(){}var xO=(()=>{let n=0;return()=>n++})();function ae(n){return n==null}function ke(n){if(Array.isArray&&Array.isArray(n))return!0;let t=Object.prototype.toString.call(n);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function le(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}function qe(n){return(typeof n=="number"||n instanceof Number)&&isFinite(+n)}function en(n,t){return qe(n)?n:t}function X(n,t){return typeof n>"u"?t:n}var SO=(n,t)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100:+n/t,cb=(n,t)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*t:+n;function Ie(n,t,e){if(n&&typeof n.call=="function")return n.apply(e,t)}function we(n,t,e,r){let i,o,s;if(ke(n))if(o=n.length,r)for(i=o-1;i>=0;i--)t.call(e,n[i],i);else for(i=0;i<o;i++)t.call(e,n[i],i);else if(le(n))for(s=Object.keys(n),o=s.length,i=0;i<o;i++)t.call(e,n[s[i]],s[i])}function Jc(n,t){let e,r,i,o;if(!n||!t||n.length!==t.length)return!1;for(e=0,r=n.length;e<r;++e)if(i=n[e],o=t[e],i.datasetIndex!==o.datasetIndex||i.index!==o.index)return!1;return!0}function Sp(n){if(ke(n))return n.map(Sp);if(le(n)){let t=Object.create(null),e=Object.keys(n),r=e.length,i=0;for(;i<r;++i)t[e[i]]=Sp(n[e[i]]);return t}return n}function IO(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function s5(n,t,e,r){if(!IO(n))return;let i=t[n],o=e[n];le(i)&&le(o)?Ja(i,o,r):t[n]=Sp(o)}function Ja(n,t,e){let r=ke(t)?t:[t],i=r.length;if(!le(n))return n;e=e||{};let o=e.merger||s5,s;for(let a=0;a<i;++a){if(s=r[a],!le(s))continue;let l=Object.keys(s);for(let c=0,u=l.length;c<u;++c)o(l[c],n,s,e)}return n}function Qa(n,t){return Ja(n,t,{merger:a5})}function a5(n,t,e){if(!IO(n))return;let r=t[n],i=e[n];le(r)&&le(i)?Qa(r,i):Object.prototype.hasOwnProperty.call(t,n)||(t[n]=Sp(i))}var gO={"":n=>n,x:n=>n.x,y:n=>n.y};function l5(n){let t=n.split("."),e=[],r="";for(let i of t)r+=i,r.endsWith("\\")?r=r.slice(0,-1)+".":(e.push(r),r="");return e}function c5(n){let t=l5(n);return e=>{for(let r of t){if(r==="")break;e=e&&e[r]}return e}}function pi(n,t){return(gO[t]||(gO[t]=c5(t)))(n)}function Ap(n){return n.charAt(0).toUpperCase()+n.slice(1)}var el=n=>typeof n<"u",hi=n=>typeof n=="function",ub=(n,t)=>{if(n.size!==t.size)return!1;for(let e of n)if(!t.has(e))return!1;return!0};function MO(n){return n.type==="mouseup"||n.type==="click"||n.type==="contextmenu"}var ye=Math.PI,Pe=2*ye,u5=Pe+ye,Ip=Number.POSITIVE_INFINITY,d5=ye/180,We=ye/2,hs=ye/4,mO=ye*2/3,fi=Math.log10,Xn=Math.sign;function tl(n,t,e){return Math.abs(n-t)<e}function db(n){let t=Math.round(n);n=tl(n,t,n/1e3)?t:n;let e=Math.pow(10,Math.floor(fi(n))),r=n/e;return(r<=1?1:r<=2?2:r<=5?5:10)*e}function TO(n){let t=[],e=Math.sqrt(n),r;for(r=1;r<e;r++)n%r===0&&(t.push(r),t.push(n/r));return e===(e|0)&&t.push(e),t.sort((i,o)=>i-o).pop(),t}function h5(n){return typeof n=="symbol"||typeof n=="object"&&n!==null&&!(Symbol.toPrimitive in n||"toString"in n||"valueOf"in n)}function gs(n){return!h5(n)&&!isNaN(parseFloat(n))&&isFinite(n)}function AO(n,t){let e=Math.round(n);return e-t<=n&&e+t>=n}function hb(n,t,e){let r,i,o;for(r=0,i=n.length;r<i;r++)o=n[r][e],isNaN(o)||(t.min=Math.min(t.min,o),t.max=Math.max(t.max,o))}function Mn(n){return n*(ye/180)}function Op(n){return n*(180/ye)}function fb(n){if(!qe(n))return;let t=1,e=0;for(;Math.round(n*t)/t!==n;)t*=10,e++;return e}function pb(n,t){let e=t.x-n.x,r=t.y-n.y,i=Math.sqrt(e*e+r*r),o=Math.atan2(r,e);return o<-.5*ye&&(o+=Pe),{angle:o,distance:i}}function Mp(n,t){return Math.sqrt(Math.pow(t.x-n.x,2)+Math.pow(t.y-n.y,2))}function f5(n,t){return(n-t+u5)%Pe-ye}function Et(n){return(n%Pe+Pe)%Pe}function nl(n,t,e,r){let i=Et(n),o=Et(t),s=Et(e),a=Et(o-i),l=Et(s-i),c=Et(i-o),u=Et(i-s);return i===o||i===s||r&&o===s||a>l&&c<u}function ft(n,t,e){return Math.max(t,Math.min(e,n))}function OO(n){return ft(n,-32768,32767)}function Fr(n,t,e,r=1e-6){return n>=Math.min(t,e)-r&&n<=Math.max(t,e)+r}function Rp(n,t,e){e=e||(s=>n[s]<t);let r=n.length-1,i=0,o;for(;r-i>1;)o=i+r>>1,e(o)?i=o:r=o;return{lo:i,hi:r}}var kr=(n,t,e,r)=>Rp(n,e,r?i=>{let o=n[i][t];return o<e||o===e&&n[i+1][t]===e}:i=>n[i][t]<e),RO=(n,t,e)=>Rp(n,e,r=>n[r][t]>=e);function kO(n,t,e){let r=0,i=n.length;for(;r<i&&n[r]<t;)r++;for(;i>r&&n[i-1]>e;)i--;return r>0||i<n.length?n.slice(r,i):n}var PO=["push","pop","shift","splice","unshift"];function NO(n,t){if(n._chartjs){n._chartjs.listeners.push(t);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),PO.forEach(e=>{let r="_onData"+Ap(e),i=n[e];Object.defineProperty(n,e,{configurable:!0,enumerable:!1,value(...o){let s=i.apply(this,o);return n._chartjs.listeners.forEach(a=>{typeof a[r]=="function"&&a[r](...o)}),s}})})}function gb(n,t){let e=n._chartjs;if(!e)return;let r=e.listeners,i=r.indexOf(t);i!==-1&&r.splice(i,1),!(r.length>0)&&(PO.forEach(o=>{delete n[o]}),delete n._chartjs)}function mb(n){let t=new Set(n);return t.size===n.length?n:Array.from(t)}var vb=function(){return typeof window>"u"?function(n){return n()}:window.requestAnimationFrame}();function yb(n,t){let e=[],r=!1;return function(...i){e=i,r||(r=!0,vb.call(window,()=>{r=!1,n.apply(t,e)}))}}function FO(n,t){let e;return function(...r){return t?(clearTimeout(e),e=setTimeout(n,t,r)):n.apply(this,r),t}}var kp=n=>n==="start"?"left":n==="end"?"right":"center",Ct=(n,t,e)=>n==="start"?t:n==="end"?e:(t+e)/2,LO=(n,t,e,r)=>n===(r?"left":"right")?e:n==="center"?(t+e)/2:t;function _b(n,t,e){let r=t.length,i=0,o=r;if(n._sorted){let{iScale:s,vScale:a,_parsed:l}=n,c=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null,u=s.axis,{min:d,max:f,minDefined:h,maxDefined:p}=s.getUserBounds();if(h){if(i=Math.min(kr(l,u,d).lo,e?r:kr(t,u,s.getPixelForValue(d)).lo),c){let g=l.slice(0,i+1).reverse().findIndex(m=>!ae(m[a.axis]));i-=Math.max(0,g)}i=ft(i,0,r-1)}if(p){let g=Math.max(kr(l,s.axis,f,!0).hi+1,e?0:kr(t,u,s.getPixelForValue(f),!0).hi+1);if(c){let m=l.slice(g-1).findIndex(_=>!ae(_[a.axis]));g+=Math.max(0,m)}o=ft(g,i,r)-i}else o=r-i}return{start:i,count:o}}function bb(n){let{xScale:t,yScale:e,_scaleRanges:r}=n,i={xmin:t.min,xmax:t.max,ymin:e.min,ymax:e.max};if(!r)return n._scaleRanges=i,!0;let o=r.xmin!==t.min||r.xmax!==t.max||r.ymin!==e.min||r.ymax!==e.max;return Object.assign(r,i),o}var Cp=n=>n===0||n===1,vO=(n,t,e)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-t)*Pe/e)),yO=(n,t,e)=>Math.pow(2,-10*n)*Math.sin((n-t)*Pe/e)+1,Za={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*We)+1,easeOutSine:n=>Math.sin(n*We),easeInOutSine:n=>-.5*(Math.cos(ye*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>Cp(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>Cp(n)?n:vO(n,.075,.3),easeOutElastic:n=>Cp(n)?n:yO(n,.075,.3),easeInOutElastic(n){return Cp(n)?n:n<.5?.5*vO(n*2,.1125,.45):.5+.5*yO(n*2-1,.1125,.45)},easeInBack(n){return n*n*((1.70158+1)*n-1.70158)},easeOutBack(n){return(n-=1)*n*((1.70158+1)*n+1.70158)+1},easeInOutBack(n){let t=1.70158;return(n/=.5)<1?.5*(n*n*(((t*=1.525)+1)*n-t)):.5*((n-=2)*n*(((t*=1.525)+1)*n+t)+2)},easeInBounce:n=>1-Za.easeOutBounce(1-n),easeOutBounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:n=>n<.5?Za.easeInBounce(n*2)*.5:Za.easeOutBounce(n*2-1)*.5+.5};function wb(n){if(n&&typeof n=="object"){let t=n.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function Eb(n){return wb(n)?n:new Gc(n)}function sb(n){return wb(n)?n:new Gc(n).saturate(.5).darken(.1).hexString()}var p5=["x","y","borderWidth","radius","tension"],g5=["color","borderColor","backgroundColor"];function m5(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),n.set("animations",{colors:{type:"color",properties:g5},numbers:{type:"number",properties:p5}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function v5(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}var _O=new Map;function y5(n,t){t=t||{};let e=n+JSON.stringify(t),r=_O.get(e);return r||(r=new Intl.NumberFormat(n,t),_O.set(e,r)),r}function rl(n,t,e){return y5(t,e).format(n)}var jO={values(n){return ke(n)?n:""+n},numeric(n,t,e){if(n===0)return"0";let r=this.chart.options.locale,i,o=n;if(e.length>1){let c=Math.max(Math.abs(e[0].value),Math.abs(e[e.length-1].value));(c<1e-4||c>1e15)&&(i="scientific"),o=_5(n,e)}let s=fi(Math.abs(o)),a=isNaN(s)?1:Math.max(Math.min(-1*Math.floor(s),20),0),l={notation:i,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),rl(n,r,l)},logarithmic(n,t,e){if(n===0)return"0";let r=e[t].significand||n/Math.pow(10,Math.floor(fi(n)));return[1,2,3,5,10,15].includes(r)||t>.8*e.length?jO.numeric.call(this,n,t,e):""}};function _5(n,t){let e=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(e)>=1&&n!==Math.floor(n)&&(e=n-Math.floor(n)),e}var Xc={formatters:jO};function b5(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,e)=>e.lineWidth,tickColor:(t,e)=>e.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Xc.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}var so=Object.create(null),Pp=Object.create(null);function Yc(n,t){if(!t)return n;let e=t.split(".");for(let r=0,i=e.length;r<i;++r){let o=e[r];n=n[o]||(n[o]=Object.create(null))}return n}function ab(n,t,e){return typeof t=="string"?Ja(Yc(n,t),e):Ja(Yc(n,""),t)}var lb=class{constructor(t,e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=r=>r.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(r,i)=>sb(i.backgroundColor),this.hoverBorderColor=(r,i)=>sb(i.borderColor),this.hoverColor=(r,i)=>sb(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(e)}set(t,e){return ab(this,t,e)}get(t){return Yc(this,t)}describe(t,e){return ab(Pp,t,e)}override(t,e){return ab(so,t,e)}route(t,e,r,i){let o=Yc(this,t),s=Yc(this,r),a="_"+e;Object.defineProperties(o,{[a]:{value:o[e],writable:!0},[e]:{enumerable:!0,get(){let l=this[a],c=s[i];return le(l)?Object.assign({},c,l):X(l,c)},set(l){this[a]=l}}})}apply(t){t.forEach(e=>e(this))}},je=new lb({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[m5,v5,b5]);function w5(n){return!n||ae(n.size)||ae(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function Zc(n,t,e,r,i){let o=t[i];return o||(o=t[i]=n.measureText(i).width,e.push(i)),o>r&&(r=o),r}function VO(n,t,e,r){r=r||{};let i=r.data=r.data||{},o=r.garbageCollect=r.garbageCollect||[];r.font!==t&&(i=r.data={},o=r.garbageCollect=[],r.font=t),n.save(),n.font=t;let s=0,a=e.length,l,c,u,d,f;for(l=0;l<a;l++)if(d=e[l],d!=null&&!ke(d))s=Zc(n,i,o,s,d);else if(ke(d))for(c=0,u=d.length;c<u;c++)f=d[c],f!=null&&!ke(f)&&(s=Zc(n,i,o,s,f));n.restore();let h=o.length/2;if(h>e.length){for(l=0;l<h;l++)delete i[o[l]];o.splice(0,h)}return s}function ao(n,t,e){let r=n.currentDevicePixelRatio,i=e!==0?Math.max(e/2,.5):0;return Math.round((t-i)*r)/r+i}function Cb(n,t){!t&&!n||(t=t||n.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,n.width,n.height),t.restore())}function Np(n,t,e,r){Db(n,t,e,r,null)}function Db(n,t,e,r,i){let o,s,a,l,c,u,d,f,h=t.pointStyle,p=t.rotation,g=t.radius,m=(p||0)*d5;if(h&&typeof h=="object"&&(o=h.toString(),o==="[object HTMLImageElement]"||o==="[object HTMLCanvasElement]")){n.save(),n.translate(e,r),n.rotate(m),n.drawImage(h,-h.width/2,-h.height/2,h.width,h.height),n.restore();return}if(!(isNaN(g)||g<=0)){switch(n.beginPath(),h){default:i?n.ellipse(e,r,i/2,g,0,0,Pe):n.arc(e,r,g,0,Pe),n.closePath();break;case"triangle":u=i?i/2:g,n.moveTo(e+Math.sin(m)*u,r-Math.cos(m)*g),m+=mO,n.lineTo(e+Math.sin(m)*u,r-Math.cos(m)*g),m+=mO,n.lineTo(e+Math.sin(m)*u,r-Math.cos(m)*g),n.closePath();break;case"rectRounded":c=g*.516,l=g-c,s=Math.cos(m+hs)*l,d=Math.cos(m+hs)*(i?i/2-c:l),a=Math.sin(m+hs)*l,f=Math.sin(m+hs)*(i?i/2-c:l),n.arc(e-d,r-a,c,m-ye,m-We),n.arc(e+f,r-s,c,m-We,m),n.arc(e+d,r+a,c,m,m+We),n.arc(e-f,r+s,c,m+We,m+ye),n.closePath();break;case"rect":if(!p){l=Math.SQRT1_2*g,u=i?i/2:l,n.rect(e-u,r-l,2*u,2*l);break}m+=hs;case"rectRot":d=Math.cos(m)*(i?i/2:g),s=Math.cos(m)*g,a=Math.sin(m)*g,f=Math.sin(m)*(i?i/2:g),n.moveTo(e-d,r-a),n.lineTo(e+f,r-s),n.lineTo(e+d,r+a),n.lineTo(e-f,r+s),n.closePath();break;case"crossRot":m+=hs;case"cross":d=Math.cos(m)*(i?i/2:g),s=Math.cos(m)*g,a=Math.sin(m)*g,f=Math.sin(m)*(i?i/2:g),n.moveTo(e-d,r-a),n.lineTo(e+d,r+a),n.moveTo(e+f,r-s),n.lineTo(e-f,r+s);break;case"star":d=Math.cos(m)*(i?i/2:g),s=Math.cos(m)*g,a=Math.sin(m)*g,f=Math.sin(m)*(i?i/2:g),n.moveTo(e-d,r-a),n.lineTo(e+d,r+a),n.moveTo(e+f,r-s),n.lineTo(e-f,r+s),m+=hs,d=Math.cos(m)*(i?i/2:g),s=Math.cos(m)*g,a=Math.sin(m)*g,f=Math.sin(m)*(i?i/2:g),n.moveTo(e-d,r-a),n.lineTo(e+d,r+a),n.moveTo(e+f,r-s),n.lineTo(e-f,r+s);break;case"line":s=i?i/2:Math.cos(m)*g,a=Math.sin(m)*g,n.moveTo(e-s,r-a),n.lineTo(e+s,r+a);break;case"dash":n.moveTo(e,r),n.lineTo(e+Math.cos(m)*(i?i/2:g),r+Math.sin(m)*g);break;case!1:n.closePath();break}n.fill(),t.borderWidth>0&&n.stroke()}}function Pr(n,t,e){return e=e||.5,!t||n&&n.x>t.left-e&&n.x<t.right+e&&n.y>t.top-e&&n.y<t.bottom+e}function Qc(n,t){n.save(),n.beginPath(),n.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),n.clip()}function eu(n){n.restore()}function BO(n,t,e,r,i){if(!t)return n.lineTo(e.x,e.y);if(i==="middle"){let o=(t.x+e.x)/2;n.lineTo(o,t.y),n.lineTo(o,e.y)}else i==="after"!=!!r?n.lineTo(t.x,e.y):n.lineTo(e.x,t.y);n.lineTo(e.x,e.y)}function UO(n,t,e,r){if(!t)return n.lineTo(e.x,e.y);n.bezierCurveTo(r?t.cp1x:t.cp2x,r?t.cp1y:t.cp2y,r?e.cp2x:e.cp1x,r?e.cp2y:e.cp1y,e.x,e.y)}function E5(n,t){t.translation&&n.translate(t.translation[0],t.translation[1]),ae(t.rotation)||n.rotate(t.rotation),t.color&&(n.fillStyle=t.color),t.textAlign&&(n.textAlign=t.textAlign),t.textBaseline&&(n.textBaseline=t.textBaseline)}function C5(n,t,e,r,i){if(i.strikethrough||i.underline){let o=n.measureText(r),s=t-o.actualBoundingBoxLeft,a=t+o.actualBoundingBoxRight,l=e-o.actualBoundingBoxAscent,c=e+o.actualBoundingBoxDescent,u=i.strikethrough?(l+c)/2:c;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=i.decorationWidth||2,n.moveTo(s,u),n.lineTo(a,u),n.stroke()}}function D5(n,t){let e=n.fillStyle;n.fillStyle=t.color,n.fillRect(t.left,t.top,t.width,t.height),n.fillStyle=e}function lo(n,t,e,r,i,o={}){let s=ke(t)?t:[t],a=o.strokeWidth>0&&o.strokeColor!=="",l,c;for(n.save(),n.font=i.string,E5(n,o),l=0;l<s.length;++l)c=s[l],o.backdrop&&D5(n,o.backdrop),a&&(o.strokeColor&&(n.strokeStyle=o.strokeColor),ae(o.strokeWidth)||(n.lineWidth=o.strokeWidth),n.strokeText(c,e,r,o.maxWidth)),n.fillText(c,e,r,o.maxWidth),C5(n,e,r,c,o),r+=Number(i.lineHeight);n.restore()}function il(n,t){let{x:e,y:r,w:i,h:o,radius:s}=t;n.arc(e+s.topLeft,r+s.topLeft,s.topLeft,1.5*ye,ye,!0),n.lineTo(e,r+o-s.bottomLeft),n.arc(e+s.bottomLeft,r+o-s.bottomLeft,s.bottomLeft,ye,We,!0),n.lineTo(e+i-s.bottomRight,r+o),n.arc(e+i-s.bottomRight,r+o-s.bottomRight,s.bottomRight,We,0,!0),n.lineTo(e+i,r+s.topRight),n.arc(e+i-s.topRight,r+s.topRight,s.topRight,0,-We,!0),n.lineTo(e+s.topLeft,r)}var x5=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,S5=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function I5(n,t){let e=(""+n).match(x5);if(!e||e[1]==="normal")return t*1.2;switch(n=+e[2],e[3]){case"px":return n;case"%":n/=100;break}return t*n}var M5=n=>+n||0;function Fp(n,t){let e={},r=le(t),i=r?Object.keys(t):t,o=le(n)?r?s=>X(n[s],n[t[s]]):s=>n[s]:()=>n;for(let s of i)e[s]=M5(o(s));return e}function xb(n){return Fp(n,{top:"y",right:"x",bottom:"y",left:"x"})}function co(n){return Fp(n,["topLeft","topRight","bottomLeft","bottomRight"])}function Dt(n){let t=xb(n);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function st(n,t){n=n||{},t=t||je.font;let e=X(n.size,t.size);typeof e=="string"&&(e=parseInt(e,10));let r=X(n.style,t.style);r&&!(""+r).match(S5)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);let i={family:X(n.family,t.family),lineHeight:I5(X(n.lineHeight,t.lineHeight),e),size:e,style:r,weight:X(n.weight,t.weight),string:""};return i.string=w5(i),i}function ol(n,t,e,r){let i=!0,o,s,a;for(o=0,s=n.length;o<s;++o)if(a=n[o],a!==void 0&&(t!==void 0&&typeof a=="function"&&(a=a(t),i=!1),e!==void 0&&ke(a)&&(a=a[e%a.length],i=!1),a!==void 0))return r&&!i&&(r.cacheable=!1),a}function $O(n,t,e){let{min:r,max:i}=n,o=cb(t,(i-r)/2),s=(a,l)=>e&&a===0?0:a+l;return{min:s(r,-Math.abs(o)),max:s(i,o)}}function gi(n,t){return Object.assign(Object.create(n),t)}function Lp(n,t=[""],e,r,i=()=>n[0]){let o=e||n;typeof r>"u"&&(r=qO("_fallback",n));let s={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:o,_fallback:r,_getTarget:i,override:a=>Lp([a,...n],t,o,r)};return new Proxy(s,{deleteProperty(a,l){return delete a[l],delete a._keys,delete n[0][l],!0},get(a,l){return HO(a,l,()=>F5(l,t,n,a))},getOwnPropertyDescriptor(a,l){return Reflect.getOwnPropertyDescriptor(a._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(a,l){return wO(a).includes(l)},ownKeys(a){return wO(a)},set(a,l,c){let u=a._storage||(a._storage=i());return a[l]=u[l]=c,delete a._keys,!0}})}function ps(n,t,e,r){let i={_cacheable:!1,_proxy:n,_context:t,_subProxy:e,_stack:new Set,_descriptors:Sb(n,r),setContext:o=>ps(n,o,e,r),override:o=>ps(n.override(o),t,e,r)};return new Proxy(i,{deleteProperty(o,s){return delete o[s],delete n[s],!0},get(o,s,a){return HO(o,s,()=>A5(o,s,a))},getOwnPropertyDescriptor(o,s){return o._descriptors.allKeys?Reflect.has(n,s)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,s)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(o,s){return Reflect.has(n,s)},ownKeys(){return Reflect.ownKeys(n)},set(o,s,a){return n[s]=a,delete o[s],!0}})}function Sb(n,t={scriptable:!0,indexable:!0}){let{_scriptable:e=t.scriptable,_indexable:r=t.indexable,_allKeys:i=t.allKeys}=n;return{allKeys:i,scriptable:e,indexable:r,isScriptable:hi(e)?e:()=>e,isIndexable:hi(r)?r:()=>r}}var T5=(n,t)=>n?n+Ap(t):t,Ib=(n,t)=>le(t)&&n!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function HO(n,t,e){if(Object.prototype.hasOwnProperty.call(n,t)||t==="constructor")return n[t];let r=e();return n[t]=r,r}function A5(n,t,e){let{_proxy:r,_context:i,_subProxy:o,_descriptors:s}=n,a=r[t];return hi(a)&&s.isScriptable(t)&&(a=O5(t,a,n,e)),ke(a)&&a.length&&(a=R5(t,a,n,s.isIndexable)),Ib(t,a)&&(a=ps(a,i,o&&o[t],s)),a}function O5(n,t,e,r){let{_proxy:i,_context:o,_subProxy:s,_stack:a}=e;if(a.has(n))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+n);a.add(n);let l=t(o,s||r);return a.delete(n),Ib(n,l)&&(l=Mb(i._scopes,i,n,l)),l}function R5(n,t,e,r){let{_proxy:i,_context:o,_subProxy:s,_descriptors:a}=e;if(typeof o.index<"u"&&r(n))return t[o.index%t.length];if(le(t[0])){let l=t,c=i._scopes.filter(u=>u!==l);t=[];for(let u of l){let d=Mb(c,i,n,u);t.push(ps(d,o,s&&s[n],a))}}return t}function zO(n,t,e){return hi(n)?n(t,e):n}var k5=(n,t)=>n===!0?t:typeof n=="string"?pi(t,n):void 0;function P5(n,t,e,r,i){for(let o of t){let s=k5(e,o);if(s){n.add(s);let a=zO(s._fallback,e,i);if(typeof a<"u"&&a!==e&&a!==r)return a}else if(s===!1&&typeof r<"u"&&e!==r)return null}return!1}function Mb(n,t,e,r){let i=t._rootScopes,o=zO(t._fallback,e,r),s=[...n,...i],a=new Set;a.add(r);let l=bO(a,s,e,o||e,r);return l===null||typeof o<"u"&&o!==e&&(l=bO(a,s,o,l,r),l===null)?!1:Lp(Array.from(a),[""],i,o,()=>N5(t,e,r))}function bO(n,t,e,r,i){for(;e;)e=P5(n,t,e,r,i);return e}function N5(n,t,e){let r=n._getTarget();t in r||(r[t]={});let i=r[t];return ke(i)&&le(e)?e:i||{}}function F5(n,t,e,r){let i;for(let o of t)if(i=qO(T5(o,n),e),typeof i<"u")return Ib(n,i)?Mb(e,r,n,i):i}function qO(n,t){for(let e of t){if(!e)continue;let r=e[n];if(typeof r<"u")return r}}function wO(n){let t=n._keys;return t||(t=n._keys=L5(n._scopes)),t}function L5(n){let t=new Set;for(let e of n)for(let r of Object.keys(e).filter(i=>!i.startsWith("_")))t.add(r);return Array.from(t)}function Tb(n,t,e,r){let{iScale:i}=n,{key:o="r"}=this._parsing,s=new Array(r),a,l,c,u;for(a=0,l=r;a<l;++a)c=a+e,u=t[c],s[a]={r:i.parse(pi(u,o),c)};return s}var j5=Number.EPSILON||1e-14,Xa=(n,t)=>t<n.length&&!n[t].skip&&n[t],WO=n=>n==="x"?"y":"x";function V5(n,t,e,r){let i=n.skip?t:n,o=t,s=e.skip?t:e,a=Mp(o,i),l=Mp(s,o),c=a/(a+l),u=l/(a+l);c=isNaN(c)?0:c,u=isNaN(u)?0:u;let d=r*c,f=r*u;return{previous:{x:o.x-d*(s.x-i.x),y:o.y-d*(s.y-i.y)},next:{x:o.x+f*(s.x-i.x),y:o.y+f*(s.y-i.y)}}}function B5(n,t,e){let r=n.length,i,o,s,a,l,c=Xa(n,0);for(let u=0;u<r-1;++u)if(l=c,c=Xa(n,u+1),!(!l||!c)){if(tl(t[u],0,j5)){e[u]=e[u+1]=0;continue}i=e[u]/t[u],o=e[u+1]/t[u],a=Math.pow(i,2)+Math.pow(o,2),!(a<=9)&&(s=3/Math.sqrt(a),e[u]=i*s*t[u],e[u+1]=o*s*t[u])}}function U5(n,t,e="x"){let r=WO(e),i=n.length,o,s,a,l=Xa(n,0);for(let c=0;c<i;++c){if(s=a,a=l,l=Xa(n,c+1),!a)continue;let u=a[e],d=a[r];s&&(o=(u-s[e])/3,a[`cp1${e}`]=u-o,a[`cp1${r}`]=d-o*t[c]),l&&(o=(l[e]-u)/3,a[`cp2${e}`]=u+o,a[`cp2${r}`]=d+o*t[c])}}function $5(n,t="x"){let e=WO(t),r=n.length,i=Array(r).fill(0),o=Array(r),s,a,l,c=Xa(n,0);for(s=0;s<r;++s)if(a=l,l=c,c=Xa(n,s+1),!!l){if(c){let u=c[t]-l[t];i[s]=u!==0?(c[e]-l[e])/u:0}o[s]=a?c?Xn(i[s-1])!==Xn(i[s])?0:(i[s-1]+i[s])/2:i[s-1]:i[s]}B5(n,i,o),U5(n,o,t)}function Dp(n,t,e){return Math.max(Math.min(n,e),t)}function H5(n,t){let e,r,i,o,s,a=Pr(n[0],t);for(e=0,r=n.length;e<r;++e)s=o,o=a,a=e<r-1&&Pr(n[e+1],t),o&&(i=n[e],s&&(i.cp1x=Dp(i.cp1x,t.left,t.right),i.cp1y=Dp(i.cp1y,t.top,t.bottom)),a&&(i.cp2x=Dp(i.cp2x,t.left,t.right),i.cp2y=Dp(i.cp2y,t.top,t.bottom)))}function GO(n,t,e,r,i){let o,s,a,l;if(t.spanGaps&&(n=n.filter(c=>!c.skip)),t.cubicInterpolationMode==="monotone")$5(n,i);else{let c=r?n[n.length-1]:n[0];for(o=0,s=n.length;o<s;++o)a=n[o],l=V5(c,a,n[Math.min(o+1,s-(r?0:1))%s],t.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,c=a}t.capBezierPoints&&H5(n,e)}function jp(){return typeof window<"u"&&typeof document<"u"}function Vp(n){let t=n.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function Tp(n,t,e){let r;return typeof n=="string"?(r=parseInt(n,10),n.indexOf("%")!==-1&&(r=r/100*t.parentNode[e])):r=n,r}var Bp=n=>n.ownerDocument.defaultView.getComputedStyle(n,null);function z5(n,t){return Bp(n).getPropertyValue(t)}var q5=["top","right","bottom","left"];function fs(n,t,e){let r={};e=e?"-"+e:"";for(let i=0;i<4;i++){let o=q5[i];r[o]=parseFloat(n[t+"-"+o+e])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}var W5=(n,t,e)=>(n>0||t>0)&&(!e||!e.shadowRoot);function G5(n,t){let e=n.touches,r=e&&e.length?e[0]:n,{offsetX:i,offsetY:o}=r,s=!1,a,l;if(W5(i,o,n.target))a=i,l=o;else{let c=t.getBoundingClientRect();a=r.clientX-c.left,l=r.clientY-c.top,s=!0}return{x:a,y:l,box:s}}function uo(n,t){if("native"in n)return n;let{canvas:e,currentDevicePixelRatio:r}=t,i=Bp(e),o=i.boxSizing==="border-box",s=fs(i,"padding"),a=fs(i,"border","width"),{x:l,y:c,box:u}=G5(n,e),d=s.left+(u&&a.left),f=s.top+(u&&a.top),{width:h,height:p}=t;return o&&(h-=s.width+a.width,p-=s.height+a.height),{x:Math.round((l-d)/h*e.width/r),y:Math.round((c-f)/p*e.height/r)}}function K5(n,t,e){let r,i;if(t===void 0||e===void 0){let o=n&&Vp(n);if(!o)t=n.clientWidth,e=n.clientHeight;else{let s=o.getBoundingClientRect(),a=Bp(o),l=fs(a,"border","width"),c=fs(a,"padding");t=s.width-c.width-l.width,e=s.height-c.height-l.height,r=Tp(a.maxWidth,o,"clientWidth"),i=Tp(a.maxHeight,o,"clientHeight")}}return{width:t,height:e,maxWidth:r||Ip,maxHeight:i||Ip}}var oo=n=>Math.round(n*10)/10;function KO(n,t,e,r){let i=Bp(n),o=fs(i,"margin"),s=Tp(i.maxWidth,n,"clientWidth")||Ip,a=Tp(i.maxHeight,n,"clientHeight")||Ip,l=K5(n,t,e),{width:c,height:u}=l;if(i.boxSizing==="content-box"){let f=fs(i,"border","width"),h=fs(i,"padding");c-=h.width+f.width,u-=h.height+f.height}return c=Math.max(0,c-o.width),u=Math.max(0,r?c/r:u-o.height),c=oo(Math.min(c,s,l.maxWidth)),u=oo(Math.min(u,a,l.maxHeight)),c&&!u&&(u=oo(c/2)),(t!==void 0||e!==void 0)&&r&&l.height&&u>l.height&&(u=l.height,c=oo(Math.floor(u*r))),{width:c,height:u}}function Ab(n,t,e){let r=t||1,i=oo(n.height*r),o=oo(n.width*r);n.height=oo(n.height),n.width=oo(n.width);let s=n.canvas;return s.style&&(e||!s.style.height&&!s.style.width)&&(s.style.height=`${n.height}px`,s.style.width=`${n.width}px`),n.currentDevicePixelRatio!==r||s.height!==i||s.width!==o?(n.currentDevicePixelRatio=r,s.height=i,s.width=o,n.ctx.setTransform(r,0,0,r,0,0),!0):!1}var YO=function(){let n=!1;try{let t={get passive(){return n=!0,!1}};jp()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return n}();function Ob(n,t){let e=z5(n,t),r=e&&e.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function io(n,t,e,r){return{x:n.x+e*(t.x-n.x),y:n.y+e*(t.y-n.y)}}function ZO(n,t,e,r){return{x:n.x+e*(t.x-n.x),y:r==="middle"?e<.5?n.y:t.y:r==="after"?e<1?n.y:t.y:e>0?t.y:n.y}}function JO(n,t,e,r){let i={x:n.cp2x,y:n.cp2y},o={x:t.cp1x,y:t.cp1y},s=io(n,i,e),a=io(i,o,e),l=io(o,t,e),c=io(s,a,e),u=io(a,l,e);return io(c,u,e)}var Y5=function(n,t){return{x(e){return n+n+t-e},setWidth(e){t=e},textAlign(e){return e==="center"?e:e==="right"?"left":"right"},xPlus(e,r){return e-r},leftForLtr(e,r){return e-r}}},Z5=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,t){return n+t},leftForLtr(n,t){return n}}};function ms(n,t,e){return n?Y5(t,e):Z5()}function Rb(n,t){let e,r;(t==="ltr"||t==="rtl")&&(e=n.canvas.style,r=[e.getPropertyValue("direction"),e.getPropertyPriority("direction")],e.setProperty("direction",t,"important"),n.prevTextDirection=r)}function kb(n,t){t!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",t[0],t[1]))}function XO(n){return n==="angle"?{between:nl,compare:f5,normalize:Et}:{between:Fr,compare:(t,e)=>t-e,normalize:t=>t}}function EO({start:n,end:t,count:e,loop:r,style:i}){return{start:n%e,end:t%e,loop:r&&(t-n+1)%e===0,style:i}}function J5(n,t,e){let{property:r,start:i,end:o}=e,{between:s,normalize:a}=XO(r),l=t.length,{start:c,end:u,loop:d}=n,f,h;if(d){for(c+=l,u+=l,f=0,h=l;f<h&&s(a(t[c%l][r]),i,o);++f)c--,u--;c%=l,u%=l}return u<c&&(u+=l),{start:c,end:u,loop:d,style:n.style}}function Pb(n,t,e){if(!e)return[n];let{property:r,start:i,end:o}=e,s=t.length,{compare:a,between:l,normalize:c}=XO(r),{start:u,end:d,loop:f,style:h}=J5(n,t,e),p=[],g=!1,m=null,_,E,C,D=()=>l(i,C,_)&&a(i,C)!==0,S=()=>a(o,_)===0||l(o,C,_),M=()=>g||D(),A=()=>!g||S();for(let T=u,F=u;T<=d;++T)E=t[T%s],!E.skip&&(_=c(E[r]),_!==C&&(g=l(_,i,o),m===null&&M()&&(m=a(_,i)===0?T:F),m!==null&&A()&&(p.push(EO({start:m,end:T,loop:f,count:s,style:h})),m=null),F=T,C=_));return m!==null&&p.push(EO({start:m,end:d,loop:f,count:s,style:h})),p}function Nb(n,t){let e=[],r=n.segments;for(let i=0;i<r.length;i++){let o=Pb(r[i],n.points,t);o.length&&e.push(...o)}return e}function X5(n,t,e,r){let i=0,o=t-1;if(e&&!r)for(;i<t&&!n[i].skip;)i++;for(;i<t&&n[i].skip;)i++;for(i%=t,e&&(o+=i);o>i&&n[o%t].skip;)o--;return o%=t,{start:i,end:o}}function Q5(n,t,e,r){let i=n.length,o=[],s=t,a=n[t],l;for(l=t+1;l<=e;++l){let c=n[l%i];c.skip||c.stop?a.skip||(r=!1,o.push({start:t%i,end:(l-1)%i,loop:r}),t=s=c.stop?l:null):(s=l,a.skip&&(t=l)),a=c}return s!==null&&o.push({start:t%i,end:s%i,loop:r}),o}function QO(n,t){let e=n.points,r=n.options.spanGaps,i=e.length;if(!i)return[];let o=!!n._loop,{start:s,end:a}=X5(e,i,o,r);if(r===!0)return CO(n,[{start:s,end:a,loop:o}],e,t);let l=a<s?a+i:a,c=!!n._fullLoop&&s===0&&a===i-1;return CO(n,Q5(e,s,l,c),e,t)}function CO(n,t,e,r){return!r||!r.setContext||!e?t:e4(n,t,e,r)}function e4(n,t,e,r){let i=n._chart.getContext(),o=DO(n.options),{_datasetIndex:s,options:{spanGaps:a}}=n,l=e.length,c=[],u=o,d=t[0].start,f=d;function h(p,g,m,_){let E=a?-1:1;if(p!==g){for(p+=l;e[p%l].skip;)p-=E;for(;e[g%l].skip;)g+=E;p%l!==g%l&&(c.push({start:p%l,end:g%l,loop:m,style:_}),u=_,d=g%l)}}for(let p of t){d=a?d:p.start;let g=e[d%l],m;for(f=d+1;f<=p.end;f++){let _=e[f%l];m=DO(r.setContext(gi(i,{type:"segment",p0:g,p1:_,p0DataIndex:(f-1)%l,p1DataIndex:f%l,datasetIndex:s}))),t4(m,u)&&h(d,f-1,p.loop,u),g=_,u=m}d<f-1&&h(d,f-1,p.loop,u)}return c}function DO(n){return{backgroundColor:n.backgroundColor,borderCapStyle:n.borderCapStyle,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderJoinStyle:n.borderJoinStyle,borderWidth:n.borderWidth,borderColor:n.borderColor}}function t4(n,t){if(!t)return!1;let e=[],r=function(i,o){return wb(o)?(e.includes(o)||e.push(o),e.indexOf(o)):o};return JSON.stringify(n,r)!==JSON.stringify(t,r)}function xp(n,t,e){return n.options.clip?n[e]:t[e]}function n4(n,t){let{xScale:e,yScale:r}=n;return e&&r?{left:xp(e,t,"left"),right:xp(e,t,"right"),top:xp(r,t,"top"),bottom:xp(r,t,"bottom")}:t}function Fb(n,t){let e=t._clip;if(e.disabled)return!1;let r=n4(t,n.chartArea);return{left:e.left===!1?0:r.left-(e.left===!0?0:e.left),right:e.right===!1?n.width:r.right+(e.right===!0?0:e.right),top:e.top===!1?0:r.top-(e.top===!0?0:e.top),bottom:e.bottom===!1?n.height:r.bottom+(e.bottom===!0?0:e.bottom)}}var Kb=class{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,r,i){let o=e.listeners[i],s=e.duration;o.forEach(a=>a({chart:t,initial:e.initial,numSteps:s,currentStep:Math.min(r-e.start,s)}))}_refresh(){this._request||(this._running=!0,this._request=vb.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let e=0;this._charts.forEach((r,i)=>{if(!r.running||!r.items.length)return;let o=r.items,s=o.length-1,a=!1,l;for(;s>=0;--s)l=o[s],l._active?(l._total>r.duration&&(r.duration=l._total),l.tick(t),a=!0):(o[s]=o[o.length-1],o.pop());a&&(i.draw(),this._notify(i,r,t,"progress")),o.length||(r.running=!1,this._notify(i,r,t,"complete"),r.initial=!1),e+=o.length}),this._lastDate=t,e===0&&(this._running=!1)}_getAnims(t){let e=this._charts,r=e.get(t);return r||(r={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,r)),r}listen(t,e,r){this._getAnims(t).listeners[e].push(r)}add(t,e){!e||!e.length||this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){let e=this._charts.get(t);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce((r,i)=>Math.max(r,i._duration),0),this._refresh())}running(t){if(!this._running)return!1;let e=this._charts.get(t);return!(!e||!e.running||!e.items.length)}stop(t){let e=this._charts.get(t);if(!e||!e.items.length)return;let r=e.items,i=r.length-1;for(;i>=0;--i)r[i].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}},mi=new Kb,eR="transparent",r4={boolean(n,t,e){return e>.5?t:n},color(n,t,e){let r=Eb(n||eR),i=r.valid&&Eb(t||eR);return i&&i.valid?i.mix(r,e).hexString():t},number(n,t,e){return n+(t-n)*e}},Yb=class{constructor(t,e,r,i){let o=e[r];i=ol([t.to,i,o,t.from]);let s=ol([t.from,o,i]);this._active=!0,this._fn=t.fn||r4[t.type||typeof s],this._easing=Za[t.easing]||Za.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=r,this._from=s,this._to=i,this._promises=void 0}active(){return this._active}update(t,e,r){if(this._active){this._notify(!1);let i=this._target[this._prop],o=r-this._start,s=this._duration-o;this._start=r,this._duration=Math.floor(Math.max(s,t.duration)),this._total+=o,this._loop=!!t.loop,this._to=ol([t.to,e,i,t.from]),this._from=ol([t.from,i,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){let e=t-this._start,r=this._duration,i=this._prop,o=this._from,s=this._loop,a=this._to,l;if(this._active=o!==a&&(s||e<r),!this._active){this._target[i]=a,this._notify(!0);return}if(e<0){this._target[i]=o;return}l=e/r%2,l=s&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[i]=this._fn(o,a,l)}wait(){let t=this._promises||(this._promises=[]);return new Promise((e,r)=>{t.push({res:e,rej:r})})}_notify(t){let e=t?"res":"rej",r=this._promises||[];for(let i=0;i<r.length;i++)r[i][e]()}},Yp=class{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!le(t))return;let e=Object.keys(je.animation),r=this._properties;Object.getOwnPropertyNames(t).forEach(i=>{let o=t[i];if(!le(o))return;let s={};for(let a of e)s[a]=o[a];(ke(o.properties)&&o.properties||[i]).forEach(a=>{(a===i||!r.has(a))&&r.set(a,s)})})}_animateOptions(t,e){let r=e.options,i=o4(t,r);if(!i)return[];let o=this._createAnimations(i,r);return r.$shared&&i4(t.options.$animations,r).then(()=>{t.options=r},()=>{}),o}_createAnimations(t,e){let r=this._properties,i=[],o=t.$animations||(t.$animations={}),s=Object.keys(e),a=Date.now(),l;for(l=s.length-1;l>=0;--l){let c=s[l];if(c.charAt(0)==="$")continue;if(c==="options"){i.push(...this._animateOptions(t,e));continue}let u=e[c],d=o[c],f=r.get(c);if(d)if(f&&d.active()){d.update(f,u,a);continue}else d.cancel();if(!f||!f.duration){t[c]=u;continue}o[c]=d=new Yb(f,t,c,u),i.push(d)}return i}update(t,e){if(this._properties.size===0){Object.assign(t,e);return}let r=this._createAnimations(t,e);if(r.length)return mi.add(this._chart,r),!0}};function i4(n,t){let e=[],r=Object.keys(t);for(let i=0;i<r.length;i++){let o=n[r[i]];o&&o.active()&&e.push(o.wait())}return Promise.all(e)}function o4(n,t){if(!t)return;let e=n.options;if(!e){n.options=t;return}return e.$shared&&(n.options=e=Object.assign({},e,{$shared:!1,$animations:{}})),e}function tR(n,t){let e=n&&n.options||{},r=e.reverse,i=e.min===void 0?t:0,o=e.max===void 0?t:0;return{start:r?o:i,end:r?i:o}}function s4(n,t,e){if(e===!1)return!1;let r=tR(n,e),i=tR(t,e);return{top:i.end,right:r.end,bottom:i.start,left:r.start}}function a4(n){let t,e,r,i;return le(n)?(t=n.top,e=n.right,r=n.bottom,i=n.left):t=e=r=i=n,{top:t,right:e,bottom:r,left:i,disabled:n===!1}}function ek(n,t){let e=[],r=n._getSortedDatasetMetas(t),i,o;for(i=0,o=r.length;i<o;++i)e.push(r[i].index);return e}function nR(n,t,e,r={}){let i=n.keys,o=r.mode==="single",s,a,l,c;if(t===null)return;let u=!1;for(s=0,a=i.length;s<a;++s){if(l=+i[s],l===e){if(u=!0,r.all)continue;break}c=n.values[l],qe(c)&&(o||t===0||Xn(t)===Xn(c))&&(t+=c)}return!u&&!r.all?0:t}function l4(n,t){let{iScale:e,vScale:r}=t,i=e.axis==="x"?"x":"y",o=r.axis==="x"?"x":"y",s=Object.keys(n),a=new Array(s.length),l,c,u;for(l=0,c=s.length;l<c;++l)u=s[l],a[l]={[i]:u,[o]:n[u]};return a}function Lb(n,t){let e=n&&n.options.stacked;return e||e===void 0&&t.stack!==void 0}function c4(n,t,e){return`${n.id}.${t.id}.${e.stack||e.type}`}function u4(n){let{min:t,max:e,minDefined:r,maxDefined:i}=n.getUserBounds();return{min:r?t:Number.NEGATIVE_INFINITY,max:i?e:Number.POSITIVE_INFINITY}}function d4(n,t,e){let r=n[t]||(n[t]={});return r[e]||(r[e]={})}function rR(n,t,e,r){for(let i of t.getMatchingVisibleMetas(r).reverse()){let o=n[i.index];if(e&&o>0||!e&&o<0)return i.index}return null}function iR(n,t){let{chart:e,_cachedMeta:r}=n,i=e._stacks||(e._stacks={}),{iScale:o,vScale:s,index:a}=r,l=o.axis,c=s.axis,u=c4(o,s,r),d=t.length,f;for(let h=0;h<d;++h){let p=t[h],{[l]:g,[c]:m}=p,_=p._stacks||(p._stacks={});f=_[c]=d4(i,u,g),f[a]=m,f._top=rR(f,s,!0,r.type),f._bottom=rR(f,s,!1,r.type);let E=f._visualValues||(f._visualValues={});E[a]=m}}function jb(n,t){let e=n.scales;return Object.keys(e).filter(r=>e[r].axis===t).shift()}function h4(n,t){return gi(n,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function f4(n,t,e){return gi(n,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:e,index:t,mode:"default",type:"data"})}function tu(n,t){let e=n.controller.index,r=n.vScale&&n.vScale.axis;if(r){t=t||n._parsed;for(let i of t){let o=i._stacks;if(!o||o[r]===void 0||o[r][e]===void 0)return;delete o[r][e],o[r]._visualValues!==void 0&&o[r]._visualValues[e]!==void 0&&delete o[r]._visualValues[e]}}}var Vb=n=>n==="reset"||n==="none",oR=(n,t)=>t?n:Object.assign({},n),p4=(n,t,e)=>n&&!t.hidden&&t._stacked&&{keys:ek(e,!0),values:null},fo=(()=>{class n{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(e,r){this.chart=e,this._ctx=e.ctx,this.index=r,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){let e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=Lb(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&tu(this._cachedMeta),this.index=e}linkScales(){let e=this.chart,r=this._cachedMeta,i=this.getDataset(),o=(f,h,p,g)=>f==="x"?h:f==="r"?g:p,s=r.xAxisID=X(i.xAxisID,jb(e,"x")),a=r.yAxisID=X(i.yAxisID,jb(e,"y")),l=r.rAxisID=X(i.rAxisID,jb(e,"r")),c=r.indexAxis,u=r.iAxisID=o(c,s,a,l),d=r.vAxisID=o(c,a,s,l);r.xScale=this.getScaleForId(s),r.yScale=this.getScaleForId(a),r.rScale=this.getScaleForId(l),r.iScale=this.getScaleForId(u),r.vScale=this.getScaleForId(d)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){let r=this._cachedMeta;return e===r.iScale?r.vScale:r.iScale}reset(){this._update("reset")}_destroy(){let e=this._cachedMeta;this._data&&gb(this._data,this),e._stacked&&tu(e)}_dataCheck(){let e=this.getDataset(),r=e.data||(e.data=[]),i=this._data;if(le(r)){let o=this._cachedMeta;this._data=l4(r,o)}else if(i!==r){if(i){gb(i,this);let o=this._cachedMeta;tu(o),o._parsed=[]}r&&Object.isExtensible(r)&&NO(r,this),this._syncList=[],this._data=r}}addElements(){let e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){let r=this._cachedMeta,i=this.getDataset(),o=!1;this._dataCheck();let s=r._stacked;r._stacked=Lb(r.vScale,r),r.stack!==i.stack&&(o=!0,tu(r),r.stack=i.stack),this._resyncElements(e),(o||s!==r._stacked)&&(iR(this,r._parsed),r._stacked=Lb(r.vScale,r))}configure(){let e=this.chart.config,r=e.datasetScopeKeys(this._type),i=e.getOptionScopes(this.getDataset(),r,!0);this.options=e.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,r){let{_cachedMeta:i,_data:o}=this,{iScale:s,_stacked:a}=i,l=s.axis,c=e===0&&r===o.length?!0:i._sorted,u=e>0&&i._parsed[e-1],d,f,h;if(this._parsing===!1)i._parsed=o,i._sorted=!0,h=o;else{ke(o[e])?h=this.parseArrayData(i,o,e,r):le(o[e])?h=this.parseObjectData(i,o,e,r):h=this.parsePrimitiveData(i,o,e,r);let p=()=>f[l]===null||u&&f[l]<u[l];for(d=0;d<r;++d)i._parsed[d+e]=f=h[d],c&&(p()&&(c=!1),u=f);i._sorted=c}a&&iR(this,h)}parsePrimitiveData(e,r,i,o){let{iScale:s,vScale:a}=e,l=s.axis,c=a.axis,u=s.getLabels(),d=s===a,f=new Array(o),h,p,g;for(h=0,p=o;h<p;++h)g=h+i,f[h]={[l]:d||s.parse(u[g],g),[c]:a.parse(r[g],g)};return f}parseArrayData(e,r,i,o){let{xScale:s,yScale:a}=e,l=new Array(o),c,u,d,f;for(c=0,u=o;c<u;++c)d=c+i,f=r[d],l[c]={x:s.parse(f[0],d),y:a.parse(f[1],d)};return l}parseObjectData(e,r,i,o){let{xScale:s,yScale:a}=e,{xAxisKey:l="x",yAxisKey:c="y"}=this._parsing,u=new Array(o),d,f,h,p;for(d=0,f=o;d<f;++d)h=d+i,p=r[h],u[d]={x:s.parse(pi(p,l),h),y:a.parse(pi(p,c),h)};return u}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,r,i){let o=this.chart,s=this._cachedMeta,a=r[e.axis],l={keys:ek(o,!0),values:r._stacks[e.axis]._visualValues};return nR(l,a,s.index,{mode:i})}updateRangeFromParsed(e,r,i,o){let s=i[r.axis],a=s===null?NaN:s,l=o&&i._stacks[r.axis];o&&l&&(o.values=l,a=nR(o,s,this._cachedMeta.index)),e.min=Math.min(e.min,a),e.max=Math.max(e.max,a)}getMinMax(e,r){let i=this._cachedMeta,o=i._parsed,s=i._sorted&&e===i.iScale,a=o.length,l=this._getOtherScale(e),c=p4(r,i,this.chart),u={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:d,max:f}=u4(l),h,p;function g(){p=o[h];let m=p[l.axis];return!qe(p[e.axis])||d>m||f<m}for(h=0;h<a&&!(!g()&&(this.updateRangeFromParsed(u,e,p,c),s));++h);if(s){for(h=a-1;h>=0;--h)if(!g()){this.updateRangeFromParsed(u,e,p,c);break}}return u}getAllParsedValues(e){let r=this._cachedMeta._parsed,i=[],o,s,a;for(o=0,s=r.length;o<s;++o)a=r[o][e.axis],qe(a)&&i.push(a);return i}getMaxOverflow(){return!1}getLabelAndValue(e){let r=this._cachedMeta,i=r.iScale,o=r.vScale,s=this.getParsed(e);return{label:i?""+i.getLabelForValue(s[i.axis]):"",value:o?""+o.getLabelForValue(s[o.axis]):""}}_update(e){let r=this._cachedMeta;this.update(e||"default"),r._clip=a4(X(this.options.clip,s4(r.xScale,r.yScale,this.getMaxOverflow())))}update(e){}draw(){let e=this._ctx,r=this.chart,i=this._cachedMeta,o=i.data||[],s=r.chartArea,a=[],l=this._drawStart||0,c=this._drawCount||o.length-l,u=this.options.drawActiveElementsOnTop,d;for(i.dataset&&i.dataset.draw(e,s,l,c),d=l;d<l+c;++d){let f=o[d];f.hidden||(f.active&&u?a.push(f):f.draw(e,s))}for(d=0;d<a.length;++d)a[d].draw(e,s)}getStyle(e,r){let i=r?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(e||0,i)}getContext(e,r,i){let o=this.getDataset(),s;if(e>=0&&e<this._cachedMeta.data.length){let a=this._cachedMeta.data[e];s=a.$context||(a.$context=f4(this.getContext(),e,a)),s.parsed=this.getParsed(e),s.raw=o.data[e],s.index=s.dataIndex=e}else s=this.$context||(this.$context=h4(this.chart.getContext(),this.index)),s.dataset=o,s.index=s.datasetIndex=this.index;return s.active=!!r,s.mode=i,s}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,r){return this._resolveElementOptions(this.dataElementType.id,r,e)}_resolveElementOptions(e,r="default",i){let o=r==="active",s=this._cachedDataOpts,a=e+"-"+r,l=s[a],c=this.enableOptionSharing&&el(i);if(l)return oR(l,c);let u=this.chart.config,d=u.datasetElementScopeKeys(this._type,e),f=o?[`${e}Hover`,"hover",e,""]:[e,""],h=u.getOptionScopes(this.getDataset(),d),p=Object.keys(je.elements[e]),g=()=>this.getContext(i,o,r),m=u.resolveNamedOptions(h,p,g,f);return m.$shared&&(m.$shared=c,s[a]=Object.freeze(oR(m,c))),m}_resolveAnimations(e,r,i){let o=this.chart,s=this._cachedDataOpts,a=`animation-${r}`,l=s[a];if(l)return l;let c;if(o.options.animation!==!1){let d=this.chart.config,f=d.datasetAnimationScopeKeys(this._type,r),h=d.getOptionScopes(this.getDataset(),f);c=d.createResolver(h,this.getContext(e,i,r))}let u=new Yp(o,c&&c.animations);return c&&c._cacheable&&(s[a]=Object.freeze(u)),u}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,r){return!r||Vb(e)||this.chart._animationsDisabled}_getSharedOptions(e,r){let i=this.resolveDataElementOptions(e,r),o=this._sharedOptions,s=this.getSharedOptions(i),a=this.includeOptions(r,s)||s!==o;return this.updateSharedOptions(s,r,i),{sharedOptions:s,includeOptions:a}}updateElement(e,r,i,o){Vb(o)?Object.assign(e,i):this._resolveAnimations(r,o).update(e,i)}updateSharedOptions(e,r,i){e&&!Vb(r)&&this._resolveAnimations(void 0,r).update(e,i)}_setStyle(e,r,i,o){e.active=o;let s=this.getStyle(r,o);this._resolveAnimations(r,i,o).update(e,{options:!o&&this.getSharedOptions(s)||s})}removeHoverStyle(e,r,i){this._setStyle(e,i,"active",!1)}setHoverStyle(e,r,i){this._setStyle(e,i,"active",!0)}_removeDatasetHoverStyle(){let e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){let e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){let r=this._data,i=this._cachedMeta.data;for(let[l,c,u]of this._syncList)this[l](c,u);this._syncList=[];let o=i.length,s=r.length,a=Math.min(s,o);a&&this.parse(0,a),s>o?this._insertElements(o,s-o,e):s<o&&this._removeElements(s,o-s)}_insertElements(e,r,i=!0){let o=this._cachedMeta,s=o.data,a=e+r,l,c=u=>{for(u.length+=r,l=u.length-1;l>=a;l--)u[l]=u[l-r]};for(c(s),l=e;l<a;++l)s[l]=new this.dataElementType;this._parsing&&c(o._parsed),this.parse(e,r),i&&this.updateElements(s,e,r,"reset")}updateElements(e,r,i,o){}_removeElements(e,r){let i=this._cachedMeta;if(this._parsing){let o=i._parsed.splice(e,r);i._stacked&&tu(i,o)}i.data.splice(e,r)}_sync(e){if(this._parsing)this._syncList.push(e);else{let[r,i,o]=e;this[r](i,o)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){let e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,r){r&&this._sync(["_removeElements",e,r]);let i=arguments.length-2;i&&this._sync(["_insertElements",e,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}return n})();function g4(n,t){if(!n._cache.$bar){let e=n.getMatchingVisibleMetas(t),r=[];for(let i=0,o=e.length;i<o;i++)r=r.concat(e[i].controller.getAllParsedValues(n));n._cache.$bar=mb(r.sort((i,o)=>i-o))}return n._cache.$bar}function m4(n){let t=n.iScale,e=g4(t,n.type),r=t._length,i,o,s,a,l=()=>{s===32767||s===-32768||(el(a)&&(r=Math.min(r,Math.abs(s-a)||r)),a=s)};for(i=0,o=e.length;i<o;++i)s=t.getPixelForValue(e[i]),l();for(a=void 0,i=0,o=t.ticks.length;i<o;++i)s=t.getPixelForTick(i),l();return r}function v4(n,t,e,r){let i=e.barThickness,o,s;return ae(i)?(o=t.min*e.categoryPercentage,s=e.barPercentage):(o=i*r,s=1),{chunk:o/r,ratio:s,start:t.pixels[n]-o/2}}function y4(n,t,e,r){let i=t.pixels,o=i[n],s=n>0?i[n-1]:null,a=n<i.length-1?i[n+1]:null,l=e.categoryPercentage;s===null&&(s=o-(a===null?t.end-t.start:a-o)),a===null&&(a=o+o-s);let c=o-(o-Math.min(s,a))/2*l;return{chunk:Math.abs(a-s)/2*l/r,ratio:e.barPercentage,start:c}}function _4(n,t,e,r){let i=e.parse(n[0],r),o=e.parse(n[1],r),s=Math.min(i,o),a=Math.max(i,o),l=s,c=a;Math.abs(s)>Math.abs(a)&&(l=a,c=s),t[e.axis]=c,t._custom={barStart:l,barEnd:c,start:i,end:o,min:s,max:a}}function tk(n,t,e,r){return ke(n)?_4(n,t,e,r):t[e.axis]=e.parse(n,r),t}function sR(n,t,e,r){let i=n.iScale,o=n.vScale,s=i.getLabels(),a=i===o,l=[],c,u,d,f;for(c=e,u=e+r;c<u;++c)f=t[c],d={},d[i.axis]=a||i.parse(s[c],c),l.push(tk(f,d,o,c));return l}function Bb(n){return n&&n.barStart!==void 0&&n.barEnd!==void 0}function b4(n,t,e){return n!==0?Xn(n):(t.isHorizontal()?1:-1)*(t.min>=e?1:-1)}function w4(n){let t,e,r,i,o;return n.horizontal?(t=n.base>n.x,e="left",r="right"):(t=n.base<n.y,e="bottom",r="top"),t?(i="end",o="start"):(i="start",o="end"),{start:e,end:r,reverse:t,top:i,bottom:o}}function E4(n,t,e,r){let i=t.borderSkipped,o={};if(!i){n.borderSkipped=o;return}if(i===!0){n.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}let{start:s,end:a,reverse:l,top:c,bottom:u}=w4(n);i==="middle"&&e&&(n.enableBorderRadius=!0,(e._top||0)===r?i=c:(e._bottom||0)===r?i=u:(o[aR(u,s,a,l)]=!0,i=c)),o[aR(i,s,a,l)]=!0,n.borderSkipped=o}function aR(n,t,e,r){return r?(n=C4(n,t,e),n=lR(n,e,t)):n=lR(n,t,e),n}function C4(n,t,e){return n===t?e:n===e?t:n}function lR(n,t,e){return n==="start"?t:n==="end"?e:n}function D4(n,{inflateAmount:t},e){n.inflateAmount=t==="auto"?e===1?.33:0:t}var x4=(()=>{class n extends fo{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(e,r,i,o){return sR(e,r,i,o)}parseArrayData(e,r,i,o){return sR(e,r,i,o)}parseObjectData(e,r,i,o){let{iScale:s,vScale:a}=e,{xAxisKey:l="x",yAxisKey:c="y"}=this._parsing,u=s.axis==="x"?l:c,d=a.axis==="x"?l:c,f=[],h,p,g,m;for(h=i,p=i+o;h<p;++h)m=r[h],g={},g[s.axis]=s.parse(pi(m,u),h),f.push(tk(pi(m,d),g,a,h));return f}updateRangeFromParsed(e,r,i,o){super.updateRangeFromParsed(e,r,i,o);let s=i._custom;s&&r===this._cachedMeta.vScale&&(e.min=Math.min(e.min,s.min),e.max=Math.max(e.max,s.max))}getMaxOverflow(){return 0}getLabelAndValue(e){let r=this._cachedMeta,{iScale:i,vScale:o}=r,s=this.getParsed(e),a=s._custom,l=Bb(a)?"["+a.start+", "+a.end+"]":""+o.getLabelForValue(s[o.axis]);return{label:""+i.getLabelForValue(s[i.axis]),value:l}}initialize(){this.enableOptionSharing=!0,super.initialize();let e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){let r=this._cachedMeta;this.updateElements(r.data,0,r.data.length,e)}updateElements(e,r,i,o){let s=o==="reset",{index:a,_cachedMeta:{vScale:l}}=this,c=l.getBasePixel(),u=l.isHorizontal(),d=this._getRuler(),{sharedOptions:f,includeOptions:h}=this._getSharedOptions(r,o);for(let p=r;p<r+i;p++){let g=this.getParsed(p),m=s||ae(g[l.axis])?{base:c,head:c}:this._calculateBarValuePixels(p),_=this._calculateBarIndexPixels(p,d),E=(g._stacks||{})[l.axis],C={horizontal:u,base:m.base,enableBorderRadius:!E||Bb(g._custom)||a===E._top||a===E._bottom,x:u?m.head:_.center,y:u?_.center:m.head,height:u?_.size:Math.abs(m.size),width:u?Math.abs(m.size):_.size};h&&(C.options=f||this.resolveDataElementOptions(p,e[p].active?"active":o));let D=C.options||e[p].options;E4(C,D,E,a),D4(C,D,d.ratio),this.updateElement(e[p],p,C,o)}}_getStacks(e,r){let{iScale:i}=this._cachedMeta,o=i.getMatchingVisibleMetas(this._type).filter(d=>d.controller.options.grouped),s=i.options.stacked,a=[],l=this._cachedMeta.controller.getParsed(r),c=l&&l[i.axis],u=d=>{let f=d._parsed.find(p=>p[i.axis]===c),h=f&&f[d.vScale.axis];if(ae(h)||isNaN(h))return!0};for(let d of o)if(!(r!==void 0&&u(d))&&((s===!1||a.indexOf(d.stack)===-1||s===void 0&&d.stack===void 0)&&a.push(d.stack),d.index===e))break;return a.length||a.push(void 0),a}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){let e=this.chart.scales,r=this.chart.options.indexAxis;return Object.keys(e).filter(i=>e[i].axis===r).shift()}_getAxis(){let e={},r=this.getFirstScaleIdForIndexAxis();for(let i of this.chart.data.datasets)e[X(this.chart.options.indexAxis==="x"?i.xAxisID:i.yAxisID,r)]=!0;return Object.keys(e)}_getStackIndex(e,r,i){let o=this._getStacks(e,i),s=r!==void 0?o.indexOf(r):-1;return s===-1?o.length-1:s}_getRuler(){let e=this.options,r=this._cachedMeta,i=r.iScale,o=[],s,a;for(s=0,a=r.data.length;s<a;++s)o.push(i.getPixelForValue(this.getParsed(s)[i.axis],s));let l=e.barThickness;return{min:l||m4(r),pixels:o,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:e.grouped,ratio:l?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){let{_cachedMeta:{vScale:r,_stacked:i,index:o},options:{base:s,minBarLength:a}}=this,l=s||0,c=this.getParsed(e),u=c._custom,d=Bb(u),f=c[r.axis],h=0,p=i?this.applyStack(r,c,i):f,g,m;p!==f&&(h=p-f,p=f),d&&(f=u.barStart,p=u.barEnd-u.barStart,f!==0&&Xn(f)!==Xn(u.barEnd)&&(h=0),h+=f);let _=!ae(s)&&!d?s:h,E=r.getPixelForValue(_);if(this.chart.getDataVisibility(e)?g=r.getPixelForValue(h+p):g=E,m=g-E,Math.abs(m)<a){m=b4(m,r,l)*a,f===l&&(E-=m/2);let C=r.getPixelForDecimal(0),D=r.getPixelForDecimal(1),S=Math.min(C,D),M=Math.max(C,D);E=Math.max(Math.min(E,M),S),g=E+m,i&&!d&&(c._stacks[r.axis]._visualValues[o]=r.getValueForPixel(g)-r.getValueForPixel(E))}if(E===r.getPixelForValue(l)){let C=Xn(m)*r.getLineWidthForValue(l)/2;E+=C,m-=C}return{size:m,base:E,head:g,center:g+m/2}}_calculateBarIndexPixels(e,r){let i=r.scale,o=this.options,s=o.skipNull,a=X(o.maxBarThickness,1/0),l,c,u=this._getAxisCount();if(r.grouped){let d=s?this._getStackCount(e):r.stackCount,f=o.barThickness==="flex"?y4(e,r,o,d*u):v4(e,r,o,d*u),h=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,p=this._getAxis().indexOf(X(h,this.getFirstScaleIdForIndexAxis())),g=this._getStackIndex(this.index,this._cachedMeta.stack,s?e:void 0)+p;l=f.start+f.chunk*g+f.chunk/2,c=Math.min(a,f.chunk*f.ratio)}else l=i.getPixelForValue(this.getParsed(e)[i.axis],e),c=Math.min(a,r.min*r.ratio);return{base:l-c/2,head:l+c/2,center:l,size:c}}draw(){let e=this._cachedMeta,r=e.vScale,i=e.data,o=i.length,s=0;for(;s<o;++s)this.getParsed(s)[r.axis]!==null&&!i[s].hidden&&i[s].draw(this._ctx)}}return n})(),S4=(()=>{class n extends fo{static id="bubble";static defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};static overrides={scales:{x:{type:"linear"},y:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,r,i,o){let s=super.parsePrimitiveData(e,r,i,o);for(let a=0;a<s.length;a++)s[a]._custom=this.resolveDataElementOptions(a+i).radius;return s}parseArrayData(e,r,i,o){let s=super.parseArrayData(e,r,i,o);for(let a=0;a<s.length;a++){let l=r[i+a];s[a]._custom=X(l[2],this.resolveDataElementOptions(a+i).radius)}return s}parseObjectData(e,r,i,o){let s=super.parseObjectData(e,r,i,o);for(let a=0;a<s.length;a++){let l=r[i+a];s[a]._custom=X(l&&l.r&&+l.r,this.resolveDataElementOptions(a+i).radius)}return s}getMaxOverflow(){let e=this._cachedMeta.data,r=0;for(let i=e.length-1;i>=0;--i)r=Math.max(r,e[i].size(this.resolveDataElementOptions(i))/2);return r>0&&r}getLabelAndValue(e){let r=this._cachedMeta,i=this.chart.data.labels||[],{xScale:o,yScale:s}=r,a=this.getParsed(e),l=o.getLabelForValue(a.x),c=s.getLabelForValue(a.y),u=a._custom;return{label:i[e]||"",value:"("+l+", "+c+(u?", "+u:"")+")"}}update(e){let r=this._cachedMeta.data;this.updateElements(r,0,r.length,e)}updateElements(e,r,i,o){let s=o==="reset",{iScale:a,vScale:l}=this._cachedMeta,{sharedOptions:c,includeOptions:u}=this._getSharedOptions(r,o),d=a.axis,f=l.axis;for(let h=r;h<r+i;h++){let p=e[h],g=!s&&this.getParsed(h),m={},_=m[d]=s?a.getPixelForDecimal(.5):a.getPixelForValue(g[d]),E=m[f]=s?l.getBasePixel():l.getPixelForValue(g[f]);m.skip=isNaN(_)||isNaN(E),u&&(m.options=c||this.resolveDataElementOptions(h,p.active?"active":o),s&&(m.options.radius=0)),this.updateElement(p,h,m,o)}}resolveDataElementOptions(e,r){let i=this.getParsed(e),o=super.resolveDataElementOptions(e,r);o.$shared&&(o=Object.assign({},o,{$shared:!1}));let s=o.radius;return r!=="active"&&(o.radius=0),o.radius+=X(i&&i._custom,s),o}}return n})();function I4(n,t,e){let r=1,i=1,o=0,s=0;if(t<Pe){let a=n,l=a+t,c=Math.cos(a),u=Math.sin(a),d=Math.cos(l),f=Math.sin(l),h=(C,D,S)=>nl(C,a,l,!0)?1:Math.max(D,D*e,S,S*e),p=(C,D,S)=>nl(C,a,l,!0)?-1:Math.min(D,D*e,S,S*e),g=h(0,c,d),m=h(We,u,f),_=p(ye,c,d),E=p(ye+We,u,f);r=(g-_)/2,i=(m-E)/2,o=-(g+_)/2,s=-(m+E)/2}return{ratioX:r,ratioY:i,offsetX:o,offsetY:s}}var gw=(()=>{class n extends fo{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){let r=e.data,{labels:{pointStyle:i,textAlign:o,color:s,useBorderRadius:a,borderRadius:l}}=e.legend.options;return r.labels.length&&r.datasets.length?r.labels.map((c,u)=>{let f=e.getDatasetMeta(0).controller.getStyle(u);return{text:c,fillStyle:f.backgroundColor,fontColor:s,hidden:!e.getDataVisibility(u),lineDash:f.borderDash,lineDashOffset:f.borderDashOffset,lineJoin:f.borderJoinStyle,lineWidth:f.borderWidth,strokeStyle:f.borderColor,textAlign:o,pointStyle:i,borderRadius:a&&(l||f.borderRadius),index:u}}):[]}},onClick(e,r,i){i.chart.toggleDataVisibility(r.index),i.chart.update()}}}};constructor(e,r){super(e,r),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,r){let i=this.getDataset().data,o=this._cachedMeta;if(this._parsing===!1)o._parsed=i;else{let s=c=>+i[c];if(le(i[e])){let{key:c="value"}=this._parsing;s=u=>+pi(i[u],c)}let a,l;for(a=e,l=e+r;a<l;++a)o._parsed[a]=s(a)}}_getRotation(){return Mn(this.options.rotation-90)}_getCircumference(){return Mn(this.options.circumference)}_getRotationExtents(){let e=Pe,r=-Pe;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)&&this.chart.getDatasetMeta(i).type===this._type){let o=this.chart.getDatasetMeta(i).controller,s=o._getRotation(),a=o._getCircumference();e=Math.min(e,s),r=Math.max(r,s+a)}return{rotation:e,circumference:r-e}}update(e){let r=this.chart,{chartArea:i}=r,o=this._cachedMeta,s=o.data,a=this.getMaxBorderWidth()+this.getMaxOffset(s)+this.options.spacing,l=Math.max((Math.min(i.width,i.height)-a)/2,0),c=Math.min(SO(this.options.cutout,l),1),u=this._getRingWeight(this.index),{circumference:d,rotation:f}=this._getRotationExtents(),{ratioX:h,ratioY:p,offsetX:g,offsetY:m}=I4(f,d,c),_=(i.width-a)/h,E=(i.height-a)/p,C=Math.max(Math.min(_,E)/2,0),D=cb(this.options.radius,C),S=Math.max(D*c,0),M=(D-S)/this._getVisibleDatasetWeightTotal();this.offsetX=g*D,this.offsetY=m*D,o.total=this.calculateTotal(),this.outerRadius=D-M*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-M*u,0),this.updateElements(s,0,s.length,e)}_circumference(e,r){let i=this.options,o=this._cachedMeta,s=this._getCircumference();return r&&i.animation.animateRotate||!this.chart.getDataVisibility(e)||o._parsed[e]===null||o.data[e].hidden?0:this.calculateCircumference(o._parsed[e]*s/Pe)}updateElements(e,r,i,o){let s=o==="reset",a=this.chart,l=a.chartArea,u=a.options.animation,d=(l.left+l.right)/2,f=(l.top+l.bottom)/2,h=s&&u.animateScale,p=h?0:this.innerRadius,g=h?0:this.outerRadius,{sharedOptions:m,includeOptions:_}=this._getSharedOptions(r,o),E=this._getRotation(),C;for(C=0;C<r;++C)E+=this._circumference(C,s);for(C=r;C<r+i;++C){let D=this._circumference(C,s),S=e[C],M={x:d+this.offsetX,y:f+this.offsetY,startAngle:E,endAngle:E+D,circumference:D,outerRadius:g,innerRadius:p};_&&(M.options=m||this.resolveDataElementOptions(C,S.active?"active":o)),E+=D,this.updateElement(S,C,M,o)}}calculateTotal(){let e=this._cachedMeta,r=e.data,i=0,o;for(o=0;o<r.length;o++){let s=e._parsed[o];s!==null&&!isNaN(s)&&this.chart.getDataVisibility(o)&&!r[o].hidden&&(i+=Math.abs(s))}return i}calculateCircumference(e){let r=this._cachedMeta.total;return r>0&&!isNaN(e)?Pe*(Math.abs(e)/r):0}getLabelAndValue(e){let r=this._cachedMeta,i=this.chart,o=i.data.labels||[],s=rl(r._parsed[e],i.options.locale);return{label:o[e]||"",value:s}}getMaxBorderWidth(e){let r=0,i=this.chart,o,s,a,l,c;if(!e){for(o=0,s=i.data.datasets.length;o<s;++o)if(i.isDatasetVisible(o)){a=i.getDatasetMeta(o),e=a.data,l=a.controller;break}}if(!e)return 0;for(o=0,s=e.length;o<s;++o)c=l.resolveDataElementOptions(o),c.borderAlign!=="inner"&&(r=Math.max(r,c.borderWidth||0,c.hoverBorderWidth||0));return r}getMaxOffset(e){let r=0;for(let i=0,o=e.length;i<o;++i){let s=this.resolveDataElementOptions(i);r=Math.max(r,s.offset||0,s.hoverOffset||0)}return r}_getRingWeightOffset(e){let r=0;for(let i=0;i<e;++i)this.chart.isDatasetVisible(i)&&(r+=this._getRingWeight(i));return r}_getRingWeight(e){return Math.max(X(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}return n})(),M4=(()=>{class n extends fo{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){let r=this._cachedMeta,{dataset:i,data:o=[],_dataset:s}=r,a=this.chart._animationsDisabled,{start:l,count:c}=_b(r,o,a);this._drawStart=l,this._drawCount=c,bb(r)&&(l=0,c=o.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!s._decimated,i.points=o;let u=this.resolveDatasetElementOptions(e);this.options.showLine||(u.borderWidth=0),u.segment=this.options.segment,this.updateElement(i,void 0,{animated:!a,options:u},e),this.updateElements(o,l,c,e)}updateElements(e,r,i,o){let s=o==="reset",{iScale:a,vScale:l,_stacked:c,_dataset:u}=this._cachedMeta,{sharedOptions:d,includeOptions:f}=this._getSharedOptions(r,o),h=a.axis,p=l.axis,{spanGaps:g,segment:m}=this.options,_=gs(g)?g:Number.POSITIVE_INFINITY,E=this.chart._animationsDisabled||s||o==="none",C=r+i,D=e.length,S=r>0&&this.getParsed(r-1);for(let M=0;M<D;++M){let A=e[M],T=E?A:{};if(M<r||M>=C){T.skip=!0;continue}let F=this.getParsed(M),G=ae(F[p]),re=T[h]=a.getPixelForValue(F[h],M),ce=T[p]=s||G?l.getBasePixel():l.getPixelForValue(c?this.applyStack(l,F,c):F[p],M);T.skip=isNaN(re)||isNaN(ce)||G,T.stop=M>0&&Math.abs(F[h]-S[h])>_,m&&(T.parsed=F,T.raw=u.data[M]),f&&(T.options=d||this.resolveDataElementOptions(M,A.active?"active":o)),E||this.updateElement(A,M,T,o),S=F}}getMaxOverflow(){let e=this._cachedMeta,r=e.dataset,i=r.options&&r.options.borderWidth||0,o=e.data||[];if(!o.length)return i;let s=o[0].size(this.resolveDataElementOptions(0)),a=o[o.length-1].size(this.resolveDataElementOptions(o.length-1));return Math.max(i,s,a)/2}draw(){let e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}return n})(),nk=(()=>{class n extends fo{static id="polarArea";static defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){let r=e.data;if(r.labels.length&&r.datasets.length){let{labels:{pointStyle:i,color:o}}=e.legend.options;return r.labels.map((s,a)=>{let c=e.getDatasetMeta(0).controller.getStyle(a);return{text:s,fillStyle:c.backgroundColor,strokeStyle:c.borderColor,fontColor:o,lineWidth:c.borderWidth,pointStyle:i,hidden:!e.getDataVisibility(a),index:a}})}return[]}},onClick(e,r,i){i.chart.toggleDataVisibility(r.index),i.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};constructor(e,r){super(e,r),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){let r=this._cachedMeta,i=this.chart,o=i.data.labels||[],s=rl(r._parsed[e].r,i.options.locale);return{label:o[e]||"",value:s}}parseObjectData(e,r,i,o){return Tb.bind(this)(e,r,i,o)}update(e){let r=this._cachedMeta.data;this._updateRadius(),this.updateElements(r,0,r.length,e)}getMinMax(){let e=this._cachedMeta,r={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return e.data.forEach((i,o)=>{let s=this.getParsed(o).r;!isNaN(s)&&this.chart.getDataVisibility(o)&&(s<r.min&&(r.min=s),s>r.max&&(r.max=s))}),r}_updateRadius(){let e=this.chart,r=e.chartArea,i=e.options,o=Math.min(r.right-r.left,r.bottom-r.top),s=Math.max(o/2,0),a=Math.max(i.cutoutPercentage?s/100*i.cutoutPercentage:1,0),l=(s-a)/e.getVisibleDatasetCount();this.outerRadius=s-l*this.index,this.innerRadius=this.outerRadius-l}updateElements(e,r,i,o){let s=o==="reset",a=this.chart,c=a.options.animation,u=this._cachedMeta.rScale,d=u.xCenter,f=u.yCenter,h=u.getIndexAngle(0)-.5*ye,p=h,g,m=360/this.countVisibleElements();for(g=0;g<r;++g)p+=this._computeAngle(g,o,m);for(g=r;g<r+i;g++){let _=e[g],E=p,C=p+this._computeAngle(g,o,m),D=a.getDataVisibility(g)?u.getDistanceFromCenterForValue(this.getParsed(g).r):0;p=C,s&&(c.animateScale&&(D=0),c.animateRotate&&(E=C=h));let S={x:d,y:f,innerRadius:0,outerRadius:D,startAngle:E,endAngle:C,options:this.resolveDataElementOptions(g,_.active?"active":o)};this.updateElement(_,g,S,o)}}countVisibleElements(){let e=this._cachedMeta,r=0;return e.data.forEach((i,o)=>{!isNaN(this.getParsed(o).r)&&this.chart.getDataVisibility(o)&&r++}),r}_computeAngle(e,r,i){return this.chart.getDataVisibility(e)?Mn(this.resolveDataElementOptions(e,r).angle||i):0}}return n})(),T4=(()=>{class n extends gw{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}}return n})(),A4=(()=>{class n extends fo{static id="radar";static defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};static overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};getLabelAndValue(e){let r=this._cachedMeta.vScale,i=this.getParsed(e);return{label:r.getLabels()[e],value:""+r.getLabelForValue(i[r.axis])}}parseObjectData(e,r,i,o){return Tb.bind(this)(e,r,i,o)}update(e){let r=this._cachedMeta,i=r.dataset,o=r.data||[],s=r.iScale.getLabels();if(i.points=o,e!=="resize"){let a=this.resolveDatasetElementOptions(e);this.options.showLine||(a.borderWidth=0);let l={_loop:!0,_fullLoop:s.length===o.length,options:a};this.updateElement(i,void 0,l,e)}this.updateElements(o,0,o.length,e)}updateElements(e,r,i,o){let s=this._cachedMeta.rScale,a=o==="reset";for(let l=r;l<r+i;l++){let c=e[l],u=this.resolveDataElementOptions(l,c.active?"active":o),d=s.getPointPositionForValue(l,this.getParsed(l).r),f=a?s.xCenter:d.x,h=a?s.yCenter:d.y,p={x:f,y:h,angle:d.angle,skip:isNaN(f)||isNaN(h),options:u};this.updateElement(c,l,p,o)}}}return n})(),O4=(()=>{class n extends fo{static id="scatter";static defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1};static overrides={interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}};getLabelAndValue(e){let r=this._cachedMeta,i=this.chart.data.labels||[],{xScale:o,yScale:s}=r,a=this.getParsed(e),l=o.getLabelForValue(a.x),c=s.getLabelForValue(a.y);return{label:i[e]||"",value:"("+l+", "+c+")"}}update(e){let r=this._cachedMeta,{data:i=[]}=r,o=this.chart._animationsDisabled,{start:s,count:a}=_b(r,i,o);if(this._drawStart=s,this._drawCount=a,bb(r)&&(s=0,a=i.length),this.options.showLine){this.datasetElementType||this.addElements();let{dataset:l,_dataset:c}=r;l._chart=this.chart,l._datasetIndex=this.index,l._decimated=!!c._decimated,l.points=i;let u=this.resolveDatasetElementOptions(e);u.segment=this.options.segment,this.updateElement(l,void 0,{animated:!o,options:u},e)}else this.datasetElementType&&(delete r.dataset,this.datasetElementType=!1);this.updateElements(i,s,a,e)}addElements(){let{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(e,r,i,o){let s=o==="reset",{iScale:a,vScale:l,_stacked:c,_dataset:u}=this._cachedMeta,d=this.resolveDataElementOptions(r,o),f=this.getSharedOptions(d),h=this.includeOptions(o,f),p=a.axis,g=l.axis,{spanGaps:m,segment:_}=this.options,E=gs(m)?m:Number.POSITIVE_INFINITY,C=this.chart._animationsDisabled||s||o==="none",D=r>0&&this.getParsed(r-1);for(let S=r;S<r+i;++S){let M=e[S],A=this.getParsed(S),T=C?M:{},F=ae(A[g]),G=T[p]=a.getPixelForValue(A[p],S),re=T[g]=s||F?l.getBasePixel():l.getPixelForValue(c?this.applyStack(l,A,c):A[g],S);T.skip=isNaN(G)||isNaN(re)||F,T.stop=S>0&&Math.abs(A[p]-D[p])>E,_&&(T.parsed=A,T.raw=u.data[S]),h&&(T.options=f||this.resolveDataElementOptions(S,M.active?"active":o)),C||this.updateElement(M,S,T,o),D=A}this.updateSharedOptions(f,o,d)}getMaxOverflow(){let e=this._cachedMeta,r=e.data||[];if(!this.options.showLine){let l=0;for(let c=r.length-1;c>=0;--c)l=Math.max(l,r[c].size(this.resolveDataElementOptions(c))/2);return l>0&&l}let i=e.dataset,o=i.options&&i.options.borderWidth||0;if(!r.length)return o;let s=r[0].size(this.resolveDataElementOptions(0)),a=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(o,s,a)/2}}return n})(),R4=Object.freeze({__proto__:null,BarController:x4,BubbleController:S4,DoughnutController:gw,LineController:M4,PieController:T4,PolarAreaController:nk,RadarController:A4,ScatterController:O4});function vs(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}var Zb=class n{static override(t){Object.assign(n.prototype,t)}options;constructor(t){this.options=t||{}}init(){}formats(){return vs()}parse(){return vs()}format(){return vs()}add(){return vs()}diff(){return vs()}startOf(){return vs()}endOf(){return vs()}},k4={_date:Zb};function P4(n,t,e,r){let{controller:i,data:o,_sorted:s}=n,a=i._cachedMeta.iScale,l=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null;if(a&&t===a.axis&&t!=="r"&&s&&o.length){let c=a._reversePixels?RO:kr;if(r){if(i._sharedOptions){let u=o[0],d=typeof u.getRange=="function"&&u.getRange(t);if(d){let f=c(o,t,e-d),h=c(o,t,e+d);return{lo:f.lo,hi:h.hi}}}}else{let u=c(o,t,e);if(l){let{vScale:d}=i._cachedMeta,{_parsed:f}=n,h=f.slice(0,u.lo+1).reverse().findIndex(g=>!ae(g[d.axis]));u.lo-=Math.max(0,h);let p=f.slice(u.hi).findIndex(g=>!ae(g[d.axis]));u.hi+=Math.max(0,p)}return u}}return{lo:0,hi:o.length-1}}function du(n,t,e,r,i){let o=n.getSortedVisibleDatasetMetas(),s=e[t];for(let a=0,l=o.length;a<l;++a){let{index:c,data:u}=o[a],{lo:d,hi:f}=P4(o[a],t,s,i);for(let h=d;h<=f;++h){let p=u[h];p.skip||r(p,c,h)}}}function N4(n){let t=n.indexOf("x")!==-1,e=n.indexOf("y")!==-1;return function(r,i){let o=t?Math.abs(r.x-i.x):0,s=e?Math.abs(r.y-i.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(s,2))}}function Ub(n,t,e,r,i){let o=[];return!i&&!n.isPointInArea(t)||du(n,e,t,function(a,l,c){!i&&!Pr(a,n.chartArea,0)||a.inRange(t.x,t.y,r)&&o.push({element:a,datasetIndex:l,index:c})},!0),o}function F4(n,t,e,r){let i=[];function o(s,a,l){let{startAngle:c,endAngle:u}=s.getProps(["startAngle","endAngle"],r),{angle:d}=pb(s,{x:t.x,y:t.y});nl(d,c,u)&&i.push({element:s,datasetIndex:a,index:l})}return du(n,e,t,o),i}function L4(n,t,e,r,i,o){let s=[],a=N4(e),l=Number.POSITIVE_INFINITY;function c(u,d,f){let h=u.inRange(t.x,t.y,i);if(r&&!h)return;let p=u.getCenterPoint(i);if(!(!!o||n.isPointInArea(p))&&!h)return;let m=a(t,p);m<l?(s=[{element:u,datasetIndex:d,index:f}],l=m):m===l&&s.push({element:u,datasetIndex:d,index:f})}return du(n,e,t,c),s}function $b(n,t,e,r,i,o){return!o&&!n.isPointInArea(t)?[]:e==="r"&&!r?F4(n,t,e,i):L4(n,t,e,r,i,o)}function cR(n,t,e,r,i){let o=[],s=e==="x"?"inXRange":"inYRange",a=!1;return du(n,e,t,(l,c,u)=>{l[s]&&l[s](t[e],i)&&(o.push({element:l,datasetIndex:c,index:u}),a=a||l.inRange(t.x,t.y,i))}),r&&!a?[]:o}var j4={evaluateInteractionItems:du,modes:{index(n,t,e,r){let i=uo(t,n),o=e.axis||"x",s=e.includeInvisible||!1,a=e.intersect?Ub(n,i,o,r,s):$b(n,i,o,!1,r,s),l=[];return a.length?(n.getSortedVisibleDatasetMetas().forEach(c=>{let u=a[0].index,d=c.data[u];d&&!d.skip&&l.push({element:d,datasetIndex:c.index,index:u})}),l):[]},dataset(n,t,e,r){let i=uo(t,n),o=e.axis||"xy",s=e.includeInvisible||!1,a=e.intersect?Ub(n,i,o,r,s):$b(n,i,o,!1,r,s);if(a.length>0){let l=a[0].datasetIndex,c=n.getDatasetMeta(l).data;a=[];for(let u=0;u<c.length;++u)a.push({element:c[u],datasetIndex:l,index:u})}return a},point(n,t,e,r){let i=uo(t,n),o=e.axis||"xy",s=e.includeInvisible||!1;return Ub(n,i,o,r,s)},nearest(n,t,e,r){let i=uo(t,n),o=e.axis||"xy",s=e.includeInvisible||!1;return $b(n,i,o,e.intersect,r,s)},x(n,t,e,r){let i=uo(t,n);return cR(n,i,"x",e.intersect,r)},y(n,t,e,r){let i=uo(t,n);return cR(n,i,"y",e.intersect,r)}}},rk=["left","top","right","bottom"];function nu(n,t){return n.filter(e=>e.pos===t)}function uR(n,t){return n.filter(e=>rk.indexOf(e.pos)===-1&&e.box.axis===t)}function ru(n,t){return n.sort((e,r)=>{let i=t?r:e,o=t?e:r;return i.weight===o.weight?i.index-o.index:i.weight-o.weight})}function V4(n){let t=[],e,r,i,o,s,a;for(e=0,r=(n||[]).length;e<r;++e)i=n[e],{position:o,options:{stack:s,stackWeight:a=1}}=i,t.push({index:e,box:i,pos:o,horizontal:i.isHorizontal(),weight:i.weight,stack:s&&o+s,stackWeight:a});return t}function B4(n){let t={};for(let e of n){let{stack:r,pos:i,stackWeight:o}=e;if(!r||!rk.includes(i))continue;let s=t[r]||(t[r]={count:0,placed:0,weight:0,size:0});s.count++,s.weight+=o}return t}function U4(n,t){let e=B4(n),{vBoxMaxWidth:r,hBoxMaxHeight:i}=t,o,s,a;for(o=0,s=n.length;o<s;++o){a=n[o];let{fullSize:l}=a.box,c=e[a.stack],u=c&&a.stackWeight/c.weight;a.horizontal?(a.width=u?u*r:l&&t.availableWidth,a.height=i):(a.width=r,a.height=u?u*i:l&&t.availableHeight)}return e}function $4(n){let t=V4(n),e=ru(t.filter(c=>c.box.fullSize),!0),r=ru(nu(t,"left"),!0),i=ru(nu(t,"right")),o=ru(nu(t,"top"),!0),s=ru(nu(t,"bottom")),a=uR(t,"x"),l=uR(t,"y");return{fullSize:e,leftAndTop:r.concat(o),rightAndBottom:i.concat(l).concat(s).concat(a),chartArea:nu(t,"chartArea"),vertical:r.concat(i).concat(l),horizontal:o.concat(s).concat(a)}}function dR(n,t,e,r){return Math.max(n[e],t[e])+Math.max(n[r],t[r])}function ik(n,t){n.top=Math.max(n.top,t.top),n.left=Math.max(n.left,t.left),n.bottom=Math.max(n.bottom,t.bottom),n.right=Math.max(n.right,t.right)}function H4(n,t,e,r){let{pos:i,box:o}=e,s=n.maxPadding;if(!le(i)){e.size&&(n[i]-=e.size);let d=r[e.stack]||{size:0,count:1};d.size=Math.max(d.size,e.horizontal?o.height:o.width),e.size=d.size/d.count,n[i]+=e.size}o.getPadding&&ik(s,o.getPadding());let a=Math.max(0,t.outerWidth-dR(s,n,"left","right")),l=Math.max(0,t.outerHeight-dR(s,n,"top","bottom")),c=a!==n.w,u=l!==n.h;return n.w=a,n.h=l,e.horizontal?{same:c,other:u}:{same:u,other:c}}function z4(n){let t=n.maxPadding;function e(r){let i=Math.max(t[r]-n[r],0);return n[r]+=i,i}n.y+=e("top"),n.x+=e("left"),e("right"),e("bottom")}function q4(n,t){let e=t.maxPadding;function r(i){let o={left:0,top:0,right:0,bottom:0};return i.forEach(s=>{o[s]=Math.max(t[s],e[s])}),o}return r(n?["left","right"]:["top","bottom"])}function su(n,t,e,r){let i=[],o,s,a,l,c,u;for(o=0,s=n.length,c=0;o<s;++o){a=n[o],l=a.box,l.update(a.width||t.w,a.height||t.h,q4(a.horizontal,t));let{same:d,other:f}=H4(t,e,a,r);c|=d&&i.length,u=u||f,l.fullSize||i.push(a)}return c&&su(i,t,e,r)||u}function Up(n,t,e,r,i){n.top=e,n.left=t,n.right=t+r,n.bottom=e+i,n.width=r,n.height=i}function hR(n,t,e,r){let i=e.padding,{x:o,y:s}=t;for(let a of n){let l=a.box,c=r[a.stack]||{count:1,placed:0,weight:1},u=a.stackWeight/c.weight||1;if(a.horizontal){let d=t.w*u,f=c.size||l.height;el(c.start)&&(s=c.start),l.fullSize?Up(l,i.left,s,e.outerWidth-i.right-i.left,f):Up(l,t.left+c.placed,s,d,f),c.start=s,c.placed+=d,s=l.bottom}else{let d=t.h*u,f=c.size||l.width;el(c.start)&&(o=c.start),l.fullSize?Up(l,o,i.top,f,e.outerHeight-i.bottom-i.top):Up(l,o,t.top+c.placed,f,d),c.start=o,c.placed+=d,o=l.right}}t.x=o,t.y=s}var Rt={addBox(n,t){n.boxes||(n.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},n.boxes.push(t)},removeBox(n,t){let e=n.boxes?n.boxes.indexOf(t):-1;e!==-1&&n.boxes.splice(e,1)},configure(n,t,e){t.fullSize=e.fullSize,t.position=e.position,t.weight=e.weight},update(n,t,e,r){if(!n)return;let i=Dt(n.options.layout.padding),o=Math.max(t-i.width,0),s=Math.max(e-i.height,0),a=$4(n.boxes),l=a.vertical,c=a.horizontal;we(n.boxes,g=>{typeof g.beforeLayout=="function"&&g.beforeLayout()});let u=l.reduce((g,m)=>m.box.options&&m.box.options.display===!1?g:g+1,0)||1,d=Object.freeze({outerWidth:t,outerHeight:e,padding:i,availableWidth:o,availableHeight:s,vBoxMaxWidth:o/2/u,hBoxMaxHeight:s/2}),f=Object.assign({},i);ik(f,Dt(r));let h=Object.assign({maxPadding:f,w:o,h:s,x:i.left,y:i.top},i),p=U4(l.concat(c),d);su(a.fullSize,h,d,p),su(l,h,d,p),su(c,h,d,p)&&su(l,h,d,p),z4(h),hR(a.leftAndTop,h,d,p),h.x+=h.w,h.y+=h.h,hR(a.rightAndBottom,h,d,p),n.chartArea={left:h.left,top:h.top,right:h.left+h.w,bottom:h.top+h.h,height:h.h,width:h.w},we(a.chartArea,g=>{let m=g.box;Object.assign(m,n.chartArea),m.update(h.w,h.h,{left:0,top:0,right:0,bottom:0})})}},Zp=class{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,r){}removeEventListener(t,e,r){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,r,i){return e=Math.max(0,e||t.width),r=r||t.height,{width:e,height:Math.max(0,i?Math.floor(e/i):r)}}isAttached(t){return!0}updateConfig(t){}},Jb=class extends Zp{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}},Gp="$chartjs",W4={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},fR=n=>n===null||n==="";function G4(n,t){let e=n.style,r=n.getAttribute("height"),i=n.getAttribute("width");if(n[Gp]={initial:{height:r,width:i,style:{display:e.display,height:e.height,width:e.width}}},e.display=e.display||"block",e.boxSizing=e.boxSizing||"border-box",fR(i)){let o=Ob(n,"width");o!==void 0&&(n.width=o)}if(fR(r))if(n.style.height==="")n.height=n.width/(t||2);else{let o=Ob(n,"height");o!==void 0&&(n.height=o)}return n}var ok=YO?{passive:!0}:!1;function K4(n,t,e){n&&n.addEventListener(t,e,ok)}function Y4(n,t,e){n&&n.canvas&&n.canvas.removeEventListener(t,e,ok)}function Z4(n,t){let e=W4[n.type]||n.type,{x:r,y:i}=uo(n,t);return{type:e,chart:t,native:n,x:r!==void 0?r:null,y:i!==void 0?i:null}}function Jp(n,t){for(let e of n)if(e===t||e.contains(t))return!0}function J4(n,t,e){let r=n.canvas,i=new MutationObserver(o=>{let s=!1;for(let a of o)s=s||Jp(a.addedNodes,r),s=s&&!Jp(a.removedNodes,r);s&&e()});return i.observe(document,{childList:!0,subtree:!0}),i}function X4(n,t,e){let r=n.canvas,i=new MutationObserver(o=>{let s=!1;for(let a of o)s=s||Jp(a.removedNodes,r),s=s&&!Jp(a.addedNodes,r);s&&e()});return i.observe(document,{childList:!0,subtree:!0}),i}var lu=new Map,pR=0;function sk(){let n=window.devicePixelRatio;n!==pR&&(pR=n,lu.forEach((t,e)=>{e.currentDevicePixelRatio!==n&&t()}))}function Q4(n,t){lu.size||window.addEventListener("resize",sk),lu.set(n,t)}function e8(n){lu.delete(n),lu.size||window.removeEventListener("resize",sk)}function t8(n,t,e){let r=n.canvas,i=r&&Vp(r);if(!i)return;let o=yb((a,l)=>{let c=i.clientWidth;e(a,l),c<i.clientWidth&&e()},window),s=new ResizeObserver(a=>{let l=a[0],c=l.contentRect.width,u=l.contentRect.height;c===0&&u===0||o(c,u)});return s.observe(i),Q4(n,o),s}function Hb(n,t,e){e&&e.disconnect(),t==="resize"&&e8(n)}function n8(n,t,e){let r=n.canvas,i=yb(o=>{n.ctx!==null&&e(Z4(o,n))},n);return K4(r,t,i),i}var Xb=class extends Zp{acquireContext(t,e){let r=t&&t.getContext&&t.getContext("2d");return r&&r.canvas===t?(G4(t,e),r):null}releaseContext(t){let e=t.canvas;if(!e[Gp])return!1;let r=e[Gp].initial;["height","width"].forEach(o=>{let s=r[o];ae(s)?e.removeAttribute(o):e.setAttribute(o,s)});let i=r.style||{};return Object.keys(i).forEach(o=>{e.style[o]=i[o]}),e.width=e.width,delete e[Gp],!0}addEventListener(t,e,r){this.removeEventListener(t,e);let i=t.$proxies||(t.$proxies={}),s={attach:J4,detach:X4,resize:t8}[e]||n8;i[e]=s(t,e,r)}removeEventListener(t,e){let r=t.$proxies||(t.$proxies={}),i=r[e];if(!i)return;({attach:Hb,detach:Hb,resize:Hb}[e]||Y4)(t,e,i),r[e]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,r,i){return KO(t,e,r,i)}isAttached(t){let e=t&&Vp(t);return!!(e&&e.isConnected)}};function r8(n){return!jp()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?Jb:Xb}var Qn=class{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(t){let{x:e,y:r}=this.getProps(["x","y"],t);return{x:e,y:r}}hasValue(){return gs(this.x)&&gs(this.y)}getProps(t,e){let r=this.$animations;if(!e||!r)return this;let i={};return t.forEach(o=>{i[o]=r[o]&&r[o].active()?r[o]._to:this[o]}),i}};function i8(n,t){let e=n.options.ticks,r=o8(n),i=Math.min(e.maxTicksLimit||r,r),o=e.major.enabled?a8(t):[],s=o.length,a=o[0],l=o[s-1],c=[];if(s>i)return l8(t,c,o,s/i),c;let u=s8(o,t,i);if(s>0){let d,f,h=s>1?Math.round((l-a)/(s-1)):null;for($p(t,c,u,ae(h)?0:a-h,a),d=0,f=s-1;d<f;d++)$p(t,c,u,o[d],o[d+1]);return $p(t,c,u,l,ae(h)?t.length:l+h),c}return $p(t,c,u),c}function o8(n){let t=n.options.offset,e=n._tickSize(),r=n._length/e+(t?0:1),i=n._maxLength/e;return Math.floor(Math.min(r,i))}function s8(n,t,e){let r=c8(n),i=t.length/e;if(!r)return Math.max(i,1);let o=TO(r);for(let s=0,a=o.length-1;s<a;s++){let l=o[s];if(l>i)return l}return Math.max(i,1)}function a8(n){let t=[],e,r;for(e=0,r=n.length;e<r;e++)n[e].major&&t.push(e);return t}function l8(n,t,e,r){let i=0,o=e[0],s;for(r=Math.ceil(r),s=0;s<n.length;s++)s===o&&(t.push(n[s]),i++,o=e[i*r])}function $p(n,t,e,r,i){let o=X(r,0),s=Math.min(X(i,n.length),n.length),a=0,l,c,u;for(e=Math.ceil(e),i&&(l=i-r,e=l/Math.floor(l/e)),u=o;u<0;)a++,u=Math.round(o+a*e);for(c=Math.max(o,0);c<s;c++)c===u&&(t.push(n[c]),a++,u=Math.round(o+a*e))}function c8(n){let t=n.length,e,r;if(t<2)return!1;for(r=n[0],e=1;e<t;++e)if(n[e]-n[e-1]!==r)return!1;return r}var u8=n=>n==="left"?"right":n==="right"?"left":n,gR=(n,t,e)=>t==="top"||t==="left"?n[t]+e:n[t]-e,mR=(n,t)=>Math.min(t||n,n);function vR(n,t){let e=[],r=n.length/t,i=n.length,o=0;for(;o<i;o+=r)e.push(n[Math.floor(o)]);return e}function d8(n,t,e){let r=n.ticks.length,i=Math.min(t,r-1),o=n._startPixel,s=n._endPixel,a=1e-6,l=n.getPixelForTick(i),c;if(!(e&&(r===1?c=Math.max(l-o,s-l):t===0?c=(n.getPixelForTick(1)-l)/2:c=(l-n.getPixelForTick(i-1))/2,l+=i<t?c:-c,l<o-a||l>s+a)))return l}function h8(n,t){we(n,e=>{let r=e.gc,i=r.length/2,o;if(i>t){for(o=0;o<i;++o)delete e.data[r[o]];r.splice(0,i)}})}function iu(n){return n.drawTicks?n.tickLength:0}function yR(n,t){if(!n.display)return 0;let e=st(n.font,t),r=Dt(n.padding);return(ke(n.text)?n.text.length:1)*e.lineHeight+r.height}function f8(n,t){return gi(n,{scale:t,type:"scale"})}function p8(n,t,e){return gi(n,{tick:e,index:t,type:"tick"})}function g8(n,t,e){let r=kp(n);return(e&&t!=="right"||!e&&t==="right")&&(r=u8(r)),r}function m8(n,t,e,r){let{top:i,left:o,bottom:s,right:a,chart:l}=n,{chartArea:c,scales:u}=l,d=0,f,h,p,g=s-i,m=a-o;if(n.isHorizontal()){if(h=Ct(r,o,a),le(e)){let _=Object.keys(e)[0],E=e[_];p=u[_].getPixelForValue(E)+g-t}else e==="center"?p=(c.bottom+c.top)/2+g-t:p=gR(n,e,t);f=a-o}else{if(le(e)){let _=Object.keys(e)[0],E=e[_];h=u[_].getPixelForValue(E)-m+t}else e==="center"?h=(c.left+c.right)/2-m+t:h=gR(n,e,t);p=Ct(r,s,i),d=e==="left"?-We:We}return{titleX:h,titleY:p,maxWidth:f,rotation:d}}var _s=class n extends Qn{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:r,_suggestedMax:i}=this;return t=en(t,Number.POSITIVE_INFINITY),e=en(e,Number.NEGATIVE_INFINITY),r=en(r,Number.POSITIVE_INFINITY),i=en(i,Number.NEGATIVE_INFINITY),{min:en(t,r),max:en(e,i),minDefined:qe(t),maxDefined:qe(e)}}getMinMax(t){let{min:e,max:r,minDefined:i,maxDefined:o}=this.getUserBounds(),s;if(i&&o)return{min:e,max:r};let a=this.getMatchingVisibleMetas();for(let l=0,c=a.length;l<c;++l)s=a[l].controller.getMinMax(this,t),i||(e=Math.min(e,s.min)),o||(r=Math.max(r,s.max));return e=o&&e>r?r:e,r=i&&e>r?e:r,{min:en(e,en(r,e)),max:en(r,en(e,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){let t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Ie(this.options.beforeUpdate,[this])}update(t,e,r){let{beginAtZero:i,grace:o,ticks:s}=this.options,a=s.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=r=Object.assign({left:0,right:0,top:0,bottom:0},r),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+r.left+r.right:this.height+r.top+r.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=$O(this,o,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();let l=a<this.ticks.length;this._convertTicksToLabels(l?vR(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),s.display&&(s.autoSkip||s.source==="auto")&&(this.ticks=i8(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,e,r;this.isHorizontal()?(e=this.left,r=this.right):(e=this.top,r=this.bottom,t=!t),this._startPixel=e,this._endPixel=r,this._reversePixels=t,this._length=r-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Ie(this.options.afterUpdate,[this])}beforeSetDimensions(){Ie(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Ie(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),Ie(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Ie(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){let e=this.options.ticks,r,i,o;for(r=0,i=t.length;r<i;r++)o=t[r],o.label=Ie(e.callback,[o.value,r,t],this)}afterTickToLabelConversion(){Ie(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Ie(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){let t=this.options,e=t.ticks,r=mR(this.ticks.length,t.ticks.maxTicksLimit),i=e.minRotation||0,o=e.maxRotation,s=i,a,l,c;if(!this._isVisible()||!e.display||i>=o||r<=1||!this.isHorizontal()){this.labelRotation=i;return}let u=this._getLabelSizes(),d=u.widest.width,f=u.highest.height,h=ft(this.chart.width-d,0,this.maxWidth);a=t.offset?this.maxWidth/r:h/(r-1),d+6>a&&(a=h/(r-(t.offset?.5:1)),l=this.maxHeight-iu(t.grid)-e.padding-yR(t.title,this.chart.options.font),c=Math.sqrt(d*d+f*f),s=Op(Math.min(Math.asin(ft((u.highest.height+6)/a,-1,1)),Math.asin(ft(l/c,-1,1))-Math.asin(ft(f/c,-1,1)))),s=Math.max(i,Math.min(o,s))),this.labelRotation=s}afterCalculateLabelRotation(){Ie(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Ie(this.options.beforeFit,[this])}fit(){let t={width:0,height:0},{chart:e,options:{ticks:r,title:i,grid:o}}=this,s=this._isVisible(),a=this.isHorizontal();if(s){let l=yR(i,e.options.font);if(a?(t.width=this.maxWidth,t.height=iu(o)+l):(t.height=this.maxHeight,t.width=iu(o)+l),r.display&&this.ticks.length){let{first:c,last:u,widest:d,highest:f}=this._getLabelSizes(),h=r.padding*2,p=Mn(this.labelRotation),g=Math.cos(p),m=Math.sin(p);if(a){let _=r.mirror?0:m*d.width+g*f.height;t.height=Math.min(this.maxHeight,t.height+_+h)}else{let _=r.mirror?0:g*d.width+m*f.height;t.width=Math.min(this.maxWidth,t.width+_+h)}this._calculatePadding(c,u,m,g)}}this._handleMargins(),a?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,e,r,i){let{ticks:{align:o,padding:s},position:a}=this.options,l=this.labelRotation!==0,c=a!=="top"&&this.axis==="x";if(this.isHorizontal()){let u=this.getPixelForTick(0)-this.left,d=this.right-this.getPixelForTick(this.ticks.length-1),f=0,h=0;l?c?(f=i*t.width,h=r*e.height):(f=r*t.height,h=i*e.width):o==="start"?h=e.width:o==="end"?f=t.width:o!=="inner"&&(f=t.width/2,h=e.width/2),this.paddingLeft=Math.max((f-u+s)*this.width/(this.width-u),0),this.paddingRight=Math.max((h-d+s)*this.width/(this.width-d),0)}else{let u=e.height/2,d=t.height/2;o==="start"?(u=0,d=t.height):o==="end"&&(u=e.height,d=0),this.paddingTop=u+s,this.paddingBottom=d+s}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Ie(this.options.afterFit,[this])}isHorizontal(){let{axis:t,position:e}=this.options;return e==="top"||e==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let e,r;for(e=0,r=t.length;e<r;e++)ae(t[e].label)&&(t.splice(e,1),r--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){let e=this.options.ticks.sampleSize,r=this.ticks;e<r.length&&(r=vR(r,e)),this._labelSizes=t=this._computeLabelSizes(r,r.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,e,r){let{ctx:i,_longestTextCache:o}=this,s=[],a=[],l=Math.floor(e/mR(e,r)),c=0,u=0,d,f,h,p,g,m,_,E,C,D,S;for(d=0;d<e;d+=l){if(p=t[d].label,g=this._resolveTickFontOptions(d),i.font=m=g.string,_=o[m]=o[m]||{data:{},gc:[]},E=g.lineHeight,C=D=0,!ae(p)&&!ke(p))C=Zc(i,_.data,_.gc,C,p),D=E;else if(ke(p))for(f=0,h=p.length;f<h;++f)S=p[f],!ae(S)&&!ke(S)&&(C=Zc(i,_.data,_.gc,C,S),D+=E);s.push(C),a.push(D),c=Math.max(C,c),u=Math.max(D,u)}h8(o,e);let M=s.indexOf(c),A=a.indexOf(u),T=F=>({width:s[F]||0,height:a[F]||0});return{first:T(0),last:T(e-1),widest:T(M),highest:T(A),widths:s,heights:a}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){let e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);let e=this._startPixel+t*this._length;return OO(this._alignToPixels?ao(this.chart,e,0):e)}getDecimalForPixel(t){let e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){let{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){let e=this.ticks||[];if(t>=0&&t<e.length){let r=e[t];return r.$context||(r.$context=p8(this.getContext(),t,r))}return this.$context||(this.$context=f8(this.chart.getContext(),this))}_tickSize(){let t=this.options.ticks,e=Mn(this.labelRotation),r=Math.abs(Math.cos(e)),i=Math.abs(Math.sin(e)),o=this._getLabelSizes(),s=t.autoSkipPadding||0,a=o?o.widest.width+s:0,l=o?o.highest.height+s:0;return this.isHorizontal()?l*r>a*i?a/r:l/i:l*i<a*r?l/r:a/i}_isVisible(){let t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){let e=this.axis,r=this.chart,i=this.options,{grid:o,position:s,border:a}=i,l=o.offset,c=this.isHorizontal(),d=this.ticks.length+(l?1:0),f=iu(o),h=[],p=a.setContext(this.getContext()),g=p.display?p.width:0,m=g/2,_=function(Ve){return ao(r,Ve,g)},E,C,D,S,M,A,T,F,G,re,ce,bt;if(s==="top")E=_(this.bottom),A=this.bottom-f,F=E-m,re=_(t.top)+m,bt=t.bottom;else if(s==="bottom")E=_(this.top),re=t.top,bt=_(t.bottom)-m,A=E+m,F=this.top+f;else if(s==="left")E=_(this.right),M=this.right-f,T=E-m,G=_(t.left)+m,ce=t.right;else if(s==="right")E=_(this.left),G=t.left,ce=_(t.right)-m,M=E+m,T=this.left+f;else if(e==="x"){if(s==="center")E=_((t.top+t.bottom)/2+.5);else if(le(s)){let Ve=Object.keys(s)[0],Ge=s[Ve];E=_(this.chart.scales[Ve].getPixelForValue(Ge))}re=t.top,bt=t.bottom,A=E+m,F=A+f}else if(e==="y"){if(s==="center")E=_((t.left+t.right)/2);else if(le(s)){let Ve=Object.keys(s)[0],Ge=s[Ve];E=_(this.chart.scales[Ve].getPixelForValue(Ge))}M=E-m,T=M-f,G=t.left,ce=t.right}let rn=X(i.ticks.maxTicksLimit,d),Ce=Math.max(1,Math.ceil(d/rn));for(C=0;C<d;C+=Ce){let Ve=this.getContext(C),Ge=o.setContext(Ve),Tn=a.setContext(Ve),xt=Ge.lineWidth,bs=Ge.color,fu=Tn.dash||[],ws=Tn.dashOffset,cl=Ge.tickWidth,po=Ge.tickColor,ul=Ge.tickBorderDash||[],go=Ge.tickBorderDashOffset;D=d8(this,C,l),D!==void 0&&(S=ao(r,D,xt),c?M=T=G=ce=S:A=F=re=bt=S,h.push({tx1:M,ty1:A,tx2:T,ty2:F,x1:G,y1:re,x2:ce,y2:bt,width:xt,color:bs,borderDash:fu,borderDashOffset:ws,tickWidth:cl,tickColor:po,tickBorderDash:ul,tickBorderDashOffset:go}))}return this._ticksLength=d,this._borderValue=E,h}_computeLabelItems(t){let e=this.axis,r=this.options,{position:i,ticks:o}=r,s=this.isHorizontal(),a=this.ticks,{align:l,crossAlign:c,padding:u,mirror:d}=o,f=iu(r.grid),h=f+u,p=d?-u:h,g=-Mn(this.labelRotation),m=[],_,E,C,D,S,M,A,T,F,G,re,ce,bt="middle";if(i==="top")M=this.bottom-p,A=this._getXAxisLabelAlignment();else if(i==="bottom")M=this.top+p,A=this._getXAxisLabelAlignment();else if(i==="left"){let Ce=this._getYAxisLabelAlignment(f);A=Ce.textAlign,S=Ce.x}else if(i==="right"){let Ce=this._getYAxisLabelAlignment(f);A=Ce.textAlign,S=Ce.x}else if(e==="x"){if(i==="center")M=(t.top+t.bottom)/2+h;else if(le(i)){let Ce=Object.keys(i)[0],Ve=i[Ce];M=this.chart.scales[Ce].getPixelForValue(Ve)+h}A=this._getXAxisLabelAlignment()}else if(e==="y"){if(i==="center")S=(t.left+t.right)/2-h;else if(le(i)){let Ce=Object.keys(i)[0],Ve=i[Ce];S=this.chart.scales[Ce].getPixelForValue(Ve)}A=this._getYAxisLabelAlignment(f).textAlign}e==="y"&&(l==="start"?bt="top":l==="end"&&(bt="bottom"));let rn=this._getLabelSizes();for(_=0,E=a.length;_<E;++_){C=a[_],D=C.label;let Ce=o.setContext(this.getContext(_));T=this.getPixelForTick(_)+o.labelOffset,F=this._resolveTickFontOptions(_),G=F.lineHeight,re=ke(D)?D.length:1;let Ve=re/2,Ge=Ce.color,Tn=Ce.textStrokeColor,xt=Ce.textStrokeWidth,bs=A;s?(S=T,A==="inner"&&(_===E-1?bs=this.options.reverse?"left":"right":_===0?bs=this.options.reverse?"right":"left":bs="center"),i==="top"?c==="near"||g!==0?ce=-re*G+G/2:c==="center"?ce=-rn.highest.height/2-Ve*G+G:ce=-rn.highest.height+G/2:c==="near"||g!==0?ce=G/2:c==="center"?ce=rn.highest.height/2-Ve*G:ce=rn.highest.height-re*G,d&&(ce*=-1),g!==0&&!Ce.showLabelBackdrop&&(S+=G/2*Math.sin(g))):(M=T,ce=(1-re)*G/2);let fu;if(Ce.showLabelBackdrop){let ws=Dt(Ce.backdropPadding),cl=rn.heights[_],po=rn.widths[_],ul=ce-ws.top,go=0-ws.left;switch(bt){case"middle":ul-=cl/2;break;case"bottom":ul-=cl;break}switch(A){case"center":go-=po/2;break;case"right":go-=po;break;case"inner":_===E-1?go-=po:_>0&&(go-=po/2);break}fu={left:go,top:ul,width:po+ws.width,height:cl+ws.height,color:Ce.backdropColor}}m.push({label:D,font:F,textOffset:ce,options:{rotation:g,color:Ge,strokeColor:Tn,strokeWidth:xt,textAlign:bs,textBaseline:bt,translation:[S,M],backdrop:fu}})}return m}_getXAxisLabelAlignment(){let{position:t,ticks:e}=this.options;if(-Mn(this.labelRotation))return t==="top"?"left":"right";let i="center";return e.align==="start"?i="left":e.align==="end"?i="right":e.align==="inner"&&(i="inner"),i}_getYAxisLabelAlignment(t){let{position:e,ticks:{crossAlign:r,mirror:i,padding:o}}=this.options,s=this._getLabelSizes(),a=t+o,l=s.widest.width,c,u;return e==="left"?i?(u=this.right+o,r==="near"?c="left":r==="center"?(c="center",u+=l/2):(c="right",u+=l)):(u=this.right-a,r==="near"?c="right":r==="center"?(c="center",u-=l/2):(c="left",u=this.left)):e==="right"?i?(u=this.left+o,r==="near"?c="right":r==="center"?(c="center",u-=l/2):(c="left",u-=l)):(u=this.left+a,r==="near"?c="left":r==="center"?(c="center",u+=l/2):(c="right",u=this.right)):c="right",{textAlign:c,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;let t=this.chart,e=this.options.position;if(e==="left"||e==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(e==="top"||e==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){let{ctx:t,options:{backgroundColor:e},left:r,top:i,width:o,height:s}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(r,i,o,s),t.restore())}getLineWidthForValue(t){let e=this.options.grid;if(!this._isVisible()||!e.display)return 0;let i=this.ticks.findIndex(o=>o.value===t);return i>=0?e.setContext(this.getContext(i)).lineWidth:0}drawGrid(t){let e=this.options.grid,r=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t)),o,s,a=(l,c,u)=>{!u.width||!u.color||(r.save(),r.lineWidth=u.width,r.strokeStyle=u.color,r.setLineDash(u.borderDash||[]),r.lineDashOffset=u.borderDashOffset,r.beginPath(),r.moveTo(l.x,l.y),r.lineTo(c.x,c.y),r.stroke(),r.restore())};if(e.display)for(o=0,s=i.length;o<s;++o){let l=i[o];e.drawOnChartArea&&a({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),e.drawTicks&&a({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){let{chart:t,ctx:e,options:{border:r,grid:i}}=this,o=r.setContext(this.getContext()),s=r.display?o.width:0;if(!s)return;let a=i.setContext(this.getContext(0)).lineWidth,l=this._borderValue,c,u,d,f;this.isHorizontal()?(c=ao(t,this.left,s)-s/2,u=ao(t,this.right,a)+a/2,d=f=l):(d=ao(t,this.top,s)-s/2,f=ao(t,this.bottom,a)+a/2,c=u=l),e.save(),e.lineWidth=o.width,e.strokeStyle=o.color,e.beginPath(),e.moveTo(c,d),e.lineTo(u,f),e.stroke(),e.restore()}drawLabels(t){if(!this.options.ticks.display)return;let r=this.ctx,i=this._computeLabelArea();i&&Qc(r,i);let o=this.getLabelItems(t);for(let s of o){let a=s.options,l=s.font,c=s.label,u=s.textOffset;lo(r,c,0,u,l,a)}i&&eu(r)}drawTitle(){let{ctx:t,options:{position:e,title:r,reverse:i}}=this;if(!r.display)return;let o=st(r.font),s=Dt(r.padding),a=r.align,l=o.lineHeight/2;e==="bottom"||e==="center"||le(e)?(l+=s.bottom,ke(r.text)&&(l+=o.lineHeight*(r.text.length-1))):l+=s.top;let{titleX:c,titleY:u,maxWidth:d,rotation:f}=m8(this,l,e,a);lo(t,r.text,0,0,o,{color:r.color,maxWidth:d,rotation:f,textAlign:g8(a,e,i),textBaseline:"middle",translation:[c,u]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){let t=this.options,e=t.ticks&&t.ticks.z||0,r=X(t.grid&&t.grid.z,-1),i=X(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==n.prototype.draw?[{z:e,draw:o=>{this.draw(o)}}]:[{z:r,draw:o=>{this.drawBackground(),this.drawGrid(o),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:e,draw:o=>{this.drawLabels(o)}}]}getMatchingVisibleMetas(t){let e=this.chart.getSortedVisibleDatasetMetas(),r=this.axis+"AxisID",i=[],o,s;for(o=0,s=e.length;o<s;++o){let a=e[o];a[r]===this.id&&(!t||a.type===t)&&i.push(a)}return i}_resolveTickFontOptions(t){let e=this.options.ticks.setContext(this.getContext(t));return st(e.font)}_maxDigits(){let t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}},al=class{constructor(t,e,r){this.type=t,this.scope=e,this.override=r,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){let e=Object.getPrototypeOf(t),r;_8(e)&&(r=this.register(e));let i=this.items,o=t.id,s=this.scope+"."+o;if(!o)throw new Error("class does not have id: "+t);return o in i||(i[o]=t,v8(t,s,r),this.override&&je.override(t.id,t.overrides)),s}get(t){return this.items[t]}unregister(t){let e=this.items,r=t.id,i=this.scope;r in e&&delete e[r],i&&r in je[i]&&(delete je[i][r],this.override&&delete so[r])}};function v8(n,t,e){let r=Ja(Object.create(null),[e?je.get(e):{},je.get(t),n.defaults]);je.set(t,r),n.defaultRoutes&&y8(t,n.defaultRoutes),n.descriptors&&je.describe(t,n.descriptors)}function y8(n,t){Object.keys(t).forEach(e=>{let r=e.split("."),i=r.pop(),o=[n].concat(r).join("."),s=t[e].split("."),a=s.pop(),l=s.join(".");je.route(o,i,l,a)})}function _8(n){return"id"in n&&"defaults"in n}var Qb=class{constructor(){this.controllers=new al(fo,"datasets",!0),this.elements=new al(Qn,"elements"),this.plugins=new al(Object,"plugins"),this.scales=new al(_s,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,e,r){[...e].forEach(i=>{let o=r||this._getRegistryForType(i);r||o.isForType(i)||o===this.plugins&&i.id?this._exec(t,o,i):we(i,s=>{let a=r||this._getRegistryForType(s);this._exec(t,a,s)})})}_exec(t,e,r){let i=Ap(t);Ie(r["before"+i],[],r),e[t](r),Ie(r["after"+i],[],r)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){let r=this._typedRegistries[e];if(r.isForType(t))return r}return this.plugins}_get(t,e,r){let i=e.get(t);if(i===void 0)throw new Error('"'+t+'" is not a registered '+r+".");return i}},jr=new Qb,ew=class{constructor(){this._init=void 0}notify(t,e,r,i){if(e==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install")),this._init===void 0)return;let o=i?this._descriptors(t).filter(i):this._descriptors(t),s=this._notify(o,t,e,r);return e==="afterDestroy"&&(this._notify(o,t,"stop"),this._notify(this._init,t,"uninstall"),this._init=void 0),s}_notify(t,e,r,i){i=i||{};for(let o of t){let s=o.plugin,a=s[r],l=[e,i,o.options];if(Ie(a,l,s)===!1&&i.cancelable)return!1}return!0}invalidate(){ae(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;let e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){let r=t&&t.config,i=X(r.options&&r.options.plugins,{}),o=b8(r);return i===!1&&!e?[]:E8(t,o,i,e)}_notifyStateChanges(t){let e=this._oldCache||[],r=this._cache,i=(o,s)=>o.filter(a=>!s.some(l=>a.plugin.id===l.plugin.id));this._notify(i(e,r),t,"stop"),this._notify(i(r,e),t,"start")}};function b8(n){let t={},e=[],r=Object.keys(jr.plugins.items);for(let o=0;o<r.length;o++)e.push(jr.getPlugin(r[o]));let i=n.plugins||[];for(let o=0;o<i.length;o++){let s=i[o];e.indexOf(s)===-1&&(e.push(s),t[s.id]=!0)}return{plugins:e,localIds:t}}function w8(n,t){return!t&&n===!1?null:n===!0?{}:n}function E8(n,{plugins:t,localIds:e},r,i){let o=[],s=n.getContext();for(let a of t){let l=a.id,c=w8(r[l],i);c!==null&&o.push({plugin:a,options:C8(n.config,{plugin:a,local:e[l]},c,s)})}return o}function C8(n,{plugin:t,local:e},r,i){let o=n.pluginScopeKeys(t),s=n.getOptionScopes(r,o);return e&&t.defaults&&s.push(t.defaults),n.createResolver(s,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function tw(n,t){let e=je.datasets[n]||{};return((t.datasets||{})[n]||{}).indexAxis||t.indexAxis||e.indexAxis||"x"}function D8(n,t){let e=n;return n==="_index_"?e=t:n==="_value_"&&(e=t==="x"?"y":"x"),e}function x8(n,t){return n===t?"_index_":"_value_"}function _R(n){if(n==="x"||n==="y"||n==="r")return n}function S8(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function nw(n,...t){if(_R(n))return n;for(let e of t){let r=e.axis||S8(e.position)||n.length>1&&_R(n[0].toLowerCase());if(r)return r}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function bR(n,t,e){if(e[t+"AxisID"]===n)return{axis:t}}function I8(n,t){if(t.data&&t.data.datasets){let e=t.data.datasets.filter(r=>r.xAxisID===n||r.yAxisID===n);if(e.length)return bR(n,"x",e[0])||bR(n,"y",e[0])}return{}}function M8(n,t){let e=so[n.type]||{scales:{}},r=t.scales||{},i=tw(n.type,t),o=Object.create(null);return Object.keys(r).forEach(s=>{let a=r[s];if(!le(a))return console.error(`Invalid scale configuration for scale: ${s}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${s}`);let l=nw(s,a,I8(s,n),je.scales[a.type]),c=x8(l,i),u=e.scales||{};o[s]=Qa(Object.create(null),[{axis:l},a,u[l],u[c]])}),n.data.datasets.forEach(s=>{let a=s.type||n.type,l=s.indexAxis||tw(a,t),u=(so[a]||{}).scales||{};Object.keys(u).forEach(d=>{let f=D8(d,l),h=s[f+"AxisID"]||f;o[h]=o[h]||Object.create(null),Qa(o[h],[{axis:f},r[h],u[d]])})}),Object.keys(o).forEach(s=>{let a=o[s];Qa(a,[je.scales[a.type],je.scale])}),o}function ak(n){let t=n.options||(n.options={});t.plugins=X(t.plugins,{}),t.scales=M8(n,t)}function lk(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function T8(n){return n=n||{},n.data=lk(n.data),ak(n),n}var wR=new Map,ck=new Set;function Hp(n,t){let e=wR.get(n);return e||(e=t(),wR.set(n,e),ck.add(e)),e}var ou=(n,t,e)=>{let r=pi(t,e);r!==void 0&&n.add(r)},rw=class{constructor(t){this._config=T8(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=lk(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){let t=this._config;this.clearCache(),ak(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return Hp(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,e){return Hp(`${t}.transition.${e}`,()=>[[`datasets.${t}.transitions.${e}`,`transitions.${e}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,e){return Hp(`${t}-${e}`,()=>[[`datasets.${t}.elements.${e}`,`datasets.${t}`,`elements.${e}`,""]])}pluginScopeKeys(t){let e=t.id,r=this.type;return Hp(`${r}-plugin-${e}`,()=>[[`plugins.${e}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,e){let r=this._scopeCache,i=r.get(t);return(!i||e)&&(i=new Map,r.set(t,i)),i}getOptionScopes(t,e,r){let{options:i,type:o}=this,s=this._cachedScopes(t,r),a=s.get(e);if(a)return a;let l=new Set;e.forEach(u=>{t&&(l.add(t),u.forEach(d=>ou(l,t,d))),u.forEach(d=>ou(l,i,d)),u.forEach(d=>ou(l,so[o]||{},d)),u.forEach(d=>ou(l,je,d)),u.forEach(d=>ou(l,Pp,d))});let c=Array.from(l);return c.length===0&&c.push(Object.create(null)),ck.has(e)&&s.set(e,c),c}chartOptionScopes(){let{options:t,type:e}=this;return[t,so[e]||{},je.datasets[e]||{},{type:e},je,Pp]}resolveNamedOptions(t,e,r,i=[""]){let o={$shared:!0},{resolver:s,subPrefixes:a}=ER(this._resolverCache,t,i),l=s;if(O8(s,e)){o.$shared=!1,r=hi(r)?r():r;let c=this.createResolver(t,r,a);l=ps(s,r,c)}for(let c of e)o[c]=l[c];return o}createResolver(t,e,r=[""],i){let{resolver:o}=ER(this._resolverCache,t,r);return le(e)?ps(o,e,void 0,i):o}};function ER(n,t,e){let r=n.get(t);r||(r=new Map,n.set(t,r));let i=e.join(),o=r.get(i);return o||(o={resolver:Lp(t,e),subPrefixes:e.filter(a=>!a.toLowerCase().includes("hover"))},r.set(i,o)),o}var A8=n=>le(n)&&Object.getOwnPropertyNames(n).some(t=>hi(n[t]));function O8(n,t){let{isScriptable:e,isIndexable:r}=Sb(n);for(let i of t){let o=e(i),s=r(i),a=(s||o)&&n[i];if(o&&(hi(a)||A8(a))||s&&ke(a))return!0}return!1}var R8="4.5.1",k8=["top","bottom","left","right","chartArea"];function CR(n,t){return n==="top"||n==="bottom"||k8.indexOf(n)===-1&&t==="x"}function DR(n,t){return function(e,r){return e[n]===r[n]?e[t]-r[t]:e[n]-r[n]}}function xR(n){let t=n.chart,e=t.options.animation;t.notifyPlugins("afterRender"),Ie(e&&e.onComplete,[n],t)}function P8(n){let t=n.chart,e=t.options.animation;Ie(e&&e.onProgress,[n],t)}function uk(n){return jp()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}var Kp={},SR=n=>{let t=uk(n);return Object.values(Kp).filter(e=>e.canvas===t).pop()};function N8(n,t,e){let r=Object.keys(n);for(let i of r){let o=+i;if(o>=t){let s=n[i];delete n[i],(e>0||o>t)&&(n[o+e]=s)}}}function F8(n,t,e,r){return!e||n.type==="mouseout"?null:r?t:n}var hu=(()=>{class n{static defaults=je;static instances=Kp;static overrides=so;static registry=jr;static version=R8;static getChart=SR;static register(...e){jr.add(...e),IR()}static unregister(...e){jr.remove(...e),IR()}constructor(e,r){let i=this.config=new rw(r),o=uk(e),s=SR(o);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");let a=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||r8(o)),this.platform.updateConfig(i);let l=this.platform.acquireContext(o,a.aspectRatio),c=l&&l.canvas,u=c&&c.height,d=c&&c.width;if(this.id=xO(),this.ctx=l,this.canvas=c,this.width=d,this.height=u,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new ew,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=FO(f=>this.update(f),a.resizeDelay||0),this._dataChanges=[],Kp[this.id]=this,!l||!c){console.error("Failed to create chart: can't acquire context from the given item");return}mi.listen(this,"complete",xR),mi.listen(this,"progress",P8),this._initialize(),this.attached&&this.update()}get aspectRatio(){let{options:{aspectRatio:e,maintainAspectRatio:r},width:i,height:o,_aspectRatio:s}=this;return ae(e)?r&&s?s:o?i/o:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return jr}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Ab(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Cb(this.canvas,this.ctx),this}stop(){return mi.stop(this),this}resize(e,r){mi.running(this)?this._resizeBeforeDraw={width:e,height:r}:this._resize(e,r)}_resize(e,r){let i=this.options,o=this.canvas,s=i.maintainAspectRatio&&this.aspectRatio,a=this.platform.getMaximumSize(o,e,r,s),l=i.devicePixelRatio||this.platform.getDevicePixelRatio(),c=this.width?"resize":"attach";this.width=a.width,this.height=a.height,this._aspectRatio=this.aspectRatio,Ab(this,l,!0)&&(this.notifyPlugins("resize",{size:a}),Ie(i.onResize,[this,a],this),this.attached&&this._doResize(c)&&this.render())}ensureScalesHaveIDs(){let r=this.options.scales||{};we(r,(i,o)=>{i.id=o})}buildOrUpdateScales(){let e=this.options,r=e.scales,i=this.scales,o=Object.keys(i).reduce((a,l)=>(a[l]=!1,a),{}),s=[];r&&(s=s.concat(Object.keys(r).map(a=>{let l=r[a],c=nw(a,l),u=c==="r",d=c==="x";return{options:l,dposition:u?"chartArea":d?"bottom":"left",dtype:u?"radialLinear":d?"category":"linear"}}))),we(s,a=>{let l=a.options,c=l.id,u=nw(c,l),d=X(l.type,a.dtype);(l.position===void 0||CR(l.position,u)!==CR(a.dposition))&&(l.position=a.dposition),o[c]=!0;let f=null;if(c in i&&i[c].type===d)f=i[c];else{let h=jr.getScale(d);f=new h({id:c,type:d,ctx:this.ctx,chart:this}),i[f.id]=f}f.init(l,e)}),we(o,(a,l)=>{a||delete i[l]}),we(i,a=>{Rt.configure(this,a,a.options),Rt.addBox(this,a)})}_updateMetasets(){let e=this._metasets,r=this.data.datasets.length,i=e.length;if(e.sort((o,s)=>o.index-s.index),i>r){for(let o=r;o<i;++o)this._destroyDatasetMeta(o);e.splice(r,i-r)}this._sortedMetasets=e.slice(0).sort(DR("order","index"))}_removeUnreferencedMetasets(){let{_metasets:e,data:{datasets:r}}=this;e.length>r.length&&delete this._stacks,e.forEach((i,o)=>{r.filter(s=>s===i._dataset).length===0&&this._destroyDatasetMeta(o)})}buildOrUpdateControllers(){let e=[],r=this.data.datasets,i,o;for(this._removeUnreferencedMetasets(),i=0,o=r.length;i<o;i++){let s=r[i],a=this.getDatasetMeta(i),l=s.type||this.config.type;if(a.type&&a.type!==l&&(this._destroyDatasetMeta(i),a=this.getDatasetMeta(i)),a.type=l,a.indexAxis=s.indexAxis||tw(l,this.options),a.order=s.order||0,a.index=i,a.label=""+s.label,a.visible=this.isDatasetVisible(i),a.controller)a.controller.updateIndex(i),a.controller.linkScales();else{let c=jr.getController(l),{datasetElementType:u,dataElementType:d}=je.datasets[l];Object.assign(c,{dataElementType:jr.getElement(d),datasetElementType:u&&jr.getElement(u)}),a.controller=new c(this,i),e.push(a.controller)}}return this._updateMetasets(),e}_resetElements(){we(this.data.datasets,(e,r)=>{this.getDatasetMeta(r).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){let r=this.config;r.update();let i=this._options=r.createResolver(r.chartOptionScopes(),this.getContext()),o=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;let s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let a=0;for(let u=0,d=this.data.datasets.length;u<d;u++){let{controller:f}=this.getDatasetMeta(u),h=!o&&s.indexOf(f)===-1;f.buildOrUpdateElements(h),a=Math.max(+f.getMaxOverflow(),a)}a=this._minPadding=i.layout.autoPadding?a:0,this._updateLayout(a),o||we(s,u=>{u.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(DR("z","_idx"));let{_active:l,_lastEvent:c}=this;c?this._eventHandler(c,!0):l.length&&this._updateHoverStyles(l,l,!0),this.render()}_updateScales(){we(this.scales,e=>{Rt.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){let e=this.options,r=new Set(Object.keys(this._listeners)),i=new Set(e.events);(!ub(r,i)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){let{_hiddenIndices:e}=this,r=this._getUniformDataChanges()||[];for(let{method:i,start:o,count:s}of r){let a=i==="_removeElements"?-s:s;N8(e,o,a)}}_getUniformDataChanges(){let e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];let r=this.data.datasets.length,i=s=>new Set(e.filter(a=>a[0]===s).map((a,l)=>l+","+a.splice(1).join(","))),o=i(0);for(let s=1;s<r;s++)if(!ub(o,i(s)))return;return Array.from(o).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Rt.update(this,this.width,this.height,e);let r=this.chartArea,i=r.width<=0||r.height<=0;this._layers=[],we(this.boxes,o=>{i&&o.position==="chartArea"||(o.configure&&o.configure(),this._layers.push(...o._layers()))},this),this._layers.forEach((o,s)=>{o._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let r=0,i=this.data.datasets.length;r<i;++r)this.getDatasetMeta(r).controller.configure();for(let r=0,i=this.data.datasets.length;r<i;++r)this._updateDataset(r,hi(e)?e({datasetIndex:r}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,r){let i=this.getDatasetMeta(e),o={meta:i,index:e,mode:r,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",o)!==!1&&(i.controller._update(r),o.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",o))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(mi.has(this)?this.attached&&!mi.running(this)&&mi.start(this):(this.draw(),xR({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){let{width:i,height:o}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,o)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;let r=this._layers;for(e=0;e<r.length&&r[e].z<=0;++e)r[e].draw(this.chartArea);for(this._drawDatasets();e<r.length;++e)r[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){let r=this._sortedMetasets,i=[],o,s;for(o=0,s=r.length;o<s;++o){let a=r[o];(!e||a.visible)&&i.push(a)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;let e=this.getSortedVisibleDatasetMetas();for(let r=e.length-1;r>=0;--r)this._drawDataset(e[r]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){let r=this.ctx,i={meta:e,index:e.index,cancelable:!0},o=Fb(this,e);this.notifyPlugins("beforeDatasetDraw",i)!==!1&&(o&&Qc(r,o),e.controller.draw(),o&&eu(r),i.cancelable=!1,this.notifyPlugins("afterDatasetDraw",i))}isPointInArea(e){return Pr(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,r,i,o){let s=j4.modes[r];return typeof s=="function"?s(this,e,i,o):[]}getDatasetMeta(e){let r=this.data.datasets[e],i=this._metasets,o=i.filter(s=>s&&s._dataset===r).pop();return o||(o={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:r&&r.order||0,index:e,_dataset:r,_parsed:[],_sorted:!1},i.push(o)),o}getContext(){return this.$context||(this.$context=gi(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){let r=this.data.datasets[e];if(!r)return!1;let i=this.getDatasetMeta(e);return typeof i.hidden=="boolean"?!i.hidden:!r.hidden}setDatasetVisibility(e,r){let i=this.getDatasetMeta(e);i.hidden=!r}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,r,i){let o=i?"show":"hide",s=this.getDatasetMeta(e),a=s.controller._resolveAnimations(void 0,o);el(r)?(s.data[r].hidden=!i,this.update()):(this.setDatasetVisibility(e,i),a.update(s,{visible:i}),this.update(l=>l.datasetIndex===e?o:void 0))}hide(e,r){this._updateVisibility(e,r,!1)}show(e,r){this._updateVisibility(e,r,!0)}_destroyDatasetMeta(e){let r=this._metasets[e];r&&r.controller&&r.controller._destroy(),delete this._metasets[e]}_stop(){let e,r;for(this.stop(),mi.remove(this),e=0,r=this.data.datasets.length;e<r;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");let{canvas:e,ctx:r}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),Cb(e,r),this.platform.releaseContext(r),this.canvas=null,this.ctx=null),delete Kp[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){let e=this._listeners,r=this.platform,i=(s,a)=>{r.addEventListener(this,s,a),e[s]=a},o=(s,a,l)=>{s.offsetX=a,s.offsetY=l,this._eventHandler(s)};we(this.options.events,s=>i(s,o))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});let e=this._responsiveListeners,r=this.platform,i=(c,u)=>{r.addEventListener(this,c,u),e[c]=u},o=(c,u)=>{e[c]&&(r.removeEventListener(this,c,u),delete e[c])},s=(c,u)=>{this.canvas&&this.resize(c,u)},a,l=()=>{o("attach",l),this.attached=!0,this.resize(),i("resize",s),i("detach",a)};a=()=>{this.attached=!1,o("resize",s),this._stop(),this._resize(0,0),i("attach",l)},r.isAttached(this.canvas)?l():a()}unbindEvents(){we(this._listeners,(e,r)=>{this.platform.removeEventListener(this,r,e)}),this._listeners={},we(this._responsiveListeners,(e,r)=>{this.platform.removeEventListener(this,r,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,r,i){let o=i?"set":"remove",s,a,l,c;for(r==="dataset"&&(s=this.getDatasetMeta(e[0].datasetIndex),s.controller["_"+o+"DatasetHoverStyle"]()),l=0,c=e.length;l<c;++l){a=e[l];let u=a&&this.getDatasetMeta(a.datasetIndex).controller;u&&u[o+"HoverStyle"](a.element,a.datasetIndex,a.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){let r=this._active||[],i=e.map(({datasetIndex:s,index:a})=>{let l=this.getDatasetMeta(s);if(!l)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:l.data[a],index:a}});!Jc(i,r)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,r))}notifyPlugins(e,r,i){return this._plugins.notify(this,e,r,i)}isPluginEnabled(e){return this._plugins._cache.filter(r=>r.plugin.id===e).length===1}_updateHoverStyles(e,r,i){let o=this.options.hover,s=(c,u)=>c.filter(d=>!u.some(f=>d.datasetIndex===f.datasetIndex&&d.index===f.index)),a=s(r,e),l=i?e:s(e,r);a.length&&this.updateHoverStyle(a,o.mode,!1),l.length&&o.mode&&this.updateHoverStyle(l,o.mode,!0)}_eventHandler(e,r){let i={event:e,replay:r,cancelable:!0,inChartArea:this.isPointInArea(e)},o=a=>(a.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",i,o)===!1)return;let s=this._handleEvent(e,r,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,o),(s||i.changed)&&this.render(),this}_handleEvent(e,r,i){let{_active:o=[],options:s}=this,a=r,l=this._getActiveElements(e,o,i,a),c=MO(e),u=F8(e,this._lastEvent,i,c);i&&(this._lastEvent=null,Ie(s.onHover,[e,l,this],this),c&&Ie(s.onClick,[e,l,this],this));let d=!Jc(l,o);return(d||r)&&(this._active=l,this._updateHoverStyles(l,o,r)),this._lastEvent=u,d}_getActiveElements(e,r,i,o){if(e.type==="mouseout")return[];if(!i)return r;let s=this.options.hover;return this.getElementsAtEventForMode(e,s.mode,s,o)}}return n})();function IR(){return we(hu.instances,n=>n._plugins.invalidate())}function L8(n,t,e){let{startAngle:r,x:i,y:o,outerRadius:s,innerRadius:a,options:l}=t,{borderWidth:c,borderJoinStyle:u}=l,d=Math.min(c/s,Et(r-e));if(n.beginPath(),n.arc(i,o,s-c/2,r+d/2,e-d/2),a>0){let f=Math.min(c/a,Et(r-e));n.arc(i,o,a+c/2,e-f/2,r+f/2,!0)}else{let f=Math.min(c/2,s*Et(r-e));if(u==="round")n.arc(i,o,f,e-ye/2,r+ye/2,!0);else if(u==="bevel"){let h=2*f*f,p=-h*Math.cos(e+ye/2)+i,g=-h*Math.sin(e+ye/2)+o,m=h*Math.cos(r+ye/2)+i,_=h*Math.sin(r+ye/2)+o;n.lineTo(p,g),n.lineTo(m,_)}}n.closePath(),n.moveTo(0,0),n.rect(0,0,n.canvas.width,n.canvas.height),n.clip("evenodd")}function j8(n,t,e){let{startAngle:r,pixelMargin:i,x:o,y:s,outerRadius:a,innerRadius:l}=t,c=i/a;n.beginPath(),n.arc(o,s,a,r-c,e+c),l>i?(c=i/l,n.arc(o,s,l,e+c,r-c,!0)):n.arc(o,s,i,e+We,r-We),n.closePath(),n.clip()}function V8(n){return Fp(n,["outerStart","outerEnd","innerStart","innerEnd"])}function B8(n,t,e,r){let i=V8(n.options.borderRadius),o=(e-t)/2,s=Math.min(o,r*t/2),a=l=>{let c=(e-Math.min(o,l))*r/2;return ft(l,0,Math.min(o,c))};return{outerStart:a(i.outerStart),outerEnd:a(i.outerEnd),innerStart:ft(i.innerStart,0,s),innerEnd:ft(i.innerEnd,0,s)}}function sl(n,t,e,r){return{x:e+n*Math.cos(t),y:r+n*Math.sin(t)}}function Xp(n,t,e,r,i,o){let{x:s,y:a,startAngle:l,pixelMargin:c,innerRadius:u}=t,d=Math.max(t.outerRadius+r+e-c,0),f=u>0?u+r+e+c:0,h=0,p=i-l;if(r){let Ce=u>0?u-r:0,Ve=d>0?d-r:0,Ge=(Ce+Ve)/2,Tn=Ge!==0?p*Ge/(Ge+r):p;h=(p-Tn)/2}let g=Math.max(.001,p*d-e/ye)/d,m=(p-g)/2,_=l+m+h,E=i-m-h,{outerStart:C,outerEnd:D,innerStart:S,innerEnd:M}=B8(t,f,d,E-_),A=d-C,T=d-D,F=_+C/A,G=E-D/T,re=f+S,ce=f+M,bt=_+S/re,rn=E-M/ce;if(n.beginPath(),o){let Ce=(F+G)/2;if(n.arc(s,a,d,F,Ce),n.arc(s,a,d,Ce,G),D>0){let xt=sl(T,G,s,a);n.arc(xt.x,xt.y,D,G,E+We)}let Ve=sl(ce,E,s,a);if(n.lineTo(Ve.x,Ve.y),M>0){let xt=sl(ce,rn,s,a);n.arc(xt.x,xt.y,M,E+We,rn+Math.PI)}let Ge=(E-M/f+(_+S/f))/2;if(n.arc(s,a,f,E-M/f,Ge,!0),n.arc(s,a,f,Ge,_+S/f,!0),S>0){let xt=sl(re,bt,s,a);n.arc(xt.x,xt.y,S,bt+Math.PI,_-We)}let Tn=sl(A,_,s,a);if(n.lineTo(Tn.x,Tn.y),C>0){let xt=sl(A,F,s,a);n.arc(xt.x,xt.y,C,_-We,F)}}else{n.moveTo(s,a);let Ce=Math.cos(F)*d+s,Ve=Math.sin(F)*d+a;n.lineTo(Ce,Ve);let Ge=Math.cos(G)*d+s,Tn=Math.sin(G)*d+a;n.lineTo(Ge,Tn)}n.closePath()}function U8(n,t,e,r,i){let{fullCircles:o,startAngle:s,circumference:a}=t,l=t.endAngle;if(o){Xp(n,t,e,r,l,i);for(let c=0;c<o;++c)n.fill();isNaN(a)||(l=s+(a%Pe||Pe))}return Xp(n,t,e,r,l,i),n.fill(),l}function $8(n,t,e,r,i){let{fullCircles:o,startAngle:s,circumference:a,options:l}=t,{borderWidth:c,borderJoinStyle:u,borderDash:d,borderDashOffset:f,borderRadius:h}=l,p=l.borderAlign==="inner";if(!c)return;n.setLineDash(d||[]),n.lineDashOffset=f,p?(n.lineWidth=c*2,n.lineJoin=u||"round"):(n.lineWidth=c,n.lineJoin=u||"bevel");let g=t.endAngle;if(o){Xp(n,t,e,r,g,i);for(let m=0;m<o;++m)n.stroke();isNaN(a)||(g=s+(a%Pe||Pe))}p&&j8(n,t,g),l.selfJoin&&g-s>=ye&&h===0&&u!=="miter"&&L8(n,t,g),o||(Xp(n,t,e,r,g,i),n.stroke())}var iw=class extends Qn{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:t=>t!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(t){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,e,r){let i=this.getProps(["x","y"],r),{angle:o,distance:s}=pb(i,{x:t,y:e}),{startAngle:a,endAngle:l,innerRadius:c,outerRadius:u,circumference:d}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],r),f=(this.options.spacing+this.options.borderWidth)/2,h=X(d,l-a),p=nl(o,a,l)&&a!==l,g=h>=Pe||p,m=Fr(s,c+f,u+f);return g&&m}getCenterPoint(t){let{x:e,y:r,startAngle:i,endAngle:o,innerRadius:s,outerRadius:a}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],t),{offset:l,spacing:c}=this.options,u=(i+o)/2,d=(s+a+c+l)/2;return{x:e+Math.cos(u)*d,y:r+Math.sin(u)*d}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){let{options:e,circumference:r}=this,i=(e.offset||0)/4,o=(e.spacing||0)/2,s=e.circular;if(this.pixelMargin=e.borderAlign==="inner"?.33:0,this.fullCircles=r>Pe?Math.floor(r/Pe):0,r===0||this.innerRadius<0||this.outerRadius<0)return;t.save();let a=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(a)*i,Math.sin(a)*i);let l=1-Math.sin(Math.min(ye,r||0)),c=i*l;t.fillStyle=e.backgroundColor,t.strokeStyle=e.borderColor,U8(t,this,c,o,s),$8(t,this,c,o,s),t.restore()}};function dk(n,t,e=t){n.lineCap=X(e.borderCapStyle,t.borderCapStyle),n.setLineDash(X(e.borderDash,t.borderDash)),n.lineDashOffset=X(e.borderDashOffset,t.borderDashOffset),n.lineJoin=X(e.borderJoinStyle,t.borderJoinStyle),n.lineWidth=X(e.borderWidth,t.borderWidth),n.strokeStyle=X(e.borderColor,t.borderColor)}function H8(n,t,e){n.lineTo(e.x,e.y)}function z8(n){return n.stepped?BO:n.tension||n.cubicInterpolationMode==="monotone"?UO:H8}function hk(n,t,e={}){let r=n.length,{start:i=0,end:o=r-1}=e,{start:s,end:a}=t,l=Math.max(i,s),c=Math.min(o,a),u=i<s&&o<s||i>a&&o>a;return{count:r,start:l,loop:t.loop,ilen:c<l&&!u?r+c-l:c-l}}function q8(n,t,e,r){let{points:i,options:o}=t,{count:s,start:a,loop:l,ilen:c}=hk(i,e,r),u=z8(o),{move:d=!0,reverse:f}=r||{},h,p,g;for(h=0;h<=c;++h)p=i[(a+(f?c-h:h))%s],!p.skip&&(d?(n.moveTo(p.x,p.y),d=!1):u(n,g,p,f,o.stepped),g=p);return l&&(p=i[(a+(f?c:0))%s],u(n,g,p,f,o.stepped)),!!l}function W8(n,t,e,r){let i=t.points,{count:o,start:s,ilen:a}=hk(i,e,r),{move:l=!0,reverse:c}=r||{},u=0,d=0,f,h,p,g,m,_,E=D=>(s+(c?a-D:D))%o,C=()=>{g!==m&&(n.lineTo(u,m),n.lineTo(u,g),n.lineTo(u,_))};for(l&&(h=i[E(0)],n.moveTo(h.x,h.y)),f=0;f<=a;++f){if(h=i[E(f)],h.skip)continue;let D=h.x,S=h.y,M=D|0;M===p?(S<g?g=S:S>m&&(m=S),u=(d*u+D)/++d):(C(),n.lineTo(D,S),p=M,d=0,g=m=S),_=S}C()}function ow(n){let t=n.options,e=t.borderDash&&t.borderDash.length;return!n._decimated&&!n._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!e?W8:q8}function G8(n){return n.stepped?ZO:n.tension||n.cubicInterpolationMode==="monotone"?JO:io}function K8(n,t,e,r){let i=t._path;i||(i=t._path=new Path2D,t.path(i,e,r)&&i.closePath()),dk(n,t.options),n.stroke(i)}function Y8(n,t,e,r){let{segments:i,options:o}=t,s=ow(t);for(let a of i)dk(n,o,a.style),n.beginPath(),s(n,t,a,{start:e,end:e+r-1})&&n.closePath(),n.stroke()}var Z8=typeof Path2D=="function";function J8(n,t,e,r){Z8&&!t.options.segment?K8(n,t,e,r):Y8(n,t,e,r)}var tg=(()=>{class n extends Qn{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"};constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,r){let i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){let o=i.spanGaps?this._loop:this._fullLoop;GO(this._points,i,e,o,r),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=QO(this,this.options.segment))}first(){let e=this.segments,r=this.points;return e.length&&r[e[0].start]}last(){let e=this.segments,r=this.points,i=e.length;return i&&r[e[i-1].end]}interpolate(e,r){let i=this.options,o=e[r],s=this.points,a=Nb(this,{property:r,start:o,end:o});if(!a.length)return;let l=[],c=G8(i),u,d;for(u=0,d=a.length;u<d;++u){let{start:f,end:h}=a[u],p=s[f],g=s[h];if(p===g){l.push(p);continue}let m=Math.abs((o-p[r])/(g[r]-p[r])),_=c(p,g,m,i.stepped);_[r]=e[r],l.push(_)}return l.length===1?l[0]:l}pathSegment(e,r,i){return ow(this)(e,this,r,i)}path(e,r,i){let o=this.segments,s=ow(this),a=this._loop;r=r||0,i=i||this.points.length-r;for(let l of o)a&=s(e,this,l,{start:r,end:r+i-1});return!!a}draw(e,r,i,o){let s=this.options||{};(this.points||[]).length&&s.borderWidth&&(e.save(),J8(e,this,i,o),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}return n})();function MR(n,t,e,r){let i=n.options,{[e]:o}=n.getProps([e],r);return Math.abs(t-o)<i.radius+i.hitRadius}var X8=(()=>{class n extends Qn{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,r,i){let o=this.options,{x:s,y:a}=this.getProps(["x","y"],i);return Math.pow(e-s,2)+Math.pow(r-a,2)<Math.pow(o.hitRadius+o.radius,2)}inXRange(e,r){return MR(this,e,"x",r)}inYRange(e,r){return MR(this,e,"y",r)}getCenterPoint(e){let{x:r,y:i}=this.getProps(["x","y"],e);return{x:r,y:i}}size(e){e=e||this.options||{};let r=e.radius||0;r=Math.max(r,r&&e.hoverRadius||0);let i=r&&e.borderWidth||0;return(r+i)*2}draw(e,r){let i=this.options;this.skip||i.radius<.1||!Pr(this,r,this.size(i)/2)||(e.strokeStyle=i.borderColor,e.lineWidth=i.borderWidth,e.fillStyle=i.backgroundColor,Np(e,i,this.x,this.y))}getRange(){let e=this.options||{};return e.radius+e.hitRadius}}return n})();function fk(n,t){let{x:e,y:r,base:i,width:o,height:s}=n.getProps(["x","y","base","width","height"],t),a,l,c,u,d;return n.horizontal?(d=s/2,a=Math.min(e,i),l=Math.max(e,i),c=r-d,u=r+d):(d=o/2,a=e-d,l=e+d,c=Math.min(r,i),u=Math.max(r,i)),{left:a,top:c,right:l,bottom:u}}function ho(n,t,e,r){return n?0:ft(t,e,r)}function Q8(n,t,e){let r=n.options.borderWidth,i=n.borderSkipped,o=xb(r);return{t:ho(i.top,o.top,0,e),r:ho(i.right,o.right,0,t),b:ho(i.bottom,o.bottom,0,e),l:ho(i.left,o.left,0,t)}}function eq(n,t,e){let{enableBorderRadius:r}=n.getProps(["enableBorderRadius"]),i=n.options.borderRadius,o=co(i),s=Math.min(t,e),a=n.borderSkipped,l=r||le(i);return{topLeft:ho(!l||a.top||a.left,o.topLeft,0,s),topRight:ho(!l||a.top||a.right,o.topRight,0,s),bottomLeft:ho(!l||a.bottom||a.left,o.bottomLeft,0,s),bottomRight:ho(!l||a.bottom||a.right,o.bottomRight,0,s)}}function tq(n){let t=fk(n),e=t.right-t.left,r=t.bottom-t.top,i=Q8(n,e/2,r/2),o=eq(n,e/2,r/2);return{outer:{x:t.left,y:t.top,w:e,h:r,radius:o},inner:{x:t.left+i.l,y:t.top+i.t,w:e-i.l-i.r,h:r-i.t-i.b,radius:{topLeft:Math.max(0,o.topLeft-Math.max(i.t,i.l)),topRight:Math.max(0,o.topRight-Math.max(i.t,i.r)),bottomLeft:Math.max(0,o.bottomLeft-Math.max(i.b,i.l)),bottomRight:Math.max(0,o.bottomRight-Math.max(i.b,i.r))}}}}function zb(n,t,e,r){let i=t===null,o=e===null,a=n&&!(i&&o)&&fk(n,r);return a&&(i||Fr(t,a.left,a.right))&&(o||Fr(e,a.top,a.bottom))}function nq(n){return n.topLeft||n.topRight||n.bottomLeft||n.bottomRight}function rq(n,t){n.rect(t.x,t.y,t.w,t.h)}function qb(n,t,e={}){let r=n.x!==e.x?-t:0,i=n.y!==e.y?-t:0,o=(n.x+n.w!==e.x+e.w?t:0)-r,s=(n.y+n.h!==e.y+e.h?t:0)-i;return{x:n.x+r,y:n.y+i,w:n.w+o,h:n.h+s,radius:n.radius}}var sw=class extends Qn{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){let{inflateAmount:e,options:{borderColor:r,backgroundColor:i}}=this,{inner:o,outer:s}=tq(this),a=nq(s.radius)?il:rq;t.save(),(s.w!==o.w||s.h!==o.h)&&(t.beginPath(),a(t,qb(s,e,o)),t.clip(),a(t,qb(o,-e,s)),t.fillStyle=r,t.fill("evenodd")),t.beginPath(),a(t,qb(o,e)),t.fillStyle=i,t.fill(),t.restore()}inRange(t,e,r){return zb(this,t,e,r)}inXRange(t,e){return zb(this,t,null,e)}inYRange(t,e){return zb(this,null,t,e)}getCenterPoint(t){let{x:e,y:r,base:i,horizontal:o}=this.getProps(["x","y","base","horizontal"],t);return{x:o?(e+i)/2:e,y:o?r:(r+i)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}},iq=Object.freeze({__proto__:null,ArcElement:iw,BarElement:sw,LineElement:tg,PointElement:X8}),aw=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],TR=aw.map(n=>n.replace("rgb(","rgba(").replace(")",", 0.5)"));function pk(n){return aw[n%aw.length]}function gk(n){return TR[n%TR.length]}function oq(n,t){return n.borderColor=pk(t),n.backgroundColor=gk(t),++t}function sq(n,t){return n.backgroundColor=n.data.map(()=>pk(t++)),t}function aq(n,t){return n.backgroundColor=n.data.map(()=>gk(t++)),t}function lq(n){let t=0;return(e,r)=>{let i=n.getDatasetMeta(r).controller;i instanceof gw?t=sq(e,t):i instanceof nk?t=aq(e,t):i&&(t=oq(e,t))}}function AR(n){let t;for(t in n)if(n[t].borderColor||n[t].backgroundColor)return!0;return!1}function cq(n){return n&&(n.borderColor||n.backgroundColor)}function uq(){return je.borderColor!=="rgba(0,0,0,0.1)"||je.backgroundColor!=="rgba(0,0,0,0.1)"}var dq={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(n,t,e){if(!e.enabled)return;let{data:{datasets:r},options:i}=n.config,{elements:o}=i,s=AR(r)||cq(i)||o&&AR(o)||uq();if(!e.forceOverride&&s)return;let a=lq(n);r.forEach(a)}};function hq(n,t,e,r,i){let o=i.samples||r;if(o>=e)return n.slice(t,t+e);let s=[],a=(e-2)/(o-2),l=0,c=t+e-1,u=t,d,f,h,p,g;for(s[l++]=n[u],d=0;d<o-2;d++){let m=0,_=0,E,C=Math.floor((d+1)*a)+1+t,D=Math.min(Math.floor((d+2)*a)+1,e)+t,S=D-C;for(E=C;E<D;E++)m+=n[E].x,_+=n[E].y;m/=S,_/=S;let M=Math.floor(d*a)+1+t,A=Math.min(Math.floor((d+1)*a)+1,e)+t,{x:T,y:F}=n[u];for(h=p=-1,E=M;E<A;E++)p=.5*Math.abs((T-m)*(n[E].y-F)-(T-n[E].x)*(_-F)),p>h&&(h=p,f=n[E],g=E);s[l++]=f,u=g}return s[l++]=n[c],s}function fq(n,t,e,r){let i=0,o=0,s,a,l,c,u,d,f,h,p,g,m=[],_=t+e-1,E=n[t].x,D=n[_].x-E;for(s=t;s<t+e;++s){a=n[s],l=(a.x-E)/D*r,c=a.y;let S=l|0;if(S===u)c<p?(p=c,d=s):c>g&&(g=c,f=s),i=(o*i+a.x)/++o;else{let M=s-1;if(!ae(d)&&!ae(f)){let A=Math.min(d,f),T=Math.max(d,f);A!==h&&A!==M&&m.push(te(O({},n[A]),{x:i})),T!==h&&T!==M&&m.push(te(O({},n[T]),{x:i}))}s>0&&M!==h&&m.push(n[M]),m.push(a),u=S,o=0,p=g=c,d=f=h=s}}return m}function mk(n){if(n._decimated){let t=n._data;delete n._decimated,delete n._data,Object.defineProperty(n,"data",{configurable:!0,enumerable:!0,writable:!0,value:t})}}function OR(n){n.data.datasets.forEach(t=>{mk(t)})}function pq(n,t){let e=t.length,r=0,i,{iScale:o}=n,{min:s,max:a,minDefined:l,maxDefined:c}=o.getUserBounds();return l&&(r=ft(kr(t,o.axis,s).lo,0,e-1)),c?i=ft(kr(t,o.axis,a).hi+1,r,e)-r:i=e-r,{start:r,count:i}}var gq={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(n,t,e)=>{if(!e.enabled){OR(n);return}let r=n.width;n.data.datasets.forEach((i,o)=>{let{_data:s,indexAxis:a}=i,l=n.getDatasetMeta(o),c=s||i.data;if(ol([a,n.options.indexAxis])==="y"||!l.controller.supportsDecimation)return;let u=n.scales[l.xAxisID];if(u.type!=="linear"&&u.type!=="time"||n.options.parsing)return;let{start:d,count:f}=pq(l,c),h=e.threshold||4*r;if(f<=h){mk(i);return}ae(s)&&(i._data=c,delete i.data,Object.defineProperty(i,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(g){this._data=g}}));let p;switch(e.algorithm){case"lttb":p=hq(c,d,f,r,e);break;case"min-max":p=fq(c,d,f,r);break;default:throw new Error(`Unsupported decimation algorithm '${e.algorithm}'`)}i._decimated=p})},destroy(n){OR(n)}};function mq(n,t,e){let r=n.segments,i=n.points,o=t.points,s=[];for(let a of r){let{start:l,end:c}=a;c=ng(l,c,i);let u=lw(e,i[l],i[c],a.loop);if(!t.segments){s.push({source:a,target:u,start:i[l],end:i[c]});continue}let d=Nb(t,u);for(let f of d){let h=lw(e,o[f.start],o[f.end],f.loop),p=Pb(a,i,h);for(let g of p)s.push({source:g,target:f,start:{[e]:RR(u,h,"start",Math.max)},end:{[e]:RR(u,h,"end",Math.min)}})}}return s}function lw(n,t,e,r){if(r)return;let i=t[n],o=e[n];return n==="angle"&&(i=Et(i),o=Et(o)),{property:n,start:i,end:o}}function vq(n,t){let{x:e=null,y:r=null}=n||{},i=t.points,o=[];return t.segments.forEach(({start:s,end:a})=>{a=ng(s,a,i);let l=i[s],c=i[a];r!==null?(o.push({x:l.x,y:r}),o.push({x:c.x,y:r})):e!==null&&(o.push({x:e,y:l.y}),o.push({x:e,y:c.y}))}),o}function ng(n,t,e){for(;t>n;t--){let r=e[t];if(!isNaN(r.x)&&!isNaN(r.y))break}return t}function RR(n,t,e,r){return n&&t?r(n[e],t[e]):n?n[e]:t?t[e]:0}function vk(n,t){let e=[],r=!1;return ke(n)?(r=!0,e=n):e=vq(n,t),e.length?new tg({points:e,options:{tension:0},_loop:r,_fullLoop:r}):null}function kR(n){return n&&n.fill!==!1}function yq(n,t,e){let i=n[t].fill,o=[t],s;if(!e)return i;for(;i!==!1&&o.indexOf(i)===-1;){if(!qe(i))return i;if(s=n[i],!s)return!1;if(s.visible)return i;o.push(i),i=s.fill}return!1}function _q(n,t,e){let r=Cq(n);if(le(r))return isNaN(r.value)?!1:r;let i=parseFloat(r);return qe(i)&&Math.floor(i)===i?bq(r[0],t,i,e):["origin","start","end","stack","shape"].indexOf(r)>=0&&r}function bq(n,t,e,r){return(n==="-"||n==="+")&&(e=t+e),e===t||e<0||e>=r?!1:e}function wq(n,t){let e=null;return n==="start"?e=t.bottom:n==="end"?e=t.top:le(n)?e=t.getPixelForValue(n.value):t.getBasePixel&&(e=t.getBasePixel()),e}function Eq(n,t,e){let r;return n==="start"?r=e:n==="end"?r=t.options.reverse?t.min:t.max:le(n)?r=n.value:r=t.getBaseValue(),r}function Cq(n){let t=n.options,e=t.fill,r=X(e&&e.target,e);return r===void 0&&(r=!!t.backgroundColor),r===!1||r===null?!1:r===!0?"origin":r}function Dq(n){let{scale:t,index:e,line:r}=n,i=[],o=r.segments,s=r.points,a=xq(t,e);a.push(vk({x:null,y:t.bottom},r));for(let l=0;l<o.length;l++){let c=o[l];for(let u=c.start;u<=c.end;u++)Sq(i,s[u],a)}return new tg({points:i,options:{}})}function xq(n,t){let e=[],r=n.getMatchingVisibleMetas("line");for(let i=0;i<r.length;i++){let o=r[i];if(o.index===t)break;o.hidden||e.unshift(o.dataset)}return e}function Sq(n,t,e){let r=[];for(let i=0;i<e.length;i++){let o=e[i],{first:s,last:a,point:l}=Iq(o,t,"x");if(!(!l||s&&a)){if(s)r.unshift(l);else if(n.push(l),!a)break}}n.push(...r)}function Iq(n,t,e){let r=n.interpolate(t,e);if(!r)return{};let i=r[e],o=n.segments,s=n.points,a=!1,l=!1;for(let c=0;c<o.length;c++){let u=o[c],d=s[u.start][e],f=s[u.end][e];if(Fr(i,d,f)){a=i===d,l=i===f;break}}return{first:a,last:l,point:r}}var Qp=class{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,e,r){let{x:i,y:o,radius:s}=this;return e=e||{start:0,end:Pe},t.arc(i,o,s,e.end,e.start,!0),!r.bounds}interpolate(t){let{x:e,y:r,radius:i}=this,o=t.angle;return{x:e+Math.cos(o)*i,y:r+Math.sin(o)*i,angle:o}}};function Mq(n){let{chart:t,fill:e,line:r}=n;if(qe(e))return Tq(t,e);if(e==="stack")return Dq(n);if(e==="shape")return!0;let i=Aq(n);return i instanceof Qp?i:vk(i,r)}function Tq(n,t){let e=n.getDatasetMeta(t);return e&&n.isDatasetVisible(t)?e.dataset:null}function Aq(n){return(n.scale||{}).getPointPositionForValue?Rq(n):Oq(n)}function Oq(n){let{scale:t={},fill:e}=n,r=wq(e,t);if(qe(r)){let i=t.isHorizontal();return{x:i?r:null,y:i?null:r}}return null}function Rq(n){let{scale:t,fill:e}=n,r=t.options,i=t.getLabels().length,o=r.reverse?t.max:t.min,s=Eq(e,t,o),a=[];if(r.grid.circular){let l=t.getPointPositionForValue(0,o);return new Qp({x:l.x,y:l.y,radius:t.getDistanceFromCenterForValue(s)})}for(let l=0;l<i;++l)a.push(t.getPointPositionForValue(l,s));return a}function Wb(n,t,e){let r=Mq(t),{chart:i,index:o,line:s,scale:a,axis:l}=t,c=s.options,u=c.fill,d=c.backgroundColor,{above:f=d,below:h=d}=u||{},p=i.getDatasetMeta(o),g=Fb(i,p);r&&s.points.length&&(Qc(n,e),kq(n,{line:s,target:r,above:f,below:h,area:e,scale:a,axis:l,clip:g}),eu(n))}function kq(n,t){let{line:e,target:r,above:i,below:o,area:s,scale:a,clip:l}=t,c=e._loop?"angle":t.axis;n.save();let u=o;o!==i&&(c==="x"?(PR(n,r,s.top),Gb(n,{line:e,target:r,color:i,scale:a,property:c,clip:l}),n.restore(),n.save(),PR(n,r,s.bottom)):c==="y"&&(NR(n,r,s.left),Gb(n,{line:e,target:r,color:o,scale:a,property:c,clip:l}),n.restore(),n.save(),NR(n,r,s.right),u=i)),Gb(n,{line:e,target:r,color:u,scale:a,property:c,clip:l}),n.restore()}function PR(n,t,e){let{segments:r,points:i}=t,o=!0,s=!1;n.beginPath();for(let a of r){let{start:l,end:c}=a,u=i[l],d=i[ng(l,c,i)];o?(n.moveTo(u.x,u.y),o=!1):(n.lineTo(u.x,e),n.lineTo(u.x,u.y)),s=!!t.pathSegment(n,a,{move:s}),s?n.closePath():n.lineTo(d.x,e)}n.lineTo(t.first().x,e),n.closePath(),n.clip()}function NR(n,t,e){let{segments:r,points:i}=t,o=!0,s=!1;n.beginPath();for(let a of r){let{start:l,end:c}=a,u=i[l],d=i[ng(l,c,i)];o?(n.moveTo(u.x,u.y),o=!1):(n.lineTo(e,u.y),n.lineTo(u.x,u.y)),s=!!t.pathSegment(n,a,{move:s}),s?n.closePath():n.lineTo(e,d.y)}n.lineTo(e,t.first().y),n.closePath(),n.clip()}function Gb(n,t){let{line:e,target:r,property:i,color:o,scale:s,clip:a}=t,l=mq(e,r,i);for(let{source:c,target:u,start:d,end:f}of l){let{style:{backgroundColor:h=o}={}}=c,p=r!==!0;n.save(),n.fillStyle=h,Pq(n,s,a,p&&lw(i,d,f)),n.beginPath();let g=!!e.pathSegment(n,c),m;if(p){g?n.closePath():FR(n,r,f,i);let _=!!r.pathSegment(n,u,{move:g,reverse:!0});m=g&&_,m||FR(n,r,d,i)}n.closePath(),n.fill(m?"evenodd":"nonzero"),n.restore()}}function Pq(n,t,e,r){let i=t.chart.chartArea,{property:o,start:s,end:a}=r||{};if(o==="x"||o==="y"){let l,c,u,d;o==="x"?(l=s,c=i.top,u=a,d=i.bottom):(l=i.left,c=s,u=i.right,d=a),n.beginPath(),e&&(l=Math.max(l,e.left),u=Math.min(u,e.right),c=Math.max(c,e.top),d=Math.min(d,e.bottom)),n.rect(l,c,u-l,d-c),n.clip()}}function FR(n,t,e,r){let i=t.interpolate(e,r);i&&n.lineTo(i.x,i.y)}var Nq={id:"filler",afterDatasetsUpdate(n,t,e){let r=(n.data.datasets||[]).length,i=[],o,s,a,l;for(s=0;s<r;++s)o=n.getDatasetMeta(s),a=o.dataset,l=null,a&&a.options&&a instanceof tg&&(l={visible:n.isDatasetVisible(s),index:s,fill:_q(a,s,r),chart:n,axis:o.controller.options.indexAxis,scale:o.vScale,line:a}),o.$filler=l,i.push(l);for(s=0;s<r;++s)l=i[s],!(!l||l.fill===!1)&&(l.fill=yq(i,s,e.propagate))},beforeDraw(n,t,e){let r=e.drawTime==="beforeDraw",i=n.getSortedVisibleDatasetMetas(),o=n.chartArea;for(let s=i.length-1;s>=0;--s){let a=i[s].$filler;a&&(a.line.updateControlPoints(o,a.axis),r&&a.fill&&Wb(n.ctx,a,o))}},beforeDatasetsDraw(n,t,e){if(e.drawTime!=="beforeDatasetsDraw")return;let r=n.getSortedVisibleDatasetMetas();for(let i=r.length-1;i>=0;--i){let o=r[i].$filler;kR(o)&&Wb(n.ctx,o,n.chartArea)}},beforeDatasetDraw(n,t,e){let r=t.meta.$filler;!kR(r)||e.drawTime!=="beforeDatasetDraw"||Wb(n.ctx,r,n.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}},LR=(n,t)=>{let{boxHeight:e=t,boxWidth:r=t}=n;return n.usePointStyle&&(e=Math.min(e,t),r=n.pointStyleWidth||Math.min(r,t)),{boxWidth:r,boxHeight:e,itemHeight:Math.max(t,e)}},Fq=(n,t)=>n!==null&&t!==null&&n.datasetIndex===t.datasetIndex&&n.index===t.index,eg=class extends Qn{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e,r){this.maxWidth=t,this.maxHeight=e,this._margins=r,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){let t=this.options.labels||{},e=Ie(t.generateLabels,[this.chart],this)||[];t.filter&&(e=e.filter(r=>t.filter(r,this.chart.data))),t.sort&&(e=e.sort((r,i)=>t.sort(r,i,this.chart.data))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){let{options:t,ctx:e}=this;if(!t.display){this.width=this.height=0;return}let r=t.labels,i=st(r.font),o=i.size,s=this._computeTitleHeight(),{boxWidth:a,itemHeight:l}=LR(r,o),c,u;e.font=i.string,this.isHorizontal()?(c=this.maxWidth,u=this._fitRows(s,o,a,l)+10):(u=this.maxHeight,c=this._fitCols(s,i,a,l)+10),this.width=Math.min(c,t.maxWidth||this.maxWidth),this.height=Math.min(u,t.maxHeight||this.maxHeight)}_fitRows(t,e,r,i){let{ctx:o,maxWidth:s,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.lineWidths=[0],u=i+a,d=t;o.textAlign="left",o.textBaseline="middle";let f=-1,h=-u;return this.legendItems.forEach((p,g)=>{let m=r+e/2+o.measureText(p.text).width;(g===0||c[c.length-1]+m+2*a>s)&&(d+=u,c[c.length-(g>0?0:1)]=0,h+=u,f++),l[g]={left:0,top:h,row:f,width:m,height:i},c[c.length-1]+=m+a}),d}_fitCols(t,e,r,i){let{ctx:o,maxHeight:s,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.columnSizes=[],u=s-t,d=a,f=0,h=0,p=0,g=0;return this.legendItems.forEach((m,_)=>{let{itemWidth:E,itemHeight:C}=Lq(r,e,o,m,i);_>0&&h+C+2*a>u&&(d+=f+a,c.push({width:f,height:h}),p+=f+a,g++,f=h=0),l[_]={left:p,top:h,col:g,width:E,height:C},f=Math.max(f,E),h+=C+a}),d+=f,c.push({width:f,height:h}),d}adjustHitBoxes(){if(!this.options.display)return;let t=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:r,labels:{padding:i},rtl:o}}=this,s=ms(o,this.left,this.width);if(this.isHorizontal()){let a=0,l=Ct(r,this.left+i,this.right-this.lineWidths[a]);for(let c of e)a!==c.row&&(a=c.row,l=Ct(r,this.left+i,this.right-this.lineWidths[a])),c.top+=this.top+t+i,c.left=s.leftForLtr(s.x(l),c.width),l+=c.width+i}else{let a=0,l=Ct(r,this.top+t+i,this.bottom-this.columnSizes[a].height);for(let c of e)c.col!==a&&(a=c.col,l=Ct(r,this.top+t+i,this.bottom-this.columnSizes[a].height)),c.top=l,c.left+=this.left+i,c.left=s.leftForLtr(s.x(c.left),c.width),l+=c.height+i}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){let t=this.ctx;Qc(t,this),this._draw(),eu(t)}}_draw(){let{options:t,columnSizes:e,lineWidths:r,ctx:i}=this,{align:o,labels:s}=t,a=je.color,l=ms(t.rtl,this.left,this.width),c=st(s.font),{padding:u}=s,d=c.size,f=d/2,h;this.drawTitle(),i.textAlign=l.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=c.string;let{boxWidth:p,boxHeight:g,itemHeight:m}=LR(s,d),_=function(M,A,T){if(isNaN(p)||p<=0||isNaN(g)||g<0)return;i.save();let F=X(T.lineWidth,1);if(i.fillStyle=X(T.fillStyle,a),i.lineCap=X(T.lineCap,"butt"),i.lineDashOffset=X(T.lineDashOffset,0),i.lineJoin=X(T.lineJoin,"miter"),i.lineWidth=F,i.strokeStyle=X(T.strokeStyle,a),i.setLineDash(X(T.lineDash,[])),s.usePointStyle){let G={radius:g*Math.SQRT2/2,pointStyle:T.pointStyle,rotation:T.rotation,borderWidth:F},re=l.xPlus(M,p/2),ce=A+f;Db(i,G,re,ce,s.pointStyleWidth&&p)}else{let G=A+Math.max((d-g)/2,0),re=l.leftForLtr(M,p),ce=co(T.borderRadius);i.beginPath(),Object.values(ce).some(bt=>bt!==0)?il(i,{x:re,y:G,w:p,h:g,radius:ce}):i.rect(re,G,p,g),i.fill(),F!==0&&i.stroke()}i.restore()},E=function(M,A,T){lo(i,T.text,M,A+m/2,c,{strikethrough:T.hidden,textAlign:l.textAlign(T.textAlign)})},C=this.isHorizontal(),D=this._computeTitleHeight();C?h={x:Ct(o,this.left+u,this.right-r[0]),y:this.top+u+D,line:0}:h={x:this.left+u,y:Ct(o,this.top+D+u,this.bottom-e[0].height),line:0},Rb(this.ctx,t.textDirection);let S=m+u;this.legendItems.forEach((M,A)=>{i.strokeStyle=M.fontColor,i.fillStyle=M.fontColor;let T=i.measureText(M.text).width,F=l.textAlign(M.textAlign||(M.textAlign=s.textAlign)),G=p+f+T,re=h.x,ce=h.y;l.setWidth(this.width),C?A>0&&re+G+u>this.right&&(ce=h.y+=S,h.line++,re=h.x=Ct(o,this.left+u,this.right-r[h.line])):A>0&&ce+S>this.bottom&&(re=h.x=re+e[h.line].width+u,h.line++,ce=h.y=Ct(o,this.top+D+u,this.bottom-e[h.line].height));let bt=l.x(re);if(_(bt,ce,M),re=LO(F,re+p+f,C?re+G:this.right,t.rtl),E(l.x(re),ce,M),C)h.x+=G+u;else if(typeof M.text!="string"){let rn=c.lineHeight;h.y+=yk(M,rn)+u}else h.y+=S}),kb(this.ctx,t.textDirection)}drawTitle(){let t=this.options,e=t.title,r=st(e.font),i=Dt(e.padding);if(!e.display)return;let o=ms(t.rtl,this.left,this.width),s=this.ctx,a=e.position,l=r.size/2,c=i.top+l,u,d=this.left,f=this.width;if(this.isHorizontal())f=Math.max(...this.lineWidths),u=this.top+c,d=Ct(t.align,d,this.right-f);else{let p=this.columnSizes.reduce((g,m)=>Math.max(g,m.height),0);u=c+Ct(t.align,this.top,this.bottom-p-t.labels.padding-this._computeTitleHeight())}let h=Ct(a,d,d+f);s.textAlign=o.textAlign(kp(a)),s.textBaseline="middle",s.strokeStyle=e.color,s.fillStyle=e.color,s.font=r.string,lo(s,e.text,h,u,r)}_computeTitleHeight(){let t=this.options.title,e=st(t.font),r=Dt(t.padding);return t.display?e.lineHeight+r.height:0}_getLegendItemAt(t,e){let r,i,o;if(Fr(t,this.left,this.right)&&Fr(e,this.top,this.bottom)){for(o=this.legendHitBoxes,r=0;r<o.length;++r)if(i=o[r],Fr(t,i.left,i.left+i.width)&&Fr(e,i.top,i.top+i.height))return this.legendItems[r]}return null}handleEvent(t){let e=this.options;if(!Bq(t.type,e))return;let r=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){let i=this._hoveredItem,o=Fq(i,r);i&&!o&&Ie(e.onLeave,[t,i,this],this),this._hoveredItem=r,r&&!o&&Ie(e.onHover,[t,r,this],this)}else r&&Ie(e.onClick,[t,r,this],this)}};function Lq(n,t,e,r,i){let o=jq(r,n,t,e),s=Vq(i,r,t.lineHeight);return{itemWidth:o,itemHeight:s}}function jq(n,t,e,r){let i=n.text;return i&&typeof i!="string"&&(i=i.reduce((o,s)=>o.length>s.length?o:s)),t+e.size/2+r.measureText(i).width}function Vq(n,t,e){let r=n;return typeof t.text!="string"&&(r=yk(t,e)),r}function yk(n,t){let e=n.text?n.text.length:0;return t*e}function Bq(n,t){return!!((n==="mousemove"||n==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(n==="click"||n==="mouseup"))}var Uq={id:"legend",_element:eg,start(n,t,e){let r=n.legend=new eg({ctx:n.ctx,options:e,chart:n});Rt.configure(n,r,e),Rt.addBox(n,r)},stop(n){Rt.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,t,e){let r=n.legend;Rt.configure(n,r,e),r.options=e},afterUpdate(n){let t=n.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(n,t){t.replay||n.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,t,e){let r=t.datasetIndex,i=e.chart;i.isDatasetVisible(r)?(i.hide(r),t.hidden=!0):(i.show(r),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){let t=n.data.datasets,{labels:{usePointStyle:e,pointStyle:r,textAlign:i,color:o,useBorderRadius:s,borderRadius:a}}=n.legend.options;return n._getSortedDatasetMetas().map(l=>{let c=l.controller.getStyle(e?0:void 0),u=Dt(c.borderWidth);return{text:t[l.index].label,fillStyle:c.backgroundColor,fontColor:o,hidden:!l.visible,lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:(u.width+u.height)/4,strokeStyle:c.borderColor,pointStyle:r||c.pointStyle,rotation:c.rotation,textAlign:i||c.textAlign,borderRadius:s&&(a||c.borderRadius),datasetIndex:l.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}},cu=class extends Qn{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e){let r=this.options;if(this.left=0,this.top=0,!r.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=e;let i=ke(r.text)?r.text.length:1;this._padding=Dt(r.padding);let o=i*st(r.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=o:this.width=o}isHorizontal(){let t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){let{top:e,left:r,bottom:i,right:o,options:s}=this,a=s.align,l=0,c,u,d;return this.isHorizontal()?(u=Ct(a,r,o),d=e+t,c=o-r):(s.position==="left"?(u=r+t,d=Ct(a,i,e),l=ye*-.5):(u=o-t,d=Ct(a,e,i),l=ye*.5),c=i-e),{titleX:u,titleY:d,maxWidth:c,rotation:l}}draw(){let t=this.ctx,e=this.options;if(!e.display)return;let r=st(e.font),o=r.lineHeight/2+this._padding.top,{titleX:s,titleY:a,maxWidth:l,rotation:c}=this._drawArgs(o);lo(t,e.text,0,0,r,{color:e.color,maxWidth:l,rotation:c,textAlign:kp(e.align),textBaseline:"middle",translation:[s,a]})}};function $q(n,t){let e=new cu({ctx:n.ctx,options:t,chart:n});Rt.configure(n,e,t),Rt.addBox(n,e),n.titleBlock=e}var Hq={id:"title",_element:cu,start(n,t,e){$q(n,e)},stop(n){let t=n.titleBlock;Rt.removeBox(n,t),delete n.titleBlock},beforeUpdate(n,t,e){let r=n.titleBlock;Rt.configure(n,r,e),r.options=e},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}},zp=new WeakMap,zq={id:"subtitle",start(n,t,e){let r=new cu({ctx:n.ctx,options:e,chart:n});Rt.configure(n,r,e),Rt.addBox(n,r),zp.set(n,r)},stop(n){Rt.removeBox(n,zp.get(n)),zp.delete(n)},beforeUpdate(n,t,e){let r=zp.get(n);Rt.configure(n,r,e),r.options=e},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}},au={average(n){if(!n.length)return!1;let t,e,r=new Set,i=0,o=0;for(t=0,e=n.length;t<e;++t){let a=n[t].element;if(a&&a.hasValue()){let l=a.tooltipPosition();r.add(l.x),i+=l.y,++o}}return o===0||r.size===0?!1:{x:[...r].reduce((a,l)=>a+l)/r.size,y:i/o}},nearest(n,t){if(!n.length)return!1;let e=t.x,r=t.y,i=Number.POSITIVE_INFINITY,o,s,a;for(o=0,s=n.length;o<s;++o){let l=n[o].element;if(l&&l.hasValue()){let c=l.getCenterPoint(),u=Mp(t,c);u<i&&(i=u,a=l)}}if(a){let l=a.tooltipPosition();e=l.x,r=l.y}return{x:e,y:r}}};function Lr(n,t){return t&&(ke(t)?Array.prototype.push.apply(n,t):n.push(t)),n}function vi(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function qq(n,t){let{element:e,datasetIndex:r,index:i}=t,o=n.getDatasetMeta(r).controller,{label:s,value:a}=o.getLabelAndValue(i);return{chart:n,label:s,parsed:o.getParsed(i),raw:n.data.datasets[r].data[i],formattedValue:a,dataset:o.getDataset(),dataIndex:i,datasetIndex:r,element:e}}function jR(n,t){let e=n.chart.ctx,{body:r,footer:i,title:o}=n,{boxWidth:s,boxHeight:a}=t,l=st(t.bodyFont),c=st(t.titleFont),u=st(t.footerFont),d=o.length,f=i.length,h=r.length,p=Dt(t.padding),g=p.height,m=0,_=r.reduce((D,S)=>D+S.before.length+S.lines.length+S.after.length,0);if(_+=n.beforeBody.length+n.afterBody.length,d&&(g+=d*c.lineHeight+(d-1)*t.titleSpacing+t.titleMarginBottom),_){let D=t.displayColors?Math.max(a,l.lineHeight):l.lineHeight;g+=h*D+(_-h)*l.lineHeight+(_-1)*t.bodySpacing}f&&(g+=t.footerMarginTop+f*u.lineHeight+(f-1)*t.footerSpacing);let E=0,C=function(D){m=Math.max(m,e.measureText(D).width+E)};return e.save(),e.font=c.string,we(n.title,C),e.font=l.string,we(n.beforeBody.concat(n.afterBody),C),E=t.displayColors?s+2+t.boxPadding:0,we(r,D=>{we(D.before,C),we(D.lines,C),we(D.after,C)}),E=0,e.font=u.string,we(n.footer,C),e.restore(),m+=p.width,{width:m,height:g}}function Wq(n,t){let{y:e,height:r}=t;return e<r/2?"top":e>n.height-r/2?"bottom":"center"}function Gq(n,t,e,r){let{x:i,width:o}=r,s=e.caretSize+e.caretPadding;if(n==="left"&&i+o+s>t.width||n==="right"&&i-o-s<0)return!0}function Kq(n,t,e,r){let{x:i,width:o}=e,{width:s,chartArea:{left:a,right:l}}=n,c="center";return r==="center"?c=i<=(a+l)/2?"left":"right":i<=o/2?c="left":i>=s-o/2&&(c="right"),Gq(c,n,t,e)&&(c="center"),c}function VR(n,t,e){let r=e.yAlign||t.yAlign||Wq(n,e);return{xAlign:e.xAlign||t.xAlign||Kq(n,t,e,r),yAlign:r}}function Yq(n,t){let{x:e,width:r}=n;return t==="right"?e-=r:t==="center"&&(e-=r/2),e}function Zq(n,t,e){let{y:r,height:i}=n;return t==="top"?r+=e:t==="bottom"?r-=i+e:r-=i/2,r}function BR(n,t,e,r){let{caretSize:i,caretPadding:o,cornerRadius:s}=n,{xAlign:a,yAlign:l}=e,c=i+o,{topLeft:u,topRight:d,bottomLeft:f,bottomRight:h}=co(s),p=Yq(t,a),g=Zq(t,l,c);return l==="center"?a==="left"?p+=c:a==="right"&&(p-=c):a==="left"?p-=Math.max(u,f)+i:a==="right"&&(p+=Math.max(d,h)+i),{x:ft(p,0,r.width-t.width),y:ft(g,0,r.height-t.height)}}function qp(n,t,e){let r=Dt(e.padding);return t==="center"?n.x+n.width/2:t==="right"?n.x+n.width-r.right:n.x+r.left}function UR(n){return Lr([],vi(n))}function Jq(n,t,e){return gi(n,{tooltip:t,tooltipItems:e,type:"tooltip"})}function $R(n,t){let e=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return e?n.override(e):n}var _k={beforeTitle:Nr,title(n){if(n.length>0){let t=n[0],e=t.chart.data.labels,r=e?e.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(r>0&&t.dataIndex<r)return e[t.dataIndex]}return""},afterTitle:Nr,beforeBody:Nr,beforeLabel:Nr,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let t=n.dataset.label||"";t&&(t+=": ");let e=n.formattedValue;return ae(e)||(t+=e),t},labelColor(n){let e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){let e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:Nr,afterBody:Nr,beforeFooter:Nr,footer:Nr,afterFooter:Nr};function tn(n,t,e,r){let i=n[t].call(e,r);return typeof i>"u"?_k[t].call(e,r):i}var HR=(()=>{class n extends Qn{static positioners=au;constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){let e=this._cachedAnimations;if(e)return e;let r=this.chart,i=this.options.setContext(this.getContext()),o=i.enabled&&r.options.animation&&i.animations,s=new Yp(this.chart,o);return o._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=Jq(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,r){let{callbacks:i}=r,o=tn(i,"beforeTitle",this,e),s=tn(i,"title",this,e),a=tn(i,"afterTitle",this,e),l=[];return l=Lr(l,vi(o)),l=Lr(l,vi(s)),l=Lr(l,vi(a)),l}getBeforeBody(e,r){return UR(tn(r.callbacks,"beforeBody",this,e))}getBody(e,r){let{callbacks:i}=r,o=[];return we(e,s=>{let a={before:[],lines:[],after:[]},l=$R(i,s);Lr(a.before,vi(tn(l,"beforeLabel",this,s))),Lr(a.lines,tn(l,"label",this,s)),Lr(a.after,vi(tn(l,"afterLabel",this,s))),o.push(a)}),o}getAfterBody(e,r){return UR(tn(r.callbacks,"afterBody",this,e))}getFooter(e,r){let{callbacks:i}=r,o=tn(i,"beforeFooter",this,e),s=tn(i,"footer",this,e),a=tn(i,"afterFooter",this,e),l=[];return l=Lr(l,vi(o)),l=Lr(l,vi(s)),l=Lr(l,vi(a)),l}_createItems(e){let r=this._active,i=this.chart.data,o=[],s=[],a=[],l=[],c,u;for(c=0,u=r.length;c<u;++c)l.push(qq(this.chart,r[c]));return e.filter&&(l=l.filter((d,f,h)=>e.filter(d,f,h,i))),e.itemSort&&(l=l.sort((d,f)=>e.itemSort(d,f,i))),we(l,d=>{let f=$R(e.callbacks,d);o.push(tn(f,"labelColor",this,d)),s.push(tn(f,"labelPointStyle",this,d)),a.push(tn(f,"labelTextColor",this,d))}),this.labelColors=o,this.labelPointStyles=s,this.labelTextColors=a,this.dataPoints=l,l}update(e,r){let i=this.options.setContext(this.getContext()),o=this._active,s,a=[];if(!o.length)this.opacity!==0&&(s={opacity:0});else{let l=au[i.position].call(this,o,this._eventPosition);a=this._createItems(i),this.title=this.getTitle(a,i),this.beforeBody=this.getBeforeBody(a,i),this.body=this.getBody(a,i),this.afterBody=this.getAfterBody(a,i),this.footer=this.getFooter(a,i);let c=this._size=jR(this,i),u=Object.assign({},l,c),d=VR(this.chart,i,u),f=BR(i,u,d,this.chart);this.xAlign=d.xAlign,this.yAlign=d.yAlign,s={opacity:1,x:f.x,y:f.y,width:c.width,height:c.height,caretX:l.x,caretY:l.y}}this._tooltipItems=a,this.$context=void 0,s&&this._resolveAnimations().update(this,s),e&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:r})}drawCaret(e,r,i,o){let s=this.getCaretPosition(e,i,o);r.lineTo(s.x1,s.y1),r.lineTo(s.x2,s.y2),r.lineTo(s.x3,s.y3)}getCaretPosition(e,r,i){let{xAlign:o,yAlign:s}=this,{caretSize:a,cornerRadius:l}=i,{topLeft:c,topRight:u,bottomLeft:d,bottomRight:f}=co(l),{x:h,y:p}=e,{width:g,height:m}=r,_,E,C,D,S,M;return s==="center"?(S=p+m/2,o==="left"?(_=h,E=_-a,D=S+a,M=S-a):(_=h+g,E=_+a,D=S-a,M=S+a),C=_):(o==="left"?E=h+Math.max(c,d)+a:o==="right"?E=h+g-Math.max(u,f)-a:E=this.caretX,s==="top"?(D=p,S=D-a,_=E-a,C=E+a):(D=p+m,S=D+a,_=E+a,C=E-a),M=D),{x1:_,x2:E,x3:C,y1:D,y2:S,y3:M}}drawTitle(e,r,i){let o=this.title,s=o.length,a,l,c;if(s){let u=ms(i.rtl,this.x,this.width);for(e.x=qp(this,i.titleAlign,i),r.textAlign=u.textAlign(i.titleAlign),r.textBaseline="middle",a=st(i.titleFont),l=i.titleSpacing,r.fillStyle=i.titleColor,r.font=a.string,c=0;c<s;++c)r.fillText(o[c],u.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+l,c+1===s&&(e.y+=i.titleMarginBottom-l)}}_drawColorBox(e,r,i,o,s){let a=this.labelColors[i],l=this.labelPointStyles[i],{boxHeight:c,boxWidth:u}=s,d=st(s.bodyFont),f=qp(this,"left",s),h=o.x(f),p=c<d.lineHeight?(d.lineHeight-c)/2:0,g=r.y+p;if(s.usePointStyle){let m={radius:Math.min(u,c)/2,pointStyle:l.pointStyle,rotation:l.rotation,borderWidth:1},_=o.leftForLtr(h,u)+u/2,E=g+c/2;e.strokeStyle=s.multiKeyBackground,e.fillStyle=s.multiKeyBackground,Np(e,m,_,E),e.strokeStyle=a.borderColor,e.fillStyle=a.backgroundColor,Np(e,m,_,E)}else{e.lineWidth=le(a.borderWidth)?Math.max(...Object.values(a.borderWidth)):a.borderWidth||1,e.strokeStyle=a.borderColor,e.setLineDash(a.borderDash||[]),e.lineDashOffset=a.borderDashOffset||0;let m=o.leftForLtr(h,u),_=o.leftForLtr(o.xPlus(h,1),u-2),E=co(a.borderRadius);Object.values(E).some(C=>C!==0)?(e.beginPath(),e.fillStyle=s.multiKeyBackground,il(e,{x:m,y:g,w:u,h:c,radius:E}),e.fill(),e.stroke(),e.fillStyle=a.backgroundColor,e.beginPath(),il(e,{x:_,y:g+1,w:u-2,h:c-2,radius:E}),e.fill()):(e.fillStyle=s.multiKeyBackground,e.fillRect(m,g,u,c),e.strokeRect(m,g,u,c),e.fillStyle=a.backgroundColor,e.fillRect(_,g+1,u-2,c-2))}e.fillStyle=this.labelTextColors[i]}drawBody(e,r,i){let{body:o}=this,{bodySpacing:s,bodyAlign:a,displayColors:l,boxHeight:c,boxWidth:u,boxPadding:d}=i,f=st(i.bodyFont),h=f.lineHeight,p=0,g=ms(i.rtl,this.x,this.width),m=function(F){r.fillText(F,g.x(e.x+p),e.y+h/2),e.y+=h+s},_=g.textAlign(a),E,C,D,S,M,A,T;for(r.textAlign=a,r.textBaseline="middle",r.font=f.string,e.x=qp(this,_,i),r.fillStyle=i.bodyColor,we(this.beforeBody,m),p=l&&_!=="right"?a==="center"?u/2+d:u+2+d:0,S=0,A=o.length;S<A;++S){for(E=o[S],C=this.labelTextColors[S],r.fillStyle=C,we(E.before,m),D=E.lines,l&&D.length&&(this._drawColorBox(r,e,S,g,i),h=Math.max(f.lineHeight,c)),M=0,T=D.length;M<T;++M)m(D[M]),h=f.lineHeight;we(E.after,m)}p=0,h=f.lineHeight,we(this.afterBody,m),e.y-=s}drawFooter(e,r,i){let o=this.footer,s=o.length,a,l;if(s){let c=ms(i.rtl,this.x,this.width);for(e.x=qp(this,i.footerAlign,i),e.y+=i.footerMarginTop,r.textAlign=c.textAlign(i.footerAlign),r.textBaseline="middle",a=st(i.footerFont),r.fillStyle=i.footerColor,r.font=a.string,l=0;l<s;++l)r.fillText(o[l],c.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+i.footerSpacing}}drawBackground(e,r,i,o){let{xAlign:s,yAlign:a}=this,{x:l,y:c}=e,{width:u,height:d}=i,{topLeft:f,topRight:h,bottomLeft:p,bottomRight:g}=co(o.cornerRadius);r.fillStyle=o.backgroundColor,r.strokeStyle=o.borderColor,r.lineWidth=o.borderWidth,r.beginPath(),r.moveTo(l+f,c),a==="top"&&this.drawCaret(e,r,i,o),r.lineTo(l+u-h,c),r.quadraticCurveTo(l+u,c,l+u,c+h),a==="center"&&s==="right"&&this.drawCaret(e,r,i,o),r.lineTo(l+u,c+d-g),r.quadraticCurveTo(l+u,c+d,l+u-g,c+d),a==="bottom"&&this.drawCaret(e,r,i,o),r.lineTo(l+p,c+d),r.quadraticCurveTo(l,c+d,l,c+d-p),a==="center"&&s==="left"&&this.drawCaret(e,r,i,o),r.lineTo(l,c+f),r.quadraticCurveTo(l,c,l+f,c),r.closePath(),r.fill(),o.borderWidth>0&&r.stroke()}_updateAnimationTarget(e){let r=this.chart,i=this.$animations,o=i&&i.x,s=i&&i.y;if(o||s){let a=au[e.position].call(this,this._active,this._eventPosition);if(!a)return;let l=this._size=jR(this,e),c=Object.assign({},a,this._size),u=VR(r,e,c),d=BR(e,c,u,r);(o._to!==d.x||s._to!==d.y)&&(this.xAlign=u.xAlign,this.yAlign=u.yAlign,this.width=l.width,this.height=l.height,this.caretX=a.x,this.caretY=a.y,this._resolveAnimations().update(this,d))}}_willRender(){return!!this.opacity}draw(e){let r=this.options.setContext(this.getContext()),i=this.opacity;if(!i)return;this._updateAnimationTarget(r);let o={width:this.width,height:this.height},s={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;let a=Dt(r.padding),l=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;r.enabled&&l&&(e.save(),e.globalAlpha=i,this.drawBackground(s,e,o,r),Rb(e,r.textDirection),s.y+=a.top,this.drawTitle(s,e,r),this.drawBody(s,e,r),this.drawFooter(s,e,r),kb(e,r.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,r){let i=this._active,o=e.map(({datasetIndex:l,index:c})=>{let u=this.chart.getDatasetMeta(l);if(!u)throw new Error("Cannot find a dataset at index "+l);return{datasetIndex:l,element:u.data[c],index:c}}),s=!Jc(i,o),a=this._positionChanged(o,r);(s||a)&&(this._active=o,this._eventPosition=r,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,r,i=!0){if(r&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;let o=this.options,s=this._active||[],a=this._getActiveElements(e,s,r,i),l=this._positionChanged(a,e),c=r||!Jc(a,s)||l;return c&&(this._active=a,(o.enabled||o.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,r))),c}_getActiveElements(e,r,i,o){let s=this.options;if(e.type==="mouseout")return[];if(!o)return r.filter(l=>this.chart.data.datasets[l.datasetIndex]&&this.chart.getDatasetMeta(l.datasetIndex).controller.getParsed(l.index)!==void 0);let a=this.chart.getElementsAtEventForMode(e,s.mode,s,i);return s.reverse&&a.reverse(),a}_positionChanged(e,r){let{caretX:i,caretY:o,options:s}=this,a=au[s.position].call(this,e,r);return a!==!1&&(i!==a.x||o!==a.y)}}return n})(),Xq={id:"tooltip",_element:HR,positioners:au,afterInit(n,t,e){e&&(n.tooltip=new HR({chart:n,options:e}))},beforeUpdate(n,t,e){n.tooltip&&n.tooltip.initialize(e)},reset(n,t,e){n.tooltip&&n.tooltip.initialize(e)},afterDraw(n){let t=n.tooltip;if(t&&t._willRender()){let e={tooltip:t};if(n.notifyPlugins("beforeTooltipDraw",te(O({},e),{cancelable:!0}))===!1)return;t.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",e)}},afterEvent(n,t){if(n.tooltip){let e=t.replay;n.tooltip.handleEvent(t.event,e,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,t)=>t.bodyFont.size,boxWidth:(n,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:_k},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},Qq=Object.freeze({__proto__:null,Colors:dq,Decimation:gq,Filler:Nq,Legend:Uq,SubTitle:zq,Title:Hq,Tooltip:Xq}),eW=(n,t,e,r)=>(typeof t=="string"?(e=n.push(t)-1,r.unshift({index:e,label:t})):isNaN(t)&&(e=null),e);function tW(n,t,e,r){let i=n.indexOf(t);if(i===-1)return eW(n,t,e,r);let o=n.lastIndexOf(t);return i!==o?e:i}var nW=(n,t)=>n===null?null:ft(Math.round(n),0,t);function zR(n){let t=this.getLabels();return n>=0&&n<t.length?t[n]:n}var rW=(()=>{class n extends _s{static id="category";static defaults={ticks:{callback:zR}};constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){let r=this._addedLabels;if(r.length){let i=this.getLabels();for(let{index:o,label:s}of r)i[o]===s&&i.splice(o,1);this._addedLabels=[]}super.init(e)}parse(e,r){if(ae(e))return null;let i=this.getLabels();return r=isFinite(r)&&i[r]===e?r:tW(i,e,X(r,e),this._addedLabels),nW(r,i.length-1)}determineDataLimits(){let{minDefined:e,maxDefined:r}=this.getUserBounds(),{min:i,max:o}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(i=0),r||(o=this.getLabels().length-1)),this.min=i,this.max=o}buildTicks(){let e=this.min,r=this.max,i=this.options.offset,o=[],s=this.getLabels();s=e===0&&r===s.length-1?s:s.slice(e,r+1),this._valueRange=Math.max(s.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let a=e;a<=r;a++)o.push({value:a});return o}getLabelForValue(e){return zR.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){let r=this.ticks;return e<0||e>r.length-1?null:this.getPixelForValue(r[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}return n})();function iW(n,t){let e=[],{bounds:i,step:o,min:s,max:a,precision:l,count:c,maxTicks:u,maxDigits:d,includeBounds:f}=n,h=o||1,p=u-1,{min:g,max:m}=t,_=!ae(s),E=!ae(a),C=!ae(c),D=(m-g)/(d+1),S=db((m-g)/p/h)*h,M,A,T,F;if(S<1e-14&&!_&&!E)return[{value:g},{value:m}];F=Math.ceil(m/S)-Math.floor(g/S),F>p&&(S=db(F*S/p/h)*h),ae(l)||(M=Math.pow(10,l),S=Math.ceil(S*M)/M),i==="ticks"?(A=Math.floor(g/S)*S,T=Math.ceil(m/S)*S):(A=g,T=m),_&&E&&o&&AO((a-s)/o,S/1e3)?(F=Math.round(Math.min((a-s)/S,u)),S=(a-s)/F,A=s,T=a):C?(A=_?s:A,T=E?a:T,F=c-1,S=(T-A)/F):(F=(T-A)/S,tl(F,Math.round(F),S/1e3)?F=Math.round(F):F=Math.ceil(F));let G=Math.max(fb(S),fb(A));M=Math.pow(10,ae(l)?G:l),A=Math.round(A*M)/M,T=Math.round(T*M)/M;let re=0;for(_&&(f&&A!==s?(e.push({value:s}),A<s&&re++,tl(Math.round((A+re*S)*M)/M,s,qR(s,D,n))&&re++):A<s&&re++);re<F;++re){let ce=Math.round((A+re*S)*M)/M;if(E&&ce>a)break;e.push({value:ce})}return E&&f&&T!==a?e.length&&tl(e[e.length-1].value,a,qR(a,D,n))?e[e.length-1].value=a:e.push({value:a}):(!E||T===a)&&e.push({value:T}),e}function qR(n,t,{horizontal:e,minRotation:r}){let i=Mn(r),o=(e?Math.sin(i):Math.cos(i))||.001,s=.75*t*(""+n).length;return Math.min(t/o,s)}var ll=class extends _s{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return ae(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){let{beginAtZero:t}=this.options,{minDefined:e,maxDefined:r}=this.getUserBounds(),{min:i,max:o}=this,s=l=>i=e?i:l,a=l=>o=r?o:l;if(t){let l=Xn(i),c=Xn(o);l<0&&c<0?a(0):l>0&&c>0&&s(0)}if(i===o){let l=o===0?1:Math.abs(o*.05);a(o+l),t||s(i-l)}this.min=i,this.max=o}getTickLimit(){let t=this.options.ticks,{maxTicksLimit:e,stepSize:r}=t,i;return r?(i=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,i>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${r} would result generating up to ${i} ticks. Limiting to 1000.`),i=1e3)):(i=this.computeTickLimit(),e=e||11),e&&(i=Math.min(e,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){let t=this.options,e=t.ticks,r=this.getTickLimit();r=Math.max(2,r);let i={maxTicks:r,bounds:t.bounds,min:t.min,max:t.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:e.includeBounds!==!1},o=this._range||this,s=iW(i,o);return t.bounds==="ticks"&&hb(s,this,"value"),t.reverse?(s.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),s}configure(){let t=this.ticks,e=this.min,r=this.max;if(super.configure(),this.options.offset&&t.length){let i=(r-e)/Math.max(t.length-1,1)/2;e-=i,r+=i}this._startValue=e,this._endValue=r,this._valueRange=r-e}getLabelForValue(t){return rl(t,this.chart.options.locale,this.options.ticks.format)}},cw=class extends ll{static id="linear";static defaults={ticks:{callback:Xc.formatters.numeric}};determineDataLimits(){let{min:t,max:e}=this.getMinMax(!0);this.min=qe(t)?t:0,this.max=qe(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){let t=this.isHorizontal(),e=t?this.width:this.height,r=Mn(this.options.ticks.minRotation),i=(t?Math.sin(r):Math.cos(r))||.001,o=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,o.lineHeight/i))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}},uu=n=>Math.floor(fi(n)),ys=(n,t)=>Math.pow(10,uu(n)+t);function WR(n){return n/Math.pow(10,uu(n))===1}function GR(n,t,e){let r=Math.pow(10,e),i=Math.floor(n/r);return Math.ceil(t/r)-i}function oW(n,t){let e=t-n,r=uu(e);for(;GR(n,t,r)>10;)r++;for(;GR(n,t,r)<10;)r--;return Math.min(r,uu(n))}function sW(n,{min:t,max:e}){t=en(n.min,t);let r=[],i=uu(t),o=oW(t,e),s=o<0?Math.pow(10,Math.abs(o)):1,a=Math.pow(10,o),l=i>o?Math.pow(10,i):0,c=Math.round((t-l)*s)/s,u=Math.floor((t-l)/a/10)*a*10,d=Math.floor((c-u)/Math.pow(10,o)),f=en(n.min,Math.round((l+u+d*Math.pow(10,o))*s)/s);for(;f<e;)r.push({value:f,major:WR(f),significand:d}),d>=10?d=d<15?15:20:d++,d>=20&&(o++,d=2,s=o>=0?1:s),f=Math.round((l+u+d*Math.pow(10,o))*s)/s;let h=en(n.max,f);return r.push({value:h,major:WR(h),significand:d}),r}var uw=class extends _s{static id="logarithmic";static defaults={ticks:{callback:Xc.formatters.logarithmic,major:{enabled:!0}}};constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,e){let r=ll.prototype.parse.apply(this,[t,e]);if(r===0){this._zero=!0;return}return qe(r)&&r>0?r:null}determineDataLimits(){let{min:t,max:e}=this.getMinMax(!0);this.min=qe(t)?Math.max(0,t):null,this.max=qe(e)?Math.max(0,e):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!qe(this._userMin)&&(this.min=t===ys(this.min,0)?ys(this.min,-1):ys(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){let{minDefined:t,maxDefined:e}=this.getUserBounds(),r=this.min,i=this.max,o=a=>r=t?r:a,s=a=>i=e?i:a;r===i&&(r<=0?(o(1),s(10)):(o(ys(r,-1)),s(ys(i,1)))),r<=0&&o(ys(i,-1)),i<=0&&s(ys(r,1)),this.min=r,this.max=i}buildTicks(){let t=this.options,e={min:this._userMin,max:this._userMax},r=sW(e,this);return t.bounds==="ticks"&&hb(r,this,"value"),t.reverse?(r.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),r}getLabelForValue(t){return t===void 0?"0":rl(t,this.chart.options.locale,this.options.ticks.format)}configure(){let t=this.min;super.configure(),this._startValue=fi(t),this._valueRange=fi(this.max)-fi(t)}getPixelForValue(t){return(t===void 0||t===0)&&(t=this.min),t===null||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:(fi(t)-this._startValue)/this._valueRange)}getValueForPixel(t){let e=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+e*this._valueRange)}};function dw(n){let t=n.ticks;if(t.display&&n.display){let e=Dt(t.backdropPadding);return X(t.font&&t.font.size,je.font.size)+e.height}return 0}function aW(n,t,e){return e=ke(e)?e:[e],{w:VO(n,t.string,e),h:e.length*t.lineHeight}}function KR(n,t,e,r,i){return n===r||n===i?{start:t-e/2,end:t+e/2}:n<r||n>i?{start:t-e,end:t}:{start:t,end:t+e}}function lW(n){let t={l:n.left+n._padding.left,r:n.right-n._padding.right,t:n.top+n._padding.top,b:n.bottom-n._padding.bottom},e=Object.assign({},t),r=[],i=[],o=n._pointLabels.length,s=n.options.pointLabels,a=s.centerPointLabels?ye/o:0;for(let l=0;l<o;l++){let c=s.setContext(n.getPointLabelContext(l));i[l]=c.padding;let u=n.getPointPosition(l,n.drawingArea+i[l],a),d=st(c.font),f=aW(n.ctx,d,n._pointLabels[l]);r[l]=f;let h=Et(n.getIndexAngle(l)+a),p=Math.round(Op(h)),g=KR(p,u.x,f.w,0,180),m=KR(p,u.y,f.h,90,270);cW(e,t,h,g,m)}n.setCenterPoint(t.l-e.l,e.r-t.r,t.t-e.t,e.b-t.b),n._pointLabelItems=hW(n,r,i)}function cW(n,t,e,r,i){let o=Math.abs(Math.sin(e)),s=Math.abs(Math.cos(e)),a=0,l=0;r.start<t.l?(a=(t.l-r.start)/o,n.l=Math.min(n.l,t.l-a)):r.end>t.r&&(a=(r.end-t.r)/o,n.r=Math.max(n.r,t.r+a)),i.start<t.t?(l=(t.t-i.start)/s,n.t=Math.min(n.t,t.t-l)):i.end>t.b&&(l=(i.end-t.b)/s,n.b=Math.max(n.b,t.b+l))}function uW(n,t,e){let r=n.drawingArea,{extra:i,additionalAngle:o,padding:s,size:a}=e,l=n.getPointPosition(t,r+i+s,o),c=Math.round(Op(Et(l.angle+We))),u=gW(l.y,a.h,c),d=fW(c),f=pW(l.x,a.w,d);return{visible:!0,x:l.x,y:u,textAlign:d,left:f,top:u,right:f+a.w,bottom:u+a.h}}function dW(n,t){if(!t)return!0;let{left:e,top:r,right:i,bottom:o}=n;return!(Pr({x:e,y:r},t)||Pr({x:e,y:o},t)||Pr({x:i,y:r},t)||Pr({x:i,y:o},t))}function hW(n,t,e){let r=[],i=n._pointLabels.length,o=n.options,{centerPointLabels:s,display:a}=o.pointLabels,l={extra:dw(o)/2,additionalAngle:s?ye/i:0},c;for(let u=0;u<i;u++){l.padding=e[u],l.size=t[u];let d=uW(n,u,l);r.push(d),a==="auto"&&(d.visible=dW(d,c),d.visible&&(c=d))}return r}function fW(n){return n===0||n===180?"center":n<180?"left":"right"}function pW(n,t,e){return e==="right"?n-=t:e==="center"&&(n-=t/2),n}function gW(n,t,e){return e===90||e===270?n-=t/2:(e>270||e<90)&&(n-=t),n}function mW(n,t,e){let{left:r,top:i,right:o,bottom:s}=e,{backdropColor:a}=t;if(!ae(a)){let l=co(t.borderRadius),c=Dt(t.backdropPadding);n.fillStyle=a;let u=r-c.left,d=i-c.top,f=o-r+c.width,h=s-i+c.height;Object.values(l).some(p=>p!==0)?(n.beginPath(),il(n,{x:u,y:d,w:f,h,radius:l}),n.fill()):n.fillRect(u,d,f,h)}}function vW(n,t){let{ctx:e,options:{pointLabels:r}}=n;for(let i=t-1;i>=0;i--){let o=n._pointLabelItems[i];if(!o.visible)continue;let s=r.setContext(n.getPointLabelContext(i));mW(e,s,o);let a=st(s.font),{x:l,y:c,textAlign:u}=o;lo(e,n._pointLabels[i],l,c+a.lineHeight/2,a,{color:s.color,textAlign:u,textBaseline:"middle"})}}function bk(n,t,e,r){let{ctx:i}=n;if(e)i.arc(n.xCenter,n.yCenter,t,0,Pe);else{let o=n.getPointPosition(0,t);i.moveTo(o.x,o.y);for(let s=1;s<r;s++)o=n.getPointPosition(s,t),i.lineTo(o.x,o.y)}}function yW(n,t,e,r,i){let o=n.ctx,s=t.circular,{color:a,lineWidth:l}=t;!s&&!r||!a||!l||e<0||(o.save(),o.strokeStyle=a,o.lineWidth=l,o.setLineDash(i.dash||[]),o.lineDashOffset=i.dashOffset,o.beginPath(),bk(n,e,s,r),o.closePath(),o.stroke(),o.restore())}function _W(n,t,e){return gi(n,{label:e,index:t,type:"pointLabel"})}var hw=class extends ll{static id="radialLinear";static defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Xc.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(t){return t},padding:5,centerPointLabels:!1}};static defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};static descriptors={angleLines:{_fallback:"grid"}};constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){let t=this._padding=Dt(dw(this.options)/2),e=this.width=this.maxWidth-t.width,r=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+e/2+t.left),this.yCenter=Math.floor(this.top+r/2+t.top),this.drawingArea=Math.floor(Math.min(e,r)/2)}determineDataLimits(){let{min:t,max:e}=this.getMinMax(!1);this.min=qe(t)&&!isNaN(t)?t:0,this.max=qe(e)&&!isNaN(e)?e:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/dw(this.options))}generateTickLabels(t){ll.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map((e,r)=>{let i=Ie(this.options.pointLabels.callback,[e,r],this);return i||i===0?i:""}).filter((e,r)=>this.chart.getDataVisibility(r))}fit(){let t=this.options;t.display&&t.pointLabels.display?lW(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,e,r,i){this.xCenter+=Math.floor((t-e)/2),this.yCenter+=Math.floor((r-i)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,e,r,i))}getIndexAngle(t){let e=Pe/(this._pointLabels.length||1),r=this.options.startAngle||0;return Et(t*e+Mn(r))}getDistanceFromCenterForValue(t){if(ae(t))return NaN;let e=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*e:(t-this.min)*e}getValueForDistanceFromCenter(t){if(ae(t))return NaN;let e=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-e:this.min+e}getPointLabelContext(t){let e=this._pointLabels||[];if(t>=0&&t<e.length){let r=e[t];return _W(this.getContext(),t,r)}}getPointPosition(t,e,r=0){let i=this.getIndexAngle(t)-We+r;return{x:Math.cos(i)*e+this.xCenter,y:Math.sin(i)*e+this.yCenter,angle:i}}getPointPositionForValue(t,e){return this.getPointPosition(t,this.getDistanceFromCenterForValue(e))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){let{left:e,top:r,right:i,bottom:o}=this._pointLabelItems[t];return{left:e,top:r,right:i,bottom:o}}drawBackground(){let{backgroundColor:t,grid:{circular:e}}=this.options;if(t){let r=this.ctx;r.save(),r.beginPath(),bk(this,this.getDistanceFromCenterForValue(this._endValue),e,this._pointLabels.length),r.closePath(),r.fillStyle=t,r.fill(),r.restore()}}drawGrid(){let t=this.ctx,e=this.options,{angleLines:r,grid:i,border:o}=e,s=this._pointLabels.length,a,l,c;if(e.pointLabels.display&&vW(this,s),i.display&&this.ticks.forEach((u,d)=>{if(d!==0||d===0&&this.min<0){l=this.getDistanceFromCenterForValue(u.value);let f=this.getContext(d),h=i.setContext(f),p=o.setContext(f);yW(this,h,l,s,p)}}),r.display){for(t.save(),a=s-1;a>=0;a--){let u=r.setContext(this.getPointLabelContext(a)),{color:d,lineWidth:f}=u;!f||!d||(t.lineWidth=f,t.strokeStyle=d,t.setLineDash(u.borderDash),t.lineDashOffset=u.borderDashOffset,l=this.getDistanceFromCenterForValue(e.reverse?this.min:this.max),c=this.getPointPosition(a,l),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(c.x,c.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){let t=this.ctx,e=this.options,r=e.ticks;if(!r.display)return;let i=this.getIndexAngle(0),o,s;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(i),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach((a,l)=>{if(l===0&&this.min>=0&&!e.reverse)return;let c=r.setContext(this.getContext(l)),u=st(c.font);if(o=this.getDistanceFromCenterForValue(this.ticks[l].value),c.showLabelBackdrop){t.font=u.string,s=t.measureText(a.label).width,t.fillStyle=c.backdropColor;let d=Dt(c.backdropPadding);t.fillRect(-s/2-d.left,-o-u.size/2-d.top,s+d.width,u.size+d.height)}lo(t,a.label,0,-o,u,{color:c.color,strokeColor:c.textStrokeColor,strokeWidth:c.textStrokeWidth})}),t.restore()}drawTitle(){}},rg={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},nn=Object.keys(rg);function YR(n,t){return n-t}function ZR(n,t){if(ae(t))return null;let e=n._adapter,{parser:r,round:i,isoWeekday:o}=n._parseOpts,s=t;return typeof r=="function"&&(s=r(s)),qe(s)||(s=typeof r=="string"?e.parse(s,r):e.parse(s)),s===null?null:(i&&(s=i==="week"&&(gs(o)||o===!0)?e.startOf(s,"isoWeek",o):e.startOf(s,i)),+s)}function JR(n,t,e,r){let i=nn.length;for(let o=nn.indexOf(n);o<i-1;++o){let s=rg[nn[o]],a=s.steps?s.steps:Number.MAX_SAFE_INTEGER;if(s.common&&Math.ceil((e-t)/(a*s.size))<=r)return nn[o]}return nn[i-1]}function bW(n,t,e,r,i){for(let o=nn.length-1;o>=nn.indexOf(e);o--){let s=nn[o];if(rg[s].common&&n._adapter.diff(i,r,s)>=t-1)return s}return nn[e?nn.indexOf(e):0]}function wW(n){for(let t=nn.indexOf(n)+1,e=nn.length;t<e;++t)if(rg[nn[t]].common)return nn[t]}function XR(n,t,e){if(!e)n[t]=!0;else if(e.length){let{lo:r,hi:i}=Rp(e,t),o=e[r]>=t?e[r]:e[i];n[o]=!0}}function EW(n,t,e,r){let i=n._adapter,o=+i.startOf(t[0].value,r),s=t[t.length-1].value,a,l;for(a=o;a<=s;a=+i.add(a,1,r))l=e[a],l>=0&&(t[l].major=!0);return t}function QR(n,t,e){let r=[],i={},o=t.length,s,a;for(s=0;s<o;++s)a=t[s],i[a]=s,r.push({value:a,major:!1});return o===0||!e?r:EW(n,r,i,e)}var fw=(()=>{class n extends _s{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,r={}){let i=e.time||(e.time={}),o=this._adapter=new k4._date(e.adapters.date);o.init(r),Qa(i.displayFormats,o.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(e),this._normalized=r.normalized}parse(e,r){return e===void 0?null:ZR(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){let e=this.options,r=this._adapter,i=e.time.unit||"day",{min:o,max:s,minDefined:a,maxDefined:l}=this.getUserBounds();function c(u){!a&&!isNaN(u.min)&&(o=Math.min(o,u.min)),!l&&!isNaN(u.max)&&(s=Math.max(s,u.max))}(!a||!l)&&(c(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&c(this.getMinMax(!1))),o=qe(o)&&!isNaN(o)?o:+r.startOf(Date.now(),i),s=qe(s)&&!isNaN(s)?s:+r.endOf(Date.now(),i)+1,this.min=Math.min(o,s-1),this.max=Math.max(o+1,s)}_getLabelBounds(){let e=this.getLabelTimestamps(),r=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return e.length&&(r=e[0],i=e[e.length-1]),{min:r,max:i}}buildTicks(){let e=this.options,r=e.time,i=e.ticks,o=i.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&o.length&&(this.min=this._userMin||o[0],this.max=this._userMax||o[o.length-1]);let s=this.min,a=this.max,l=kO(o,s,a);return this._unit=r.unit||(i.autoSkip?JR(r.minUnit,this.min,this.max,this._getLabelCapacity(s)):bW(this,l.length,r.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:wW(this._unit),this.initOffsets(o),e.reverse&&l.reverse(),QR(this,l,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let r=0,i=0,o,s;this.options.offset&&e.length&&(o=this.getDecimalForValue(e[0]),e.length===1?r=1-o:r=(this.getDecimalForValue(e[1])-o)/2,s=this.getDecimalForValue(e[e.length-1]),e.length===1?i=s:i=(s-this.getDecimalForValue(e[e.length-2]))/2);let a=e.length<3?.5:.25;r=ft(r,0,a),i=ft(i,0,a),this._offsets={start:r,end:i,factor:1/(r+1+i)}}_generate(){let e=this._adapter,r=this.min,i=this.max,o=this.options,s=o.time,a=s.unit||JR(s.minUnit,r,i,this._getLabelCapacity(r)),l=X(o.ticks.stepSize,1),c=a==="week"?s.isoWeekday:!1,u=gs(c)||c===!0,d={},f=r,h,p;if(u&&(f=+e.startOf(f,"isoWeek",c)),f=+e.startOf(f,u?"day":a),e.diff(i,r,a)>1e5*l)throw new Error(r+" and "+i+" are too far apart with stepSize of "+l+" "+a);let g=o.ticks.source==="data"&&this.getDataTimestamps();for(h=f,p=0;h<i;h=+e.add(h,l,a),p++)XR(d,h,g);return(h===i||o.bounds==="ticks"||p===1)&&XR(d,h,g),Object.keys(d).sort(YR).map(m=>+m)}getLabelForValue(e){let r=this._adapter,i=this.options.time;return i.tooltipFormat?r.format(e,i.tooltipFormat):r.format(e,i.displayFormats.datetime)}format(e,r){let o=this.options.time.displayFormats,s=this._unit,a=r||o[s];return this._adapter.format(e,a)}_tickFormatFunction(e,r,i,o){let s=this.options,a=s.ticks.callback;if(a)return Ie(a,[e,r,i],this);let l=s.time.displayFormats,c=this._unit,u=this._majorUnit,d=c&&l[c],f=u&&l[u],h=i[r],p=u&&f&&h&&h.major;return this._adapter.format(e,o||(p?f:d))}generateTickLabels(e){let r,i,o;for(r=0,i=e.length;r<i;++r)o=e[r],o.label=this._tickFormatFunction(o.value,r,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){let r=this._offsets,i=this.getDecimalForValue(e);return this.getPixelForDecimal((r.start+i)*r.factor)}getValueForPixel(e){let r=this._offsets,i=this.getDecimalForPixel(e)/r.factor-r.end;return this.min+i*(this.max-this.min)}_getLabelSize(e){let r=this.options.ticks,i=this.ctx.measureText(e).width,o=Mn(this.isHorizontal()?r.maxRotation:r.minRotation),s=Math.cos(o),a=Math.sin(o),l=this._resolveTickFontOptions(0).size;return{w:i*s+l*a,h:i*a+l*s}}_getLabelCapacity(e){let r=this.options.time,i=r.displayFormats,o=i[r.unit]||i.millisecond,s=this._tickFormatFunction(e,0,QR(this,[e],this._majorUnit),o),a=this._getLabelSize(s),l=Math.floor(this.isHorizontal()?this.width/a.w:this.height/a.h)-1;return l>0?l:1}getDataTimestamps(){let e=this._cache.data||[],r,i;if(e.length)return e;let o=this.getMatchingVisibleMetas();if(this._normalized&&o.length)return this._cache.data=o[0].controller.getAllParsedValues(this);for(r=0,i=o.length;r<i;++r)e=e.concat(o[r].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){let e=this._cache.labels||[],r,i;if(e.length)return e;let o=this.getLabels();for(r=0,i=o.length;r<i;++r)e.push(ZR(this,o[r]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return mb(e.sort(YR))}}return n})();function Wp(n,t,e){let r=0,i=n.length-1,o,s,a,l;e?(t>=n[r].pos&&t<=n[i].pos&&({lo:r,hi:i}=kr(n,"pos",t)),{pos:o,time:a}=n[r],{pos:s,time:l}=n[i]):(t>=n[r].time&&t<=n[i].time&&({lo:r,hi:i}=kr(n,"time",t)),{time:o,pos:a}=n[r],{time:s,pos:l}=n[i]);let c=s-o;return c?a+(l-a)*(t-o)/c:a}var pw=class extends fw{static id="timeseries";static defaults=fw.defaults;constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){let t=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(t);this._minPos=Wp(e,this.min),this._tableRange=Wp(e,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){let{min:e,max:r}=this,i=[],o=[],s,a,l,c,u;for(s=0,a=t.length;s<a;++s)c=t[s],c>=e&&c<=r&&i.push(c);if(i.length<2)return[{time:e,pos:0},{time:r,pos:1}];for(s=0,a=i.length;s<a;++s)u=i[s+1],l=i[s-1],c=i[s],Math.round((u+l)/2)!==c&&o.push({time:c,pos:s/(a-1)});return o}_generate(){let t=this.min,e=this.max,r=super.getDataTimestamps();return(!r.includes(t)||!r.length)&&r.splice(0,0,t),(!r.includes(e)||r.length===1)&&r.push(e),r.sort((i,o)=>i-o)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;let e=this.getDataTimestamps(),r=this.getLabelTimestamps();return e.length&&r.length?t=this.normalize(e.concat(r)):t=e.length?e:r,t=this._cache.all=t,t}getDecimalForValue(t){return(Wp(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){let e=this._offsets,r=this.getDecimalForPixel(t)/e.factor-e.end;return Wp(this._table,r*this._tableRange+this._minPos,!0)}},CW=Object.freeze({__proto__:null,CategoryScale:rW,LinearScale:cw,LogarithmicScale:uw,RadialLinearScale:hw,TimeScale:fw,TimeSeriesScale:pw}),wk=[R4,iq,Qq,CW];hu.register(...wk);function DW(n,t){n&1&&(b(0,"div"),w(1,"Chargement des donn\xE9es..."),v())}function xW(n,t){if(n&1&&(b(0,"tr")(1,"td"),w(2),v(),b(3,"td"),w(4),v(),b(5,"td"),w(6),v(),b(7,"td")(8,"strong"),w(9),pe(10,"currency"),v()()()),n&2){let e=t.$implicit;x(2),K(e.sku),x(2),K(e.name),x(2),K(e.quantity),x(3),K(Fe(10,4,e.total,"EUR"))}}function SW(n,t){n&1&&(b(0,"tr")(1,"td",12),w(2,"Aucune vente enregistr\xE9e pour le moment."),v()())}function IW(n,t){if(n&1&&(b(0,"table",10)(1,"thead")(2,"tr")(3,"th"),w(4,"SKU"),v(),b(5,"th"),w(6,"Produit"),v(),b(7,"th"),w(8,"Quantit\xE9 Vendue"),v(),b(9,"th"),w(10,"CA G\xE9n\xE9r\xE9"),v()()(),b(11,"tbody"),Y(12,xW,11,7,"tr",11)(13,SW,3,0,"tr",8),v()()),n&2){let e=B();x(12),R("ngForOf",e.salesByProduct),x(),R("ngIf",e.salesByProduct.length===0)}}var ig=class n{constructor(t){this.supabaseService=t}totalCA=0;salesByProduct=[];loading=!0;chart;ngOnInit(){this.loadData()}loadData(){return y(this,null,function*(){try{let t=yield this.supabaseService.getVentesHistory();this.calculateMetrics(t||[]),this.renderChart(t||[])}catch(t){console.error("Erreur chargement CA",t)}finally{this.loading=!1}})}calculateMetrics(t){this.totalCA=t.reduce((r,i)=>r+Number(i.total_price),0);let e=new Map;t.forEach(r=>{let i=Array.isArray(r.products)?r.products[0]:r.products,o=r.product_id,s=i?.name||"Produit inconnu/supprim\xE9",a=i?.sku||"???";e.has(o)||e.set(o,{name:s,sku:a,quantity:0,total:0});let l=e.get(o);l.quantity+=r.quantity,l.total+=Number(r.total_price)}),this.salesByProduct=Array.from(e.values()).sort((r,i)=>i.total-r.total)}renderChart(t){this.chart&&this.chart.destroy();let e=[...t].sort((i,o)=>new Date(i.created_at).getTime()-new Date(o.created_at).getTime()),r=new Map;e.forEach(i=>{let o=new Date(i.created_at).toLocaleDateString("fr-FR");r.set(o,(r.get(o)||0)+Number(i.total_price))}),this.chart=new hu("caChart",{type:"line",data:{labels:Array.from(r.keys()),datasets:[{label:"Chiffre d'Affaires (\u20AC)",data:Array.from(r.values()),borderColor:"#3498db",backgroundColor:"rgba(52, 152, 219, 0.2)",fill:!0,tension:.4}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top"}}}})}static \u0275fac=function(e){return new(e||n)(j(Ot))};static \u0275cmp=Me({type:n,selectors:[["app-ca"]],decls:20,vars:6,consts:[[1,"container"],[1,"dashboard-cards"],[1,"card","metric-card"],[1,"value"],[1,"card","chart-card"],[1,"chart-container"],["id","caChart"],[1,"card","list-card"],[4,"ngIf"],["class","table",4,"ngIf"],[1,"table"],[4,"ngFor","ngForOf"],["colspan","4",1,"text-center"]],template:function(e,r){e&1&&(b(0,"div",0)(1,"h2"),w(2,"Analyse du Chiffre d'Affaires"),v(),b(3,"div",1)(4,"div",2)(5,"h3"),w(6,"Chiffre d'Affaires Total"),v(),b(7,"div",3),w(8),pe(9,"currency"),v()()(),b(10,"div",4)(11,"h3"),w(12,"\xC9volution du CA"),v(),b(13,"div",5),J(14,"canvas",6),v()(),b(15,"div",7)(16,"h3"),w(17,"Performance par Produit"),v(),Y(18,DW,2,0,"div",8)(19,IW,14,2,"table",9),v()()),e&2&&(x(8),K(Fe(9,3,r.totalCA,"EUR")),x(10),R("ngIf",r.loading),x(),R("ngIf",!r.loading))},dependencies:[mt,gt,cn,qn],styles:[".container[_ngcontent-%COMP%]{padding:2rem;max-width:1000px;margin:0 auto}.dashboard-cards[_ngcontent-%COMP%]{display:flex;gap:2rem;margin-bottom:2rem}.card[_ngcontent-%COMP%]{background:#fff;border-radius:8px;padding:1.5rem;box-shadow:0 2px 4px #0000001a}.metric-card[_ngcontent-%COMP%]{flex:1;text-align:center;background:linear-gradient(135deg,#3498db,#2980b9);color:#fff}.metric-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:1.1rem;opacity:.9}.metric-card[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:700;margin-top:.5rem}h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%]{color:#2c3e50;margin-bottom:1.5rem}.table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:1rem;text-align:left;border-bottom:1px solid #ecf0f1}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#f8f9fa;font-weight:600}.chart-card[_ngcontent-%COMP%]{margin-bottom:2rem}.chart-container[_ngcontent-%COMP%]{position:relative;height:300px}"]})};var og=class n{static \u0275fac=function(e){return new(e||n)};static \u0275cmp=Me({type:n,selectors:[["app-page-not-found"]],decls:2,vars:0,template:function(e,r){e&1&&(b(0,"p"),w(1,"page-not-found works!"),v())},encapsulation:2})};function MW(n,t){n&1&&(b(0,"span"),w(1,"\u2795 Ajouter un article"),v())}function TW(n,t){n&1&&(b(0,"span"),w(1,"\u274C Fermer"),v())}function AW(n,t){if(n&1&&(b(0,"div",61)(1,"div",62)(2,"div",63),w(3),v()()()),n&2){let e=B(2);x(2),my("width",e.uploadProgress,"%"),Fo("aria-valuenow",e.uploadProgress),x(),nt(" ",e.uploadProgress,"% ")}}function OW(n,t){if(n&1){let e=Xe();b(0,"div",64)(1,"img",65),$("error",function(i){me(e);let o=B(2);return ve(o.onImageError(i))}),v(),b(2,"button",66),$("click",function(){me(e);let i=B(2);return ve(i.removeImage())}),w(3," Supprimer "),v()()}if(n&2){let e=B(2);x(),R("src",e.uploadedImageUrl,na)}}function RW(n,t){if(n&1&&(b(0,"option",67),w(1),v()),n&2){let e=t.$implicit;R("value",e.id),x(),Ri(" ",e.name," (Stock: ",e.current_stock,") ")}}function kW(n,t){n&1&&J(0,"span",68)}function PW(n,t){if(n&1){let e=Xe();b(0,"div",5)(1,"div",15)(2,"h3",16),w(3),v()(),b(4,"div",6)(5,"form",23),$("ngSubmit",function(){me(e);let i=B();return ve(i.onSubmit())}),b(6,"div",24)(7,"div",25)(8,"label",26),w(9,"Titre du produit *"),v(),J(10,"input",27),v(),b(11,"div",25)(12,"label",26),w(13,"Marque"),v(),J(14,"input",28),v()(),b(15,"div",24)(16,"div",29)(17,"label",26),w(18,"Cat\xE9gorie"),v(),b(19,"select",30)(20,"option",31),w(21,"Eau de Parfum"),v(),b(22,"option",32),w(23,"Eau de Toilette"),v(),b(24,"option",33),w(25,"Extrait"),v(),b(26,"option",34),w(27,"Cologne"),v()()(),b(28,"div",29)(29,"label",26),w(30,"Genre"),v(),b(31,"select",35)(32,"option",36),w(33,"Femme"),v(),b(34,"option",37),w(35,"Homme"),v(),b(36,"option",38),w(37,"Unisexe"),v()()(),b(38,"div",29)(39,"label",26),w(40,"Contenance (ml)"),v(),J(41,"input",39),v()(),b(42,"div",24)(43,"div",25)(44,"label",26),w(45,"Famille Olfactive"),v(),J(46,"input",40),v(),b(47,"div",25)(48,"label",26),w(49,"Prix Boutique (\u20AC) *"),v(),J(50,"input",41),v()(),b(51,"div",42)(52,"label",26),w(53,"Description Marketing"),v(),J(54,"textarea",43),v(),b(55,"div",24)(56,"div",25)(57,"label",26),w(58,"Image du produit"),v(),b(59,"input",44),$("change",function(i){me(e);let o=B();return ve(o.onFileSelected(i))}),v(),Y(60,AW,4,4,"div",45)(61,OW,4,1,"div",46),v(),b(62,"div",25)(63,"label",26),w(64,"Lien Vid\xE9o (YouTube/MP4)"),v(),J(65,"input",47),v()(),b(66,"div",48)(67,"div",25)(68,"label",26),w(69,"Lier au Stock (Optionnel)"),v(),b(70,"select",49)(71,"option",50),w(72,"-- Aucun lien --"),v(),Y(73,RW,2,3,"option",13),pe(74,"async"),v()(),b(75,"div",25)(76,"div",51)(77,"div",52),J(78,"input",53),b(79,"label",54),w(80,"Actif"),v()(),b(81,"div",52),J(82,"input",55),b(83,"label",56),w(84,"Mis en avant"),v()()()()(),b(85,"div",57)(86,"button",58),Y(87,kW,1,0,"span",59),w(88),v(),b(89,"button",60),$("click",function(){me(e);let i=B();return ve(i.cancelEdit())}),w(90,"\u{1F6AB} Annuler"),v()()()()()}if(n&2){let e=B();x(3),K(e.editingItemId?"Modifier l'article":"Nouvel Article Boutique"),x(2),R("formGroup",e.boutiqueForm),x(55),R("ngIf",e.uploading),x(),R("ngIf",e.uploadedImageUrl),x(10),R("ngValue",null),x(2),R("ngForOf",wn(74,9,e.products$)),x(13),R("disabled",e.boutiqueForm.invalid||e.uploading),x(),R("ngIf",e.uploading),x(),nt(" ",e.editingItemId?"\u{1F4BE} Mettre \xE0 jour":"\u2705 Enregistrer l'article"," ")}}function NW(n,t){if(n&1&&(b(0,"option",67),w(1),v()),n&2){let e=t.$implicit;R("value",e),x(),K(e)}}function FW(n,t){if(n&1&&(b(0,"option",67),w(1),v()),n&2){let e=t.$implicit;R("value",e),x(),K(e)}}function LW(n,t){if(n&1&&(b(0,"span"),w(1),v()),n&2){let e=B().$implicit;It("text-danger",e.products.current_stock===0),x(),nt("",e.products.current_stock," en stock")}}function jW(n,t){n&1&&(b(0,"span",77),w(1,"-"),v())}function VW(n,t){n&1&&(b(0,"span",78),w(1,"\u2B50"),v())}function BW(n,t){if(n&1){let e=Xe();b(0,"tr")(1,"td")(2,"img",69),$("error",function(i){me(e);let o=B();return ve(o.onImageError(i))}),v()(),b(3,"td"),w(4),v(),b(5,"td"),w(6),v(),b(7,"td"),w(8),pe(9,"currency"),v(),b(10,"td"),Y(11,LW,2,3,"span",70)(12,jW,2,0,"span",71),v(),b(13,"td")(14,"span",72),w(15),v(),Y(16,VW,2,0,"span",73),v(),b(17,"td")(18,"div",74)(19,"button",75),$("click",function(){let i=me(e).$implicit,o=B();return ve(o.editItem(i))}),w(20,"\u270F\uFE0F Modifier"),v(),b(21,"button",76),$("click",function(){let i=me(e).$implicit,o=B();return ve(o.deleteItem(i))}),w(22,"\u{1F5D1}\uFE0F Supprimer"),v()()()()}if(n&2){let e=t.$implicit;x(2),R("src",e.image_url||"assets/placeholder-perfume.jpg",na),x(2),K(e.title),x(2),K(e.brand),x(2),K(Fe(9,12,e.price,"EUR")),x(3),R("ngIf",e.products),x(),R("ngIf",!e.products),x(2),It("bg-success",e.is_active)("bg-danger",!e.is_active),x(),K(e.is_active?"Actif":"Inactif"),x(),R("ngIf",e.is_featured)}}function UW(n,t){n&1&&(b(0,"tr")(1,"td",79),w(2,"Aucun article ne correspond \xE0 votre recherche."),v()())}function $W(n,t){if(n&1){let e=Xe();b(0,"li",83)(1,"a",84),$("click",function(){let i=me(e).$implicit,o=B(2);return ve(o.changePage(i))}),w(2),v()()}if(n&2){let e=t.$implicit,r=B(2);It("active",e===r.currentPage),x(2),K(e)}}function HW(n,t){if(n&1){let e=Xe();b(0,"div",80)(1,"nav",81)(2,"ul",82)(3,"li",83)(4,"a",84),$("click",function(){me(e);let i=B();return ve(i.changePage(i.currentPage-1))}),w(5,"\xAB"),v()(),Y(6,$W,3,3,"li",85),b(7,"li",83)(8,"a",84),$("click",function(){me(e);let i=B();return ve(i.changePage(i.currentPage+1))}),w(9,"\xBB"),v()()()()()}if(n&2){let e=B();x(3),It("disabled",e.currentPage===1),x(3),R("ngForOf",e.pages),x(),It("disabled",e.currentPage===e.totalPages)}}var sg=class n{supabase=I(Ot);fb=I(Ir);toast=I(Rr);boutiqueForm;products$=this.supabase.products$;items=[];filteredItems=[];searchTerm="";filterBrand="";filterCategory="";uniqueBrands=[];uniqueCategories=[];currentPage=1;itemsPerPage=10;editingItemId=null;showForm=!1;uploading=!1;uploadProgress=0;uploadedImageUrl=null;constructor(){this.boutiqueForm=this.fb.group({title:["",Oe.required],brand:[""],category:["Eau de Parfum"],gender:["Unisexe"],olfactory_family:[""],volume_ml:[50],price:[0,[Oe.required,Oe.min(0)]],description:[""],video_url:[""],product_id:[null],is_active:[!0],is_featured:[!1]})}ngOnInit(){this.loadItems(),this.supabase.loadProducts()}loadItems(){return y(this,null,function*(){try{this.items=(yield this.supabase.getBoutiqueItems(!1))||[],this.uniqueBrands=[...new Set(this.items.map(t=>t.brand).filter(t=>!!t))].sort(),this.uniqueCategories=[...new Set(this.items.map(t=>t.category).filter(t=>!!t))].sort(),this.applyFilters()}catch(t){console.error(t)}})}applyFilters(){this.filteredItems=this.items.filter(t=>{let e=!this.searchTerm||t.title&&t.title.toLowerCase().includes(this.searchTerm.toLowerCase()),r=!this.filterBrand||t.brand===this.filterBrand,i=!this.filterCategory||t.category===this.filterCategory;return e&&r&&i}),this.currentPage=1}get paginatedItems(){let t=(this.currentPage-1)*this.itemsPerPage;return this.filteredItems.slice(t,t+this.itemsPerPage)}get totalPages(){return Math.ceil(this.filteredItems.length/this.itemsPerPage)}get pages(){return Array(this.totalPages).fill(0).map((t,e)=>e+1)}changePage(t){t<1||t>this.totalPages||(this.currentPage=t)}toggleForm(){this.showForm?this.cancelEdit():(this.resetFormAndState(),this.showForm=!0)}editItem(t){this.editingItemId=t.id,this.boutiqueForm.patchValue(t),this.uploadedImageUrl=t.image_url||null,this.showForm=!0,window.scrollTo(0,0)}cancelEdit(){this.showForm=!1,this.resetFormAndState()}resetFormAndState(){this.editingItemId=null,this.uploadedImageUrl=null,this.boutiqueForm.reset({category:"Eau de Parfum",gender:"Unisexe",volume_ml:50,price:0,is_active:!0,is_featured:!1,product_id:null})}onFileSelected(t){return y(this,null,function*(){let e=t.target.files[0];if(e){if(e.type!=="image/jpeg"&&e.type!=="image/png"){this.toast.error("Format non support\xE9. Veuillez utiliser JPG ou PNG.");return}if(e.size>10*1024*1024){this.toast.error("L'image est trop volumineuse (Max 10MB)");return}this.uploading=!0,this.uploadProgress=0;try{let r=yield this.compressImage(e),s=`boutique/${`${Date.now()}_${Math.random().toString(36).substring(7)}.jpg`}`;this.uploadedImageUrl=yield this.supabase.uploadProductImage(r,s,a=>{this.uploadProgress=a}),this.toast.success("Image t\xE9l\xE9charg\xE9e avec succ\xE8s")}catch(r){console.error(`Erreur upload (Status: ${r.statusCode}):`,r),r.message==="Bucket not found"||r.error&&r.error==="Bucket not found"?this.toast.error(`Erreur config: Le bucket '${At.storageBucket}' n'existe pas dans Supabase.`):r.statusCode==500||r.statusCode==403||r.message?.includes("policy")?this.toast.error("Erreur de permission (403/500). V\xE9rifiez les policies du bucket de stockage."):this.toast.error(`Erreur upload: ${r.message||"Inconnue"}`)}finally{this.uploading=!1}}})}compressImage(t){return new Promise((e,r)=>{let i=new FileReader;i.readAsDataURL(t),i.onload=o=>{let s=new Image;s.src=o.target.result,s.onload=()=>{let a=document.createElement("canvas"),l=1200,c=s.width,u=s.height;c>l&&(u*=l/c,c=l),a.width=c,a.height=u,a.getContext("2d")?.drawImage(s,0,0,c,u),a.toBlob(f=>{if(f){let h=new File([f],t.name.replace(/\.[^/.]+$/,"")+".jpg",{type:"image/jpeg",lastModified:Date.now()});e(h)}else r(new Error("Erreur compression"))},"image/jpeg",.8)},s.onerror=a=>r(a)},i.onerror=o=>r(o)})}removeImage(){this.uploadedImageUrl=null}onSubmit(){return y(this,null,function*(){if(this.boutiqueForm.invalid)return;let t=this.boutiqueForm.value,e=te(O({},t),{image_url:this.uploadedImageUrl});try{this.editingItemId?(yield this.supabase.updateBoutiqueItem(this.editingItemId,e),this.toast.success("Article mis \xE0 jour avec succ\xE8s !")):(yield this.supabase.createBoutiqueItem(e),this.toast.success("Article ajout\xE9 \xE0 la boutique !")),this.cancelEdit(),yield this.loadItems()}catch(r){console.error(r),this.toast.error("Erreur lors de l'enregistrement de l'article")}})}deleteItem(t){return y(this,null,function*(){if(!t.id)return;if(window.confirm(`\xCAtes-vous s\xFBr de vouloir supprimer l'article "${t.title}" ? Cette action est irr\xE9versible.`))try{yield this.supabase.deleteBoutiqueItem(t.id,t.image_url),this.toast.success("Article supprim\xE9 avec succ\xE8s."),this.editingItemId===t.id&&this.cancelEdit(),yield this.loadItems()}catch{this.toast.error("Erreur lors de la suppression de l'article.")}})}onImageError(t){t.target.src="assets/placeholder-perfume.jpg",t.target.onerror=null}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=Me({type:n,selectors:[["app-boutique"]],decls:50,vars:12,consts:[[1,"container","mt-4"],[1,"d-flex","justify-content-between","align-items-center","mb-4"],[1,"btn","btn-primary","shadow-sm",3,"click"],[4,"ngIf"],["class","card mb-4 shadow-sm",4,"ngIf"],[1,"card","mb-4","shadow-sm"],[1,"card-body"],[1,"row","g-3"],[1,"col-md-6"],["type","text","placeholder","Rechercher un produit...",1,"form-control",3,"ngModelChange","input","ngModel"],[1,"col-md-3"],[1,"form-select","shadow-sm",2,"cursor","pointer",3,"ngModelChange","change","ngModel"],["value",""],[3,"value",4,"ngFor","ngForOf"],[1,"card","shadow-sm"],[1,"card-header"],[1,"h5","mb-0"],[1,"card-body","p-0"],[1,"table-responsive"],[1,"table","table-striped","table-hover","mb-0","align-middle"],[1,"table-light"],[4,"ngFor","ngForOf"],["class","card-footer bg-white d-flex justify-content-end",4,"ngIf"],[3,"ngSubmit","formGroup"],[1,"row"],[1,"col-md-6","mb-3"],[1,"form-label"],["type","text","formControlName","title","placeholder","Ex: N\xB05",1,"form-control"],["type","text","formControlName","brand","placeholder","Ex: Chanel",1,"form-control"],[1,"col-md-4","mb-3"],["formControlName","category",1,"form-select","shadow-sm",2,"cursor","pointer"],["value","Eau de Parfum"],["value","Eau de Toilette"],["value","Extrait"],["value","Cologne"],["formControlName","gender",1,"form-select","shadow-sm",2,"cursor","pointer"],["value","Femme"],["value","Homme"],["value","Unisexe"],["type","number","formControlName","volume_ml",1,"form-control"],["type","text","formControlName","olfactory_family","placeholder","Ex: Floral Ald\xE9hyd\xE9",1,"form-control"],["type","number","formControlName","price",1,"form-control"],[1,"mb-3"],["formControlName","description","rows","3",1,"form-control"],["type","file","accept","image/png, image/jpeg",1,"form-control",3,"change"],["class","mt-2",4,"ngIf"],["class","mt-2 d-flex align-items-center gap-2",4,"ngIf"],["type","text","formControlName","video_url","placeholder","https://...",1,"form-control"],[1,"row","align-items-end"],["formControlName","product_id",1,"form-select","shadow-sm",2,"cursor","pointer"],[3,"ngValue"],[1,"d-flex","gap-3"],[1,"form-check"],["type","checkbox","formControlName","is_active","id","checkActive",1,"form-check-input"],["for","checkActive",1,"form-check-label"],["type","checkbox","formControlName","is_featured","id","checkFeatured",1,"form-check-input"],["for","checkFeatured",1,"form-check-label"],[1,"d-flex","gap-2","mt-3"],["type","submit",1,"btn","btn-success","text-white","shadow-sm",3,"disabled"],["class","spinner-border spinner-border-sm me-2",4,"ngIf"],["type","button",1,"btn","btn-secondary","shadow-sm",3,"click"],[1,"mt-2"],[1,"progress",2,"height","20px"],["role","progressbar","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","progress-bar-striped","progress-bar-animated"],[1,"mt-2","d-flex","align-items-center","gap-2"],["alt","Aper\xE7u",1,"img-thumbnail",2,"height","100px",3,"error","src"],["type","button",1,"btn","btn-danger","btn-sm",3,"click"],[3,"value"],[1,"spinner-border","spinner-border-sm","me-2"],[1,"rounded",2,"width","40px","height","40px","object-fit","cover",3,"error","src"],[3,"text-danger",4,"ngIf"],["class","text-muted",4,"ngIf"],[1,"badge"],["class","ms-1",4,"ngIf"],[1,"btn-group","btn-group-sm"],[1,"btn","btn-outline-primary",3,"click"],[1,"btn","btn-outline-danger",3,"click"],[1,"text-muted"],[1,"ms-1"],["colspan","7",1,"text-center","py-4","text-muted"],[1,"card-footer","bg-white","d-flex","justify-content-end"],["aria-label","Page navigation"],[1,"pagination","mb-0"],[1,"page-item"],["href","javascript:void(0)",1,"page-link",3,"click"],["class","page-item",3,"active",4,"ngFor","ngForOf"]],template:function(e,r){e&1&&(b(0,"div",0)(1,"div",1)(2,"h2"),w(3,"Gestion Boutique"),v(),b(4,"button",2),$("click",function(){return r.toggleForm()}),Y(5,MW,2,0,"span",3)(6,TW,2,0,"span",3),v()(),Y(7,PW,91,11,"div",4),b(8,"div",5)(9,"div",6)(10,"div",7)(11,"div",8)(12,"input",9),gr("ngModelChange",function(o){return ei(r.searchTerm,o)||(r.searchTerm=o),o}),$("input",function(){return r.applyFilters()}),v()(),b(13,"div",10)(14,"select",11),gr("ngModelChange",function(o){return ei(r.filterBrand,o)||(r.filterBrand=o),o}),$("change",function(){return r.applyFilters()}),b(15,"option",12),w(16,"Toutes les marques"),v(),Y(17,NW,2,2,"option",13),v()(),b(18,"div",10)(19,"select",11),gr("ngModelChange",function(o){return ei(r.filterCategory,o)||(r.filterCategory=o),o}),$("change",function(){return r.applyFilters()}),b(20,"option",12),w(21,"Toutes les cat\xE9gories"),v(),Y(22,FW,2,2,"option",13),v()()()()(),b(23,"div",14)(24,"div",15)(25,"h3",16),w(26),v()(),b(27,"div",17)(28,"div",18)(29,"table",19)(30,"thead",20)(31,"tr")(32,"th"),w(33,"Image"),v(),b(34,"th"),w(35,"Titre"),v(),b(36,"th"),w(37,"Marque"),v(),b(38,"th"),w(39,"Prix"),v(),b(40,"th"),w(41,"Stock Li\xE9"),v(),b(42,"th"),w(43,"Statut"),v(),b(44,"th"),w(45,"Actions"),v()()(),b(46,"tbody"),Y(47,BW,23,15,"tr",21)(48,UW,3,0,"tr",3),v()()()(),Y(49,HW,10,5,"div",22),v()()),e&2&&(x(5),R("ngIf",!r.showForm),x(),R("ngIf",r.showForm),x(),R("ngIf",r.showForm),x(5),pr("ngModel",r.searchTerm),x(2),pr("ngModel",r.filterBrand),x(3),R("ngForOf",r.uniqueBrands),x(2),pr("ngModel",r.filterCategory),x(3),R("ngForOf",r.uniqueCategories),x(4),nt("Articles en Boutique (",r.filteredItems.length,")"),x(21),R("ngForOf",r.paginatedItems),x(),R("ngIf",r.filteredItems.length===0),x(),R("ngIf",r.totalPages>1))},dependencies:[mt,gt,cn,ri,qn,Mr,xr,Ui,$i,Dn,ai,O_,Sr,Cr,Dr,Gn,Kn,Ca,Jo],styles:[".container[_ngcontent-%COMP%]{padding:2rem;max-width:800px;margin:0 auto}.card[_ngcontent-%COMP%]{background:#fff;border-radius:8px;padding:2rem;box-shadow:0 2px 10px #0000001a}h2[_ngcontent-%COMP%]{color:#2c3e50;margin-bottom:1.5rem;text-align:center}.form-group[_ngcontent-%COMP%]{margin-bottom:1.5rem}label[_ngcontent-%COMP%]{display:block;margin-bottom:.5rem;font-weight:500;color:#34495e}.form-control[_ngcontent-%COMP%], .form-select[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{width:100%;padding:.75rem;border:1px solid #bdc3c7;border-radius:4px;font-size:1rem;box-sizing:border-box}.summary[_ngcontent-%COMP%]{margin:2rem 0;padding:1rem;background-color:#f8f9fa;border-radius:4px;text-align:right}.total-price[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:700;color:#2c3e50}.total-price[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#27ae60;font-size:1.5rem;margin-left:.5rem}.btn-submit[_ngcontent-%COMP%]{width:100%;padding:1rem;background-color:#3498db;color:#fff;border:none;border-radius:4px;font-size:1.1rem;cursor:pointer;transition:background .3s}.btn-submit[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#2980b9}.btn-submit[_ngcontent-%COMP%]:disabled{background-color:#bdc3c7;cursor:not-allowed}"]})};var Ek=[{path:"",redirectTo:"stock",pathMatch:"full"},{path:"stock",component:pp},{path:"fournisseurs",component:gp},{path:"approvisionnement",component:yp},{path:"prospects",component:mp},{path:"commissions",component:vp},{path:"ventes",component:_p},{path:"boutique",component:sg},{path:"ca",component:ig},{path:"**",component:og}];var Ck={providers:[OS({eventCoalescing:!0}),E_(Ek),VI(jI()),Gy()]};function zW(n,t){if(n&1&&(b(0,"li",5)(1,"a",6),w(2),v()()),n&2){let e=t.$implicit;x(),R("routerLink",e.path),x(),nt(" ",e.label," ")}}var ag=class n{navItems=[{label:"Fournisseurs",path:"/fournisseurs"},{label:"Boutique",path:"/boutique"},{label:"Approvisionnement",path:"/approvisionnement"},{label:"Gestion de stock",path:"/stock"},{label:"Prospects",path:"/prospects"},{label:"Commissions",path:"/commissions"},{label:"Ventes",path:"/ventes"},{label:"CA",path:"/ca"}];static \u0275fac=function(e){return new(e||n)};static \u0275cmp=Me({type:n,selectors:[["app-navbar"]],decls:6,vars:1,consts:[[1,"navbar"],[1,"navbar-brand"],["routerLink","/"],[1,"navbar-nav"],["class","nav-item",4,"ngFor","ngForOf"],[1,"nav-item"],["routerLinkActive","active",1,"nav-link",3,"routerLink"]],template:function(e,r){e&1&&(b(0,"nav",0)(1,"div",1)(2,"a",2),w(3,"Moineztout Dashboard"),v()(),b(4,"ul",3),Y(5,zW,3,2,"li",4),v()()),e&2&&(x(5),R("ngForOf",r.navItems))},dependencies:[mt,gt,Vi,yc],styles:[".navbar[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:1rem 2rem;background-color:#2c3e50;color:#fff;box-shadow:0 2px 4px #0000001a}.navbar-brand[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#fff;text-decoration:none}.navbar-nav[_ngcontent-%COMP%]{display:flex;list-style:none;margin:0;padding:0;gap:1.5rem}.nav-link[_ngcontent-%COMP%]{color:#bdc3c7;text-decoration:none;font-size:1rem;transition:color .3s ease;padding:.5rem;border-radius:4px}.nav-link[_ngcontent-%COMP%]:hover, .nav-link.active[_ngcontent-%COMP%]{color:#fff;background-color:#ffffff1a}"]})};function qW(n,t){if(n&1){let e=Xe();b(0,"div",9),$("click",function(){me(e);let i=B();return ve(i.closeMenu())}),v()}}function WW(n,t){if(n&1){let e=Xe();b(0,"li")(1,"a",10),$("click",function(){me(e);let i=B();return ve(i.closeMenu())}),w(2),v()()}if(n&2){let e=t.$implicit;x(),R("routerLink",e.route),x(),nt(" ",e.label," ")}}var lg=class n{constructor(t,e){this.supabase=t;this.router=e}isOpen=!1;menuItems=[{label:"Tableau de bord",route:"/"},{label:"Stock",route:"/stock"},{label:"Fournisseurs",route:"/fournisseurs"},{label:"Ventes",route:"/ventes"},{label:"Achats",route:"/achats"}];toggleMenu(){this.isOpen=!this.isOpen}closeMenu(){this.isOpen=!1}logout(){return y(this,null,function*(){try{yield this.supabase.signOut(),this.closeMenu(),this.router.navigate(["/login"])}catch(t){console.error("Erreur lors de la d\xE9connexion",t)}})}static \u0275fac=function(e){return new(e||n)(j(Ot),j(fn))};static \u0275cmp=Me({type:n,selectors:[["app-mobile-menu"]],decls:15,vars:4,consts:[["aria-label","Ouvrir le menu",1,"menu-toggle",3,"click"],["class","mobile-overlay",3,"click",4,"ngIf"],[1,"mobile-nav"],[1,"nav-header"],[1,"close-btn",3,"click"],[1,"nav-links"],[4,"ngFor","ngForOf"],[1,"separator"],[1,"logout-btn",3,"click"],[1,"mobile-overlay",3,"click"],["routerLinkActive","active",3,"click","routerLink"]],template:function(e,r){e&1&&(b(0,"button",0),$("click",function(){return r.toggleMenu()}),w(1,` \u2630
`),v(),Y(2,qW,1,0,"div",1),b(3,"nav",2)(4,"div",3)(5,"h3"),w(6,"Menu"),v(),b(7,"button",4),$("click",function(){return r.closeMenu()}),w(8,"\xD7"),v()(),b(9,"ul",5),Y(10,WW,3,2,"li",6),J(11,"li",7),b(12,"li")(13,"button",8),$("click",function(){return r.logout()}),w(14,"Se d\xE9connecter"),v()()()()),e&2&&(x(2),R("ngIf",r.isOpen),x(),It("open",r.isOpen),x(7),R("ngForOf",r.menuItems))},dependencies:[mt,gt,cn,D_,Vi,yc],styles:[".menu-toggle[_ngcontent-%COMP%]{position:fixed;top:1rem;right:1rem;z-index:1000;background:#2c3e50;color:#fff;border:none;padding:.5rem .8rem;border-radius:4px;font-size:1.5rem;cursor:pointer;box-shadow:0 2px 5px #0003}@media (min-width: 768px){.menu-toggle[_ngcontent-%COMP%]{display:none}}.mobile-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#00000080;z-index:1001;backdrop-filter:blur(2px)}.mobile-nav[_ngcontent-%COMP%]{position:fixed;top:0;right:-280px;width:280px;height:100%;background:#fff;z-index:1002;transition:right .3s ease-in-out;box-shadow:-2px 0 10px #0000001a;display:flex;flex-direction:column}.mobile-nav.open[_ngcontent-%COMP%]{right:0}.mobile-nav[_ngcontent-%COMP%]   .nav-header[_ngcontent-%COMP%]{padding:1.5rem;display:flex;justify-content:space-between;align-items:center;background-color:#f8f9fa;border-bottom:1px solid #eee}.mobile-nav[_ngcontent-%COMP%]   .nav-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;color:#2c3e50}.mobile-nav[_ngcontent-%COMP%]   .nav-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{background:none;border:none;font-size:2rem;line-height:1;cursor:pointer;color:#666}.mobile-nav[_ngcontent-%COMP%]   .nav-links[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0;overflow-y:auto}.mobile-nav[_ngcontent-%COMP%]   .nav-links[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .mobile-nav[_ngcontent-%COMP%]   .nav-links[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:block;width:100%;padding:1rem 1.5rem;text-decoration:none;color:#333;text-align:left;background:none;border:none;font-size:1rem;cursor:pointer;border-bottom:1px solid #f5f5f5}.mobile-nav[_ngcontent-%COMP%]   .nav-links[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, .mobile-nav[_ngcontent-%COMP%]   .nav-links[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:#f9f9f9}.mobile-nav[_ngcontent-%COMP%]   .nav-links[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%], .mobile-nav[_ngcontent-%COMP%]   .nav-links[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{color:#3498db;font-weight:700;background:#e8f4fc}.mobile-nav[_ngcontent-%COMP%]   .nav-links[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .logout-btn[_ngcontent-%COMP%]{color:#e74c3c}.mobile-nav[_ngcontent-%COMP%]   .nav-links[_ngcontent-%COMP%]   .separator[_ngcontent-%COMP%]{height:1rem;border:none}"]})};var cg=class n{title="moineztout-dashboard";static \u0275fac=function(e){return new(e||n)};static \u0275cmp=Me({type:n,selectors:[["app-root"]],decls:3,vars:0,template:function(e,r){e&1&&J(0,"app-navbar")(1,"app-mobile-menu")(2,"router-outlet")},dependencies:[pc,ag,lg],styles:["@media (max-width: 767px){app-navbar[_ngcontent-%COMP%]{display:none}}"]})};Hy(cg,Ck).catch(n=>console.error(n));
